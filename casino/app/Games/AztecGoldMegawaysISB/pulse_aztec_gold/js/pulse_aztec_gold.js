/*! For license information please see pulse_aztec_gold.js.LICENSE.txt */
!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=354)}([function(t,e,i){(function(t){var n;(function(){var o="Expected a function",s="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",_="[object Map]",f="[object Number]",y="[object Object]",m="[object RegExp]",N="[object Set]",S="[object String]",g="[object Symbol]",A="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",v="[object Uint8Array]",M="[object Uint16Array]",L="[object Uint32Array]",R=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,w=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,B=RegExp(x.source),G=RegExp(U.source),V=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,X=RegExp(Y.source),K=/^\s+|\s+$/g,z=/^\s+/,q=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",_t="["+pt+"]",ft="["+ht+"]",yt="\\d+",mt="[\\u2700-\\u27bf]",Nt="[a-z\\xdf-\\xf6\\xf8-\\xff]",St="[^\\ud800-\\udfff"+pt+yt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",gt="\\ud83c[\\udffb-\\udfff]",At="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="(?:"+Nt+"|"+St+")",Pt="(?:"+Ot+"|"+St+")",bt="(?:"+ft+"|"+gt+")"+"?",Ct="[\\ufe0e\\ufe0f]?"+bt+("(?:\\u200d(?:"+[At,Et,It].join("|")+")[\\ufe0e\\ufe0f]?"+bt+")*"),vt="(?:"+[mt,Et,It].join("|")+")"+Ct,Mt="(?:"+[At+ft+"?",ft,Et,It,dt].join("|")+")",Lt=RegExp("['’]","g"),Rt=RegExp(ft,"g"),Dt=RegExp(gt+"(?="+gt+")|"+Mt+Ct,"g"),wt=RegExp([Ot+"?"+Nt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[_t,Ot,"$"].join("|")+")",Pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[_t,Ot+Tt,"$"].join("|")+")",Ot+"?"+Tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yt,vt].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Vt={};Vt[O]=Vt[T]=Vt[P]=Vt[b]=Vt[C]=Vt[v]=Vt["[object Uint8ClampedArray]"]=Vt[M]=Vt[L]=!0,Vt[r]=Vt[l]=Vt[E]=Vt[c]=Vt[I]=Vt[u]=Vt[h]=Vt[p]=Vt[_]=Vt[f]=Vt[y]=Vt[m]=Vt[N]=Vt[S]=Vt[A]=!1;var Wt={};Wt[r]=Wt[l]=Wt[E]=Wt[I]=Wt[c]=Wt[u]=Wt[O]=Wt[T]=Wt[P]=Wt[b]=Wt[C]=Wt[_]=Wt[f]=Wt[y]=Wt[m]=Wt[N]=Wt[S]=Wt[g]=Wt[v]=Wt["[object Uint8ClampedArray]"]=Wt[M]=Wt[L]=!0,Wt[h]=Wt[p]=Wt[A]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ht=parseInt,jt="object"==typeof global&&global&&global.Object===Object&&global,Yt="object"==typeof self&&self&&self.Object===Object&&self,Xt=jt||Yt||Function("return this")(),Kt=e&&!e.nodeType&&e,zt=Kt&&"object"==typeof t&&t&&!t.nodeType&&t,qt=zt&&zt.exports===Kt,Zt=qt&&jt.process,Jt=function(){try{var t=zt&&zt.require&&zt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,Qt=Jt&&Jt.isDate,te=Jt&&Jt.isMap,ee=Jt&&Jt.isRegExp,ie=Jt&&Jt.isSet,ne=Jt&&Jt.isTypedArray;function oe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function se(t,e,i,n){for(var o=-1,s=null==t?0:t.length;++o<s;){var a=t[o];e(n,a,i(a),t)}return n}function ae(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function re(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function le(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function ce(t,e){for(var i=-1,n=null==t?0:t.length,o=0,s=[];++i<n;){var a=t[i];e(a,i,t)&&(s[o++]=a)}return s}function ue(t,e){return!!(null==t?0:t.length)&&ge(t,e,0)>-1}function he(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function pe(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function de(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function _e(t,e,i,n){var o=-1,s=null==t?0:t.length;for(n&&s&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);return i}function fe(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}function ye(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var me=Oe("length");function Ne(t,e,i){var n;return i(t,(function(t,i,o){if(e(t,i,o))return n=i,!1})),n}function Se(t,e,i,n){for(var o=t.length,s=i+(n?1:-1);n?s--:++s<o;)if(e(t[s],s,t))return s;return-1}function ge(t,e,i){return e==e?function(t,e,i){var n=i-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,i):Se(t,Ee,i)}function Ae(t,e,i,n){for(var o=i-1,s=t.length;++o<s;)if(n(t[o],e))return o;return-1}function Ee(t){return t!=t}function Ie(t,e){var i=null==t?0:t.length;return i?be(t,e)/i:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return function(e){return null==t?void 0:t[e]}}function Pe(t,e,i,n,o){return o(t,(function(t,o,s){i=n?(n=!1,t):e(i,t,o,s)})),i}function be(t,e){for(var i,n=-1,o=t.length;++n<o;){var s=e(t[n]);void 0!==s&&(i=void 0===i?s:i+s)}return i}function Ce(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function ve(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Le(t,e){return t.has(e)}function Re(t,e){for(var i=-1,n=t.length;++i<n&&ge(e,t[i],0)>-1;);return i}function De(t,e){for(var i=t.length;i--&&ge(e,t[i],0)>-1;);return i}function we(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var xe=Te({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=Te({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Be(t){return"\\"+Ft[t]}function Ge(t){return xt.test(t)}function Ve(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function We(t,e){return function(i){return t(e(i))}}function Fe(t,e){for(var i=-1,n=t.length,o=0,a=[];++i<n;){var r=t[i];r!==e&&r!==s||(t[i]=s,a[o++]=i)}return a}function ke(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function He(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function je(t){return Ge(t)?function(t){var e=Dt.lastIndex=0;for(;Dt.test(t);)++e;return e}(t):me(t)}function Ye(t){return Ge(t)?function(t){return t.match(Dt)||[]}(t):function(t){return t.split("")}(t)}var Xe=Te({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ke=function t(e){var i,n=(e=null==e?Xt:Ke.defaults(Xt.Object(),e,Ke.pick(Xt,Bt))).Array,ht=e.Date,pt=e.Error,dt=e.Function,_t=e.Math,ft=e.Object,yt=e.RegExp,mt=e.String,Nt=e.TypeError,St=n.prototype,gt=dt.prototype,At=ft.prototype,Et=e["__core-js_shared__"],It=gt.toString,Ot=At.hasOwnProperty,Tt=0,Pt=(i=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",bt=At.toString,Ct=It.call(ft),vt=Xt._,Mt=yt("^"+It.call(Ot).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=qt?e.Buffer:void 0,xt=e.Symbol,Ft=e.Uint8Array,jt=Dt?Dt.allocUnsafe:void 0,Yt=We(ft.getPrototypeOf,ft),Kt=ft.create,zt=At.propertyIsEnumerable,Zt=St.splice,Jt=xt?xt.isConcatSpreadable:void 0,me=xt?xt.iterator:void 0,Te=xt?xt.toStringTag:void 0,ze=function(){try{var t=ts(ft,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=e.clearTimeout!==Xt.clearTimeout&&e.clearTimeout,Ze=ht&&ht.now!==Xt.Date.now&&ht.now,Je=e.setTimeout!==Xt.setTimeout&&e.setTimeout,$e=_t.ceil,Qe=_t.floor,ti=ft.getOwnPropertySymbols,ei=Dt?Dt.isBuffer:void 0,ii=e.isFinite,ni=St.join,oi=We(ft.keys,ft),si=_t.max,ai=_t.min,ri=ht.now,li=e.parseInt,ci=_t.random,ui=St.reverse,hi=ts(e,"DataView"),pi=ts(e,"Map"),di=ts(e,"Promise"),_i=ts(e,"Set"),fi=ts(e,"WeakMap"),yi=ts(ft,"create"),mi=fi&&new fi,Ni={},Si=bs(hi),gi=bs(pi),Ai=bs(di),Ei=bs(_i),Ii=bs(fi),Oi=xt?xt.prototype:void 0,Ti=Oi?Oi.valueOf:void 0,Pi=Oi?Oi.toString:void 0;function bi(t){if(ja(t)&&!Da(t)&&!(t instanceof Li)){if(t instanceof Mi)return t;if(Ot.call(t,"__wrapped__"))return Cs(t)}return new Mi(t)}var Ci=function(){function t(){}return function(e){if(!Ha(e))return{};if(Kt)return Kt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function vi(){}function Mi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Li(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Di(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function wi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function xi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new wi;++e<i;)this.add(t[e])}function Ui(t){var e=this.__data__=new Di(t);this.size=e.size}function Bi(t,e){var i=Da(t),n=!i&&Ra(t),o=!i&&!n&&Ba(t),s=!i&&!n&&!o&&$a(t),a=i||n||o||s,r=a?Ce(t.length,mt):[],l=r.length;for(var c in t)!e&&!Ot.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rs(c,l))||r.push(c);return r}function Gi(t){var e=t.length;return e?t[Un(0,e-1)]:void 0}function Vi(t,e){return Os(No(t),zi(e,0,t.length))}function Wi(t){return Os(No(t))}function Fi(t,e,i){(void 0!==i&&!va(t[e],i)||void 0===i&&!(e in t))&&Xi(t,e,i)}function ki(t,e,i){var n=t[e];Ot.call(t,e)&&va(n,i)&&(void 0!==i||e in t)||Xi(t,e,i)}function Hi(t,e){for(var i=t.length;i--;)if(va(t[i][0],e))return i;return-1}function ji(t,e,i,n){return Qi(t,(function(t,o,s){e(n,t,i(t),s)})),n}function Yi(t,e){return t&&So(e,gr(e),t)}function Xi(t,e,i){"__proto__"==e&&ze?ze(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Ki(t,e){for(var i=-1,o=e.length,s=n(o),a=null==t;++i<o;)s[i]=a?void 0:fr(t,e[i]);return s}function zi(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function qi(t,e,i,n,o,s){var a,l=1&e,h=2&e,A=4&e;if(i&&(a=o?i(t,n,o,s):i(t)),void 0!==a)return a;if(!Ha(t))return t;var R=Da(t);if(R){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!l)return No(t,a)}else{var D=ns(t),w=D==p||D==d;if(Ba(t))return ho(t,l);if(D==y||D==r||w&&!o){if(a=h||w?{}:ss(t),!l)return h?function(t,e){return So(t,is(t),e)}(t,function(t,e){return t&&So(e,Ar(e),t)}(a,t)):function(t,e){return So(t,es(t),e)}(t,Yi(a,t))}else{if(!Wt[D])return o?t:{};a=function(t,e,i){var n=t.constructor;switch(e){case E:return po(t);case c:case u:return new n(+t);case I:return function(t,e){var i=e?po(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case O:case T:case P:case b:case C:case v:case"[object Uint8ClampedArray]":case M:case L:return _o(t,i);case _:return new n;case f:case S:return new n(t);case m:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case N:return new n;case g:return o=t,Ti?ft(Ti.call(o)):{}}var o}(t,D,l)}}s||(s=new Ui);var x=s.get(t);if(x)return x;s.set(t,a),qa(t)?t.forEach((function(n){a.add(qi(n,e,i,n,t,s))})):Ya(t)&&t.forEach((function(n,o){a.set(o,qi(n,e,i,o,t,s))}));var U=R?void 0:(A?h?Ko:Xo:h?Ar:gr)(t);return ae(U||t,(function(n,o){U&&(n=t[o=n]),ki(a,o,qi(n,e,i,o,t,s))})),a}function Zi(t,e,i){var n=i.length;if(null==t)return!n;for(t=ft(t);n--;){var o=i[n],s=e[o],a=t[o];if(void 0===a&&!(o in t)||!s(a))return!1}return!0}function Ji(t,e,i){if("function"!=typeof t)throw new Nt(o);return gs((function(){t.apply(void 0,i)}),e)}function $i(t,e,i,n){var o=-1,s=ue,a=!0,r=t.length,l=[],c=e.length;if(!r)return l;i&&(e=pe(e,ve(i))),n?(s=he,a=!1):e.length>=200&&(s=Le,a=!1,e=new xi(e));t:for(;++o<r;){var u=t[o],h=null==i?u:i(u);if(u=n||0!==u?u:0,a&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;l.push(u)}else s(e,h,n)||l.push(u)}return l}bi.templateSettings={escape:V,evaluate:W,interpolate:F,variable:"",imports:{_:bi}},bi.prototype=vi.prototype,bi.prototype.constructor=bi,Mi.prototype=Ci(vi.prototype),Mi.prototype.constructor=Mi,Li.prototype=Ci(vi.prototype),Li.prototype.constructor=Li,Ri.prototype.clear=function(){this.__data__=yi?yi(null):{},this.size=0},Ri.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ri.prototype.get=function(t){var e=this.__data__;if(yi){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Ot.call(e,t)?e[t]:void 0},Ri.prototype.has=function(t){var e=this.__data__;return yi?void 0!==e[t]:Ot.call(e,t)},Ri.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=yi&&void 0===e?"__lodash_hash_undefined__":e,this},Di.prototype.clear=function(){this.__data__=[],this.size=0},Di.prototype.delete=function(t){var e=this.__data__,i=Hi(e,t);return!(i<0)&&(i==e.length-1?e.pop():Zt.call(e,i,1),--this.size,!0)},Di.prototype.get=function(t){var e=this.__data__,i=Hi(e,t);return i<0?void 0:e[i][1]},Di.prototype.has=function(t){return Hi(this.__data__,t)>-1},Di.prototype.set=function(t,e){var i=this.__data__,n=Hi(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},wi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ri,map:new(pi||Di),string:new Ri}},wi.prototype.delete=function(t){var e=$o(this,t).delete(t);return this.size-=e?1:0,e},wi.prototype.get=function(t){return $o(this,t).get(t)},wi.prototype.has=function(t){return $o(this,t).has(t)},wi.prototype.set=function(t,e){var i=$o(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},xi.prototype.add=xi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},xi.prototype.has=function(t){return this.__data__.has(t)},Ui.prototype.clear=function(){this.__data__=new Di,this.size=0},Ui.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ui.prototype.get=function(t){return this.__data__.get(t)},Ui.prototype.has=function(t){return this.__data__.has(t)},Ui.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Di){var n=i.__data__;if(!pi||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new wi(n)}return i.set(t,e),this.size=i.size,this};var Qi=Eo(ln),tn=Eo(cn,!0);function en(t,e){var i=!0;return Qi(t,(function(t,n,o){return i=!!e(t,n,o)})),i}function nn(t,e,i){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(void 0===r?a==a&&!Ja(a):i(a,r)))var r=a,l=s}return l}function on(t,e){var i=[];return Qi(t,(function(t,n,o){e(t,n,o)&&i.push(t)})),i}function sn(t,e,i,n,o){var s=-1,a=t.length;for(i||(i=as),o||(o=[]);++s<a;){var r=t[s];e>0&&i(r)?e>1?sn(r,e-1,i,n,o):de(o,r):n||(o[o.length]=r)}return o}var an=Io(),rn=Io(!0);function ln(t,e){return t&&an(t,e,gr)}function cn(t,e){return t&&rn(t,e,gr)}function un(t,e){return ce(e,(function(e){return Wa(t[e])}))}function hn(t,e){for(var i=0,n=(e=ro(e,t)).length;null!=t&&i<n;)t=t[Ps(e[i++])];return i&&i==n?t:void 0}function pn(t,e,i){var n=e(t);return Da(t)?n:de(n,i(t))}function dn(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Te&&Te in ft(t)?function(t){var e=Ot.call(t,Te),i=t[Te];try{t[Te]=void 0;var n=!0}catch(t){}var o=bt.call(t);n&&(e?t[Te]=i:delete t[Te]);return o}(t):function(t){return bt.call(t)}(t)}function _n(t,e){return t>e}function fn(t,e){return null!=t&&Ot.call(t,e)}function yn(t,e){return null!=t&&e in ft(t)}function mn(t,e,i){for(var o=i?he:ue,s=t[0].length,a=t.length,r=a,l=n(a),c=1/0,u=[];r--;){var h=t[r];r&&e&&(h=pe(h,ve(e))),c=ai(h.length,c),l[r]=!i&&(e||s>=120&&h.length>=120)?new xi(r&&h):void 0}h=t[0];var p=-1,d=l[0];t:for(;++p<s&&u.length<c;){var _=h[p],f=e?e(_):_;if(_=i||0!==_?_:0,!(d?Le(d,f):o(u,f,i))){for(r=a;--r;){var y=l[r];if(!(y?Le(y,f):o(t[r],f,i)))continue t}d&&d.push(f),u.push(_)}}return u}function Nn(t,e,i){var n=null==(t=ys(t,e=ro(e,t)))?t:t[Ps(Vs(e))];return null==n?void 0:oe(n,t,i)}function Sn(t){return ja(t)&&dn(t)==r}function gn(t,e,i,n,o){return t===e||(null==t||null==e||!ja(t)&&!ja(e)?t!=t&&e!=e:function(t,e,i,n,o,s){var a=Da(t),p=Da(e),d=a?l:ns(t),A=p?l:ns(e),O=(d=d==r?y:d)==y,T=(A=A==r?y:A)==y,P=d==A;if(P&&Ba(t)){if(!Ba(e))return!1;a=!0,O=!1}if(P&&!O)return s||(s=new Ui),a||$a(t)?jo(t,e,i,n,o,s):function(t,e,i,n,o,s,a){switch(i){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!s(new Ft(t),new Ft(e)));case c:case u:case f:return va(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case S:return t==e+"";case _:var r=Ve;case N:var l=1&n;if(r||(r=ke),t.size!=e.size&&!l)return!1;var p=a.get(t);if(p)return p==e;n|=2,a.set(t,e);var d=jo(r(t),r(e),n,o,s,a);return a.delete(t),d;case g:if(Ti)return Ti.call(t)==Ti.call(e)}return!1}(t,e,d,i,n,o,s);if(!(1&i)){var b=O&&Ot.call(t,"__wrapped__"),C=T&&Ot.call(e,"__wrapped__");if(b||C){var v=b?t.value():t,M=C?e.value():e;return s||(s=new Ui),o(v,M,i,n,s)}}if(!P)return!1;return s||(s=new Ui),function(t,e,i,n,o,s){var a=1&i,r=Xo(t),l=r.length,c=Xo(e).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var h=r[u];if(!(a?h in e:Ot.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);var _=a;for(;++u<l;){h=r[u];var f=t[h],y=e[h];if(n)var m=a?n(y,f,h,e,t,s):n(f,y,h,t,e,s);if(!(void 0===m?f===y||o(f,y,i,n,s):m)){d=!1;break}_||(_="constructor"==h)}if(d&&!_){var N=t.constructor,S=e.constructor;N==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof N&&N instanceof N&&"function"==typeof S&&S instanceof S||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,i,n,o,s)}(t,e,i,n,gn,o))}function An(t,e,i,n){var o=i.length,s=o,a=!n;if(null==t)return!s;for(t=ft(t);o--;){var r=i[o];if(a&&r[2]?r[1]!==t[r[0]]:!(r[0]in t))return!1}for(;++o<s;){var l=(r=i[o])[0],c=t[l],u=r[1];if(a&&r[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Ui;if(n)var p=n(c,u,l,t,e,h);if(!(void 0===p?gn(u,c,3,n,h):p))return!1}}return!0}function En(t){return!(!Ha(t)||(e=t,Pt&&Pt in e))&&(Wa(t)?Mt:st).test(bs(t));var e}function In(t){return"function"==typeof t?t:null==t?Xr:"object"==typeof t?Da(t)?vn(t[0],t[1]):Cn(t):el(t)}function On(t){if(!ps(t))return oi(t);var e=[];for(var i in ft(t))Ot.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Tn(t){if(!Ha(t))return function(t){var e=[];if(null!=t)for(var i in ft(t))e.push(i);return e}(t);var e=ps(t),i=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&i.push(n);return i}function Pn(t,e){return t<e}function bn(t,e){var i=-1,o=xa(t)?n(t.length):[];return Qi(t,(function(t,n,s){o[++i]=e(t,n,s)})),o}function Cn(t){var e=Qo(t);return 1==e.length&&e[0][2]?_s(e[0][0],e[0][1]):function(i){return i===t||An(i,t,e)}}function vn(t,e){return cs(t)&&ds(e)?_s(Ps(t),e):function(i){var n=fr(i,t);return void 0===n&&n===e?yr(i,t):gn(e,n,3)}}function Mn(t,e,i,n,o){t!==e&&an(e,(function(s,a){if(o||(o=new Ui),Ha(s))!function(t,e,i,n,o,s,a){var r=Ns(t,i),l=Ns(e,i),c=a.get(l);if(c)return void Fi(t,i,c);var u=s?s(r,l,i+"",t,e,a):void 0,h=void 0===u;if(h){var p=Da(l),d=!p&&Ba(l),_=!p&&!d&&$a(l);u=l,p||d||_?Da(r)?u=r:Ua(r)?u=No(r):d?(h=!1,u=ho(l,!0)):_?(h=!1,u=_o(l,!0)):u=[]:Ka(l)||Ra(l)?(u=r,Ra(r)?u=ar(r):Ha(r)&&!Wa(r)||(u=ss(l))):h=!1}h&&(a.set(l,u),o(u,l,n,s,a),a.delete(l));Fi(t,i,u)}(t,e,a,i,Mn,n,o);else{var r=n?n(Ns(t,a),s,a+"",t,e,o):void 0;void 0===r&&(r=s),Fi(t,a,r)}}),Ar)}function Ln(t,e){var i=t.length;if(i)return rs(e+=e<0?i:0,i)?t[e]:void 0}function Rn(t,e,i){var n=-1;return e=pe(e.length?e:[Xr],ve(Jo())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(bn(t,(function(t,i,o){return{criteria:pe(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,i){var n=-1,o=t.criteria,s=e.criteria,a=o.length,r=i.length;for(;++n<a;){var l=fo(o[n],s[n]);if(l){if(n>=r)return l;var c=i[n];return l*("desc"==c?-1:1)}}return t.index-e.index}(t,e,i)}))}function Dn(t,e,i){for(var n=-1,o=e.length,s={};++n<o;){var a=e[n],r=hn(t,a);i(r,a)&&Fn(s,ro(a,t),r)}return s}function wn(t,e,i,n){var o=n?Ae:ge,s=-1,a=e.length,r=t;for(t===e&&(e=No(e)),i&&(r=pe(t,ve(i)));++s<a;)for(var l=0,c=e[s],u=i?i(c):c;(l=o(r,u,l,n))>-1;)r!==t&&Zt.call(r,l,1),Zt.call(t,l,1);return t}function xn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==s){var s=o;rs(o)?Zt.call(t,o,1):Qn(t,o)}}return t}function Un(t,e){return t+Qe(ci()*(e-t+1))}function Bn(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Qe(e/2))&&(t+=t)}while(e);return i}function Gn(t,e){return As(fs(t,e,Xr),t+"")}function Vn(t){return Gi(vr(t))}function Wn(t,e){var i=vr(t);return Os(i,zi(e,0,i.length))}function Fn(t,e,i,n){if(!Ha(t))return t;for(var o=-1,s=(e=ro(e,t)).length,a=s-1,r=t;null!=r&&++o<s;){var l=Ps(e[o]),c=i;if(o!=a){var u=r[l];void 0===(c=n?n(u,l,r):void 0)&&(c=Ha(u)?u:rs(e[o+1])?[]:{})}ki(r,l,c),r=r[l]}return t}var kn=mi?function(t,e){return mi.set(t,e),t}:Xr,Hn=ze?function(t,e){return ze(t,"toString",{configurable:!0,enumerable:!1,value:Hr(e),writable:!0})}:Xr;function jn(t){return Os(vr(t))}function Yn(t,e,i){var o=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var a=n(s);++o<s;)a[o]=t[o+e];return a}function Xn(t,e){var i;return Qi(t,(function(t,n,o){return!(i=e(t,n,o))})),!!i}function Kn(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;n<o;){var s=n+o>>>1,a=t[s];null!==a&&!Ja(a)&&(i?a<=e:a<e)?n=s+1:o=s}return o}return zn(t,e,Xr,i)}function zn(t,e,i,n){e=i(e);for(var o=0,s=null==t?0:t.length,a=e!=e,r=null===e,l=Ja(e),c=void 0===e;o<s;){var u=Qe((o+s)/2),h=i(t[u]),p=void 0!==h,d=null===h,_=h==h,f=Ja(h);if(a)var y=n||_;else y=c?_&&(n||p):r?_&&p&&(n||!d):l?_&&p&&!d&&(n||!f):!d&&!f&&(n?h<=e:h<e);y?o=u+1:s=u}return ai(s,4294967294)}function qn(t,e){for(var i=-1,n=t.length,o=0,s=[];++i<n;){var a=t[i],r=e?e(a):a;if(!i||!va(r,l)){var l=r;s[o++]=0===a?0:a}}return s}function Zn(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jn(t){if("string"==typeof t)return t;if(Da(t))return pe(t,Jn)+"";if(Ja(t))return Pi?Pi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $n(t,e,i){var n=-1,o=ue,s=t.length,a=!0,r=[],l=r;if(i)a=!1,o=he;else if(s>=200){var c=e?null:Go(t);if(c)return ke(c);a=!1,o=Le,l=new xi}else l=e?[]:r;t:for(;++n<s;){var u=t[n],h=e?e(u):u;if(u=i||0!==u?u:0,a&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),r.push(u)}else o(l,h,i)||(l!==r&&l.push(h),r.push(u))}return r}function Qn(t,e){return null==(t=ys(t,e=ro(e,t)))||delete t[Ps(Vs(e))]}function to(t,e,i,n){return Fn(t,e,i(hn(t,e)),n)}function eo(t,e,i,n){for(var o=t.length,s=n?o:-1;(n?s--:++s<o)&&e(t[s],s,t););return i?Yn(t,n?0:s,n?s+1:o):Yn(t,n?s+1:0,n?o:s)}function io(t,e){var i=t;return i instanceof Li&&(i=i.value()),_e(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),i)}function no(t,e,i){var o=t.length;if(o<2)return o?$n(t[0]):[];for(var s=-1,a=n(o);++s<o;)for(var r=t[s],l=-1;++l<o;)l!=s&&(a[s]=$i(a[s]||r,t[l],e,i));return $n(sn(a,1),e,i)}function oo(t,e,i){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var r=n<s?e[n]:void 0;i(a,t[n],r)}return a}function so(t){return Ua(t)?t:[]}function ao(t){return"function"==typeof t?t:Xr}function ro(t,e){return Da(t)?t:cs(t,e)?[t]:Ts(rr(t))}var lo=Gn;function co(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:Yn(t,e,i)}var uo=qe||function(t){return Xt.clearTimeout(t)};function ho(t,e){if(e)return t.slice();var i=t.length,n=jt?jt(i):new t.constructor(i);return t.copy(n),n}function po(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function _o(t,e){var i=e?po(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function fo(t,e){if(t!==e){var i=void 0!==t,n=null===t,o=t==t,s=Ja(t),a=void 0!==e,r=null===e,l=e==e,c=Ja(e);if(!r&&!c&&!s&&t>e||s&&a&&l&&!r&&!c||n&&a&&l||!i&&l||!o)return 1;if(!n&&!s&&!c&&t<e||c&&i&&o&&!n&&!s||r&&i&&o||!a&&o||!l)return-1}return 0}function yo(t,e,i,o){for(var s=-1,a=t.length,r=i.length,l=-1,c=e.length,u=si(a-r,0),h=n(c+u),p=!o;++l<c;)h[l]=e[l];for(;++s<r;)(p||s<a)&&(h[i[s]]=t[s]);for(;u--;)h[l++]=t[s++];return h}function mo(t,e,i,o){for(var s=-1,a=t.length,r=-1,l=i.length,c=-1,u=e.length,h=si(a-l,0),p=n(h+u),d=!o;++s<h;)p[s]=t[s];for(var _=s;++c<u;)p[_+c]=e[c];for(;++r<l;)(d||s<a)&&(p[_+i[r]]=t[s++]);return p}function No(t,e){var i=-1,o=t.length;for(e||(e=n(o));++i<o;)e[i]=t[i];return e}function So(t,e,i,n){var o=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var r=e[s],l=n?n(i[r],t[r],r,i,t):void 0;void 0===l&&(l=t[r]),o?Xi(i,r,l):ki(i,r,l)}return i}function go(t,e){return function(i,n){var o=Da(i)?se:ji,s=e?e():{};return o(i,t,Jo(n,2),s)}}function Ao(t){return Gn((function(e,i){var n=-1,o=i.length,s=o>1?i[o-1]:void 0,a=o>2?i[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&ls(i[0],i[1],a)&&(s=o<3?void 0:s,o=1),e=ft(e);++n<o;){var r=i[n];r&&t(e,r,n,s)}return e}))}function Eo(t,e){return function(i,n){if(null==i)return i;if(!xa(i))return t(i,n);for(var o=i.length,s=e?o:-1,a=ft(i);(e?s--:++s<o)&&!1!==n(a[s],s,a););return i}}function Io(t){return function(e,i,n){for(var o=-1,s=ft(e),a=n(e),r=a.length;r--;){var l=a[t?r:++o];if(!1===i(s[l],l,s))break}return e}}function Oo(t){return function(e){var i=Ge(e=rr(e))?Ye(e):void 0,n=i?i[0]:e.charAt(0),o=i?co(i,1).join(""):e.slice(1);return n[t]()+o}}function To(t){return function(e){return _e(Wr(Rr(e).replace(Lt,"")),t,"")}}function Po(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ci(t.prototype),n=t.apply(i,e);return Ha(n)?n:i}}function bo(t){return function(e,i,n){var o=ft(e);if(!xa(e)){var s=Jo(i,3);e=gr(e),i=function(t){return s(o[t],t,o)}}var a=t(e,i,n);return a>-1?o[s?e[a]:a]:void 0}}function Co(t){return Yo((function(e){var i=e.length,n=i,s=Mi.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Nt(o);if(s&&!r&&"wrapper"==qo(a))var r=new Mi([],!0)}for(n=r?n:i;++n<i;){var l=qo(a=e[n]),c="wrapper"==l?zo(a):void 0;r=c&&us(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?r[qo(c[0])].apply(r,c[3]):1==a.length&&us(a)?r[l]():r.thru(a)}return function(){var t=arguments,n=t[0];if(r&&1==t.length&&Da(n))return r.plant(n).value();for(var o=0,s=i?e[o].apply(this,t):n;++o<i;)s=e[o].call(this,s);return s}}))}function vo(t,e,i,o,s,a,r,l,c,u){var h=128&e,p=1&e,d=2&e,_=24&e,f=512&e,y=d?void 0:Po(t);return function m(){for(var N=arguments.length,S=n(N),g=N;g--;)S[g]=arguments[g];if(_)var A=Zo(m),E=we(S,A);if(o&&(S=yo(S,o,s,_)),a&&(S=mo(S,a,r,_)),N-=E,_&&N<u){var I=Fe(S,A);return Uo(t,e,vo,m.placeholder,i,S,I,l,c,u-N)}var O=p?i:this,T=d?O[t]:t;return N=S.length,l?S=ms(S,l):f&&N>1&&S.reverse(),h&&c<N&&(S.length=c),this&&this!==Xt&&this instanceof m&&(T=y||Po(T)),T.apply(O,S)}}function Mo(t,e){return function(i,n){return function(t,e,i,n){return ln(t,(function(t,o,s){e(n,i(t),o,s)})),n}(i,t,e(n),{})}}function Lo(t,e){return function(i,n){var o;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(o=i),void 0!==n){if(void 0===o)return n;"string"==typeof i||"string"==typeof n?(i=Jn(i),n=Jn(n)):(i=Zn(i),n=Zn(n)),o=t(i,n)}return o}}function Ro(t){return Yo((function(e){return e=pe(e,ve(Jo())),Gn((function(i){var n=this;return t(e,(function(t){return oe(t,n,i)}))}))}))}function Do(t,e){var i=(e=void 0===e?" ":Jn(e)).length;if(i<2)return i?Bn(e,t):e;var n=Bn(e,$e(t/je(e)));return Ge(e)?co(Ye(n),0,t).join(""):n.slice(0,t)}function wo(t){return function(e,i,o){return o&&"number"!=typeof o&&ls(e,i,o)&&(i=o=void 0),e=ir(e),void 0===i?(i=e,e=0):i=ir(i),function(t,e,i,o){for(var s=-1,a=si($e((e-t)/(i||1)),0),r=n(a);a--;)r[o?a:++s]=t,t+=i;return r}(e,i,o=void 0===o?e<i?1:-1:ir(o),t)}}function xo(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=sr(e),i=sr(i)),t(e,i)}}function Uo(t,e,i,n,o,s,a,r,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,o,u?s:void 0,u?a:void 0,u?void 0:s,u?void 0:a,r,l,c],p=i.apply(void 0,h);return us(t)&&Ss(p,h),p.placeholder=n,Es(p,t,e)}function Bo(t){var e=_t[t];return function(t,i){if(t=sr(t),(i=null==i?0:ai(nr(i),292))&&ii(t)){var n=(rr(t)+"e").split("e");return+((n=(rr(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Go=_i&&1/ke(new _i([,-0]))[1]==1/0?function(t){return new _i(t)}:Jr;function Vo(t){return function(e){var i=ns(e);return i==_?Ve(e):i==N?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wo(t,e,i,a,r,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new Nt(o);var p=a?a.length:0;if(p||(e&=-97,a=r=void 0),c=void 0===c?c:si(nr(c),0),u=void 0===u?u:nr(u),p-=r?r.length:0,64&e){var d=a,_=r;a=r=void 0}var f=h?void 0:zo(t),y=[t,e,i,a,r,d,_,l,c,u];if(f&&function(t,e){var i=t[1],n=e[1],o=i|n,a=o<131,r=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!a&&!r)return t;1&n&&(t[2]=e[2],o|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?yo(c,l,e[4]):l,t[4]=c?Fe(t[3],s):e[4]}(l=e[5])&&(c=t[5],t[5]=c?mo(c,l,e[6]):l,t[6]=c?Fe(t[5],s):e[6]);(l=e[7])&&(t[7]=l);128&n&&(t[8]=null==t[8]?e[8]:ai(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(y,f),t=y[0],e=y[1],i=y[2],a=y[3],r=y[4],!(u=y[9]=void 0===y[9]?h?0:t.length:si(y[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,i){var o=Po(t);return function s(){for(var a=arguments.length,r=n(a),l=a,c=Zo(s);l--;)r[l]=arguments[l];var u=a<3&&r[0]!==c&&r[a-1]!==c?[]:Fe(r,c);if((a-=u.length)<i)return Uo(t,e,vo,s.placeholder,void 0,r,u,void 0,void 0,i-a);var h=this&&this!==Xt&&this instanceof s?o:t;return oe(h,this,r)}}(t,e,u):32!=e&&33!=e||r.length?vo.apply(void 0,y):function(t,e,i,o){var s=1&e,a=Po(t);return function e(){for(var r=-1,l=arguments.length,c=-1,u=o.length,h=n(u+l),p=this&&this!==Xt&&this instanceof e?a:t;++c<u;)h[c]=o[c];for(;l--;)h[c++]=arguments[++r];return oe(p,s?i:this,h)}}(t,e,i,a);else var m=function(t,e,i){var n=1&e,o=Po(t);return function e(){var s=this&&this!==Xt&&this instanceof e?o:t;return s.apply(n?i:this,arguments)}}(t,e,i);return Es((f?kn:Ss)(m,y),t,e)}function Fo(t,e,i,n){return void 0===t||va(t,At[i])&&!Ot.call(n,i)?e:t}function ko(t,e,i,n,o,s){return Ha(t)&&Ha(e)&&(s.set(e,t),Mn(t,e,void 0,ko,s),s.delete(e)),t}function Ho(t){return Ka(t)?void 0:t}function jo(t,e,i,n,o,s){var a=1&i,r=t.length,l=e.length;if(r!=l&&!(a&&l>r))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var u=-1,h=!0,p=2&i?new xi:void 0;for(s.set(t,e),s.set(e,t);++u<r;){var d=t[u],_=e[u];if(n)var f=a?n(_,d,u,e,t,s):n(d,_,u,t,e,s);if(void 0!==f){if(f)continue;h=!1;break}if(p){if(!ye(e,(function(t,e){if(!Le(p,e)&&(d===t||o(d,t,i,n,s)))return p.push(e)}))){h=!1;break}}else if(d!==_&&!o(d,_,i,n,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function Yo(t){return As(fs(t,void 0,ws),t+"")}function Xo(t){return pn(t,gr,es)}function Ko(t){return pn(t,Ar,is)}var zo=mi?function(t){return mi.get(t)}:Jr;function qo(t){for(var e=t.name+"",i=Ni[e],n=Ot.call(Ni,e)?i.length:0;n--;){var o=i[n],s=o.func;if(null==s||s==t)return o.name}return e}function Zo(t){return(Ot.call(bi,"placeholder")?bi:t).placeholder}function Jo(){var t=bi.iteratee||Kr;return t=t===Kr?In:t,arguments.length?t(arguments[0],arguments[1]):t}function $o(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function Qo(t){for(var e=gr(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,ds(o)]}return e}function ts(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return En(i)?i:void 0}var es=ti?function(t){return null==t?[]:(t=ft(t),ce(ti(t),(function(e){return zt.call(t,e)})))}:ol,is=ti?function(t){for(var e=[];t;)de(e,es(t)),t=Yt(t);return e}:ol,ns=dn;function os(t,e,i){for(var n=-1,o=(e=ro(e,t)).length,s=!1;++n<o;){var a=Ps(e[n]);if(!(s=null!=t&&i(t,a)))break;t=t[a]}return s||++n!=o?s:!!(o=null==t?0:t.length)&&ka(o)&&rs(a,o)&&(Da(t)||Ra(t))}function ss(t){return"function"!=typeof t.constructor||ps(t)?{}:Ci(Yt(t))}function as(t){return Da(t)||Ra(t)||!!(Jt&&t&&t[Jt])}function rs(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&rt.test(t))&&t>-1&&t%1==0&&t<e}function ls(t,e,i){if(!Ha(i))return!1;var n=typeof e;return!!("number"==n?xa(i)&&rs(e,i.length):"string"==n&&e in i)&&va(i[e],t)}function cs(t,e){if(Da(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Ja(t))||(H.test(t)||!k.test(t)||null!=e&&t in ft(e))}function us(t){var e=qo(t),i=bi[e];if("function"!=typeof i||!(e in Li.prototype))return!1;if(t===i)return!0;var n=zo(i);return!!n&&t===n[0]}(hi&&ns(new hi(new ArrayBuffer(1)))!=I||pi&&ns(new pi)!=_||di&&"[object Promise]"!=ns(di.resolve())||_i&&ns(new _i)!=N||fi&&ns(new fi)!=A)&&(ns=function(t){var e=dn(t),i=e==y?t.constructor:void 0,n=i?bs(i):"";if(n)switch(n){case Si:return I;case gi:return _;case Ai:return"[object Promise]";case Ei:return N;case Ii:return A}return e});var hs=Et?Wa:sl;function ps(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function ds(t){return t==t&&!Ha(t)}function _s(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in ft(i)))}}function fs(t,e,i){return e=si(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=si(o.length-e,0),r=n(a);++s<a;)r[s]=o[e+s];s=-1;for(var l=n(e+1);++s<e;)l[s]=o[s];return l[e]=i(r),oe(t,this,l)}}function ys(t,e){return e.length<2?t:hn(t,Yn(e,0,-1))}function ms(t,e){for(var i=t.length,n=ai(e.length,i),o=No(t);n--;){var s=e[n];t[n]=rs(s,i)?o[s]:void 0}return t}function Ns(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ss=Is(kn),gs=Je||function(t,e){return Xt.setTimeout(t,e)},As=Is(Hn);function Es(t,e,i){var n=e+"";return As(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ae(a,(function(i){var n="_."+i[0];e&i[1]&&!ue(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split($):[]}(n),i)))}function Is(t){var e=0,i=0;return function(){var n=ri(),o=16-(n-i);if(i=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Os(t,e){var i=-1,n=t.length,o=n-1;for(e=void 0===e?n:e;++i<e;){var s=Un(i,o),a=t[s];t[s]=t[i],t[i]=a}return t.length=e,t}var Ts=function(t){var e=Ia(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(j,(function(t,i,n,o){e.push(n?o.replace(tt,"$1"):i||t)})),e}));function Ps(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function bs(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Cs(t){if(t instanceof Li)return t.clone();var e=new Mi(t.__wrapped__,t.__chain__);return e.__actions__=No(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vs=Gn((function(t,e){return Ua(t)?$i(t,sn(e,1,Ua,!0)):[]})),Ms=Gn((function(t,e){var i=Vs(e);return Ua(i)&&(i=void 0),Ua(t)?$i(t,sn(e,1,Ua,!0),Jo(i,2)):[]})),Ls=Gn((function(t,e){var i=Vs(e);return Ua(i)&&(i=void 0),Ua(t)?$i(t,sn(e,1,Ua,!0),void 0,i):[]}));function Rs(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:nr(i);return o<0&&(o=si(n+o,0)),Se(t,Jo(e,3),o)}function Ds(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return void 0!==i&&(o=nr(i),o=i<0?si(n+o,0):ai(o,n-1)),Se(t,Jo(e,3),o,!0)}function ws(t){return(null==t?0:t.length)?sn(t,1):[]}function xs(t){return t&&t.length?t[0]:void 0}var Us=Gn((function(t){var e=pe(t,so);return e.length&&e[0]===t[0]?mn(e):[]})),Bs=Gn((function(t){var e=Vs(t),i=pe(t,so);return e===Vs(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?mn(i,Jo(e,2)):[]})),Gs=Gn((function(t){var e=Vs(t),i=pe(t,so);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?mn(i,void 0,e):[]}));function Vs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ws=Gn(Fs);function Fs(t,e){return t&&t.length&&e&&e.length?wn(t,e):t}var ks=Yo((function(t,e){var i=null==t?0:t.length,n=Ki(t,e);return xn(t,pe(e,(function(t){return rs(t,i)?+t:t})).sort(fo)),n}));function Hs(t){return null==t?t:ui.call(t)}var js=Gn((function(t){return $n(sn(t,1,Ua,!0))})),Ys=Gn((function(t){var e=Vs(t);return Ua(e)&&(e=void 0),$n(sn(t,1,Ua,!0),Jo(e,2))})),Xs=Gn((function(t){var e=Vs(t);return e="function"==typeof e?e:void 0,$n(sn(t,1,Ua,!0),void 0,e)}));function Ks(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Ua(t))return e=si(t.length,e),!0})),Ce(e,(function(e){return pe(t,Oe(e))}))}function zs(t,e){if(!t||!t.length)return[];var i=Ks(t);return null==e?i:pe(i,(function(t){return oe(e,void 0,t)}))}var qs=Gn((function(t,e){return Ua(t)?$i(t,e):[]})),Zs=Gn((function(t){return no(ce(t,Ua))})),Js=Gn((function(t){var e=Vs(t);return Ua(e)&&(e=void 0),no(ce(t,Ua),Jo(e,2))})),$s=Gn((function(t){var e=Vs(t);return e="function"==typeof e?e:void 0,no(ce(t,Ua),void 0,e)})),Qs=Gn(Ks);var ta=Gn((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,zs(t,i)}));function ea(t){var e=bi(t);return e.__chain__=!0,e}function ia(t,e){return e(t)}var na=Yo((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,o=function(e){return Ki(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Li&&rs(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:ia,args:[o],thisArg:void 0}),new Mi(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));var oa=go((function(t,e,i){Ot.call(t,i)?++t[i]:Xi(t,i,1)}));var sa=bo(Rs),aa=bo(Ds);function ra(t,e){return(Da(t)?ae:Qi)(t,Jo(e,3))}function la(t,e){return(Da(t)?re:tn)(t,Jo(e,3))}var ca=go((function(t,e,i){Ot.call(t,i)?t[i].push(e):Xi(t,i,[e])}));var ua=Gn((function(t,e,i){var o=-1,s="function"==typeof e,a=xa(t)?n(t.length):[];return Qi(t,(function(t){a[++o]=s?oe(e,t,i):Nn(t,e,i)})),a})),ha=go((function(t,e,i){Xi(t,i,e)}));function pa(t,e){return(Da(t)?pe:bn)(t,Jo(e,3))}var da=go((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var _a=Gn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&ls(t,e[0],e[1])?e=[]:i>2&&ls(e[0],e[1],e[2])&&(e=[e[0]]),Rn(t,sn(e,1),[])})),fa=Ze||function(){return Xt.Date.now()};function ya(t,e,i){return e=i?void 0:e,Wo(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var i;if("function"!=typeof e)throw new Nt(o);return t=nr(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var Na=Gn((function(t,e,i){var n=1;if(i.length){var o=Fe(i,Zo(Na));n|=32}return Wo(t,n,e,i,o)})),Sa=Gn((function(t,e,i){var n=3;if(i.length){var o=Fe(i,Zo(Sa));n|=32}return Wo(e,n,t,i,o)}));function ga(t,e,i){var n,s,a,r,l,c,u=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Nt(o);function _(e){var i=n,o=s;return n=s=void 0,u=e,r=t.apply(o,i)}function f(t){return u=t,l=gs(m,e),h?_(t):r}function y(t){var i=t-c;return void 0===c||i>=e||i<0||p&&t-u>=a}function m(){var t=fa();if(y(t))return N(t);l=gs(m,function(t){var i=e-(t-c);return p?ai(i,a-(t-u)):i}(t))}function N(t){return l=void 0,d&&n?_(t):(n=s=void 0,r)}function S(){var t=fa(),i=y(t);if(n=arguments,s=this,c=t,i){if(void 0===l)return f(c);if(p)return uo(l),l=gs(m,e),_(c)}return void 0===l&&(l=gs(m,e)),r}return e=sr(e)||0,Ha(i)&&(h=!!i.leading,a=(p="maxWait"in i)?si(sr(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d),S.cancel=function(){void 0!==l&&uo(l),u=0,n=c=s=l=void 0},S.flush=function(){return void 0===l?r:N(fa())},S}var Aa=Gn((function(t,e){return Ji(t,1,e)})),Ea=Gn((function(t,e,i){return Ji(t,sr(e)||0,i)}));function Ia(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Nt(o);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=i.cache;if(s.has(o))return s.get(o);var a=t.apply(this,n);return i.cache=s.set(o,a)||s,a};return i.cache=new(Ia.Cache||wi),i}function Oa(t){if("function"!=typeof t)throw new Nt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ia.Cache=wi;var Ta=lo((function(t,e){var i=(e=1==e.length&&Da(e[0])?pe(e[0],ve(Jo())):pe(sn(e,1),ve(Jo()))).length;return Gn((function(n){for(var o=-1,s=ai(n.length,i);++o<s;)n[o]=e[o].call(this,n[o]);return oe(t,this,n)}))})),Pa=Gn((function(t,e){return Wo(t,32,void 0,e,Fe(e,Zo(Pa)))})),ba=Gn((function(t,e){return Wo(t,64,void 0,e,Fe(e,Zo(ba)))})),Ca=Yo((function(t,e){return Wo(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var Ma=xo(_n),La=xo((function(t,e){return t>=e})),Ra=Sn(function(){return arguments}())?Sn:function(t){return ja(t)&&Ot.call(t,"callee")&&!zt.call(t,"callee")},Da=n.isArray,wa=$t?ve($t):function(t){return ja(t)&&dn(t)==E};function xa(t){return null!=t&&ka(t.length)&&!Wa(t)}function Ua(t){return ja(t)&&xa(t)}var Ba=ei||sl,Ga=Qt?ve(Qt):function(t){return ja(t)&&dn(t)==u};function Va(t){if(!ja(t))return!1;var e=dn(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ka(t)}function Wa(t){if(!Ha(t))return!1;var e=dn(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Fa(t){return"number"==typeof t&&t==nr(t)}function ka(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ja(t){return null!=t&&"object"==typeof t}var Ya=te?ve(te):function(t){return ja(t)&&ns(t)==_};function Xa(t){return"number"==typeof t||ja(t)&&dn(t)==f}function Ka(t){if(!ja(t)||dn(t)!=y)return!1;var e=Yt(t);if(null===e)return!0;var i=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&It.call(i)==Ct}var za=ee?ve(ee):function(t){return ja(t)&&dn(t)==m};var qa=ie?ve(ie):function(t){return ja(t)&&ns(t)==N};function Za(t){return"string"==typeof t||!Da(t)&&ja(t)&&dn(t)==S}function Ja(t){return"symbol"==typeof t||ja(t)&&dn(t)==g}var $a=ne?ve(ne):function(t){return ja(t)&&ka(t.length)&&!!Vt[dn(t)]};var Qa=xo(Pn),tr=xo((function(t,e){return t<=e}));function er(t){if(!t)return[];if(xa(t))return Za(t)?Ye(t):No(t);if(me&&t[me])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[me]());var e=ns(t);return(e==_?Ve:e==N?ke:vr)(t)}function ir(t){return t?(t=sr(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function nr(t){var e=ir(t),i=e%1;return e==e?i?e-i:e:0}function or(t){return t?zi(nr(t),0,4294967295):0}function sr(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(K,"");var i=ot.test(t);return i||at.test(t)?Ht(t.slice(2),i?2:8):nt.test(t)?NaN:+t}function ar(t){return So(t,Ar(t))}function rr(t){return null==t?"":Jn(t)}var lr=Ao((function(t,e){if(ps(e)||xa(e))So(e,gr(e),t);else for(var i in e)Ot.call(e,i)&&ki(t,i,e[i])})),cr=Ao((function(t,e){So(e,Ar(e),t)})),ur=Ao((function(t,e,i,n){So(e,Ar(e),t,n)})),hr=Ao((function(t,e,i,n){So(e,gr(e),t,n)})),pr=Yo(Ki);var dr=Gn((function(t,e){t=ft(t);var i=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&ls(e[0],e[1],o)&&(n=1);++i<n;)for(var s=e[i],a=Ar(s),r=-1,l=a.length;++r<l;){var c=a[r],u=t[c];(void 0===u||va(u,At[c])&&!Ot.call(t,c))&&(t[c]=s[c])}return t})),_r=Gn((function(t){return t.push(void 0,ko),oe(Ir,void 0,t)}));function fr(t,e,i){var n=null==t?void 0:hn(t,e);return void 0===n?i:n}function yr(t,e){return null!=t&&os(t,e,yn)}var mr=Mo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=bt.call(e)),t[e]=i}),Hr(Xr)),Nr=Mo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=bt.call(e)),Ot.call(t,e)?t[e].push(i):t[e]=[i]}),Jo),Sr=Gn(Nn);function gr(t){return xa(t)?Bi(t):On(t)}function Ar(t){return xa(t)?Bi(t,!0):Tn(t)}var Er=Ao((function(t,e,i){Mn(t,e,i)})),Ir=Ao((function(t,e,i,n){Mn(t,e,i,n)})),Or=Yo((function(t,e){var i={};if(null==t)return i;var n=!1;e=pe(e,(function(e){return e=ro(e,t),n||(n=e.length>1),e})),So(t,Ko(t),i),n&&(i=qi(i,7,Ho));for(var o=e.length;o--;)Qn(i,e[o]);return i}));var Tr=Yo((function(t,e){return null==t?{}:function(t,e){return Dn(t,e,(function(e,i){return yr(t,i)}))}(t,e)}));function Pr(t,e){if(null==t)return{};var i=pe(Ko(t),(function(t){return[t]}));return e=Jo(e),Dn(t,i,(function(t,i){return e(t,i[0])}))}var br=Vo(gr),Cr=Vo(Ar);function vr(t){return null==t?[]:Me(t,gr(t))}var Mr=To((function(t,e,i){return e=e.toLowerCase(),t+(i?Lr(e):e)}));function Lr(t){return Vr(rr(t).toLowerCase())}function Rr(t){return(t=rr(t))&&t.replace(lt,xe).replace(Rt,"")}var Dr=To((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),wr=To((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),xr=Oo("toLowerCase");var Ur=To((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Br=To((function(t,e,i){return t+(i?" ":"")+Vr(e)}));var Gr=To((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Vr=Oo("toUpperCase");function Wr(t,e,i){return t=rr(t),void 0===(e=i?void 0:e)?function(t){return Ut.test(t)}(t)?function(t){return t.match(wt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Fr=Gn((function(t,e){try{return oe(t,void 0,e)}catch(t){return Va(t)?t:new pt(t)}})),kr=Yo((function(t,e){return ae(e,(function(e){e=Ps(e),Xi(t,e,Na(t[e],t))})),t}));function Hr(t){return function(){return t}}var jr=Co(),Yr=Co(!0);function Xr(t){return t}function Kr(t){return In("function"==typeof t?t:qi(t,1))}var zr=Gn((function(t,e){return function(i){return Nn(i,t,e)}})),qr=Gn((function(t,e){return function(i){return Nn(t,i,e)}}));function Zr(t,e,i){var n=gr(e),o=un(e,n);null!=i||Ha(e)&&(o.length||!n.length)||(i=e,e=t,t=this,o=un(e,gr(e)));var s=!(Ha(i)&&"chain"in i&&!i.chain),a=Wa(t);return ae(o,(function(i){var n=e[i];t[i]=n,a&&(t.prototype[i]=function(){var e=this.__chain__;if(s||e){var i=t(this.__wrapped__),o=i.__actions__=No(this.__actions__);return o.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,de([this.value()],arguments))})})),t}function Jr(){}var $r=Ro(pe),Qr=Ro(le),tl=Ro(ye);function el(t){return cs(t)?Oe(Ps(t)):function(t){return function(e){return hn(e,t)}}(t)}var il=wo(),nl=wo(!0);function ol(){return[]}function sl(){return!1}var al=Lo((function(t,e){return t+e}),0),rl=Bo("ceil"),ll=Lo((function(t,e){return t/e}),1),cl=Bo("floor");var ul,hl=Lo((function(t,e){return t*e}),1),pl=Bo("round"),dl=Lo((function(t,e){return t-e}),0);return bi.after=function(t,e){if("function"!=typeof e)throw new Nt(o);return t=nr(t),function(){if(--t<1)return e.apply(this,arguments)}},bi.ary=ya,bi.assign=lr,bi.assignIn=cr,bi.assignInWith=ur,bi.assignWith=hr,bi.at=pr,bi.before=ma,bi.bind=Na,bi.bindAll=kr,bi.bindKey=Sa,bi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},bi.chain=ea,bi.chunk=function(t,e,i){e=(i?ls(t,e,i):void 0===e)?1:si(nr(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,r=n($e(o/e));s<o;)r[a++]=Yn(t,s,s+=e);return r},bi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var s=t[e];s&&(o[n++]=s)}return o},bi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],o=t;o--;)e[o-1]=arguments[o];return de(Da(i)?No(i):[i],sn(e,1))},bi.cond=function(t){var e=null==t?0:t.length,i=Jo();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new Nt(o);return[i(t[0]),t[1]]})):[],Gn((function(i){for(var n=-1;++n<e;){var o=t[n];if(oe(o[0],this,i))return oe(o[1],this,i)}}))},bi.conforms=function(t){return function(t){var e=gr(t);return function(i){return Zi(i,t,e)}}(qi(t,1))},bi.constant=Hr,bi.countBy=oa,bi.create=function(t,e){var i=Ci(t);return null==e?i:Yi(i,e)},bi.curry=function t(e,i,n){var o=Wo(e,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=t.placeholder,o},bi.curryRight=function t(e,i,n){var o=Wo(e,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=t.placeholder,o},bi.debounce=ga,bi.defaults=dr,bi.defaultsDeep=_r,bi.defer=Aa,bi.delay=Ea,bi.difference=vs,bi.differenceBy=Ms,bi.differenceWith=Ls,bi.drop=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,(e=i||void 0===e?1:nr(e))<0?0:e,n):[]},bi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,0,(e=n-(e=i||void 0===e?1:nr(e)))<0?0:e):[]},bi.dropRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0,!0):[]},bi.dropWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0):[]},bi.fill=function(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&ls(t,e,i)&&(i=0,n=o),function(t,e,i,n){var o=t.length;for((i=nr(i))<0&&(i=-i>o?0:o+i),(n=void 0===n||n>o?o:nr(n))<0&&(n+=o),n=i>n?0:or(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},bi.filter=function(t,e){return(Da(t)?ce:on)(t,Jo(e,3))},bi.flatMap=function(t,e){return sn(pa(t,e),1)},bi.flatMapDeep=function(t,e){return sn(pa(t,e),1/0)},bi.flatMapDepth=function(t,e,i){return i=void 0===i?1:nr(i),sn(pa(t,e),i)},bi.flatten=ws,bi.flattenDeep=function(t){return(null==t?0:t.length)?sn(t,1/0):[]},bi.flattenDepth=function(t,e){return(null==t?0:t.length)?sn(t,e=void 0===e?1:nr(e)):[]},bi.flip=function(t){return Wo(t,512)},bi.flow=jr,bi.flowRight=Yr,bi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n},bi.functions=function(t){return null==t?[]:un(t,gr(t))},bi.functionsIn=function(t){return null==t?[]:un(t,Ar(t))},bi.groupBy=ca,bi.initial=function(t){return(null==t?0:t.length)?Yn(t,0,-1):[]},bi.intersection=Us,bi.intersectionBy=Bs,bi.intersectionWith=Gs,bi.invert=mr,bi.invertBy=Nr,bi.invokeMap=ua,bi.iteratee=Kr,bi.keyBy=ha,bi.keys=gr,bi.keysIn=Ar,bi.map=pa,bi.mapKeys=function(t,e){var i={};return e=Jo(e,3),ln(t,(function(t,n,o){Xi(i,e(t,n,o),t)})),i},bi.mapValues=function(t,e){var i={};return e=Jo(e,3),ln(t,(function(t,n,o){Xi(i,n,e(t,n,o))})),i},bi.matches=function(t){return Cn(qi(t,1))},bi.matchesProperty=function(t,e){return vn(t,qi(e,1))},bi.memoize=Ia,bi.merge=Er,bi.mergeWith=Ir,bi.method=zr,bi.methodOf=qr,bi.mixin=Zr,bi.negate=Oa,bi.nthArg=function(t){return t=nr(t),Gn((function(e){return Ln(e,t)}))},bi.omit=Or,bi.omitBy=function(t,e){return Pr(t,Oa(Jo(e)))},bi.once=function(t){return ma(2,t)},bi.orderBy=function(t,e,i,n){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(i=n?void 0:i)||(i=null==i?[]:[i]),Rn(t,e,i))},bi.over=$r,bi.overArgs=Ta,bi.overEvery=Qr,bi.overSome=tl,bi.partial=Pa,bi.partialRight=ba,bi.partition=da,bi.pick=Tr,bi.pickBy=Pr,bi.property=el,bi.propertyOf=function(t){return function(e){return null==t?void 0:hn(t,e)}},bi.pull=Ws,bi.pullAll=Fs,bi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?wn(t,e,Jo(i,2)):t},bi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?wn(t,e,void 0,i):t},bi.pullAt=ks,bi.range=il,bi.rangeRight=nl,bi.rearg=Ca,bi.reject=function(t,e){return(Da(t)?ce:on)(t,Oa(Jo(e,3)))},bi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],s=t.length;for(e=Jo(e,3);++n<s;){var a=t[n];e(a,n,t)&&(i.push(a),o.push(n))}return xn(t,o),i},bi.rest=function(t,e){if("function"!=typeof t)throw new Nt(o);return Gn(t,e=void 0===e?e:nr(e))},bi.reverse=Hs,bi.sampleSize=function(t,e,i){return e=(i?ls(t,e,i):void 0===e)?1:nr(e),(Da(t)?Vi:Wn)(t,e)},bi.set=function(t,e,i){return null==t?t:Fn(t,e,i)},bi.setWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Fn(t,e,i,n)},bi.shuffle=function(t){return(Da(t)?Wi:jn)(t)},bi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ls(t,e,i)?(e=0,i=n):(e=null==e?0:nr(e),i=void 0===i?n:nr(i)),Yn(t,e,i)):[]},bi.sortBy=_a,bi.sortedUniq=function(t){return t&&t.length?qn(t):[]},bi.sortedUniqBy=function(t,e){return t&&t.length?qn(t,Jo(e,2)):[]},bi.split=function(t,e,i){return i&&"number"!=typeof i&&ls(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=rr(t))&&("string"==typeof e||null!=e&&!za(e))&&!(e=Jn(e))&&Ge(t)?co(Ye(t),0,i):t.split(e,i):[]},bi.spread=function(t,e){if("function"!=typeof t)throw new Nt(o);return e=null==e?0:si(nr(e),0),Gn((function(i){var n=i[e],o=co(i,0,e);return n&&de(o,n),oe(t,this,o)}))},bi.tail=function(t){var e=null==t?0:t.length;return e?Yn(t,1,e):[]},bi.take=function(t,e,i){return t&&t.length?Yn(t,0,(e=i||void 0===e?1:nr(e))<0?0:e):[]},bi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,(e=n-(e=i||void 0===e?1:nr(e)))<0?0:e,n):[]},bi.takeRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!1,!0):[]},bi.takeWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3)):[]},bi.tap=function(t,e){return e(t),t},bi.throttle=function(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new Nt(o);return Ha(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),ga(t,e,{leading:n,maxWait:e,trailing:s})},bi.thru=ia,bi.toArray=er,bi.toPairs=br,bi.toPairsIn=Cr,bi.toPath=function(t){return Da(t)?pe(t,Ps):Ja(t)?[t]:No(Ts(rr(t)))},bi.toPlainObject=ar,bi.transform=function(t,e,i){var n=Da(t),o=n||Ba(t)||$a(t);if(e=Jo(e,4),null==i){var s=t&&t.constructor;i=o?n?new s:[]:Ha(t)&&Wa(s)?Ci(Yt(t)):{}}return(o?ae:ln)(t,(function(t,n,o){return e(i,t,n,o)})),i},bi.unary=function(t){return ya(t,1)},bi.union=js,bi.unionBy=Ys,bi.unionWith=Xs,bi.uniq=function(t){return t&&t.length?$n(t):[]},bi.uniqBy=function(t,e){return t&&t.length?$n(t,Jo(e,2)):[]},bi.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?$n(t,void 0,e):[]},bi.unset=function(t,e){return null==t||Qn(t,e)},bi.unzip=Ks,bi.unzipWith=zs,bi.update=function(t,e,i){return null==t?t:to(t,e,ao(i))},bi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:to(t,e,ao(i),n)},bi.values=vr,bi.valuesIn=function(t){return null==t?[]:Me(t,Ar(t))},bi.without=qs,bi.words=Wr,bi.wrap=function(t,e){return Pa(ao(e),t)},bi.xor=Zs,bi.xorBy=Js,bi.xorWith=$s,bi.zip=Qs,bi.zipObject=function(t,e){return oo(t||[],e||[],ki)},bi.zipObjectDeep=function(t,e){return oo(t||[],e||[],Fn)},bi.zipWith=ta,bi.entries=br,bi.entriesIn=Cr,bi.extend=cr,bi.extendWith=ur,Zr(bi,bi),bi.add=al,bi.attempt=Fr,bi.camelCase=Mr,bi.capitalize=Lr,bi.ceil=rl,bi.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=sr(i))==i?i:0),void 0!==e&&(e=(e=sr(e))==e?e:0),zi(sr(t),e,i)},bi.clone=function(t){return qi(t,4)},bi.cloneDeep=function(t){return qi(t,5)},bi.cloneDeepWith=function(t,e){return qi(t,5,e="function"==typeof e?e:void 0)},bi.cloneWith=function(t,e){return qi(t,4,e="function"==typeof e?e:void 0)},bi.conformsTo=function(t,e){return null==e||Zi(t,e,gr(e))},bi.deburr=Rr,bi.defaultTo=function(t,e){return null==t||t!=t?e:t},bi.divide=ll,bi.endsWith=function(t,e,i){t=rr(t),e=Jn(e);var n=t.length,o=i=void 0===i?n:zi(nr(i),0,n);return(i-=e.length)>=0&&t.slice(i,o)==e},bi.eq=va,bi.escape=function(t){return(t=rr(t))&&G.test(t)?t.replace(U,Ue):t},bi.escapeRegExp=function(t){return(t=rr(t))&&X.test(t)?t.replace(Y,"\\$&"):t},bi.every=function(t,e,i){var n=Da(t)?le:en;return i&&ls(t,e,i)&&(e=void 0),n(t,Jo(e,3))},bi.find=sa,bi.findIndex=Rs,bi.findKey=function(t,e){return Ne(t,Jo(e,3),ln)},bi.findLast=aa,bi.findLastIndex=Ds,bi.findLastKey=function(t,e){return Ne(t,Jo(e,3),cn)},bi.floor=cl,bi.forEach=ra,bi.forEachRight=la,bi.forIn=function(t,e){return null==t?t:an(t,Jo(e,3),Ar)},bi.forInRight=function(t,e){return null==t?t:rn(t,Jo(e,3),Ar)},bi.forOwn=function(t,e){return t&&ln(t,Jo(e,3))},bi.forOwnRight=function(t,e){return t&&cn(t,Jo(e,3))},bi.get=fr,bi.gt=Ma,bi.gte=La,bi.has=function(t,e){return null!=t&&os(t,e,fn)},bi.hasIn=yr,bi.head=xs,bi.identity=Xr,bi.includes=function(t,e,i,n){t=xa(t)?t:vr(t),i=i&&!n?nr(i):0;var o=t.length;return i<0&&(i=si(o+i,0)),Za(t)?i<=o&&t.indexOf(e,i)>-1:!!o&&ge(t,e,i)>-1},bi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:nr(i);return o<0&&(o=si(n+o,0)),ge(t,e,o)},bi.inRange=function(t,e,i){return e=ir(e),void 0===i?(i=e,e=0):i=ir(i),function(t,e,i){return t>=ai(e,i)&&t<si(e,i)}(t=sr(t),e,i)},bi.invoke=Sr,bi.isArguments=Ra,bi.isArray=Da,bi.isArrayBuffer=wa,bi.isArrayLike=xa,bi.isArrayLikeObject=Ua,bi.isBoolean=function(t){return!0===t||!1===t||ja(t)&&dn(t)==c},bi.isBuffer=Ba,bi.isDate=Ga,bi.isElement=function(t){return ja(t)&&1===t.nodeType&&!Ka(t)},bi.isEmpty=function(t){if(null==t)return!0;if(xa(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||Ba(t)||$a(t)||Ra(t)))return!t.length;var e=ns(t);if(e==_||e==N)return!t.size;if(ps(t))return!On(t).length;for(var i in t)if(Ot.call(t,i))return!1;return!0},bi.isEqual=function(t,e){return gn(t,e)},bi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?gn(t,e,void 0,i):!!n},bi.isError=Va,bi.isFinite=function(t){return"number"==typeof t&&ii(t)},bi.isFunction=Wa,bi.isInteger=Fa,bi.isLength=ka,bi.isMap=Ya,bi.isMatch=function(t,e){return t===e||An(t,e,Qo(e))},bi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,An(t,e,Qo(e),i)},bi.isNaN=function(t){return Xa(t)&&t!=+t},bi.isNative=function(t){if(hs(t))throw new pt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return En(t)},bi.isNil=function(t){return null==t},bi.isNull=function(t){return null===t},bi.isNumber=Xa,bi.isObject=Ha,bi.isObjectLike=ja,bi.isPlainObject=Ka,bi.isRegExp=za,bi.isSafeInteger=function(t){return Fa(t)&&t>=-9007199254740991&&t<=9007199254740991},bi.isSet=qa,bi.isString=Za,bi.isSymbol=Ja,bi.isTypedArray=$a,bi.isUndefined=function(t){return void 0===t},bi.isWeakMap=function(t){return ja(t)&&ns(t)==A},bi.isWeakSet=function(t){return ja(t)&&"[object WeakSet]"==dn(t)},bi.join=function(t,e){return null==t?"":ni.call(t,e)},bi.kebabCase=Dr,bi.last=Vs,bi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return void 0!==i&&(o=(o=nr(i))<0?si(n+o,0):ai(o,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Se(t,Ee,o,!0)},bi.lowerCase=wr,bi.lowerFirst=xr,bi.lt=Qa,bi.lte=tr,bi.max=function(t){return t&&t.length?nn(t,Xr,_n):void 0},bi.maxBy=function(t,e){return t&&t.length?nn(t,Jo(e,2),_n):void 0},bi.mean=function(t){return Ie(t,Xr)},bi.meanBy=function(t,e){return Ie(t,Jo(e,2))},bi.min=function(t){return t&&t.length?nn(t,Xr,Pn):void 0},bi.minBy=function(t,e){return t&&t.length?nn(t,Jo(e,2),Pn):void 0},bi.stubArray=ol,bi.stubFalse=sl,bi.stubObject=function(){return{}},bi.stubString=function(){return""},bi.stubTrue=function(){return!0},bi.multiply=hl,bi.nth=function(t,e){return t&&t.length?Ln(t,nr(e)):void 0},bi.noConflict=function(){return Xt._===this&&(Xt._=vt),this},bi.noop=Jr,bi.now=fa,bi.pad=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return Do(Qe(o),i)+t+Do($e(o),i)},bi.padEnd=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;return e&&n<e?t+Do(e-n,i):t},bi.padStart=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;return e&&n<e?Do(e-n,i)+t:t},bi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),li(rr(t).replace(z,""),e||0)},bi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&ls(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ir(t),void 0===e?(e=t,t=0):e=ir(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var o=ci();return ai(t+o*(e-t+kt("1e-"+((o+"").length-1))),e)}return Un(t,e)},bi.reduce=function(t,e,i){var n=Da(t)?_e:Pe,o=arguments.length<3;return n(t,Jo(e,4),i,o,Qi)},bi.reduceRight=function(t,e,i){var n=Da(t)?fe:Pe,o=arguments.length<3;return n(t,Jo(e,4),i,o,tn)},bi.repeat=function(t,e,i){return e=(i?ls(t,e,i):void 0===e)?1:nr(e),Bn(rr(t),e)},bi.replace=function(){var t=arguments,e=rr(t[0]);return t.length<3?e:e.replace(t[1],t[2])},bi.result=function(t,e,i){var n=-1,o=(e=ro(e,t)).length;for(o||(o=1,t=void 0);++n<o;){var s=null==t?void 0:t[Ps(e[n])];void 0===s&&(n=o,s=i),t=Wa(s)?s.call(t):s}return t},bi.round=pl,bi.runInContext=t,bi.sample=function(t){return(Da(t)?Gi:Vn)(t)},bi.size=function(t){if(null==t)return 0;if(xa(t))return Za(t)?je(t):t.length;var e=ns(t);return e==_||e==N?t.size:On(t).length},bi.snakeCase=Ur,bi.some=function(t,e,i){var n=Da(t)?ye:Xn;return i&&ls(t,e,i)&&(e=void 0),n(t,Jo(e,3))},bi.sortedIndex=function(t,e){return Kn(t,e)},bi.sortedIndexBy=function(t,e,i){return zn(t,e,Jo(i,2))},bi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Kn(t,e);if(n<i&&va(t[n],e))return n}return-1},bi.sortedLastIndex=function(t,e){return Kn(t,e,!0)},bi.sortedLastIndexBy=function(t,e,i){return zn(t,e,Jo(i,2),!0)},bi.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Kn(t,e,!0)-1;if(va(t[i],e))return i}return-1},bi.startCase=Br,bi.startsWith=function(t,e,i){return t=rr(t),i=null==i?0:zi(nr(i),0,t.length),e=Jn(e),t.slice(i,i+e.length)==e},bi.subtract=dl,bi.sum=function(t){return t&&t.length?be(t,Xr):0},bi.sumBy=function(t,e){return t&&t.length?be(t,Jo(e,2)):0},bi.template=function(t,e,i){var n=bi.templateSettings;i&&ls(t,e,i)&&(e=void 0),t=rr(t),e=ur({},e,n,Fo);var o,s,a=ur({},e.imports,n.imports,Fo),r=gr(a),l=Me(a,r),c=0,u=e.interpolate||ct,h="__p += '",p=yt((e.escape||ct).source+"|"+u.source+"|"+(u===F?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(p,(function(e,i,n,a,r,l){return n||(n=a),h+=t.slice(c,l).replace(ut,Be),i&&(o=!0,h+="' +\n__e("+i+") +\n'"),r&&(s=!0,h+="';\n"+r+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var _=Ot.call(e,"variable")&&e.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(R,""):h).replace(D,"$1").replace(w,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=Fr((function(){return dt(r,d+"return "+h).apply(void 0,l)}));if(f.source=h,Va(f))throw f;return f},bi.times=function(t,e){if((t=nr(t))<1||t>9007199254740991)return[];var i=4294967295,n=ai(t,4294967295);t-=4294967295;for(var o=Ce(n,e=Jo(e));++i<t;)e(i);return o},bi.toFinite=ir,bi.toInteger=nr,bi.toLength=or,bi.toLower=function(t){return rr(t).toLowerCase()},bi.toNumber=sr,bi.toSafeInteger=function(t){return t?zi(nr(t),-9007199254740991,9007199254740991):0===t?t:0},bi.toString=rr,bi.toUpper=function(t){return rr(t).toUpperCase()},bi.trim=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(K,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t),o=Ye(e);return co(n,Re(n,o),De(n,o)+1).join("")},bi.trimEnd=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(q,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t);return co(n,0,De(n,Ye(e))+1).join("")},bi.trimStart=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(z,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t);return co(n,Re(n,Ye(e))).join("")},bi.truncate=function(t,e){var i=30,n="...";if(Ha(e)){var o="separator"in e?e.separator:o;i="length"in e?nr(e.length):i,n="omission"in e?Jn(e.omission):n}var s=(t=rr(t)).length;if(Ge(t)){var a=Ye(t);s=a.length}if(i>=s)return t;var r=i-je(n);if(r<1)return n;var l=a?co(a,0,r).join(""):t.slice(0,r);if(void 0===o)return l+n;if(a&&(r+=l.length-r),za(o)){if(t.slice(r).search(o)){var c,u=l;for(o.global||(o=yt(o.source,rr(it.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var h=c.index;l=l.slice(0,void 0===h?r:h)}}else if(t.indexOf(Jn(o),r)!=r){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+n},bi.unescape=function(t){return(t=rr(t))&&B.test(t)?t.replace(x,Xe):t},bi.uniqueId=function(t){var e=++Tt;return rr(t)+e},bi.upperCase=Gr,bi.upperFirst=Vr,bi.each=ra,bi.eachRight=la,bi.first=xs,Zr(bi,(ul={},ln(bi,(function(t,e){Ot.call(bi.prototype,e)||(ul[e]=t)})),ul),{chain:!1}),bi.VERSION="4.17.15",ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){bi[t].placeholder=bi})),ae(["drop","take"],(function(t,e){Li.prototype[t]=function(i){i=void 0===i?1:si(nr(i),0);var n=this.__filtered__&&!e?new Li(this):this.clone();return n.__filtered__?n.__takeCount__=ai(i,n.__takeCount__):n.__views__.push({size:ai(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},Li.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ae(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Li.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Jo(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),ae(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Li.prototype[t]=function(){return this[i](1).value()[0]}})),ae(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Li.prototype[t]=function(){return this.__filtered__?new Li(this):this[i](1)}})),Li.prototype.compact=function(){return this.filter(Xr)},Li.prototype.find=function(t){return this.filter(t).head()},Li.prototype.findLast=function(t){return this.reverse().find(t)},Li.prototype.invokeMap=Gn((function(t,e){return"function"==typeof t?new Li(this):this.map((function(i){return Nn(i,t,e)}))})),Li.prototype.reject=function(t){return this.filter(Oa(Jo(t)))},Li.prototype.slice=function(t,e){t=nr(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Li(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=nr(e))<0?i.dropRight(-e):i.take(e-t)),i)},Li.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Li.prototype.toArray=function(){return this.take(4294967295)},ln(Li.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=bi[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(bi.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,r=e instanceof Li,l=a[0],c=r||Da(e),u=function(t){var e=o.apply(bi,de([t],a));return n&&h?e[0]:e};c&&i&&"function"==typeof l&&1!=l.length&&(r=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,_=r&&!p;if(!s&&c){e=_?e:new Li(this);var f=t.apply(e,a);return f.__actions__.push({func:ia,args:[u],thisArg:void 0}),new Mi(f,h)}return d&&_?t.apply(this,a):(f=this.thru(u),d?n?f.value()[0]:f.value():f)})})),ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=St[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);bi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(Da(o)?o:[],t)}return this[i]((function(i){return e.apply(Da(i)?i:[],t)}))}})),ln(Li.prototype,(function(t,e){var i=bi[e];if(i){var n=i.name+"";Ot.call(Ni,n)||(Ni[n]=[]),Ni[n].push({name:e,func:i})}})),Ni[vo(void 0,2).name]=[{name:"wrapper",func:void 0}],Li.prototype.clone=function(){var t=new Li(this.__wrapped__);return t.__actions__=No(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=No(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=No(this.__views__),t},Li.prototype.reverse=function(){if(this.__filtered__){var t=new Li(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Li.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Da(t),n=e<0,o=i?t.length:0,s=function(t,e,i){var n=-1,o=i.length;for(;++n<o;){var s=i[n],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ai(e,t+a);break;case"takeRight":t=si(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=s.start,r=s.end,l=r-a,c=n?r:a-1,u=this.__iteratees__,h=u.length,p=0,d=ai(l,this.__takeCount__);if(!i||!n&&o==l&&d==l)return io(t,this.__actions__);var _=[];t:for(;l--&&p<d;){for(var f=-1,y=t[c+=e];++f<h;){var m=u[f],N=m.iteratee,S=m.type,g=N(y);if(2==S)y=g;else if(!g){if(1==S)continue t;break t}}_[p++]=y}return _},bi.prototype.at=na,bi.prototype.chain=function(){return ea(this)},bi.prototype.commit=function(){return new Mi(this.value(),this.__chain__)},bi.prototype.next=function(){void 0===this.__values__&&(this.__values__=er(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},bi.prototype.plant=function(t){for(var e,i=this;i instanceof vi;){var n=Cs(i);n.__index__=0,n.__values__=void 0,e?o.__wrapped__=n:e=n;var o=n;i=i.__wrapped__}return o.__wrapped__=t,e},bi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Li){var e=t;return this.__actions__.length&&(e=new Li(this)),(e=e.reverse()).__actions__.push({func:ia,args:[Hs],thisArg:void 0}),new Mi(e,this.__chain__)}return this.thru(Hs)},bi.prototype.toJSON=bi.prototype.valueOf=bi.prototype.value=function(){return io(this.__wrapped__,this.__actions__)},bi.prototype.first=bi.prototype.head,me&&(bi.prototype[me]=function(){return this}),bi}();Xt._=Ke,void 0===(n=function(){return Ke}.call(e,i,e,t))||(t.exports=n)}).call(this)}).call(this,i(161)(t))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=function(){function t(){}return t.GRAPHICS_ENGINE="core_graphics_engine_module",t.GAME_SETUP="core_game_setup_module",t.LOADER="core_loader_module",t.CONNECTION="core_connection_module",t.MONEY="core_money_module",t.PRELOADER="core_preloader_module",t.SOUND="abstract_sound_module",t.SOUND_EFFECT_MODULE="abstract_sound_effect_module",t.BLACKJACK_LOGIC="blackjack_logic_module",t.CARD_LOGIC="card_logic_module",t.CARD_RESULTS_HISTORY="card_results_history_module",t.ROULETTE_LOGIC="roulette_logic_module",t.ROULETTE_WHEEL="roulette_wheel_module",t.ROULETTE_STATISTICS="roulette_statistics_module",t.ROULETTE_HISTORY="roulette_history_module",t.ROULETTE_BETS_HISTORY="roulette_bets_history_module",t.SLOT_LOGIC="slot_slot_logic_module",t.USER_INTERFACE="slot_user_interface_module",t.CHIP_SELECTION="chip_selection_module",t.TABLE="blackjack_table_module",t.CARDS="cards_module",t.CARDS_ANIMATIONS="cards_animations_module",t.CARDS_HISTORY="cards_history_module",t.STRIP="slot_strip_module",t.INTRO="slot_intro_module",t.MENU="slot_menu_module",t.MENU_BUTTONS="menu_buttons_module",t.WHEELS="slot_wheels_module",t.PAYTABLE="slot_paytable_module",t.GAME_SETTINGS="blackjack_game_settings_module",t.ADDITIONAL_PAYTABLE="slot_additional_paytable_module",t.BACKGROUND="slot_background_module",t.CHEAT_TOOL="slot_cheat_tool_module",t.AUTO_PLAY="core_auto_play_module",t.FREE_SPIN="core_free_spin_module",t.WINNINGS="core_winnings_module",t.CHARACTER="character_module",t.LOGO="slot_logo_module",t.FREE_ROUNDS="slot_free_rounds_module",t.CERTIFICATION="certification_module",t.BONUS="slot_bonus_module",t.AUTOMATED_TEST="automated_testing_module",t.PROGRESSIVE="progressive_module",t.STICKY_SYMBOL="sticky_symbol_module",t.LOGGER="logger_module",t.EXTENDED_WILD="extended_wild_module",t.COPY_WILD="copy_wild_module",t.RESPINS="respins_module",t.BONUS_SYSTEM="bonus_system_module",t.FAVOURITE_BETS="favourite_bets_module",t}();t.Modules=e;var i=function(){function t(){}return t.CAMERA="camera_module",t.LIGHTS="lights_module",t}();t.Modules3D=i;var n=function(){function t(){}return t.COINS_MONEY="core_money_proxy",t.CUMULATIVE_MONEY="core_cumulative_money_proxy",t.CARDS_MONEY="core_cards_money_proxy",t.ROULETTE_MONEY="core_roulette_money_proxy",t.CONNECTION="core_connection_proxy",t.PROGRESSIVE_CONNECTION="core_progressive_connection_proxy",t.PROGRESSIVE="core_progressive_proxy",t.LOAD="core_load_proxy",t.MODULES="core_modules_proxy",t.VALIDATE_START_GAME="core_validate_start_game_proxy",t.STATE_MACHINE="core_state_machine_proxy",t.SERVER_ACTIONS="core_server_actions_proxy",t.SERVER_RESPONSE="core_server_response_proxy",t.VIEWS="core_views_proxy",t.LAYERS="core_layers_proxy",t.MASTER_LAYERS="core_master_layers_proxy",t.END_GAME="core_end_game_proxy",t.SOUND="abstract_sound_proxy",t.SOUND_EFFECT="slot_sound_effect_proxy",t.SOUND_NAMES="slot_sound_names_proxy",t.PAYTABLE="slot_paytable_proxy",t.CHEAT_TOOL="slot_cheat_tool_proxy",t.AUTO_PLAY="slot_autoplay_proxy",t.WINNINGS_ANIMATIONS="slot_winnings_animations_proxy",t.VALIDATION="core_validation_proxy",t.SYMBOL_ANIMATION="slot_symbol_animation_proxy",t.FREESPIN="slot_freespin_proxy",t.INCREMENT="slot_increment_proxy",t.CLOCK="slot_clock_proxy",t.IDLE="slot_idle_proxy",t.BALANCE_UPDATE_CHECK="slot_balance_update_check_proxy",t.CERTIFICATION="slot_certification_proxy",t.NEAR_MISS="slot_near_miss_proxy",t.SPECIAL_SYMBOLS="slot_special_symbols_proxy",t.LAST_WIN="last_win_proxy",t.TURBO_MODE="slot_turbo_mode_proxy",t.BONUS="slot_bonus_proxy",t.STICKY_SYMBOL="slot_sticky_symbol_proxy",t.EXTENDED_WILD="slot_extended_wild_proxy",t.COPY_WILD="slot_copy_wild_proxy",t.GAME_SETTINGS="blackjack_game_settings_proxy",t.CARDS_ANIMATIONS="cards_animations_proxy",t.HAND_OPTIONS="hand_options_proxy",t.RESPINS="respins",t.BONUS_SYSTEM="bonus_system",t.COMPONENTS_3D="components_3d_proxy",t.RELOAD_GAME="reload_game",t.HANDS_DETAILS="blackjack_hands_details_proxy",t.BLACKJACK_BETS="blackjack_bets_proxy",t.CARD_BETS="card_bets_proxy",t.ROULETTE_BETS="roulette_bets_proxy",t.IN_GAME_WARNINGS="in_game_warnings",t.INTRO="intro_proxy",t.RESPONSIVE_LAYOUT="responsive_layout",t.FAVOURITE_BETS="favourite_bets",t.GMAPI_CUSTOM_MESSAGES="gmapi_custom_messages",t.MENU_BUTTONS="menu_buttons",t.CARDS_SPINE_ANIMATIONS="blackjack_cards_spine_animations_proxy",t}();t.Proxies=n;var o=function(){function t(){}return t.POSTFIX_LAYER_NAME="Layer",t.ACTION="Action"+t.POSTFIX_LAYER_NAME,t.LOGO="Logo"+t.POSTFIX_LAYER_NAME,t.MENU="Menu"+t.POSTFIX_LAYER_NAME,t.MENU_BUTTONS="MenuButtons"+t.POSTFIX_LAYER_NAME,t.STRIP="Strip"+t.POSTFIX_LAYER_NAME,t.STRIP_BUTTONS="StripButtons"+t.POSTFIX_LAYER_NAME,t.GAMEPLAY_BUTTONS="GameplayButtons"+t.POSTFIX_LAYER_NAME,t.TABLE="Table"+t.POSTFIX_LAYER_NAME,t.TABLE_WINNINGS="TableWinnings"+t.POSTFIX_LAYER_NAME,t.WINNINGS_POPUP="WinningsPopUp"+t.POSTFIX_LAYER_NAME,t.TABLE_LIMITS="TableLimits"+t.POSTFIX_LAYER_NAME,t.TABLE_JETONS="TableJetons"+t.POSTFIX_LAYER_NAME,t.TABLE_LABELS="TableLabels"+t.POSTFIX_LAYER_NAME,t.CARDS_HISTORY="CardsHistory"+t.POSTFIX_LAYER_NAME,t.CARD_RESULTS_HISTORY="CardResultsHistory"+t.POSTFIX_LAYER_NAME,t.ROULETTE_WHEEL="RouletteWheel"+t.POSTFIX_LAYER_NAME,t.ROULETTE_STATISTICS="RouletteStatistics"+t.POSTFIX_LAYER_NAME,t.ROULETTE_STATISTICS_POPUP="RouletteStatisticsPopUp"+t.POSTFIX_LAYER_NAME,t.ROULETTE_HISTORY="RouletteHistory"+t.POSTFIX_LAYER_NAME,t.ROULETTE_BETS_HISTORY="RouletteBetsHistory"+t.POSTFIX_LAYER_NAME,t.INSURANCE_EVEN_MONEY="InsuranceEvenMoney"+t.POSTFIX_LAYER_NAME,t.CHIP_SELECTION="ChipSelection"+t.POSTFIX_LAYER_NAME,t.PRELOADER="Preloader"+t.POSTFIX_LAYER_NAME,t.INTRO_FEATURES="Intro"+t.POSTFIX_LAYER_NAME,t.INTRO_VIDEO="IntroVideo"+t.POSTFIX_LAYER_NAME,t.BACKGROUND="Background"+t.POSTFIX_LAYER_NAME,t.VIDEO_BACKGROUND="VideoBackground"+t.POSTFIX_LAYER_NAME,t.SYMBOLS="Symbols"+t.POSTFIX_LAYER_NAME,t.SYMBOLS_BACKGROUND="SymbolsBackground"+t.POSTFIX_LAYER_NAME,t.SYMBOLS_FRAME="SymbolsFrame"+t.POSTFIX_LAYER_NAME,t.TABLE_BACKGROUND="TableBackground"+t.POSTFIX_LAYER_NAME,t.DECORATIVE_BACKGROUND="DecorativeBackground"+t.POSTFIX_LAYER_NAME,t.WHEELS="Wheels"+t.POSTFIX_LAYER_NAME,t.NEAR_MISS="NearMiss"+t.POSTFIX_LAYER_NAME,t.WINNINGS_ANIMATIONS_BACKGROUND="WinningsAnimationsBackground"+t.POSTFIX_LAYER_NAME,t.WINNINGS_ANIMATIONS_OVERGROUND="WinningsAnimationsOverground"+t.POSTFIX_LAYER_NAME,t.WINNINGS_ANIMATIONS_OVERGROUND_FRAME="WinningsAnimationsOvergroundFrame"+t.POSTFIX_LAYER_NAME,t.WINNINGS_ANIMATIONS_BIG_WIN="WinningsAnimationsBigWin"+t.POSTFIX_LAYER_NAME,t.WINNINGS_ANIMATIONS_INCREMENT="WinningsAnimationsIncrement"+t.POSTFIX_LAYER_NAME,t.PAY_TABLE="PayTable"+t.POSTFIX_LAYER_NAME,t.ADDITIONAL_PAY_TABLE="AdditionalPayTable"+t.POSTFIX_LAYER_NAME,t.GAME_SETTINGS="GameSettings"+t.POSTFIX_LAYER_NAME,t.GAME_INFO="GameInfo"+t.POSTFIX_LAYER_NAME,t.BONUS="Bonus"+t.POSTFIX_LAYER_NAME,t.BONUS_START="BonusStart"+t.POSTFIX_LAYER_NAME,t.BONUS_END="BonusEnd"+t.POSTFIX_LAYER_NAME,t.FREE_GAMES_START="FreeGamesStart"+t.POSTFIX_LAYER_NAME,t.FREE_GAMES_EXTRA="FreeGamesExtra"+t.POSTFIX_LAYER_NAME,t.FREE_GAMES_UI="FreeGamesUI"+t.POSTFIX_LAYER_NAME,t.FREE_GAMES_END="FreeGamesEnd"+t.POSTFIX_LAYER_NAME,t.RESPINS="Respins"+t.POSTFIX_LAYER_NAME,t.FREE_ROUNDS_START="FreeRoundsStart"+t.POSTFIX_LAYER_NAME,t.FREE_ROUNDS_UI="FreeRoundsUI"+t.POSTFIX_LAYER_NAME,t.FREE_ROUNDS_END="FreeRoundsEnd"+t.POSTFIX_LAYER_NAME,t.LINES="Lines"+t.POSTFIX_LAYER_NAME,t.PROGRESSIVE="Progressive"+t.POSTFIX_LAYER_NAME,t.PROGRESSIVE_POPUP="ProgressivePopUp"+t.POSTFIX_LAYER_NAME,t.PROGRESSIVE_NOTICE="ProgressiveNotice"+t.POSTFIX_LAYER_NAME,t.CHARACTER="Character"+t.POSTFIX_LAYER_NAME,t.WARNING="Warning"+t.POSTFIX_LAYER_NAME,t.AUTO_PLAY="AutoPlay"+t.POSTFIX_LAYER_NAME,t.PIXI_CLICK_CATCHER="PixiClickCatcher"+t.POSTFIX_LAYER_NAME,t.DEBUG_WINDOW="DebugWindow"+t.POSTFIX_LAYER_NAME,t.EXTENDED_WILD="ExtendedWild"+t.POSTFIX_LAYER_NAME,t.EXTRA_MULTIPLIER="ExtraMultiplier"+t.POSTFIX_LAYER_NAME,t.COPY_WILD="CopyWild"+t.POSTFIX_LAYER_NAME,t.COPYRIGHT="Copyright"+t.POSTFIX_LAYER_NAME,t.BORDER="Border"+t.POSTFIX_LAYER_NAME,t.STICKY_WILD="StickyWild"+t.POSTFIX_LAYER_NAME,t.MASK_PREVENT_CLICK="PreventClickMask"+t.POSTFIX_LAYER_NAME,t.CHEAT_TOOL="CheatTool"+t.POSTFIX_LAYER_NAME,t.BLACK="Black"+t.POSTFIX_LAYER_NAME,t.STICKY_SYMBOL="StickySymbol"+t.POSTFIX_LAYER_NAME,t.WHEELS_OVERLAY="WheelsOverlay"+t.POSTFIX_LAYER_NAME,t.CARDS_ANIMATIONS="CardsAnimations"+t.POSTFIX_LAYER_NAME,t.BONUS_SYSTEM_END="BonusSystemEnd"+t.POSTFIX_LAYER_NAME,t.IN_GAME_WARNINGS="InGameWarnings"+t.POSTFIX_LAYER_NAME,t.FAVOURITE_BETS="FavouriteBets"+t.POSTFIX_LAYER_NAME,t.INTRO_ZOOM_FEATURE="IntroZoomFeature"+t.POSTFIX_LAYER_NAME,t}();t.Layers=o}(e.Names||(e.Names={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=function(){function t(){}return t.NAME="game_setup_module_",t.CONFIG_XML_ASSETS=t.NAME+"config_xml_assets",t.LOAD_XML_ASSETS=t.NAME+"load_xml_assets",t.MODULE_INITIALIZED=t.NAME+"module_initialized",t.INITIALIZE_NEXT_MODULE=t.NAME+"initialize_next_module",t.ALL_MODULES_INITIALIZED=t.NAME+"all_modules_initialized",t.ALL_MODULES_LOADED=t.NAME+"all_modules_loaded",t.DRAW_NEXT_LAYER=t.NAME+"draw_next_layer",t.ALL_LAYERS_INITIALIZED=t.NAME+"all_layers_initialized",t.INJECT_FSM=t.NAME+"inject_fsm",t.SET_GAME_MODULES=t.NAME+"set_game_modules",t.LOAD_MODULE=t.NAME+"load_module",t.MODULE_LOADED=t.NAME+"module_loaded",t.DESTROY_MODULE=t.NAME+"destroy_module",t.MODULE_LOAD_ERROR=t.NAME+"module_load_error",t.COMPONENTS_3D_LOADED=t.NAME+"components_3d_loaded",t.ADD_3D_TEXTURE=t.NAME+"add_3d_texture",t}();t.GameSetup=e;var i=function(){function t(){}return t.SWIPE_FULLSCREEN_ENTER="swipe_full_screen_enter",t.SWIPE_FULLSCREEN_EXIT="swipe_full_screen_exit",t.USER_ACTION_ANNOUNCE="user_action_announce",t.INJECT_COIN_VALUES="user_interface_inject_coin_values",t.NAME="global_",t.START_APPLICATION=t.NAME+"start_application",t.START_GAME_IS_VALID=t.NAME+"start_game_is_valid",t.START_DISPATCHING_DATA=t.NAME+"start_dispatching_data",t.SET_CANVAS_VISIBILITY=t.NAME+"set_canvas_visibility",t.HIDE_PIXI_LAYERS=t.NAME+"hide_pixi_layers",t.INTRO_CLOSED=t.NAME+"intro_closed",t.LOAD_GROUP=t.NAME+"load_group",t.STORE_OPTIONAL_GROUP=t.NAME+"store_optional_group",t.LOAD_OPTIONAL_GROUP=t.NAME+"load_optional_group",t.UPDATE_PROGRESS=t.NAME+"update_progress",t.UPDATE_LOADING_STEP=t.NAME+"update_loading_step",t.XML_ASSETS_FILE_DOWNLOADED=t.NAME+"assets_file_completed",t.XML_ASSETS_FILE_DOWNLOAD_ERROR=t.NAME+"assets_file_error",t.MODULE_ASSETS_FILE_DOWNLOADED=t.NAME+"module_assets_file_completed",t.MODULE_ASSETS_FILE_DOWNLOAD_ERROR=t.NAME+"module_assets_file_error",t.SETTINGS_LOADED=t.NAME+"settings_loaded",t.TRANSLATIONS_LOADED=t.NAME+"translations_loaded",t.TRANSLATIONS_RELOADED=t.NAME+"translations_reloaded",t.TRANSLATIONS_RELOADED_FINISHED=t.NAME+"translations_reloaded_finished",t.STATE_CHANGED=t.NAME+"state_changed",t.IDLE_MODE_CHANGED=t.NAME+"idle_mode_changed",t.SERVER_POPUP_RECEIVED=t.NAME+"SERVER_POPUP_RECEIVED",t.REMOVE_PRELOADER=t.NAME+"remove_preloader",t.PRELOADER_REMOVED=t.NAME+"preloader_removed",t.INITIALIZE_MODULE=t.NAME+"initialize_module",t.INITIALIZING_MODULE=t.NAME+"module_initialized",t.TOGGLE_UI_MINI_MENU=t.NAME+"toggle_ui_mini_menu",t.UPDATE_PROGRESSIVE_DISPLAY=t.NAME+"update_progressive_display",t.SHOW_USER_INTERFACE=t.NAME+"show_user_interface",t.HIDE_USER_INTERFACE=t.NAME+"hide_user_interface",t.SHOW_SETTINGS_MENU=t.NAME+"show_settings_menu",t.HIDE_SETTINGS_MENU=t.NAME+"hide_settings_menu",t.TOGGLE_COIN_VALUES_MENU=t.NAME+"toggle_coin_values_menu",t.HIDE_COIN_VALUES_MENU=t.NAME+"hide_coin_values_menu",t.SHOW_COIN_VALUES_MENU=t.NAME+"show_coin_values_menu",t.UPDATE_USER_INTERFACE=t.NAME+"update_user_interface",t.UPDATE_INFO_BOX_HANDLER_DISPLAY=t.NAME+"update_info_box_handler_display",t.ENABLE_ALL_USER_SHORTCUTS=t.NAME+"enable_all_user_shortcuts",t.ENABLE_USER_SHORTCUT=t.NAME+"enable_user_shortcut",t.SPIN=t.NAME+"spin",t.PREPARE_FOR_SPIN=t.NAME+"prepare_for_spin",t.STOP_SPIN=t.NAME+"stop_spin",t.SKIP=t.NAME+"skip",t.SKIP_WINNINGS=t.NAME+"skip_winnings",t.SHOW_PAY_TABLE=t.NAME+"show_pay_table",t.HIDE_PAY_TABLE=t.NAME+"hide_pay_table",t.SHOW_GAME_SETTINGS=t.NAME+"show_game_settings",t.HIDE_GAME_SETTINGS=t.NAME+"hide_game_settings",t.HIDE_MENU_LAYER=t.NAME+"hide_menu_layer",t.HIDE_STATISTICS_POPUP=t.NAME+"hide_statistics_popup",t.ENABLE_CHIP_SELECTION=t.NAME+"enable_chip_selection",t.SHOW_CHIP_SELECTION=t.NAME+"show_chip_selection",t.HIDE_CHIP_SELECTION=t.NAME+"hide_chip_selection",t.TOGGLE_MENU=t.NAME+"toggle_menu",t.TOGGLE_MENU_SOUNDS=t.NAME+"toggle_menu_sounds",t.TOGGLE_STATS_POPUP=t.NAME+"toggle_stats_popup",t.TOGGLE_RESULTS_HISTORY=t.NAME+"toggle_results_history",t.TOGGLE_CHEAT_TOOL=t.NAME+"toggle_cheat_tool",t.INCREASE_COIN_VALUE=t.NAME+"increase_coin_value",t.DATA_SENT_TO_SERVER=t.NAME+"data_sent_to_server",t.CALL_BACK_ON_EVENT=t.NAME+"call_back_on_event",t.CALL_BACK_ON_ERROR=t.NAME+"call_back_on_error",t.CALL_BACK_ON_WARNING=t.NAME+"call_back_on_warning",t.DATA_RECEIVED_FROM_SERVER=t.NAME+"data_receive_from_server",t.DECREASE_COIN_VALUE=t.NAME+"decrease_coin_value",t.CHANGE_COIN_VALUE=t.NAME+"change_coin_value",t.INCREASE_CHIP_VALUE=t.NAME+"increase_chip_value",t.DECREASE_CHIP_VALUE=t.NAME+"decrease_chip_value",t.CHANGE_CHIP_VALUE=t.NAME+"change_chip_value",t.CANCEL_ALL_BETS=t.NAME+"cancel_all_bets",t.CLEAR_ALL_BETS=t.NAME+"clear_all_bets",t.UNDO=t.NAME+"undo_bet",t.NEW_GAME=t.NAME+"new_game",t.BACK_TO_GRID=t.NAME+"back_to_grid",t.DOUBLE=t.NAME+"double",t.DOUBLE_BET=t.NAME+"double_bet",t.SPLIT=t.NAME+"split",t.SURRENDER=t.NAME+"surrender",t.HIT=t.NAME+"hit",t.STAND=t.NAME+"stand",t.PLACE_LAST_BETS=t.NAME+"place_last_bets",t.ACCEPT_INSURANCE=t.NAME+"accept_insurance",t.REFUSE_INSURANCE=t.NAME+"refuse_insurance",t.ACCEPT_EVEN_MONEY=t.NAME+"accept_even_money",t.REFUSE_EVEN_MONEY=t.NAME+"refuse_even_money",t.VALIDATE_BET=t.NAME+"validate_bet",t.VALIDATE_NEUTRAL_BET=t.NAME+"validate_neutral_bet",t.AUTO_STAND=t.NAME+"auto_stand",t.ACCEPT_IN_GAME_WARNINGS=t.NAME+"accept_in_game_warnings",t.REFUSE_IN_GAME_WARNINGS=t.NAME+"refuse_in_game_warnings",t.SKIP_WHEEL_ANIMATION=t.NAME+"skip_wheel_animation",t.UPDATE_BETS_HISTORY=t.NAME+"update_bets_history",t.INCREASE_LINE_BET=t.NAME+"increase_line_bet",t.DECREASE_LINE_BET=t.NAME+"decrease_line_bet",t.CHANGE_LINE_BET=t.NAME+"change_line_bet",t.INCREASE_LINES=t.NAME+"increase_lines",t.DECREASE_LINES=t.NAME+"decrease_lines",t.CHANGE_LINES=t.NAME+"change_lines",t.LINE_NUMBER_ACCEPTED=t.NAME+"line_number_accepted",t.SHOW_DEBUG_WINDOW=t.NAME+"show_debug_window",t.DRAW_COMPONENT_MASK=t.NAME+"draw_component_mask",t.SHOW_COMPONENT_MASK=t.NAME+"show_component_mask",t.HIDE_COMPONENT_MASK=t.NAME+"hide_component_mask",t.LAYER_TRANSITION_IN_STARTED=t.NAME+"layer_transition_in_started",t.LAYER_TRANSITION_IN_RUNNING=t.NAME+"layer_transition_in_running",t.LAYER_TRANSITION_IN_COMPLETED=t.NAME+"layer_transition_in_completed",t.LAYER_TRANSITION_OUT_STARTED=t.NAME+"layer_transition_out_started",t.LAYER_TRANSITION_OUT_RUNNING=t.NAME+"layer_transition_out_running",t.LAYER_TRANSITION_OUT_COMPLETED=t.NAME+"layer_transition_out_completed",t.CHANGE_BACKGROUND=t.NAME+"change_background",t.CHANGE_BACKGROUND_COMPLETE=t.NAME+"change_background_complete",t.CHANGE_COLOR_SCHEME=t.NAME+"change_color_scheme",t.START_FREE_SPINS_ROUND=t.NAME+"start_freespin_round",t.END_FREE_SPINS_ROUND=t.NAME+"end_freespin_round",t.VERIFY_SPECIAL_FEATURE_AT_RESTORE=t.NAME+"verify_feature_at_restore",t.CHANGE_COIN_VALUES_FROM_SERVER=t.NAME+"change_cv_values_from_server",t.FREE_SPINS_STARTED=t.NAME+"freespin_started",t.FREE_SPINS_ENDED=t.NAME+"freespin_ended",t.START_FREE_SPINS_TRANSITION_COMPLETE=t.NAME+"start_freespin_transition_complete",t.END_FREE_SPINS_TRANSITION_COMPLETE=t.NAME+"end_freespin_transition_complete",t.DISABLE_LINES_BUTTONS=t.NAME+"disable_line_buttons",t.ATTEMPT_TO_HIDE_FREE_SPINS_END_POP_UP=t.NAME+"attept_to_hide_freespin_end_popup",t.ATTEMPT_TO_HIDE_EXTRA_FREE_SPIN_POP_UP=t.NAME+"attept_to_hide_extra_free_spin_pop_up",t.ATTEMPT_TO_HIDE_FREE_SPINS_START_POP_UP=t.NAME+"attept_to_hide_freespin_start_popup",t.SHOW_FREE_SPINS_USER_INTERFACE=t.NAME+"show_free_spins_user_interface",t.HIDE_FREE_SPINS_USER_INTERFACE=t.NAME+"hide_free_spins_user_interface",t.SET_INITIAL_SYMBOLS=t.NAME+"set_initial_symbols",t.UPDATE_DISPLAY_SYMBOLS=t.NAME+"update_display_symbols",t.START_AUTO_PLAY=t.NAME+"start_auto_play",t.STOP_AUTO_PLAY=t.NAME+"stop_auto_play",t.COMPLETE_AUTO_PLAY=t.NAME+"complete_auto_play",t.SHOW_AUTO_PLAY_POP_UP=t.NAME+"show_auto_play_popup",t.HIDE_AUTO_PLAY_POP_UP=t.NAME+"hide_auto_play_popup",t.ON_HIDE_AUTO_PLAY_POP_UP=t.NAME+"on_hide_auto_play_popup",t.UPDATE_AUTO_PLAY_SPINS_LEFT=t.NAME+"update_auto_play_spins_left",t.START_PROGRESSIVE_POPUP=t.NAME+"start_progressive_popup",t.END_PROGRESSIVE_POPUP=t.NAME+"end_progressive_popup",t.UPDATE_SHOW_ONE_CYCLE=t.NAME+"update_show_one_cycle",t.PAUSE_AUTO_ROUND=t.NAME+"pause_auto_round",t.RESUME_AUTO_ROUND=t.NAME+"resume_auto_round",t.ADD_WINNINGS_FROM_FEATURE_COMMAND_ON_AUTO=t.NAME+"ADD_WINNINGS_FROM_FEATURE_COMMAND_ON_AUTO",t.ADD_ENABLE_UI_ACTION=t.NAME+"add_enable_ui_action",t.NO_ENABLE_UI_ACTION=t.NAME+"no_enable_ui_action",t.UPDATE_INFOBOX=t.NAME+"update_infobox",t.UPDATE_INFOBOX_ALPHA=t.NAME+"update_infobox_alpha",t.UPDATE_INFOBOX_WRAPPER=t.NAME+"update_infobox_wrapper",t.CHECK_FREE_ROUNDS_FEATURE=t.NAME+"check_free_rounds_feature",t.AUTO_PLAY_COMPLETED=t.NAME+"auto_play_completed",t.CHANGE_STATE=t.NAME+"change_state",t.UNLISTEN_TO_END_ACTION_NOTIFICATION=t.NAME+"unlisten_to_end_action_notification",t.LISTEN_TO_END_ACTION_NOTIFICATION=t.NAME+"listen_to_end_action_notification",t.UPDATE_AUTO_PLAY_SETTINGS=t.NAME+"update_auto_play_settings",t.ENABLE_AUTO_PLAY_PAGE=t.NAME+"enable_auto_play_page",t.DISABLE_AUTO_PLAY_PAGE=t.NAME+"disable_auto_play_page",t.DEVICE_ORIENTATION_CHANGE_STARTS=t.NAME+"device_orientation_change_starts",t.DEVICE_ORIENTATION_CHANGED=t.NAME+"device_orientation_change_ends",t.DEVICE_SCREEN_RESIZING=t.NAME+"device_screen_resizing",t.DEVICE_SCREEN_RESIZED=t.NAME+"device_screen_resized",t.FULL_SCREEN_CHANGED=t.NAME+"full_screen_changed",t.CALL_HOOK_LISTENERS=t.NAME+"call_hook_listeners",t.PAGE_VISIBILITY_CHANGED=t.NAME+"page_visibility_changed",t.GET_SOUND_STATE=t.NAME+"GET_SOUND_STATE",t.MUTE_ALL_SOUNDS=t.NAME+"MUTE_ALL_SOUNDS",t.MUTE_SOUND=t.NAME+"MUTE_SOUND",t.PAUSE_SOUND=t.NAME+"PAUSE_SOUND",t.PLAY_SOUND=t.NAME+"PLAY_SOUND",t.PLAY_SOUND_MASTER_LAYOUT=t.NAME+"PLAY_SOUND_MASTER_LAYOUT",t.RESUME_SOUND=t.NAME+"RESUME_SOUND",t.SET_SOUND_VOLUME=t.NAME+"SET_SOUND_VOLUME",t.STOP_SOUND=t.NAME+"STOP_SOUND",t.UNMUTE_SOUND=t.NAME+"UNMUTE_SOUND",t.INTRO_VIDEO_STOP_SOUND=t.NAME+"INTRO_VIDEO_STOP_SOUND",t.INTRO_VIDEO_PLAY_SOUND=t.NAME+"INTRO_VIDEO_PLAY_SOUND",t.PLAY_WELCOME_SOUNDS=t.NAME+"PLAY_WELCOME_SOUNDS",t.GET_CURRENT_AMBIANCE=t.NAME+"GET_CURRENT_AMBIANCE",t.EXTENDED_WILD_ANIMATION_STARTED=t.NAME+"EXTENDED_WILD_ANIMATION_STARTED",t.PLAY_WINNINGS_ANIMATIONS_SOUNDS=t.NAME+"PLAY_WINNINGS_ANIMATIONS_SOUNDS",t.SOUNDS_CHANGED=t.NAME+"sounds_changed",t.PAY_TABLE_OPENING=t.NAME+"payTableOpening",t.PAY_TABLE_CLOSING=t.NAME+"payTableClosing",t.UPDATE_PAYTABLE_VALUES=t.NAME+"updatePayTableValues",t.GAME_SETTINGS_OPENING=t.NAME+"gameSettingsOpening",t.GAME_SETTINGS_CLOSING=t.NAME+"gameSettingsClosing",t.CHIP_SELECTION_OPENING=t.NAME+"chipSelectionOpening",t.CHIP_SELECTION_CLOSING=t.NAME+"chipSelectionClosing",t.MENU_OPENING=t.NAME+"MENU_OPENING",t.MENU_CLOSING=t.NAME+"MENU_CLOSING",t.START_RESPINS=t.NAME+"START_RESPINS",t.RESPINS_STARTED=t.NAME+"RESPINS_STARTED",t.RESPINS_ENDED=t.NAME+"RESPINS_ENDED",t.OVERRIDE_SOUNDS=t.NAME+"OVERRIDE_SOUNDS",t.CLICK_ON_PIXI_MASK=t.NAME+"click_on_pixi_mask",t.CLICK_ON_PIXI_BG=t.NAME+"click_on_pixi_bg",t.SHOW_PIXI_CLICK_CATCH=t.NAME+"showPixiClickCatch",t.HIDE_PIXI_CLICK_CATCH=t.NAME+"hidePixiClickCatch",t.CLICK_ON_COMPONENT_MASK=t.NAME+"click_on_component_pixi_mask",t.PLAY_YOU_WON=t.NAME+"play_sound_you_won",t.SHOW_DIALOG_WINDOW=t.NAME+"show_dialog_window",t.HIDE_DIALOG_WINDOW=t.NAME+"hide_dialog_window",t.TERMINATE_GAME=t.NAME+"terminate_game",t.GMAPI_SHOW_POPUP=t.NAME+"gmapi_show_popup",t.GMAPI_RESPONSE_CONTINUE=t.NAME+"gmapi_response_continue",t.PREPARE_GMAPI_RESPONSE=t.NAME+"prepare_gmapi_response",t.START_REALITY_CHECK_TIMER=t.NAME+"start_reality_check_timer",t.RCI_TIMER_VALUE_CHANGED=t.NAME+"rci_timer_value_changed",t.SHOW_REALITY_CHECK_CLIENT=t.NAME+"show_reality_check_client",t.SHOW_REALITY_CHECK_SERVER=t.NAME+"show_reality_check_server",t.ADD_LABEL_TO_CLOCK=t.NAME+"add_label_to_clock",t.REMOVE_LABEL_FROM_CLOCK=t.NAME+"remove_label_from_clock",t.HIDE_SYMBOLS=t.NAME+"hide_symbols",t.TURBO_MODE_TOGGLED=t.NAME+"turbo_mode_toggled",t.TURBO_MODE_STATE_CHANGED=t.NAME+"turbo_mode_state_changed",t.SOUND_STATE_CHANGED=t.NAME+"sound_state_changed",t.STICKY_SYMBOL_COMPLETE=t.NAME+"sticky_symbol_complete",t.START_EXTENDED_WILD=t.NAME+"start_extended_wild",t.COMPLETE_EXTENDED_WILD=t.NAME+"complete_extended_wild",t.COMPLETE_COPY_WILD=t.NAME+"complete_copy_wild",t.LOCK_WHEEL=t.NAME+"LOCK_WHEEL",t.UNLOCK_WHEEL=t.NAME+"UNLOCK_WHEEL",t.DEAL=t.NAME+"deal",t.REBET_AND_DEAL=t.NAME+"rebet_and_deal",t.REBET_AND_SPIN=t.NAME+"rebet_and_spin",t.REBET=t.NAME+"rebet",t.ADD_BET=t.NAME+"add_bet",t.ADD_WINNING=t.NAME+"add_winning",t.ADD_BET_BY_HAND_VO=t.NAME+"add_bet_by_hand_vo",t.SET_ACTIVE_HAND=t.NAME+"SET_ACTIVE_HAND",t.ENABLE_BET_ZONES=t.NAME+"ENABLE_BET_ZONES",t.ENABLE_SIDE_BET_ZONES=t.NAME+"ENABLE_SIDE_BET_ZONES",t.ENABLE_SIDE_BET_ZONE_ON_BET_CHANGE=t.NAME+"ENABLE_SIDE_BET_ZONE_ON_BET_CHANGE",t.REMOVE_HISTORY_HIGHLIGHT=t.NAME+"REMOVE_HISTORY_HIGHLIGHT",t.SHOW_WINNINGS=t.NAME+"SHOW_WINNINGS",t.UPDATE_HAND_OPTIONS=t.NAME+"UPDATE_HAND_OPTIONS",t.UPDATE_GAME_SETTINGS=t.NAME+"UPDATE_GAME_SETTINGS",t.CONNECT_TO_SERVER=t.NAME+"CONNECT_TO_SERVER",t.SOUND_PARSED=t.NAME+"SOUND_PARSED",t.UNLOADING_GAME=t.NAME+"UNLOADING_GAME",t.SHOW_FULL_SCREEN_POP_UP=t.NAME+"show_fullscreen_popup",t.HIDE_FULL_SCREEN_POP_UP=t.NAME+"hide_fullscreen_popup",t.AUTOMATION_LIBRARY_INITIALIZED=t.NAME+"AUTOMATION_LIBRARY_INITIALIZED",t.CARDS_STACKS_SPLITTING=t.NAME+"cards_stacks_splitting",t.INSURANCE_ACCEPTED_ON_RESTORE=t.NAME+"insurance_accepted_on_restore",t.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON=t.NAME+"toggle_cheat_tool_button",t.HAS_TO_START_FREE_ROUNDS_AT_RESTORE=t.NAME+"has_to_start_free_rounds_at_restore",t.FAVOURITE_BET_SAVED=t.NAME+"favourite_bet_saved",t.FAVOURITE_BET_REMOVED=t.NAME+"favourite_bet_removed",t.ENABLE_FAVOURITE_BETS=t.NAME+"enable_favourite_bets",t.VOICE_WHEEL_RESULT=t.NAME+"voice_wheel_result",t.FAVOURITE_BETS_UPDATED=t.NAME+"favourite_bets_updated",t.FAVOURITE_BETS_ENABLED=t.NAME+"favourite_bets_enabled",t.CHECK_API_RESTRICTIONS=t.NAME+"check_api_restrictions",t}();t.Global=i;var n=function(){function t(){}return t.NAME="bonus_",t.BONUS_ROUND=t.NAME+"BONUS_ROUND",t.BONUS_CHOICE=t.NAME+"BONUS_CHOICE",t.END_BONUS=t.NAME+"BONUS_END",t.REGISTER_BONUS=t.NAME+"register_bonus",t.CHANGE_BONUS_OPTIONS=t.NAME+"change_option_bonus",t.START_BONUS_ROUND=t.NAME+"start_bonus_round",t.START_BONUS=t.NAME+"start_bonus",t.BONUS_STARTED=t.NAME+"bonus_started",t.UPDATE_BONUS=t.NAME+"update_bonus",t.BONUS_COMPLETE=t.NAME+"bonus_complete",t.BONUS_ANIMATION_COMPLETE=t.NAME+"bonus_animation_complete",t.SHOW_START_BONUS_POPUP=t.NAME+"showStartBonusPopup",t.HIDE_START_BONUS_POPUP=t.NAME+"hideStartBonusPopup",t.SHOW_END_BONUS_POPUP=t.NAME+"showEndBonusPopup",t.HIDE_END_BONUS_POPUP=t.NAME+"hideEndBonusPopup",t.CHECK_BONUS_OPTIONS=t.NAME+"checkBonusOptions",t.PAUSE_BONUS=t.NAME+"bonus_pause_bonus",t.RESUME_BONUS=t.NAME+"bonus_resume_bonus",t.STOP_BONUS_AMBIANCE_SOUND=t.NAME+"stop_bonus_ambiance_sound",t.START_BONUS_AMBIANCE_SOUND=t.NAME+"start_bonus_ambiance_sound",t}();t.Bonus=n;var o=function(){function t(){}return t.NAME="money_",t.MONEY_STATUS=t.NAME+"money_status",t.UPDATE_DISPLAY_VALUES=t.NAME+"update_display_values",t.BET_NOT_VALID=t.NAME+"bet_not_valid",t.MIN_BET_PLACED=t.NAME+"min_bet_placed",t.GET_RESTORED_FS_COIN_VALUE=t.NAME+"get_restored_fs_coin_value",t}();t.Money=o;var s=function(){function t(){}return t.NAME="progressive_",t.PROGRESSIVE_POPUP_ENDED=t.NAME+"progressive_popup_ended",t}();t.Progressive=s;var a=function(){function t(){}return t.NAME="sound_",t.SOUNDS_LOADED=t.NAME+"sounds_loaded",t.PLAY_SOUND=t.NAME+"PLAY_SOUND",t.STOP_SOUND=t.NAME+"STOP_SOUND",t.MUTE_ALL_SOUNDS=t.NAME+"MUTE_ALL_SOUNDS",t.PLAY_SOUND_LIST=t.NAME+"PLAY_SOUND_LIST",t.STOP_SOUND_LIST=t.NAME+"STOP_SOUND_LIST",t.SET_CATEGORY_VOLUME=t.NAME+"SET_CATEGORY_VOLUME",t.SET_GENERAL_VOLUME=t.NAME+"SET_GENERAL_VOLUME",t.SET_SOUND_VOLUME=t.NAME+"SET_SOUND_VOLUME",t.SET_SOUND_PANNING=t.NAME+"SET_SOUND_PANNING",t.PAUSE_SOUND=t.NAME+"PAUSE_SOUND",t.RESUME_SOUND=t.NAME+"RESUME_SOUND",t.MUTE_SOUND=t.NAME+"MUTE_SOUND",t.UNMUTE_SOUND=t.NAME+"UNMUTE_SOUND",t.GET_SOUND_STATE=t.NAME+"GET_SOUND_STATE",t.PLAY_WINNINGS_ANIMATIONS_SOUNDS=t.NAME+"play_winnings_animations_sounds",t.PLAY_CONNECTION_LOST_SOUND=t.NAME+"play_connection_lost_sound",t.PLAY_BET_NOT_VALID_SOUND=t.NAME+"play_bet_not_valid_sound",t.OPTIONAL_SOUNDS_LOADED=t.NAME+"OPTIONAL_SOUNDS_LOADED",t}();t.Sound=a;var r=function(){function t(){}return t.NAME="wheels_",t.WHEEL_COMPLETE=t.NAME+"wheel_complete",t.WHEEL_START=t.NAME+"wheel_start",t.WHEELS_ANIMATIONS_TWEEN_COMPLETE=t.NAME+"wheels_animations_tween_complete",t.WHEELS_ANIMATIONS_COMPLETE=t.NAME+"wheels_animations_complete",t.WHEELS_COMPLETE_SOUNDS=t.NAME+"wheels_complete_sounds",t.SYMBOLS_RECEIVED_AND_ADDED=t.NAME+"symbols_received_and_added",t.SPIN_WHEEL_ANIMATION=t.NAME+"spin_wheel_animation",t.STOP_WHEEL_ANIMATION=t.NAME+"stop_wheel_animation",t.LOCK_WHEEL=t.NAME+"LOCK_WHEEL",t.UNLOCK_WHEEL=t.NAME+"UNLOCK_WHEEL",t.HIDE_WHEELS=t.NAME+"HIDE_WHEELS",t.SHOW_WHEELS=t.NAME+"SHOW_WHEELS",t.NEAR_MISS_WHEEL=t.NAME+"NEAR_MISS_WHEEL",t.PLAY_ANNOUNCE_SYMBOLS_ANIMATION=t.NAME+"PLAY_ANNOUNCE_SYMBOLS_ANIMATION",t.PLAY_ANNOUNCE_SYMBOLS_SOUND=t.NAME+"PLAY_ANNOUNCE_SYMBOLS_SOUND",t.PLAY_WHEEL_STOP_SOUND=t.NAME+"PLAY_WHEEL_STOP_SOUND",t.PLAY_NEAR_MISS_ANIMATION=t.NAME+"PLAY_NEAR_MISS_ANIMATION",t.STOP_NEAR_MISS_ANIMATION=t.NAME+"STOP_NEAR_MISS_ANIMATION",t.NEAR_MISS_ANIMATION_COMPLETED=t.NAME+"NEAR_MISS_ANIMATION_COMPLETED",t.NEAR_MISS_WHEEL_COMPLETED=t.NAME+"NEAR_MISS_WHEEL_COMPLETED",t}();t.Wheels=r;var l=function(){function t(){}return t.NAME="connection_",t.SERVER_ACTION=t.NAME+"server_action",t.INITIALIZE_PROGRESSIVE_CONNECTION=t.NAME+"initialize_progressive_connection",t.LOGOUT=t.NAME+"logout",t}();t.Connection=l;var c=function(){function t(){}return t.NAME="blackjackLogic_",t.ADD_ENDGAME_ACTION=t.NAME+"add_endgame_action",t.NO_ENDGAME_ACTION=t.NAME+"no_endgame_action",t.ADD_REROUTE_ACTION=t.NAME+"add_reroute_action",t.NO_REROUTE_ACTION=t.NAME+"no_reroute_action",t.DEAL_FIRST_CARDS=t.NAME+"DEAL_FIRST_CARDS",t.DEAL_CARDS=t.NAME+"DEAL_CARDS",t}();t.BlackjackLogic=c;var u=function(){function t(){}return t.NAME="cardLogic_",t.ADD_ENDGAME_ACTION=t.NAME+"add_endgame_action",t.NO_ENDGAME_ACTION=t.NAME+"no_endgame_action",t.ENDGAME_VERIFICATION_COMPLETE=t.NAME+"end_game_verification_complete",t.ADD_REROUTE_ACTION=t.NAME+"add_reroute_action",t.NO_REROUTE_ACTION=t.NAME+"no_reroute_action",t.SEND_BALANCE_TAG=t.NAME+"send_balance_tag",t}();t.CardLogic=u;var h=function(){function t(){}return t.NAME="rouletteLogic_",t.ADD_ENDGAME_ACTION=t.NAME+"add_endgame_action",t.NO_ENDGAME_ACTION=t.NAME+"no_endgame_action",t.ENDGAME_VERIFICATION_COMPLETE=t.NAME+"end_game_verification_complete",t.ADD_REROUTE_ACTION=t.NAME+"add_reroute_action",t.NO_REROUTE_ACTION=t.NAME+"no_reroute_action",t}();t.RouletteLogic=h;var p=function(){function t(){}return t.NAME="slotLogic_",t.ADD_ENDGAME_ACTION=t.NAME+"add_endgame_action",t.NO_ENDGAME_ACTION=t.NAME+"no_endgame_action",t.ENDGAME_VERIFICATION_COMPLETE=t.NAME+"end_game_verification_complete",t.ADD_REROUTE_ACTION=t.NAME+"add_reroute_action",t.NO_REROUTE_ACTION=t.NAME+"no_reroute_action",t.SEND_BALANCE_TAG=t.NAME+"send_balance_tag",t.PAUSE_END_GAME_DECISION=t.NAME+"pause_end_game_decision",t.RESUME_END_GAME_DECISION=t.NAME+"resume_end_game_decision",t}();t.SlotLogic=p;var d=function(){function t(){}return t.NAME="winning_",t.ADD_LINES_WINNINGS=t.NAME+"add_lines_winnings",t.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS=t.NAME+"full_cycle_complete_winnings_animations",t.START_WINNINGS_ANIMATIONS=t.NAME+"start_winnings_animations",t.STOP_WINNINGS_ANIMATIONS=t.NAME+"stop_winnings_animations",t.SET_DISPLAY_SYMBOLS_FOR_WIN_DECORATORS=t.NAME+"set_display_symbols_for_win_decorators",t.SET_SYMBOLS_TO_SKIP_FOR_WIN_DECORATORS=t.NAME+"SET_SYMBOLS_TO_SKIP_FOR_WIN_DECORATORS",t.GET_SYMBOL_ANIMATION=t.NAME+"get_symbol_animation",t.GET_SPINE_DATA=t.NAME+"GET_SPINE_DATA",t.ADD_SYMBOL_ANIMATION_TO_POOL=t.NAME+"add_symbol_animation_to_pool",t.RESET_SYMBOL_ANIMATION_TO_POOL=t.NAME+"reset_symbol_animation_to_pool",t.BIG_WIN_INCREMENT_ENDED=t.NAME+".BIG_WIN_INCREMENT_ENDED",t.BIG_WIN_ANIMATION_STARTED=t.NAME+".BIG_WIN_ANIMATION_STARTED",t.BIG_WIN_ANIMATION_CANCELED=t.NAME+".BIG_WIN_ANIMATION_CANCELED",t.FANTASTIC_WIN_ANIMATION_STARTED=t.NAME+"FANTASTIC_WIN_ANIMATION_STARTED",t.PLAY_BIG_WIN_VOICE=t.NAME+"PLAY_BIG_WIN_VOICE",t.STOP_BIG_WIN_VOICE=t.NAME+"STOP_BIG_WIN_VOICE",t.ULTRA_WIN_ANIMATION_STARTED=t.NAME+"ULTRA_WIN_ANIMATION_STARTED",t.BIG_WIN_ANIMATION_STOPPED=t.NAME+"BIG_WIN_ANIMATION_STOPPED",t.FIVE_OF_A_KIND_ANIMATION_COMPLETED=t.NAME+"FIVE_OF_A_KIND_ANIMATION_COMPLETED",t.WHEEL_COMPLETE_WIN_ANIMATION=t.NAME+"WHEEL_COMPLETE_WIN_ANIMATION",t.PREPARE_BIG_WIN_ANIMATION=t.NAME+"PREPARE_BIG_WIN_ANIMATION",t.PLAY_FIVE_OF_A_KIND_ANIMATION=t.NAME+"PLAY_FIVE_OF_A_KIND_ANIMATION",t.STOP_WINNINGS_ANIMATIONS_SOUNDS=t.NAME+"STOP_WINNINGS_ANIMATIONS_SOUNDS",t.UPDATE_WINNINGS_SHOW_ALL=t.NAME+"update_winnings_show_all",t.UPDATE_SHOW_ONE_CYCLE=t.NAME+"update_show_one_cycle",t.CELEBRATION_CHECK=t.NAME+"celebration",t.CELEBRATION_START=t.NAME+"celebrationStart",t.ADD_HANDS_WINNINGS=t.NAME+"add_hands_winnings",t.WINNINGS_ANIMATION_COMPLETE=t.NAME+"winnings_animation_complete",t.OPTIONAL_ASSETS_LOADED=t.NAME+"optional_assets_loaded",t}();t.Winning=d;var _=function(){function t(){}return t.NAME="lines_",t.SHOW_BUTTONS_FOR_LINES=t.NAME+"show_buttons_for_lines",t}();t.Lines=_;var f=function(){function t(){}return t.NAME="increment_",t.START_INCREMENT=t.NAME+"start_increment",t.START_WINNINGS_INCREMENT=t.NAME+"tart_winnings_increment",t.STOP_INCREMENT=t.NAME+"stop_increment",t.STOP_ALL_INCREMENTS=t.NAME+"stop_all_increments",t.INCREMENT_STARTED=t.NAME+"increment_started",t.INCREMENT_COMPLETED=t.NAME+"increment_completed",t.GET_INCREMENT_STATUS=t.NAME+"get_increment_status",t.GET_INCREMENT_DURATION=t.NAME+"get_increment_duration",t.GET_INCREMENT_TOTAL=t.NAME+"get_increment_total",t.ADD_LABEL_TO_INCREMENT=t.NAME+"add_label_to_increment",t.ADD_ON_UPDATE_TO_INCREMENT=t.NAME+"add_on_update_to_increment",t.ADD_ON_COMPLETE_TO_INCREMENT=t.NAME+"add_on_complete_to_increment",t.REMOVE_LABEL_FROM_INCREMENT=t.NAME+"remove_label_from_increment",t.REMOVE_ON_UPDATE_FROM_INCREMENT=t.NAME+"remove_on_update_from_increment",t.REMOVE_ON_COMPLETE_FROM_INCREMENT=t.NAME+"remove_on_complete_from_increment",t.START_CUMULATIVE_INCREMENTING_WIN=t.NAME+"start_cumulative_incrementing_win",t.STOP_CUMULATIVE_INCREMENTING_WIN=t.NAME+"stop_cumulative_incrementing_win",t.CUMULTATIVE_INCREMENTING_STARTING=t.NAME+"cumultative_incrementing_starting",t.CUMULTATIVE_INCREMENTING_STOPPING=t.NAME+"cumultative_incrementing_stopping",t}();t.Increment=f;var y=function(){function t(){}return t.NAME="certification_",t.BALANCE_UPDATE_CHECK=t.NAME+"balance_update_check",t.JP_WIN_BROADCAST_RECEIVED=t.NAME+"jp_win_broadcast_received",t}();t.Certification=y;var m=function(){function t(){}return t.NAME="strip_",t.UPDATE_BONUS_BALANCE=t.NAME+"update_bonus_balance",t.TOGGLE_OFF_BONUS_BALANCE=t.NAME+"toggle_off_bonus_balance",t.ADD_LABELS_TO_UPDATE_ON_STRIP=t.NAME+"add_labels_to_update_on_strip",t}();t.Strip=m;var N=function(){function t(){}return t.NAME="logo_",t.HIDE_LOGO=t.NAME+"hide_logo",t.SHOW_LOGO=t.NAME+"show_logo",t}();t.Logo=N;var S=function(){function t(){}return t.NAME="Table_",t.REGISTER_BETS=t.NAME+"register_bets",t.CLEAR_TABLE=t.NAME+"clear_table",t.CLEAR_TABLE_TRACK=t.NAME+"clear_table_track",t.HIDE_TABLE_TRACK=t.NAME+"hide_table_track",t.BET_SOUND_CHANGED=t.NAME+"bet_sound_changed",t.ADD_BET_TO_STACK=t.NAME+"add_bet_to_stack",t.GET_BET_ZONE_GRID_VIEW_DETAILS=t.NAME+"get_bet_zone_grid_view_details",t.GET_BET_ZONE_VIEW_DETAILS=t.NAME+"get_bet_zone_view_details",t.HIGHLIGHT_WINNING_BET_ZONE=t.NAME+"highlight_winning_bet_zone",t.ENABLE_ZOOM_COMPONENTS=t.NAME+"enable_zoom_components",t.GET_WIN_STACK_DETAILS=t.NAME+"get_win_stack_details",t.HIGHLIGHT_BET_ZONES=t.NAME+"highlight_bet_zones",t.DISABLE_LOSING_CARDS_STACK=t.NAME+"disable_losing_cards_stack",t}();t.Table=S;var g=function(){function t(){}return t.NAME="Wheel_",t.START_WHEEL_ANIMATION=t.NAME+"start_wheel_animation",t.STOP_WHEEL_ANIMATION=t.NAME+"stop_wheel_animation",t.FORCE_STOP_WHEEL_ANIMATION=t.NAME+"force_stop_wheel_animation",t.WHEEL_ANIMATION_COMPLETE=t.NAME+"wheel_animation_complete",t}();t.Wheel=g;var A=function(){function t(){}return t.NAME="CardsAnimations_",t.ADD_CARDS_ANIMATIONS=t.NAME+"add_cards_animations",t.START_CARDS_ANIMATIONS=t.NAME+"start_cards_animations",t.STOP_CARDS_ANIMATIONS=t.NAME+"stop_cards_animations",t.PLAY_CARDS_ANIMATIONS_SOUNDS=t.NAME+"PLAY_CARDS_ANIMATIONS_SOUNDS",t.STOP_CARDS_ANIMATIONS_SOUNDS=t.NAME+"STOP_CARDS_ANIMATIONS_SOUNDS",t}();t.CardsAnimations=A;var E=function(){function t(){}return t.NAME="MasterLayout_",t.PARSE_MANIFEST_MASTER_LAYOUT=t.NAME+"PARSE_MANIFEST_MASTER_LAYOUT",t.LOAD_MASTER_LAYOUTS=t.NAME+"LOAD_MASTER_LAYOUTS",t.MASTER_LAYOUTS_DOWNLOADED=t.NAME+"MASTER_LAYOUTS_DOWNLOADED",t.MASTER_LAYOUTS_DOWNLOAD_ERROR=t.NAME+"MASTER_LAYOUTS_DOWNLOAD_ERROR",t.SEND_SPINE_WIN_CONFIGURATION=t.NAME+"SEND_SPINE_WIN_CONFIGURATION",t.SEND_SPINE_ANNOUNCE_CONFIGURATION=t.NAME+"SEND_SPINE_ANNOUNCE_CONFIGURATION",t.CONFIGURE_WHEELS_MOBILE_ORIENTATION=t.NAME+"CONFIGURE_WHEELS_MOBILE_ORIENTATION",t.CONFIGURE_WINNINGS_DECORATORS=t.NAME+"CONFIGURE_WINNINGS_DECORATORS",t}();t.MasterLayout=E;var I=function(){function t(){}return t.NAME="CaneraAnimations_",t.PLAY_CAMERA_ANIMATION=t.NAME+"PLAY_CAMERA_ANIMATION",t.STOP_CAMERA_ANIMATION=t.NAME+"STOP_CAMERA_ANIMATION",t}();t.Camera=I;var O=function(){function t(){}return t.NAME="LightsAnimations_",t.TOGGLE_LIGHT=t.NAME+"TOGGLE_LIGHT",t.DIM_LIGHT=t.NAME+"DIM_LIGHT",t.CHANGE_LIGHT_COLOR=t.NAME+"CHANGE_LIGHT_COLOR",t.ADD_LIGHT=t.NAME+"ADD_LIGHT",t.REMOVE_LIGHT=t.NAME+"REMOVE_LIGHT",t}();t.Lights=O;var T=function(){function t(){}return t.NAME="IntroAnimations_",t.START_INTRO_ANIMATIONS=t.NAME+"START_INTRO_ANIMATIONS",t}();t.IntroAnimation=T;var P=function(){function t(){}return t.NAME="global3D_",t.GET_3D_ASSETS=t.NAME+"GET_3D_ASSETS",t}();t.Global3D=P;var b=function(){function t(){}return t.NAME="FavouriteBets_",t.SAVE_BET=t.NAME+"SAVE_BET",t.PLACE_BET=t.NAME+"PLACE_BET",t.REMOVE_BET=t.NAME+"REMOVE_BET",t}();t.FavouriteBets=b}(e.Notifications||(e.Notifications={}))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){},e}(i(128).MVCEntity);e.Controller=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(0),s=i(2),a=i(8),r=i(356),l=i(357),c=i(109),u=i(6),h=i(17),p=function(){function t(){if(t._instance)throw new Error("Device class is not to be instantiated. Please use Device.instance()");t.ASSET_PATH_BASE=location.href.substring(window.location.href.split("?")[0].lastIndexOf("/")+1).split(".").map(String)[0]+"/";var e=window.location.href.lastIndexOf(t.PARAMS_FORCE_LEVEL);if(-1!==e){e+=t.PARAMS_FORCE_LEVEL.length;var i=Number(location.href.substring(e,e+1));o.isNaN(i)||(t.FORCED_DEVICE_LEVEL=i)}Phaser.Device.whenReady(t.onReady,t)}return Object.defineProperty(t,"isPageVisible",{get:function(){return this._isPageVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentOrientation",{get:function(){return this._currentOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t,"needToShowSwipe",{get:function(){var e;return t.isLandscape()?(e=Math.min(screen.width,screen.height),t._instance.chromeMobileOS&&(t.isIPhoneX()?e-=45:e-=40)):(e=Math.max(screen.width,screen.height),t._instance.chromeMobileOS?t.isIPhoneX()?e-=75:e-=40:t.isIPhoneX()?e-=75:e-=50),!!(this.getGameClientHeight()<e&&t._instance.iOS)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"soundDeviceSupported",{get:function(){var e=!0;return 0!==t.instance().iOSVersion&&t.instance().iOSVersion<10&&(e=!1),e},enumerable:!0,configurable:!0}),t.instance=function(){return t._instance||u.Log.warning("Device class not ready"),t._instance},t.setReadyCallback=function(e){t._deviceReadyCallback=e},t.getGlobalAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL+"/"},t.getUIAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_UI+"/"},t.getMobileGlobalAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_MOBILE+"/"},t.getMiniGlobalAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_MINI+"/"},t.getTabletGlobalAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_TABLET+"/"},t.getGlobalSceneAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_SCENE+"/"},t.getMobileGlobalSceneAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_SCENE_MOBILE+"/"},t.getMiniGlobalSceneAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_SCENE_MINI+"/"},t.getTabletGlobalSceneAssetPath=function(){return t.ASSET_PATH_BASE+t.ASSET_PATH_GLOBAL_SCENE_TABLET+"/"},t.getGlobalIconsPath=function(){return t.ASSET_PATH_BASE+t.ASSET_ICONS+"/"},t.getGlobalSoundPath=function(){return t.ASSET_PATH_BASE+t.ASSET_SOUND+"/"},t.getGlobalSoundSeparatePath=function(){return this.getGlobalSoundPath()+"separate/"},t.getGlobalSoundOptionalPath=function(){return this.getGlobalSoundPath()+"optional/"},t.getGlobalSoundSpritesPath=function(){return this.getGlobalSoundPath()+"sprites/"},t.getGlobalBackgroundPath=function(){return t.ASSET_PATH_BASE+t.ASSET_BACKGROUND+"/"},t.getDeviceSpecificLayoutPath=function(){return t.ASSET_PATH_BASE+t.LAYOUT_PATH_DEVICE[t.CLASS_INDEX]+"/"},t.onReady=function(){t._instance=Phaser.Device,t._instance.__defineGetter__("tablet",(function(){var e=navigator.userAgent.toLowerCase();return!!t._instance.iPad||e.indexOf("android")>-1&&-1==e.indexOf("mobile")})),t._instance.__defineGetter__("mobile",(function(){return!t._instance.desktop&&!t._instance.tablet})),t._deviceReadyCallback(),this._serviceLocator=h.ServiceLocator.instance(),this._mvc=this._serviceLocator.get("MVC"),this._settings=this._serviceLocator.get("Settings"),this._currentOrientation=this.getOrientation()},t.pixiInitialized=function(){this.hammer=Hammer(document.documentElement),this.hammer.on("pinch",this.preventDefaultEvent.bind(this)),this.hammer.on("pan",this.preventDefaultEvent.bind(this)),this.hammer.on("tap",this.preventDefaultEvent.bind(this)),this.hammer.on("doubletap",this.preventDefaultEvent.bind(this)),this.hammer.on("rotate",this.preventDefaultEvent.bind(this)),this.hammer.on("swipe",this.preventDefaultEvent.bind(this)),this.hammer.on("touchmove",this.preventDefaultEvent.bind(this)),this.htmlElement=$("html"),this.bodyElement=$("body"),window.Hammer.plugins.fakeMultitouch(),t.$_swipeFullscreenOverlay=$("#swipe_overlay"),t._swipeFullscreenOverlay=t.$_swipeFullscreenOverlay[0],t.$_swipeFullscreenContainer=$("#swipe_container"),t._swipeFullscreenContainer=t.$_swipeFullscreenContainer[0],(t._instance.mobile||t._instance.tablet)&&(this.EVENT_MOUSE_DOWN_TYPE="touchstart",this.EVENT_MOUSE_UP_TYPE="touchend"),t._instance.mobile&&!t._instance.tablet||t._instance.tablet&&!0===t.forceMobileOnTablet?(t.CLASS_INDEX=t.CLASS_INDEX_MOBILE,this._currentOrientation=this.getOrientation(),t._instance.tablet&&!0===t.forceMobileOnTablet?(this.addOrientationChangeEvent(),t.$_swipeFullscreenOverlay.remove(),t.$_swipeFullscreenContainer.remove(),t._instance.__defineGetter__("mobile",(function(){return!0}))):(this.addFullScreenEvents(),this.addEventsForSwipe(),this.addOrientationChangeEvent()),document.body.style.backgroundImage="./../background/BackgroundWideBlur.jpg"):location.search.indexOf("channelautodetection=OFF")>0&&location.search.indexOf("gametype=mini")>0?(t.CLASS_INDEX=t.CLASS_INDEX_MINIGAME,this._currentOrientation=c.HardwareEventNames.ORIENTATION_PORTRAIT,t.minigames=!0,t._instance.__defineGetter__("minigame",(function(){return!0})),t.$_swipeFullscreenOverlay.remove(),t.$_swipeFullscreenContainer.remove(),u.Log.log("Device.onReady MINI-GAME")):(this.addFullScreenEvents(),t.$_swipeFullscreenOverlay.remove(),t.$_swipeFullscreenContainer.remove(),t.CLASS_INDEX=t.CLASS_INDEX_DESKTOP),this.addResizeEvent(),this.resetScroll(),this.addVisibilityEvent(),t._instance.android?this.throttleDelay=200:t._instance.iOS&&(this.throttleDelay=300)},t.handleTouchEvents=function(){t._instance.mobile&&!t._instance.tablet&&c.HardwareEvents.hookTouchEvents(),t._instance.tablet&&c.HardwareEvents.hookTouchEvents()},t.preventDefaultEvent=function(t){this._mvc.sendGlobalNotification(s.Notifications.Global.USER_ACTION_ANNOUNCE),this.isMobileFullscreen()&&t.preventDefault()},t.isLandscape=function(){var t=!1;return o.isNil(document)||o.isNil(document.documentElement)||(t=document.documentElement.clientWidth>document.documentElement.clientHeight),t},t.isPortrait=function(){return!t.isLandscape()},t.isIPhoneX=function(){return t._instance.mobile&&t._instance.iOS&&(window.devicePixelRatio*window.screen.availHeight==828||window.devicePixelRatio*window.screen.availHeight==1125||window.devicePixelRatio*window.screen.availHeight==1624||window.devicePixelRatio*window.screen.availHeight==1792||window.devicePixelRatio*window.screen.availHeight==2436||window.devicePixelRatio*window.screen.availHeight==2688)},t.announceDeviceOrientationChanged=function(e){var i=this.getOrientation();i!=this._currentOrientation&&(this.alignScreen(),this._currentOrientation=i,this._mvc.sendGlobalNotification(s.Notifications.Global.DEVICE_ORIENTATION_CHANGED,this._currentOrientation,!0)),t.callDeviceOrientationDictionary()},t.alignScreen=function(){t.instance().mobile&&(o.isNil(a.SceneManager.layerContainerFull)||(a.SceneManager.layerContainerFull.style.width=this.getGameClientWidth(!0),a.SceneManager.layerContainerFull.style.height=this.getGameClientHeight(!1)+1+"px"),a.SceneManager.layerContainer.style.width=this.getGameClientWidth(!0),a.SceneManager.layerContainer.style.height=this.getGameClientHeight(!0))},t.onResize=function(){var t=this;this.resizePromise().then((function(){t.screenResizePromise().then((function(){t.announceDeviceOrientationChanged()}))}))},t.goFullScreenWithReset=function(t){this.goFullScreen(t),this._mvc.sendGlobalNotification(s.Notifications.Sound.PLAY_SOUND,{soundName:""}),this._mvc.sendGlobalNotification(s.Notifications.Global.USER_ACTION_ANNOUNCE)},t.goFullScreen=function(e){if(!t._instance.desktop&&!t._instance.tablet&&this.ACTIVATE_AUTO_FULLSCREEN){if("false"==this._settings.getValue("allowFullScreen"))return void this.hideSwipeFullscreen(e);this.autoFullscreenEnter()&&!o.isNil(e)?this.requestFullscreen():this.canUseSwipe()&&this.manageSwipeFullscreen(e)}},t.isMobileFullscreen=function(){var e=!1;return t._instance.mobile&&!t._instance.tablet?(t.instance().android&&this.isFullScreen&&(e=!0),t.instance().iOS&&(this.needToShowSwipe||(e=!0)),t.instance().chromeMobileOS&&(this.needToShowSwipe||(e=!0)),(t.instance().firefoxMobileOS||t.instance().firefox)&&(e=!0)):e=!0,"false"==this._settings.getValue("allowFullScreen")&&(e=!0),e},t.resetScroll=function(){0===window.scrollY&&0===window.scrollX||window.scrollTo(0,0)},t.getGameClientHeight=function(e){var i;return void 0===e&&(e=!1),i=t.instance().iOS?window.innerHeight:document.documentElement.clientHeight,e&&(o.isString(i)||(i+="px")),i},t.getGameClientWidth=function(e){var i;return void 0===e&&(e=!1),i=t.instance().iOS?window.innerWidth:document.documentElement.clientWidth,e&&(o.isString(i)||(i+="px")),i},t.addResizeListener=function(e,i){t.resizeDictionary[e]=i},t.callResizeDictionary=function(){o.each(t.resizeDictionary,(function(t){t.call(null)}))},t.addDeviceOrientationListener=function(e,i){t.deviceOrientationDictionary[e]=i},t.callDeviceOrientationDictionary=function(){o.each(t.deviceOrientationDictionary,(function(t){t.call(null)}))},t.deviceLevel=function(){return o.isNil(t._deviceLevel)&&(PerformanceDetector.Core.device.isDesktop||PerformanceDetector.Core.performanceLevel.performance===PerformanceDetector.Level.HIGH?t._deviceLevel=n.good:t._deviceLevel=n.obsolete,o.isNil(t.FORCED_DEVICE_LEVEL)||(t._deviceLevel=t.FORCED_DEVICE_LEVEL)),t._deviceLevel},t.touchEvent=function(t){this.resetScroll(),("touchstart"==t.type||"touchend"==t.type)&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.goFullScreen(t):this.isMobileFullscreen()||this.goFullScreen(t)},t.addOrientationChangeEvent=function(){},t.getOrientation=function(){var e;return t._instance.iOS?e=window.orientation:t._instance.android&&270==(e=screen.orientation.angle)&&(e=-90),o.isNil(e)&&(e=window.screen.availHeight<window.screen.availWidth?90:180),90==Math.abs(e)?c.HardwareEventNames.ORIENTATION_LANDSCAPE:c.HardwareEventNames.ORIENTATION_PORTRAIT},t.addResizeEvent=function(){var e;e=t.instance().desktop?new l.HardwareEventVO(c.HardwareEventNames.ON_RESIZE,o.debounce(this.onResize.bind(this),2*this.throttleDelay)):new l.HardwareEventVO(c.HardwareEventNames.ON_RESIZE,this.onResize.bind(this)),this.gameObserver=new MutationObserver(t.mutationHandler),c.HardwareEvents.instance().inject(e)},t.resizePromise=function(){var e=this;return new Promise((function(i,n){requestAnimationFrame((function(){e.resetScroll(),t._instance.mobile&&!t._instance.tablet&&(t.gameObserver.observe(a.SceneManager.renderer.view,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),e.currentWidth=e.getGameClientWidth(!0)),e._mvc.sendGlobalNotification(s.Notifications.Global.DEVICE_SCREEN_RESIZING,null),i()}))}))},t.screenResizePromise=function(){var t=this;return new Promise((function(e,i){requestAnimationFrame((function(){t.alignScreen(),t._firstTimeFullScreen?(t.goFullScreenWithReset(),t._firstTimeFullScreen=!1):t.goFullScreen(),e()}))}))},t.mutationHandler=function(e){e.forEach((function(e){var i=new RegExp("width: ([a-zA-z0-9%]+);").exec(e.oldValue);o.isNil(i)||o.isNil(i)||(window.innerHeight!=window.innerWidth?t.isLandscape()?i[1]==parseFloat(t.currentWidth)-2*a.SceneManager.X_SCENE_ALIGNMENT_OFFSET+"px"&&t.sendScreenSize():i[1]==t.currentWidth&&t.sendScreenSize():t.currentWidth==document.documentElement.clientWidth+"px"&&(t.gameObserver.disconnect(),t._mvc.sendGlobalNotification(s.Notifications.Global.DEVICE_SCREEN_RESIZED,null,!0)))}))},t.sendScreenSize=function(){t.gameObserver.disconnect(),t._mvc.sendGlobalNotification(s.Notifications.Global.DEVICE_SCREEN_RESIZED,null,!0)},t.addVisibilityEvent=function(){var t;void 0!==document.hidden?(this.PAGE_HIDDEN_STRING="hidden",t="visibilitychange"):void 0!==document.msHidden?(this.PAGE_HIDDEN_STRING="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(this.PAGE_HIDDEN_STRING="webkitHidden",t="webkitvisibilitychange"),document.addEventListener(t,this.onVisibilityStatusChanged.bind(this),!1)},t.onVisibilityStatusChanged=function(){this._isPageVisible=!document[this.PAGE_HIDDEN_STRING],this._mvc.sendGlobalNotification(s.Notifications.Global.PAGE_VISIBILITY_CHANGED,this._isPageVisible)},t.addFullScreenEvents=function(){var t=this,e=r.FullscreenEventsUtil.fsChangeEvents();o.each(e,(function(e){t.hammer.on(e,t.onFullscreenChange.bind(t))})),this.goFllScreenWithResetFunction=o.throttle(this.goFullScreenWithReset.bind(this),500)},t.addEventsForSwipe=function(){var e=o.debounce(this.touchEvent.bind(this),this.throttleDelay);document.addEventListener(this.EVENT_MOUSE_UP_TYPE,e),t.instance().iOS&&document.addEventListener(this.EVENT_MOUSE_DOWN_TYPE,e)},t.onFullscreenChange=function(){this.isFullScreen=this.isFullscreenModeEntered(),t._instance.desktop&&this._mvc.sendGlobalNotification(s.Notifications.Global.FULL_SCREEN_CHANGED,{isFullScreen:this.isFullScreen})},t.isFullscreenModeEntered=function(){var t=r.FullscreenEventsUtil.fsElements(),e=!1;return o.each(t,(function(t){document[t]&&(e=!0)})),e},t.isFullscreenModeAvailable=function(){var t=r.FullscreenEventsUtil.fsRequestEvents(),e=!1;return o.each(t,(function(t){document.body[t]&&(e=!0)})),e},t.requestFullscreen=function(){var t=r.FullscreenEventsUtil.fsRequestEvents();o.each(t,(function(t){o.isFunction(document.body[t])&&(console.log("requestFullscreen"),document.body[t]())}))},t.exitFullscreen=function(){var t=r.FullscreenEventsUtil.fsExitEvents();o.each(t,(function(t){o.isFunction(document.body[t])&&document.body[t]()}))},t.cancelFullScreen=function(){var t=r.FullscreenEventsUtil.fsCancelEvents();o.each(t,(function(t){document.body[t]&&document.body[t]()}))},t.autoFullscreenEnter=function(){var e=!1;return this.ACTIVATE_AUTO_FULLSCREEN&&t._instance.mobile&&this.isFullscreenModeAvailable()&&!this.isFullScreen&&(e=!0,this.alignScreen()),e},t.hideSwipeFullscreen=function(e){this.swipeVisible&&(o.isNil(e)||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),t._swipeFullscreenOverlay.style.visibility="hidden",t._swipeFullscreenContainer.style.visibility="hidden",document.body.parentElement.style.overflow="hidden",document.body.style.overflow="hidden",this.swipeVisible=!1,this._mvc.sendGlobalNotification(s.Notifications.Global.SWIPE_FULLSCREEN_EXIT),this._mvc.sendGlobalNotification(s.Notifications.SlotLogic.RESUME_END_GAME_DECISION))},t.showSwipeFullscreen=function(){this.swipeVisible||(this.resetScroll(),t._swipeFullscreenOverlay.style.visibility="visible",t._swipeFullscreenContainer.style.visibility="visible",document.body.parentElement.style.overflow="scroll",document.body.style.overflow="scroll",this.swipeVisible=!0,this._mvc.sendGlobalNotification(s.Notifications.Global.SWIPE_FULLSCREEN_ENTER),this._mvc.sendGlobalNotification(s.Notifications.SlotLogic.PAUSE_END_GAME_DECISION))},t.manageSwipeFullscreen=function(t){this.ACTIVATE_AUTO_FULLSCREEN&&(this.needToShowSwipe?this.showSwipeFullscreen():this.hideSwipeFullscreen(t),this.resetScroll())},t.canUseSwipe=function(){return!(navigator.userAgent.indexOf("YaBrowser")>-1||navigator.userAgent.indexOf("QQBrowser")>-1||navigator.userAgent.indexOf("UCBrowser")>-1||navigator.userAgent.indexOf("Opera")>-1||navigator.userAgent.indexOf("Puffin")>-1||navigator.userAgent.indexOf("Qihoo")>-1)},t.CLASS_INDEX_DESKTOP=0,t.CLASS_INDEX_MOBILE=1,t.CLASS_INDEX_MINIGAME=2,t.CLASS_INDEX=-1,t.ASSET_PATH_BASE="assets/",t.ASSET_PATH_UI="_ui/",t.ASSET_PATH_GLOBAL="graphicsSprite",t.ASSET_PATH_GLOBAL_MOBILE="graphicsSprite/mobile",t.ASSET_PATH_GLOBAL_MINI="graphicsSprite/mini",t.ASSET_PATH_GLOBAL_TABLET="graphicsSprite/tablet",t.ASSET_PATH_ANIMATIONS_SPINE="animations/spine",t.ASSET_PATH_GLOBAL_SCENE="graphicsSprite/sceneAssets",t.ASSET_PATH_GLOBAL_SCENE_MOBILE="graphicsSprite/sceneAssets/mobile",t.ASSET_PATH_GLOBAL_SCENE_MINI="graphicsSprite/sceneAssets/mini",t.ASSET_PATH_GLOBAL_SCENE_TABLET="graphicsSprite/sceneAssets/tablet",t.ASSET_ICONS="graphicsSVG",t.ASSET_SOUND="sounds",t.ASSET_BACKGROUND="background",t.LAYOUT_PATH_DESKTOP="layouts_desktop",t.LAYOUT_PATH_MOBILE="layouts_mobile",t.LAYOUT_PATH_MINIGAME="layouts_minigame",t.PARAMS_FORCE_LEVEL="forceDeviceLevel=",t.LAYOUT_PATH_DEVICE=[t.LAYOUT_PATH_DESKTOP,t.LAYOUT_PATH_MOBILE,t.LAYOUT_PATH_MINIGAME],t.forceMobileOnTablet=!1,t.EVENT_MOUSE_UP_TYPE="mouseup",t.EVENT_MOUSE_DOWN_TYPE="mousedown",t.ACTIVATE_AUTO_FULLSCREEN=!1,t.deviceOrientationDictionary={},t.resizeDictionary={},t._firstTimeFullScreen=!0,t.throttleDelay=400,t.isFullScreen=!1,t.swipeVisible=!1,t._isPageVisible=!0,t}();e.Device=p,function(t){t[t.obsolete=0]="obsolete",t[t.passable=1]="passable",t[t.good=2]="good",t[t.unavailable=3]="unavailable"}(n=e.DeviceLevel||(e.DeviceLevel={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.START="start",t.END="end",t.PRELOADER="preloader",t.INITIAL="initial",t.INTERRUPTED="interrupted",t.BEGIN_GAME="beginGame",t.DEAL_FIRST_CARDS="dealFirstCards",t.DEAL_CARDS="dealCards",t.DEAL_CARDS_DECISION="dealCardsDecision",t.CURRENT_HAND="currentHand",t.RESTORE_CURRENT_HAND="restoreCurrentHand",t.CURRENT_HAND_ENABLE_UI="currentHandEnableUI",t.OFFER_INSURANCE_OPTION="OFFER_INSURANCE_OPTION",t.OFFER_EVEN_MONEY_OPTION="OFFER_EVEN_MONEY_OPTION",t.WINNINGS="win",t.WINNINGS_ANIMATIONS="winning_animations",t.IN_GAME_WARNINGS_MESSAGE="inGameWarningMessage",t.END_GAME="endGame",t.END_GAME_PREPARE="endGamePreparee",t.DOUBLE_WIN="doubleWin",t.PENDING_WIN="pendingWin",t.WARNING="warning",t.ERROR="error",t.DESTROY="destroy",t.REROUTE_GAME="rerouteGame",t.REROUTE_GAME_PREPARE="rerouteGamePrepare",t.WAIT_FOR_NEXT_ACTION="waitForNextAction",t.END_GAME_SHOW_WINNINGS="endGameShowWinnings",t.END_GAME_DECISION="endGameDecision",t.END_GAME_ENABLE_UI="endGameEnableUi",t.AUTO_PLAY_BEGIN_GAME="autoBeginGame",t.AUTO_PLAY_END_GAME_ENABLE_UI="autoEndGameEnableUI",t.START_FREE_SPINS="startFreeSpins",t.SHOW_EXTRA_FREE_SPIN_POP_UP="showExtraFreeSpinPopUp",t.BEGIN_FREE_SPIN_GAME="beginFreeSpinGame",t.END_FREE_SPINS="endFreeSpins",t.FREE_SPINS_END_GAME_ENABLE_UI="freeEndGameEnableUI",t.FREE_ROUNDS_START="startFreeRounds",t.FREE_ROUNDS_END="endFreeRounds",t.FREE_ROUNDS_BEGIN_GAME="freeRoundsBeginGame",t.FREE_ROUNDS_END_GAME_ENABLE_UI="freeRoundsEndGameEnableUI",t.BONUS_ROUND="bonusRound",t.BONUS_CHOICE="bonusChoice",t.BONUS_WIN="bonusWin",t.INTRO_VIDEO="introVideo",t.INTRO_ANIMATIONS="introAnimations",t.INTRO_FEATURES="introFeatures",t.INTRO_DECISION="introDecision",t.EXTENDED_WILD="extendedWild",t.COPY_WILD="copyWild",t.STICKY_SYMBOL="stickySymbol",t.COPY_SYMBOL="copySymbol",t.FEATURES="features",t.PROGRESSIVE="progressive",t.BEGIN_RESPIN_GAME="beginRespinGame",t.START_RESPINS="startRespins",t.END_RESPINS="endRespins",t.RESPIN_END_GAME_ENABLE_UI="respinEndGameEnableUI",t.GMAPI_RESPONSE="gmapiResponse",t.RECEIVE_STRIPS="strips",t.REALITY_CHECK="realityCheck",t}();e.States=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.debug=function(e){t.disableConsole||console.debug("%c"+e,"color:#660000")},t.debugch=function(e,i){t.disableConsole||console.debug("%c"+e+" : "+i,"color:#660000")},t.error=function(e){t.disableConsole||console.error("%c"+e,"color:#DD0000")},t.errorch=function(e,i){t.disableConsole||console.error("%c"+e+" : "+i,"color:#DD0000")},t.info=function(e){t.disableConsole||console.info("%c"+e,"color: #44A044")},t.infoch=function(e,i){t.disableConsole||console.info("%c"+e+" : "+i,"color:#44A044")},t.warning=function(e){t.disableConsole||console.warn("%c"+e,"color:#ff843d")},t.warningch=function(e,i){t.disableConsole||console.warn("%c"+e+" : "+i,"color:#ff843d")},t.log=function(e){t.disableConsole||console.log(e)},t.logch=function(e,i){t.disableConsole||console.log(e+" : "+i)},t.forceLogConsolech=function(t,e){console.log("%c"+t+" : "+e,"color:#44A044")},t.disableConsole=!0,t}();e.Log=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.REGISTER_USER_INTERFACE_BEHAVIOR="ui_notification_register_user_interface_behaviour",t.REGISTER_USER_INTERFACE_ACTIONS="ui_notification_register_user_interface_actions",t.ADD_USER_ACTIONS="ui_notification_add_user_actions",t.USER_ACTION_TRIGGERED="ui_notification_handel_user_action",t.ENABLE_USER_INTERFACE_BUTTONS="ui_notification_enable_user_interface_buttons",t.UPDATE_USER_INTERFACE_BUTTONS="ui_notification_update_user_interface_buttons",t.ACTIVATE_USER_SHORTCUT="ui_notification_activate_user_shortcut",t.VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION="ui_verify_and_add_button_to_user_interaction",t}();e.UINotifications=n;var o=function(){function t(){}return t.USER_INTERFACE_ACTIONS_PROXY="ui_proxies_user_interface_actions",t}();e.UIProxies=o;var s=function(){function t(){}return t.SPIN="uiSpinButton",t.STOP_SPIN="uiStopSpinButton",t.SKIP="uiSkipButton",t.COIN_VALUE_PLUS="uiCoinValuePlusButton",t.COIN_VALUE_MINUS="uiCoinValueMinusButton",t.COIN_VALUE_BUTTON="uiCoinValueButton",t.PAY_TABLE="uiPaytableButton",t.AUTO_PLAY="uiAutoPlayButton",t.STOP_AUTO_PLAY="uiStopAutoPlayButton",t.SETTINGS="uiSettingsButton",t.MINI_MENU="uiMiniMenuButton",t}();e.UIButtonsNames=s;var a=function(){function t(){}return t.SPIN="ui_action_spin",t.STOP_SPIN="ui_action_stop_spin",t.BEGIN_GAME="ui_action_begin_game",t.BEGIN_GAME_AT_RESTORE="ui_action_begin_game_at_restore",t.END_GAME_ENABLE_UI_WIN="ui_action_end_game_enable_ui_win",t.END_GAME_ENABLE_UI_NO_WIN="ui_action_end_game_enable_ui_no_win",t.INITIAL="ui_action_initial",t.BONUS_ROUND="ui_action_bonus_round",t.BONUS_CHOICE="ui_action_bonus_choice",t.SKIP="ui_action_skip",t.HIDE_PAY_TABLE="ui_action_hide_pay_table",t.SHOW_PAY_TABLE="ui_action_show_pay_table",t.START_AUTO_PLAY="ui_action_start_auto_play",t.STOP_AUTO_PLAY="ui_action_stop_auto_play",t.COMPLETE_AUTO_PLAY="ui_action_complete_auto_play",t.WHEELS_COMPLETE="ui_action_wheels_complete",t.AUTO_END_GAME_ENABLE_UI="ui_action_auto_end_game_enableUI",t.RE_SPIN="ui_action_re_spin",t.PLUS_AUTO_PLAY_BUTTON="ui_action_increase_auto_play_value",t.MINUS_AUTO_PLAY_BUTTON="ui_action_decrease_auto_play_value",t.BET_BUTTONS="ui_action_bet_buttons",t.AUTO_PLAY_MIN="ui_action_auto_play_min",t.AUTO_PLAY_MAX="ui_action_auto_play_max_action",t.ATM_SCREENSHOT="ui_action_atm_screenshot_action",t.SHOW_MENU_MOBILE="ui_action_show_menu_mobile",t.HIDE_MENU_MOBILE="ui_action_hide_menu_mobile",t.FREE_ROUNDS_START="ui_action_free_rounds_start_action",t.FREE_ROUNDS_END_GAME_ENABLE_UI_WIN="ui_action_free_rounds_win_action",t.FREE_ROUNDS_END_GAME_ENABLE_UI_NO_WIN="ui_action_free_rounds_no_win_action",t.FREE_ROUNDS_FINISHED="ui_action_free_rounds_finish_action",t.ENABLE_ALL_BUTTONS="ui_action_enable_all_buttons",t.DISABLE_ALL_BUTTONS="ui_action_disable_all_buttons",t.SHOW_CELEBRATION="ui_action_show_celebration",t.SKIP_CELEBRATION="ui_action_skip_celebration",t.CLICK_ON_CATCHER="ui_action_click_on_catcher",t}();e.UpdateUIAction=a;var r=function(){function t(){}return t.USER_ACTION="ui_user_action",t.CHANGE_COIN_VALUE="ui_change_coin_value",t.CHANGE_COIN="ui_change_coin",t.SET_COIN_VALUES_LIST="ui_set_coin_values_list",t.SHOW_COIN_VALUES_LIST="ui_show_coin_values_list",t.HIDE_COIN_VALUES_LIST="ui_hide_coin_values_list",t.GET_CURRENT_COIN_VALUE="ui_get_current_coin_value",t.DRAW_COMPONENT_MASK="ui_draw_component_mask",t.SHOW_COMPONENT_MASK="ui_show_component_mask",t.HIDE_COMPONENT_MASK="ui_hide_component_mask",t.SEND_LABEL_TO_INCREMENT="ui_send_label_to_increment",t.SEND_LABEL_TO_INCREMENT_UPDATE="ui_send_label_to_increment_update",t.REMOVE_LABEL_FROM_INCREMENT="ui_remove_label_to_increment",t.REMOVE_LABEL_FROM_INCREMENT_UPDATE="ui_remove_label_to_increment_update",t.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT="ui_add_on_complete_function_to_increment",t.REMOVE_ON_COMPLETE_FUNCTION_FROM_INCREMENT="ui_remove_on_complete_function_to_increment",t.ADD_LABEL_TO_CLOCK="ui_add_label_to_clock",t.ADD_LABELS_TO_UPDATE_ON_STRIP="ui_add_labels_to_update_on_strip",t}();e.UIActionsNames=r;var l=function(){function t(){}return t.MOBILE_MINI_MENU="mobile_mini_menu",t.MOBILE_FULL_MENU="mobile_full_menu",t}();e.UIMaskNames=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return Object.defineProperty(t,"markers",{get:function(){return this.sceneTemplate.markers},enumerable:!0,configurable:!0}),Object.defineProperty(t,"scenes",{get:function(){return this.sceneTemplate.scenes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentScene",{get:function(){return this.sceneTemplate.currentScene},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentInput",{get:function(){return this.sceneTemplate.currentInput},enumerable:!0,configurable:!0}),Object.defineProperty(t,"renderer",{get:function(){return this.sceneTemplate.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ratio",{get:function(){return this.sceneTemplate.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fixRatio",{get:function(){return this.sceneTemplate.fixRatio},enumerable:!0,configurable:!0}),Object.defineProperty(t,"layerContainer",{get:function(){return this.sceneTemplate.layerContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"$layerContainer",{get:function(){return this.sceneTemplate.$layerContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"layerContainerFull",{get:function(){return this.sceneTemplate.layerContainerFull},enumerable:!0,configurable:!0}),Object.defineProperty(t,"$layerContainerFull",{get:function(){return this.sceneTemplate.$layerContainerFull},enumerable:!0,configurable:!0}),Object.defineProperty(t,"head",{get:function(){return this.sceneTemplate.head},enumerable:!0,configurable:!0}),Object.defineProperty(t,"X_SCENE_ALIGNMENT_OFFSET",{get:function(){return this.sceneTemplate.X_SCENE_ALIGNMENT_OFFSET},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Y_SCENE_ALIGNMENT_OFFSET",{get:function(){return this.sceneTemplate.Y_SCENE_ALIGNMENT_OFFSET},enumerable:!0,configurable:!0}),Object.defineProperty(t,"$head",{get:function(){return this.sceneTemplate.$head},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_HEIGHT",{get:function(){return this.sceneTemplate.SCENE_HEIGHT},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ACTIVE_RATIO",{get:function(){return this.sceneTemplate.ACTIVE_RATIO},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DESKTOP_RATIO",{set:function(t){this.sceneTemplate.DESKTOP_RATIO=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MOBILE_PORTRAIT_RATIO",{get:function(){return this.sceneTemplate.MOBILE_PORTRAIT_RATIO},set:function(t){this.sceneTemplate.MOBILE_PORTRAIT_RATIO=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MOBILE_LANDSCAPE_RATIO",{set:function(t){this.sceneTemplate.MOBILE_LANDSCAPE_RATIO=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MINI_RATIO",{set:function(t){this.sceneTemplate.MINI_RATIO=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_WIDTH",{get:function(){return this.sceneTemplate.SCENE_WIDTH},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_TOP",{get:function(){return this.sceneTemplate.SCENE_TOP},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_SCALE_OFFSET",{get:function(){return this.sceneTemplate.SCENE_SCALE_OFFSET},set:function(t){this.sceneTemplate.SCENE_SCALE_OFFSET=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_X_OFFSET",{get:function(){return this.sceneTemplate.SCENE_X_OFFSET},set:function(t){this.sceneTemplate.SCENE_X_OFFSET=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SCENE_Y_OFFSET",{get:function(){return this.sceneTemplate.SCENE_Y_OFFSET},set:function(t){this.sceneTemplate.SCENE_Y_OFFSET=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EXTRA_POSITIONS_REALIGNMENT",{get:function(){return this.sceneTemplate.EXTRA_POSITIONS_REALIGNMENT},set:function(t){this.sceneTemplate.EXTRA_POSITIONS_REALIGNMENT=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"resizeAuthorized",{get:function(){return this.sceneTemplate.resizeAuthorized},enumerable:!0,configurable:!0}),Object.defineProperty(t,"positionTransformed",{get:function(){return this.sceneTemplate.positionTransformed},enumerable:!0,configurable:!0}),Object.defineProperty(t,"resizeEventCallback",{get:function(){return this.sceneTemplate.resizeEventCallback},enumerable:!0,configurable:!0}),Object.defineProperty(t,"extraScene",{get:function(){return this.sceneTemplate.extraScene},enumerable:!0,configurable:!0}),Object.defineProperty(t,"extraRenderer",{get:function(){return this.sceneTemplate.extraRenderer},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ticker",{get:function(){return this.sceneTemplate.ticker},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getScreenOrigin",{get:function(){return this.sceneTemplate.getScreenOrigin()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getScreenXOrigin",{get:function(){return this.sceneTemplate.getScreenXOrigin()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getScreenYOrigin",{get:function(){return this.sceneTemplate.getScreenYOrigin()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getScreenWidth",{get:function(){return this.sceneTemplate.getScreenWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getHMargin",{get:function(){return this.sceneTemplate.getHMargin()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getScreenHeight",{get:function(){return this.sceneTemplate.getScreenHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getVMargin",{get:function(){return this.sceneTemplate.getVMargin()},enumerable:!0,configurable:!0}),t.setTemplate=function(t){var e=new t.className;this.sceneTemplate=e,n.isNil(t.sceneProps)||this.sceneTemplate.addSceneProps(t.sceneProps)},t.create=function(t){void 0===t&&(t=!1),this.sceneTemplate.create(t)},t.startRenderingLoop=function(){this.sceneTemplate.startRenderingLoop()},t.resizeEvent=function(t){this.sceneTemplate.resizeEvent(t)},t.destroy=function(){this.sceneTemplate&&this.sceneTemplate.destroy()},Object.defineProperty(t,"isCanvas",{get:function(){return this.sceneTemplate.isCanvas()},enumerable:!0,configurable:!0}),t.goToScene=function(t){return this.sceneTemplate.goToScene(t)},t.createScene=function(t,e){return this.sceneTemplate.createScene(t,e)},t.loopOthers=function(t,e){this.sceneTemplate.loopOthers(t,e)},t.createMarkers=function(){this.sceneTemplate.createMarkers()},t.getMirroredPositionOfGlobalObject=function(e,i){var n=new PIXI.Point(0,0),o=e.toGlobal(n),s=new PIXI.Point(-o.x/t.currentScene.scale.x,-o.y/t.currentScene.scale.y),a=i.toGlobal(s);return new PIXI.Point(e.x+1*a.x/e.worldTransform.a,e.y+1*a.y/e.worldTransform.d)},t}();e.SceneManager=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.MEGAWAYS_NAME="megaways",t.MEGAWAYS_WHEELS_MODULE="megaways_wheels_module",t.MEGAWAYS_PROXY="megaways_proxy",t.MEGAWAYS_WHEELS_VIEW="megaways_wheels_view",t.MEGAWAYS_WHEELS="megaways_wheels",t.MEGAWAYS_WHEELS_SETTING="megaways_wheels_settings",t.MEGAWAYS_WHEELS_SPIN_NEAR_MISS="megaways_wheels_spin_near_miss",t.MEGAWAYS_WHEELS_CASCADE_NEAR_MISS="megaways_wheels_cascade_near_miss",t.MEGAWAYS_WHEELS_ANNOUNCE="megaways_wheels_announce",t.MEGAWAYS_WHEELS_ANTICIPATION="megaways_wheels_anticipation",t.MEGAWAYS_SYMBOL_SUFFIX_TEXTURE="_4",t.GAME_CONFIG="GameConfig",t.WHEEL_DECORATORS="WHEEL_DECORATORS",t.WHEELS_DECORATORS="WHEELS_DECORATORS",t.TWEEN_WHEEL_DECORATOR="tweenWheelDecorator",t.WHEEL_COLUMNS_DETAILS="WHEEL_COLUMNS_DETAILS",t.WINNINGS_ANIMATIONS_DECORATORS="WINNINGS_ANIMATIONS_DECORATORS",t.WINNINGS_ANIMATIONS_SETTINGS="WINNINGS_ANIMATIONS_SETTINGS",t.MEGAWAYS_WINNINGS_SETTINGS="MEGAWAYS_WINNINGS_SETTINGS",t.WINNINGS_CASCADE_SETTINGS="WINNINGS_CASCADE_SETTINGS",t.SPINS_CASCADES="spins",t.SPIN_ARRAY_CASCADES="spin",t.SYMBOL_ID="{symbolId}",t.SYMBOL_SIZE="{symbolSize}",t.SYMBOL_REF=t.SYMBOL_ID+"_"+t.SYMBOL_SIZE,t.LINEAR="linear",t.ELASTIC="elastic",t.BOUNCE="bounce",t.BACK="back",t.QUAD="quad",t.CASCADE_OVER_END_GAME_DECISON="cascade_over",t.CASCADE_OVER_STATE="cascade_over_state",t.CASCADE_OVER_STATE_FINISHED="cascade_over_state_finished",t.CASCADES_SUMMARY_STATE="CASCADES_SUMMARY_STATE",t.CASCADE_SUMMARY_END_GAME_DECISION="cascade_summary",t.SKIP_CASCADE_SUMMARY_ACTION="skipCascadeSummaryAction",t}();e.MegawaysNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="validation_types.",t.LAYERS_HTML_PRESENCE=t.NAME+"layer_presence_validation",t.AUTOSPIN_BET_VALIDATION=t.NAME+"autospin_bet_validation",t.FREE_SPINS_RESUME_AUTO_VALIDATION=t.NAME+"free_spins_resume_auto_validation",t.RESPINS_RESUME_AUTO_VALIDATION=t.NAME+"respins_resume_auto_validation",t.LINES_VALIDATION=t.NAME+"lines_validation",t.BET_VALIDATION=t.NAME+"bet_validation",t.SUBSTRACT_BET_VALIDATION=t.NAME+"substract_bet_validation",t.FREE_SPINS_IN_PROGRESS=t.NAME+"free_spins_in_progress",t.RESPINS_IN_PROGRESS=t.NAME+"respins_in_progress",t.RESPINS_ENDED=t.NAME+"respins_ended",t.FREE_ROUNDS_IN_PROGRESS=t.NAME+"free_rounds_in_progress",t.AUTOPLAY_IN_PROGRESS=t.NAME+"autoplay_in_progress",t.AUTOPLAY_PAUSED=t.NAME+"autoplay_paused",t.SPECIAL_FEATURE_BLOCKS_FREE_ROUNDS=t.NAME+"special_feature_blocks_free_rounds",t.FREE_ROUNDS_PENDING=t.NAME+"free_rounds_pending",t.REALITY_CHECK_VALIDATION=t.NAME+"reality_check_validation",t.REALITY_CHECK_FREE_BET_VALIDATION=t.NAME+"reality_check_free_bet_validation",t.GMAPI_POPUP_VALIDATION=t.NAME+"GMAPI_RESPONSE_VALIDATION",t.BALANCE_CHECK_VALIDATION=t.NAME+"BALANCE_CHECK_VALIDATION",t.TURBO_MODE_ANNOUNCE_VALIDATION=t.NAME+"turbo_mode_announce_validation",t.TURBO_MODE_NEAR_MISS_VALIDATION=t.NAME+"turbo_mode_near_miss_validation",t.STICKY_SYMBOL_IN_PROGRESS=t.NAME+"sticky_symbol_in_progress",t.COPY_WILD_IN_PROGRESS=t.NAME+"copy_wild_in_progress",t.EXTENDED_WILD_IN_PROGRESS=t.NAME+"extended_wild_in_progress",t.BONUS_IN_PROGRESS=t.NAME+"bonus_in_progress",t.SKIP_WELCOME_SOUND=t.NAME+"skip_welcome_sounds",t.ATM_GAMEROUND_ENDED_TO_BE_SEND=t.NAME+"atm_gameround_ended_to_be_send",t.ATM_READY_TO_SPIN=t.NAME+"atm_ready_to_spin",t.ATM_SCREENSHOT_ENABLED=t.NAME+"atm_screenshot_enabled",t.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING=t.NAME+"atm_free_rounds_feature_ended_pending",t.ATM_REDO_SPIN=t.NAME+"atm_redo_spin",t.ATM_AUTOPLAY_ENDED=t.NAME+"atm_autoplay_ended",t.BONUS_SYSTEM_IN_PROGRESS=t.NAME+"bonus_system_in_progress",t.READY_TO_SPIN_VALIDATION=t.NAME+"ready_to_spin_validation",t.ALLOW_TABLE_ZOOM_VALIDATION=t.NAME+"allow_table_zoom_validation",t.SHOW_BACK_TO_GRID_VALIDATION=t.NAME+"back_to_grid_validation",t}();e.ValidationTypes=n;var o=function(){function t(){}return t.NAME="validation_properties.",t.AUTO_SPINS_IN_PROGRESS=t.NAME+"auto_spins_in_progress",t.FREE_ROUNDS_IN_PROGRESS=t.NAME+"free_rounds_in_progress",t.FREE_SPINS_IN_PROGRESS=t.NAME+"free_spins_in_progress",t.RESPINS_IN_PROGRESS=t.NAME+"respins_in_progress",t.FREE_ROUNDS_PENDING=t.NAME+"free_rounds_pending",t.FREE_ROUNDS_WINNINGS_PENDING=t.NAME+"free_rounds_winnings_pending",t.REALITY_CHECK_TIMER=t.NAME+"reality_check_timer",t.REALITY_CHECK_FREE_BET_VALIDATION=t.NAME+"reality_check_free_bet_validation",t.GMAPI_SHOW_POPUP=t.NAME+"GMAPI_SHOW_POPUP",t.BALACE_CHECK_ENABLED=t.NAME+"BALACE_CHECK_ENABLED",t.HTML_PRESENCE=t.NAME+"html_layer_presence",t.TURBO_MODE_ANNOUNCE_ENABLED=t.NAME+"turbo_mode_announce_enabled",t.TURBO_MODE_NEAR_MISS_ENABLED=t.NAME+"turbo_mode_near_miss_enabled",t.TURBO_MODE_INACTIVE=t.NAME+"turbo_mode_inactive",t.STICKY_SYMBOL_IN_PROGRESS=t.NAME+"sticky_symbol_in_progress",t.COPY_WILD_IN_PROGRESS=t.NAME+"copy_wild_in_progress",t.EXTENDED_WILD_IN_PROGRESS=t.NAME+"extended_wild_in_progress",t.BONUS_IN_PROGRESS=t.NAME+"bonus_in_progress",t.ATM_GAMEROUND_ENDED_TO_BE_SEND=t.NAME+"atm_gameround_ended_to_be_send",t.ATM_READY_TO_SPIN=t.NAME+"atm_ready_to_spin",t.ATM_SCREENSHOT_ENABLED=t.NAME+"atm_screenshot_enabled",t.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING=t.NAME+"atm_free_rounds_feature_ended_pending",t.ATM_REDO_SPIN=t.NAME+"atm_redo_spin",t.ATM_AUTOPLAY_ENDED=t.NAME+"atm_autoplay_ended",t.BONUS_SYSTEM_IN_PROGRESS=t.NAME+"bonus_system_in_progress",t.READY_TO_SPIN=t.NAME+"ready_to_spin",t.ALLOW_TABLE_ZOOM=t.NAME+"allow_table_zoom",t.SHOW_BACK_TO_GRID=t.NAME+"show_back_to_grid",t}();e.ValidationProperties=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(57),a=function(){function t(){}return t.NAME="SlotSoundEffectsModule",t.LISTEN_FOR_AMBIANCE_NOTIFICATION=t.NAME+".LISTEN_FOR_AMBIANCE_NOTIFICATION",t}();e.SlotSoundEffectsNotifications=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.WHEEL_SPIN="WHEEL_SPIN",e.WHEEL_STOP="WHEEL_STOP",e.NEAR_MISS="NEAR_MISS",e.NEAR_MISS_STOP="NEAR_MISS_STOP",e.GENERIC_SPIN_CLICK="GENERIC_SPIN_CLICK",e.GENERIC_STOP_CLICK="GENERIC_STOP_CLICK",e.GENERIC_COIN_VALUE_CLICK="GENERIC_COIN_VALUE_CLICK",e.GENERIC_COIN_VALUE_DECREASE_CLICK="GENERIC_COIN_VALUE_DECREASE_CLICK",e.BONUS1_AMBIANCE="BONUS1_AMBIANCE",e.BONUS2_AMBIANCE="BONUS2_AMBIANCE",e.BONUS_WIN="BONUS_WIN",e.BONUS1_CONGRATULATION="BONUS1_CONGRATULATION",e.BONUS2_CONGRATULATION="BONUS2_CONGRATULATION",e.FREESPIN_AMBIANCE="FREESPIN_AMBIANCE",e.FREESPIN_WIN="FREESPIN_WIN",e.FREESPIN_CONGRATULATION="FREESPIN_CONGRATULATION",e.RESPIN_WIN="RESPIN_WIN",e.RESPIN_AMBIANCE="RESPIN_AMBIANCE",e.SCATTER="SCATTER",e.SCATTER_ANNOUNCE="SCATTER_ANNOUNCE",e.EXTENDED_WILD_WIN="EXTENDED_WILD_WIN",e.FIVE_OF_A_KIND="FIVE_OF_A_KIND",e.LOW_WINNING="LOW_WINNING",e.MEDIUM_WINNING="MEDIUM_WINNING",e.HIGH_WINNING="HIGH_WINNING",e.BIG_WIN="BIG_WIN",e.BIG_WIN_VOICE="BIG_WIN_VOICE",e.BIG_WIN_INCREMENT_ENDED="BIG_WIN_INCREMENT_ENDED",e.ULTRA_WIN="ULTRA_WIN",e.ULTRA_WIN_VOICE="ULTRA_WIN",e.FANTASTIC_WIN="FANTASTIC_WIN",e.FANTASTIC_WIN_VOICE="FANTASTIC_WIN_VOICE",e.WHEEL_COMPLETE_WIN="WHEEL_COMPLETE_WIN",e.LOGO="LOGO",e.INTRO_FEATURES="INTRO_FEATURES",e.INTRO_VIDEO="INTRO_VIDEO",e.PROGRESSIVE_START="PROGRESSIVE_START",e.PROGRESSIVE_WIN="PROGRESSIVE_WIN",e.LINE_1="LINE_1",e.LINE_2="LINE_2",e.LINE_3="LINE_3",e.LINE_4="LINE_4",e.LINE_5="LINE_5",e.LINE_6="LINE_6",e.LINE_7="LINE_7",e.LINE_8="LINE_8",e.LINE_9="LINE_9",e.LINE_10="LINE_10",e.LINE_11="LINE_11",e.LINE_12="LINE_12",e.LINE_13="LINE_13",e.LINE_14="LINE_14",e.LINE_15="LINE_15",e.LINE_16="LINE_16",e.LINE_17="LINE_17",e.LINE_18="LINE_18",e.LINE_19="LINE_19",e.LINE_20="LINE_20",e.LINE_21="LINE_21",e.LINE_22="LINE_22",e.LINE_23="LINE_23",e.LINE_24="LINE_24",e.LINE_25="LINE_25",e.LINE_26="LINE_26",e.LINE_27="LINE_27",e.LINE_28="LINE_28",e.LINE_29="LINE_29",e.LINE_30="LINE_30",e.LINE_31="LINE_31",e.LINE_32="LINE_32",e.LINE_33="LINE_33",e.LINE_34="LINE_34",e.LINE_35="LINE_35",e.LINE_36="LINE_36",e.LINE_37="LINE_37",e.LINE_38="LINE_38",e.LINE_39="LINE_39",e.LINE_40="LINE_40",e.LINE_41="LINE_41",e.LINE_42="LINE_42",e.LINE_43="LINE_43",e.LINE_44="LINE_44",e.LINE_45="LINE_45",e.LINE_46="LINE_46",e.LINE_47="LINE_47",e.LINE_48="LINE_48",e.LINE_49="LINE_49",e.LINE_50="LINE_50",e.VOICE="_voice",e}(s.SoundNames);e.SlotSoundNames=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.GET_BALANCE_HOOK="AT_GET_BALANCE_HOOK",t.DISCONNECT_HOOK="AT_DISCONNECT_HOOK",t.CLICK_BUTTON_HOOK="AT_CLICK_BUTTON_HOOK",t.GET_BUTTON_STATE_HOOK="AT_GET_BUTTON_STATE_HOOK",t.GET_GAME_VERSION_DETAILS_HOOK="AT_GET_GAME_VERSION_DETAILS_HOOK",t.RCI_CHOICE_HOOK="AT_RCI_CHOICE_HOOK",t.OPEN_PAGE_COMMAND="AT_OPEN_PAGE_COMMAND",t.CLOSE_PAGE_COMMAND="AT_CLOSE_PAGE_COMMAND",t.SCROLL_PAGE_COMMAND="AT_SCROLL_PAGE_COMMAND",t.NOT_ENOUGH_MONEY_HOOK="AT_NOT_ENOUGH_MONEY_HOOK",t.ENABLE_TURBO_MODE_HOOK="AT_ENABLE_TURBO_MODE_HOOK",t.MANAGE_EXTERNAL_ACTIONS="MANAGE_EXTERNAL_ACTIONS",t}();e.ATNotifications=o;var s=function(){function t(){}return t.onEvent=function(e){t.onPostMessage(e),n.forEach(this.channels,(function(i){window[i]&&(e.delayedCall>0?setTimeout((function(){t.sendEvents(i,e)}),e.delayedCall):t.sendEvents(i,e))}))},t.sendEvents=function(t,e){window[t].call(this,[e.eventName,e.eventDetails])},t.onPostMessage=function(t){!n.isNil(window.parent)&&n.isFunction(window.parent.postMessage)&&window.parent.postMessage({event:t.eventName,eventDetails:JSON.stringify(t.eventDetails)},"*")},t.onWarning=function(t){window.onWarning&&window.onWarning.call(this,[t.warningDetails])},t.onError=function(t){window.onError&&window.onError.call(this,t)},t.onServerData=function(t){window.onServerData&&window.onServerData.call(this,t)},t.onCommandSent=function(t){window.onCommandSent&&window.onCommandSent.call(this,t)},t.channels=[],t}();e.ATCallBack=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setVO=function(t){this.VO=t},e.prototype.getVO=function(){return this.VO},e}(i(128).MVCEntity);e.Proxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){}return t.GAME_LOADING="GAME_LOADING",t.PRELOADER="PRELOADER",t.LOAD_COMPLETE="LOAD_COMPLETE",t.GAME_READY="GAME_READY",t.GAMEROUND_STARTED="GAMEROUND_STARTED",t.GAMEROUND_ENDED="GAMEROUND_ENDED",t.FEATURE_STARTED="FEATURE_STARTED",t.FEATURE_ENDED="FEATURE_ENDED",t.FEATURE_POP_UP_OPEN="FEATURE_POP_UP_OPEN",t.PAGE_OPEN="PAGE_OPEN",t.PAGE_SCROLL="PAGE_SCROLL",t.PAGE_CLOSE="PAGE_CLOSE",t.RCI_START="RCI_START",t.RCI_CHECKPOINT="RCI_CHECKPOINT",t.GAME_CLOSED="GAME_CLOSED",t.BALANCE_TOO_LOW="BALANCE_TOO_LOW",t}();e.ATEventNames=s;var a=function(){function t(){}return t.GAP_ERROR="GAPError",t}();e.ATFeaturePopUpOpenTypes=a;var r=function(t,e,i){void 0===e&&(e=new l),void 0===i&&(i=0),this.eventName=t,this.eventDetails=e,this.delayedCall=i};e.ATOnEventVO=r;var l=function(t){void 0===t&&(t=!0),this.doScreenshot=t};e.ATGenericEvent=l;var c=function(t){void 0===t&&(t=!1),this.doScreenshot=t};e.ATGameroundStarted=c;var u=function(t,e,i){void 0===t&&(t=!1),this.doScreenshot=t,this.balance=e,this.bet=i};e.ATDisplayValues=u;var h=function(t){void 0===t&&(t=!1),this.doScreenshot=t};e.ATGameroundEnded=h;var p=function(t,e){this.featureName=t,this.doScreenshot=e};e.ATOnFeature=p;var d=function(){function t(e,i,n,o,s){void 0===n&&(n=t.TYPE),void 0===o&&(o=!1),void 0===s&&(s=!0),this.id=e,this.button_id=i,this.type=n,this.hasHook=o,this.doScreenshot=s}return t.TYPE="popUp",t.RCI_POPUP="rciPopUp",t.NOT_ENOUGH_MONEY_POPUP="notEnoughMoney",t.NO_MONEY_POPUP="noMoney",t.GAP_POPUP="gapPopUp",t.RCI_CONTINUE_BTN="continue",t.RCI_QUIT_BTN="quit",t.RCI_HISTORY_BTN="history",t.MONEY_PLACE_MIN_BET_BTN="placeMinBet",t.MONEY_CLOSE_NO_MONEY_BTN="closeNoMoneyPopup",t}();e.ATFeaturePopUpOpen=d;var _=function(t,e){this.id=t,this.doScreenshot=e};e.ATPage=_;var f=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0);var o=t.call(this,e,n)||this;return o.scrollable=i,o}return o(e,t),e}(_);e.ATPageOpen=f;var y=function(t){function e(e,i,n){void 0===n&&(n=!0);var o=t.call(this,e,n)||this;return o.scroll=i,o}return o(e,t),e}(_);e.ATPageScroll=y;var m=function(t){function e(e,i){return void 0===i&&(i=!0),t.call(this,e,i)||this}return o(e,t),e}(_);e.ATPageClose=m;var N=function(t,e){void 0===e&&(e=!1),this.startTime=t,this.doScreenshot=e};e.ATRciStart=N;var S=function(){function t(){}return t.GENERIC_WARNING="GENERIC_WARNING",t.SOUND_MISSING="SOUND_MISSING",t}();e.ATWarningNames=S;var g=function(t){void 0===t&&(t=null),this.warningDetails=t};e.ATOnWarningVO=g;var A=function(t,e){this.type=t,this.message=e};e.ATGenericWarning=A;var E=function(t,e,i){void 0===i&&(i=S.SOUND_MISSING),this.message=t,this.additionalData=e,this.type=i};e.ATSoundMissing=E;var I=function(t){this.soundName=t};e.ATSoundMissingAdditional=I;var O=function(){function t(){}return t.ATM_GENERIC_ERROR=300,t.ATM_DISCONNECT=30,t}();e.ATErrorCodes=O;var T=function(){function t(){}return t.CHIP_VALUE_NOT_AVIALABLE="Selected chip value not available",t.HAND_NOT_VALID="Selected hand is not valid",t.BUTTON_NOT_AVAILABLE="Action associated with this button not available at this point: ",t.CHEAT_TOOL_NOT_AVAILABLE="Cards Preset Command: Cheat tool is not permitted on this environment ",t.METHOD_NEEDS_TO_BE_OVERRIDDEN="Method needs to be overridden: ",t}();e.ATErrorMessages=T;var P=function(){function t(){}return t.NO_BET="No bets on the table",t.NOT_ENOUGH_MONEY="Not enough money for this option",t.ZERO_BALANCE="Zero balance",t}();e.ATErrorReasons=P;var b=function(t){this.errorDetails=t};e.ATOnErrorVO=b;var C=function(t,e){void 0===e&&(e=O.ATM_GENERIC_ERROR),this.code=e,this.message=t};e.ATGenericError=C;var v=function(t){void 0===t&&(t=O.ATM_DISCONNECT),this.code=t};e.ATDisconnectError=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),s=i(6),a=i(82),r=i(37),l=PIXI.extras.AnimatedSprite,c=function(){function t(){if(t._instance)throw new Error("TextureUtil class is not to be instantiated. Please use TextureUtil.instance() ");t._instance=this}return t.instance=function(){return t._instance},t.prototype.getTextureFromCache=function(t){var e,i=[t,t+".png","x@0.5_"+t+".png",t+".jpg","x@0.5_"+t+".jpg","x@0.5_"+t,"x@2_"+t+".png",t+".jpg","x@2_"+t+".jpg","x@2_"+t,t+this.licensee];return n.each(i,(function(t){if(e=PIXI.utils.TextureCache[t],!n.isNil(e))return!1})),n.isNil(e)&&(e=PIXI.Texture.EMPTY,s.Log.warning("No texture for "+t+", an empty texture has been created.")),e.requiresUpdate=!1,e.noFrame=!1,e},t.prototype.textureToURL=function(e){if(t.base64pool.hasOwnProperty(e))return t.base64pool[e];var i=this.getTextureFromCache(e),n="";if(i!=PIXI.Texture.EMPTY){var r=o.SceneManager.renderer.generateTexture(new PIXI.Sprite(i),1,1);r.width=i.width,r.height=i.height;var l=o.SceneManager.renderer.extract.base64(r);if("Blob"in window){var c=this.b64toBlob(l,"image/png");n=c?URL.createObjectURL(c):l}else n=l}else{var u=a.SVGUtil.instance().svgToURL(e,!1);""!=u?n=u:s.Log.warningch("Graphics",'Could not retrieve the texture "'+e+'" from the cache, using empty')}return t.base64pool[e]=n,n},t.prototype.b64toBlob=function(t,e){e=e||"";for(var i,n=atob(t.split(",")[1]),o=new ArrayBuffer(n.length),s=new Uint8Array(o),a=0;a<n.length;a++)s[a]=n.charCodeAt(a);try{i=new Blob([o],{type:e})}catch(t){i=!1}return i},t.prototype.createImageFromTexture=function(t){var e=new PIXI.Sprite(this.getTextureFromCache(t));if(!r.MasterLayoutConfig.designToolEnabled){var i=/^x@([\d\.]+).+/.exec(t);if(i){var n=parseFloat(i[1]);e.scale=new PIXI.Point(n,n)}}return e},t.prototype.getAllAnimationFrames=function(t){for(var e=[],i=this.getTextureFromCache(t+"01"),n=1;i!=PIXI.Texture.EMPTY;){e.push(i);var o=++n<10?"0"+n.toString():n.toString();i=this.getTextureFromCache(t+o)}return e},t.prototype.createAnimatedSprite=function(e){var i=t.instance().getAllAnimationFrames(e);i&&0!=i.length||s.Log.error("TextureUtil.createAnimatedSprite()\n AnimatedSprite: "+e+" doesn't have animation's frames");var n=new l(i),o=/^x@([\d\.]+).+/.exec(e);if(o){var a=parseFloat(o[1]);n.scale.x*=a,n.scale.y*=a}return n},t.base64pool={},t}();e.TextureUtil=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(53),l=i(20),c=i(54),u=i(21),h=function(t){function e(e){var i=t.call(this,e)||this;return i.decorators=new Array,i}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.registerBroadcastActions()},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),!a.Device.instance().mobile&&!a.Device.instance().minigame||s.isNil(this.display)||(this.mobileLayoutPortrait=this.findChild(e.MAIN_PORTRAIT),this.mobileLayoutLandscape=this.findChild(e.MAIN_LANDSCAPE),this.mobileLayoutPortrait&&this.mobileLayoutLandscape&&this.switchMobileLayout())},e.prototype.findChild=function(t){return this.findChildByName(this.display,t)},e.prototype.findMultipleChild=function(t){var e=[];return this.mobileLayoutLandscape&&this.mobileLayoutPortrait?(e.push(this.findChildByName(this.mobileLayoutLandscape,t)),e.push(this.findChildByName(this.mobileLayoutPortrait,t))):e.push(this.findChildByName(this.display,t)),e},e.prototype.findChildByName=function(t,e){return r.PixiUtils.findChildByName(t,e)},e.prototype.findComponentMultipleChild=function(t,e){return r.PixiUtils.findComponentMultipleChild(t,e)},e.prototype.autoTranslate=function(){var e=this;t.prototype.autoTranslate.call(this),!0===this.hasAutoTranslate&&s.each(this.display.children,(function(t){e.traverseChild(t)}))},e.prototype.traverseChild=function(t){var e=this,i="";t instanceof u.TextField&&-1==t.name.indexOf("Value")&&null!=(i=this.translations.getValue(t.name))?t.updateLabel(i):t instanceof c.Button&&!s.isNil(t.label)&&null!=(i=this.translations.getValue(t.name))&&!s.isNil(t.label)?t.label.updateLabel(i):s.has(t,"children")&&t.children.length>0&&s.each(t.children,(function(t){e.traverseChild(t)}))},e.prototype.changeComponentsPositions=function(t){var e=this;s.each(t,(function(t){var i=s.find(e.display.children,(function(e){return e.name==t.componentName}));if(i){var n=s.keys(t);s.each(n,(function(e){i[e]=t[e]}))}}))},e.prototype.deviceOrientationChanged=function(t){void 0===t&&(t=null);var e=[];this.componentsPositions&&(e=a.Device.isLandscape()?this.componentsPositions.landscape:this.componentsPositions.portrait,this.changeComponentsPositions(e)),this.switchMobileLayout()},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.switchMobileLayout()},e.prototype.switchMobileLayout=function(){(a.Device.instance().mobile||a.Device.instance().minigame)&&(this.mobileLayoutLandscape&&(this.mobileLayoutLandscape.visible=a.Device.isLandscape()),this.mobileLayoutPortrait&&(this.mobileLayoutPortrait.visible=!a.Device.isLandscape()))},e.prototype.destroy=function(){if(this.display){for(;this.display.children.length>0;)this.display.removeChildAt(0);s.isFunction(this.display.destroy)&&this.display.destroy({children:!0,texture:!0,baseTexture:!0})}t.prototype.destroy.call(this)},e.prototype.initDecorators=function(t){var e=this;s.each(t.decoratorClasses,(function(i,n){var o=new i(l.StringUtil.getName(i),t.decoratorLayers[n]);o.postConstructor(),e.decorators.push(o)}))},e.prototype.injectDecoratorsProperty=function(t,e){void 0===e&&(e=null),s.each(this.decorators,(function(i){i.inject(t,e)}))},e.prototype.registerBroadcastActions=function(){},e.prototype.callBroadcastHandler=function(t,e){this.injectDecoratorsProperty(t,e),s.isNil(this._broadcastActionsHandlers)||s.isNil(this._broadcastActionsHandlers[t])||this._broadcastActionsHandlers[t].call(null,t,e)},e.prototype.addBroadcastActionHandler=function(t,e){this._broadcastActionsHandlers||(this._broadcastActionsHandlers={}),this._broadcastActionsHandlers[t]=e},e.MAIN_LANDSCAPE="Main_landscape",e.MAIN_PORTRAIT="Main_portrait",e}(i(114).AbstractView);e.PixiView=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=function(){function t(){if(this._registry={},!t._instantiating)throw new Error("Service Locator is not allowed to be instantiated!")}return t.prototype.register=function(t,e,i){if(void 0===i&&(i=!1),this.has(t))throw o.Log.debugch("Service Locator","The service with the id: "+t+" is already registered!"),new Error("ServiceLocator.register(): The service with the id: "+t+" is already registered");this._registry[t]={definition:e,isSingleton:i}},t.prototype.get=function(t){if(this.has(t))return this._registry[t].instance},t.prototype.has=function(t){return n.has(this._registry,t)},t.prototype.instantiate=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this.has(t))return this._registry[t].isSingleton?(this._registry[t].instance||(this._registry[t].instance=new(Function.prototype.bind.apply(this._registry[t].definition,[null].concat(e)))),this._registry[t].instance):new(Function.prototype.bind.apply(this._registry[t].definition,[null].concat(e)));throw o.Log.debugch("Service Locator","The id: "+t+" is not registered with the Service Locator, please register before attempting to instantiate."),new Error("ServiceLocator.instantiate(): attempted to call instantiate on the id: "+t+" that was not previously registered.")},t.prototype.destroy=function(t){this.has(t)&&(null!=this._registry[t].instance.kill&&this._registry[t].instance.kill(),delete this._registry[t])},t.instance=function(){return t._instance||(t._instantiating=!0,t._instance=new t,t._instantiating=!1),t._instance},t._instantiating=!1,t}();e.ServiceLocator=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(86),r=i(89),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"interactive",{get:function(){return this.currentComponent.interactive},set:function(t){this.componentLandscape.interactive=t,s.isNil(this.componentPortrait)||(this.componentPortrait.interactive=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactiveChildren",{set:function(t){this.componentLandscape.interactiveChildren=t,s.isNil(this.componentPortrait)||(this.componentPortrait.interactiveChildren=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactiveCurrent",{set:function(t){this.currentComponent.interactive=t},enumerable:!0,configurable:!0}),e.prototype.handleMouseDownGesture=function(t){this.componentLandscape.addMouseDown(t),s.isNil(this.componentPortrait)||this.componentPortrait.addMouseDown(t)},e.prototype.handleMouseUpGesture=function(t){this.componentLandscape.addMouseUp(t),s.isNil(this.componentPortrait)||this.componentPortrait.addMouseUp(t)},e.prototype.handleMouseOutGesture=function(t){this.componentLandscape.addMouseUp(t),s.isNil(this.componentPortrait)||this.componentPortrait.addMouseUp(t)},e.prototype.removeChild=function(t){this.componentLandscape instanceof r.ScrollingContainer?this.componentLandscape.removeContent(t[0]):this.componentLandscape.removeChild(t[0]),s.isNil(this.componentPortrait)||s.isNil(t[1])||(this.componentPortrait instanceof r.ScrollingContainer?this.componentPortrait.removeContent(t[1]):this.componentPortrait.removeChild(t[1]))},e.prototype.addChild=function(t){this.componentLandscape instanceof r.ScrollingContainer?this.componentLandscape.addContent(t[0]):this.componentLandscape.addChild(t[0]),s.isNil(this.componentPortrait)||s.isNil(t[1])||(this.componentPortrait instanceof r.ScrollingContainer?this.componentPortrait.addContent(t[1]):this.componentPortrait.addChild(t[1]))},e.prototype.removeAllChild=function(){this.componentLandscape instanceof r.ScrollingContainer?this.componentLandscape.removeAllContent():this.componentLandscape.removeChildren(),s.isNil(this.componentPortrait)||(this.componentPortrait instanceof r.ScrollingContainer?this.componentPortrait.removeAllContent():this.componentPortrait.removeChildren())},e.prototype.recalculateScrolling=function(){this.componentLandscape.recalculate(),!s.isNil(this.componentPortrait)&&this.componentPortrait instanceof r.ScrollingContainer&&this.componentPortrait.recalculate()},e.prototype.updateMask=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=-1),this.componentLandscape.updateMaskParam(t,e),s.isNil(this.componentPortrait)||this.componentPortrait.updateMaskParam(t,e)},e}(a.ControllerBaseComponent);e.ControllerContainer=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(6),c=i(384),u=i(10),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hooksListeners={},e.ON_EVENT="onEvent",e.ON_WARNING="onWarning",e.ON_ERROR="onError",e}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.registerDisplay()},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),this.viewComponent.onRegister()},e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER)),""!=this.layer&&-1==this.layersProxy.getPIXILayerIndex(this.layer)&&this.validationProxy.registerValidationRequest(u.ValidationTypes.LAYERS_HTML_PRESENCE,this.layer),s.isNil(this.reloadGameProxy)&&(this.reloadGameProxy=this.retrieveGlobalProxy(a.Names.Proxies.RELOAD_GAME,a.Names.Modules.GAME_SETUP)),this.reloadGameProxy.addReloadHandler((function(){e.destroy()}))},e.prototype.onRegister=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(a.Names.Proxies.LAYERS,a.Names.Modules.GAME_SETUP)),t.prototype.onRegister.call(this)},e.prototype.registerToHook=function(t,e){this.hooksListeners[t]=e},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal("playSound",this.onPlaySound,this),this.addListenerToSignal("stopSound",this.onStopSound,this),this.addListenerToSignal("setSoundVolume",this.onSetSoundVolume,this),this.addListenerToSignal("muteAllSound",this.onMuteAllSound,this),this.addListenerToSignal("pauseSound",this.onPauseSound,this),this.addListenerToSignal("resumeSound",this.onResumeSound,this),this.addListenerToSignal("muteSound",this.onMuteSound,this),this.addListenerToSignal("unmuteSound",this.onUnmuteSound,this),this.addListenerToSignal(this.ON_EVENT,this.onEvent,this),this.addListenerToSignal(this.ON_WARNING,this.onWarning,this),this.addListenerToSignal(this.ON_ERROR,this.onError,this)},e.prototype.onEvent=function(t){this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,t)},e.prototype.onWarning=function(t){this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_WARNING,t)},e.prototype.onError=function(t){this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_ERROR,t)},e.prototype.onPlaySound=function(t){this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,t)},e.prototype.onStopSound=function(t){this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,t)},e.prototype.onSetSoundVolume=function(t){this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,t)},e.prototype.onMuteAllSound=function(t){this.sendGlobalNotification(r.Notifications.Global.MUTE_ALL_SOUNDS,t)},e.prototype.onPauseSound=function(t){this.sendGlobalNotification(r.Notifications.Global.PAUSE_SOUND,t)},e.prototype.onResumeSound=function(t){this.sendGlobalNotification(r.Notifications.Global.RESUME_SOUND,t)},e.prototype.onMuteSound=function(t){this.sendGlobalNotification(r.Notifications.Global.MUTE_SOUND,t)},e.prototype.onUnmuteSound=function(t){this.sendGlobalNotification(r.Notifications.Global.UNMUTE_SOUND,t)},e.prototype.initSubLayouts=function(t){var e=this.layersProxy.retrieveLayer(this.layer);s.each(t,(function(t){e.drawLayout(t)}))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.Notifications.Global.DEVICE_ORIENTATION_CHANGED,this.onDeviceOrientationChanged.bind(this)),this.addNotification(r.Notifications.Global.DEVICE_SCREEN_RESIZED,this.onDeviceScreenResized.bind(this)),this.addNotification(r.Notifications.Global.CALL_HOOK_LISTENERS,this.onCallHookListeners.bind(this))},e.prototype.onCallHookListeners=function(t){var e=t.body.hookName;!s.isNil(this.viewComponent)&&s.has(this.viewComponent.hooksListeners,e)&&this.viewComponent.hooksListeners[e].call(this,t.body),s.has(this.hooksListeners,e)&&this.hooksListeners[e].call(this,t.body)},e.prototype.onDeviceOrientationChanged=function(t){this.viewComponent.deviceOrientationChanged(t.body)},e.prototype.onDeviceScreenResized=function(t){this.viewComponent.deviceScreenResized()},e.prototype.registerDisplay=function(){if(""!=this.layer){var t=this.layersProxy.retrieveLayer(this.layer);s.isNil(t.container)?l.Log.warningch("Graphics","A layer ("+this.layer+") is missing its container."):(this.viewComponent.display=this.layersProxy.retrieveLayer(this.layer).container,t&&t.componentsPositionsResource&&(this.viewComponent.componentsPositions=t.componentsPositionsResource))}},Object.defineProperty(e.prototype,"layer",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.drawLayer=function(){this.layersProxy.retrieveLayer(this.layer).drawLayout()},e.prototype.layerTransitionInStart=function(){s.isNil(this.viewComponent.display.style)||(this.viewComponent.display.style.display=""),this.validationProxy.toggleValidation(this.layer,!0),this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_IN_STARTED,this.layer),this.viewComponent.onStartShowLayer(this.layer,this.layerTransitionInComplete.bind(this))},e.prototype.layerTransitionInRunning=function(){this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_IN_RUNNING,this.layer)},e.prototype.layerTransitionInComplete=function(){this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_IN_COMPLETED,this.layer)},e.prototype.layerTransitionOutStart=function(){this.validationProxy.toggleValidation(this.layer,!1),this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_OUT_STARTED,this.layer),this.viewComponent.onStartHideLayer(this.layer,this.layerTransitionOutComplete.bind(this))},e.prototype.layerTransitionOutRunning=function(){this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_OUT_RUNNING,this.layer)},e.prototype.layerTransitionOutComplete=function(){this.sendGlobalNotification(r.Notifications.Global.LAYER_TRANSITION_OUT_COMPLETED,this.layer),s.isNil(this.viewComponent.display.style)||(this.viewComponent.display.style.display="none")},e.prototype.destroy=function(){this.viewComponent.destroy()},e}(c.Mediator);e.AbstractMediator=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=PIXI.Rectangle,a=function(){function t(){}return t.replacePlaceHolders=function(t,e,i){for(var n=0;n<e.length;n++)t=t.replace(e[n],i[n]);return t},t.sprintf=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)return t;e&&(e=this.retrieveNestedArray(e));for(var n=0;n<e.length;n++)t=t.replace("{"+(n+1)+"}",e[n]);return t},t.retrieveNestedArray=function(t){return t[0]instanceof Array?this.retrieveNestedArray(t[0]):t},t.escapeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},t.getName=function(t){var e,i=typeof t,n=/function ([^\(]+)/;if("object"===i){e=t.constructor.toString().match(n)[1]}else{var o="function"===i,s=o&&(t.name&&["",t.name]||t.toString().match(n));e=!1===o?i:s&&s[1]?s[1]:"anonymous"}return e},t.stringToRectangle=function(e,i){var n;if(void 0===i&&(i=","),e){var a=e.split(i);4==a.length?n=new s(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3])):o.Log.error(this.getName(t)+"::stringToRectangle - properties count should be 4. Found: "+a.length)}else o.Log.error(this.getName(t)+"::stringToRectangle - string passed as a paramter was not initialzed");return n},t.fitByScale=function(t,e,i,o){return void 0===i&&(i=!1),void 0===o&&(o=1),n.isNil(t)?-1:(i&&(t.scale.x=o,e*=o),t.width*o>e&&(t.scale.x=e/t.width),t.scale.y=t.scale.x,t.scale.x)},t.fitByScaleWithHeight=function(t,e,i,o){return void 0===i&&(i=!1),void 0===o&&(o=1),n.isNil(t)?-1:(i&&(t.scale.y=o,e*=o),t.height*o>e&&(t.scale.y=e/t.height),t.scale.x=t.scale.y,t.scale.y)},t.getNbLigne=function(t){var e=parseInt(window.getComputedStyle(t).getPropertyValue("--data-lines").trim());e=n.isNaN(e)?1:e,t.nbLines=e},t.fitTextToArea=function(t,e,i){void 0===e&&(e="reduceOnly"),n.isNil(document)||n.isNil(document.documentElement)||"reduceOnly"==e&&(n.isEmpty(t.innerHTML)?o.Log.warningch("String-Util","["+t.id+"] InnerHTML EMPTY no need for resize "):this.reduceTextToBeContained(t,i))},t.reduceTextToBeContained=function(t,e){void 0===e&&(e=6);var i=$(t),n={maxFontPixels:parseInt(i.css("font-size")),minFontPixels:e,innerTag:"span",changeLineHeight:!1};0==i.has(n.innerTag).length&&(t.innerHTML="<"+n.innerTag+">"+t.innerHTML+"</"+n.innerTag+">");var o=$(n.innerTag+":visible:first",t),s=parseFloat(i.css("height")),a=parseFloat(i.css("width")),r=o.css("font-size"),l=parseFloat(o.css("line-height"))/parseFloat(r),c=n.minFontPixels,u=n.maxFontPixels,h=this.sizing(o,$.fn.height,s,s,a,c,u),p=this.sizing(o,$.fn.width,a,s,a,c,u),d=Math.min(h,p);o.css("font-size",d),n.changeLineHeight&&o.parent().css("line-height",l*d+"px"),(o.width()>a||o.height()>s)&&o.css("font-size",r)},t.containsAnchorTag=function(t){return/<\s*a\s.+\/a?\s*>/gm.test(t)},t.sizing=function(t,e,i,n,o,s,a){for(;s<a-1;){var r=Math.floor((s+a)/2);if(t.css("font-size",r),e.call(t)<=i){if(s=r,e.call(t)==i)break}else a=r}return t.css("font-size",a),e.call(t)<=i&&(s=a),s},t}();e.StringUtil=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(127),r=i(31),l=PIXI.Container,c=i(162),u=function(t){function e(e,i,n){void 0===n&&(n=!1);var o=t.call(this,e)||this;return o.needToGrowBy=null,o.equalizeID="",o.vAlign="center",o._labelText="",o._glowColors=[],o._autoSize=!1,o._isSingleLine=!1,o.MINIM_FONT_SIZE=6,o.steps=0,o.elementsHolder=new l,o.addChild(o.elementsHolder),s.isNil(i)?o.text=new PIXI.Text:o.text=i,o.elementsHolder.addChild(o.text),o.objectDebugBounds=o.elementsHolder,o}return o(e,t),Object.defineProperty(e.prototype,"textWidth",{get:function(){return Math.abs(this.text.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return Math.abs(this.text.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._textFieldWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._textFieldHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._initialFontSize=this.text.style.fontSize=this._fontSize=t;var e={fontSize:t};s.isNil(this._lineHeightMultiplier)||(this.text.style.lineHeight=this._lineHeightMultiplier*this.text.style.fontSize,e.lineHeight=this._lineHeightMultiplier*this.text.style.fontSize),this.text instanceof c.default&&this.text.setTagStyle("default",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialFontSize",{get:function(){return this._initialFontSize},enumerable:!0,configurable:!0}),e.prototype.updateFontSize=function(t){this.text.style.fontSize=this._fontSize=t;var e={fontSize:t};s.isNil(this._lineHeightMultiplier)||(this.text.style.lineHeight=this._lineHeightMultiplier*this.text.style.fontSize,e.lineHeight=this._lineHeightMultiplier*this.text.style.fontSize),this.text instanceof c.default&&this.text.setTagStyle("default",e)},Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){var i=this;this._layout=t;var n=1;this._layout.attributes.getNamedItem("fontClarity")&&(n=parseFloat(this._layout.attributes.getNamedItem("fontClarity").value)),this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("width").value)*e.FONT_MULTIPLIER*n,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("height").value)*e.FONT_MULTIPLIER*n,this._fontSize=parseFloat(this._layout.attributes.getNamedItem("labelFontSize").value),this._fontSize=this._fontSize*e.FONT_MULTIPLIER*n,this._initialFontSize=this._fontSize,this.textStyle=new PIXI.TextStyle(null),this.textStyle.fontSize=this._fontSize,s.isNil(this._layout.attributes.getNamedItem("labelFont"))?this.textStyle.fontFamily="noto_sansregular":this.textStyle.fontFamily=this._layout.attributes.getNamedItem("labelFont").value,s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStart"))||s.isNil(this._layout.attributes.getNamedItem("labelFontGradientEnd"))?s.isNil(this._layout.attributes.getNamedItem("labelFontGradient"))?this.textStyle.fill=parseInt(this._layout.attributes.getNamedItem("labelFontColor").value):this.textStyle.fill=this._layout.attributes.getNamedItem("labelFontGradient").value.split(",").map(Number):this.textStyle.fill=[parseInt(this._layout.attributes.getNamedItem("labelFontGradientStart").value),parseInt(this._layout.attributes.getNamedItem("labelFontGradientEnd").value)],s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStops"))||s.each(this._layout.attributes.getNamedItem("labelFontGradientStops").value.split(","),(function(t){i.textStyle.fillGradientStops.push(parseFloat(t))})),s.isNil(this._layout.attributes.getNamedItem("align"))||(this.textStyle.align=this._layout.attributes.getNamedItem("align").value),s.isNil(this._layout.attributes.getNamedItem("vAlign"))||(this.vAlign=this._layout.attributes.getNamedItem("vAlign").value),s.isNil(this._layout.attributes.getNamedItem("autoSize"))||(this._autoSize="false"!=this._layout.attributes.getNamedItem("autoSize").value),s.isNil(this._layout.attributes.getNamedItem("keyTranslate"))||(this.keyTranslate=this._layout.attributes.getNamedItem("keyTranslate").value),s.isNil(this._layout.attributes.getNamedItem("letterSpacing"))||(this.textStyle.letterSpacing=parseInt(this._layout.attributes.getNamedItem("letterSpacing").value)),s.isNil(this._layout.attributes.getNamedItem("lineHeightMultiplier"))||(this._lineHeightMultiplier=parseFloat(this._layout.attributes.getNamedItem("lineHeightMultiplier").value),this.textStyle.lineHeight=this._lineHeightMultiplier*this.textStyle.fontSize),s.isNil(this._layout.attributes.getNamedItem("fontWeight"))||(this.textStyle.fontWeight=this._layout.attributes.getNamedItem("fontWeight").value),s.isNil(this._layout.attributes.getNamedItem("dropShadow"))||(this.textStyle.dropShadow=Boolean(this._layout.attributes.getNamedItem("dropShadow").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAlpha"))||(this.textStyle.dropShadowAlpha=parseFloat(this._layout.attributes.getNamedItem("dropShadowAlpha").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAngle"))||(this.textStyle.dropShadowAngle=parseFloat(this._layout.attributes.getNamedItem("dropShadowAngle").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowBlur"))||(this.textStyle.dropShadowBlur=parseFloat(this._layout.attributes.getNamedItem("dropShadowBlur").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowColor"))||(this.textStyle.dropShadowColor=parseInt(this._layout.attributes.getNamedItem("dropShadowColor").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowDistance"))||(this.textStyle.dropShadowDistance=parseInt(this._layout.attributes.getNamedItem("dropShadowDistance").value)),s.isNil(this._layout.attributes.getNamedItem("stroke"))||(this.textStyle.stroke=parseInt(this._layout.attributes.getNamedItem("stroke").value)),s.isNil(this._layout.attributes.getNamedItem("strokeThickness"))||(this.textStyle.strokeThickness=parseInt(this._layout.attributes.getNamedItem("strokeThickness").value)),s.isNil(this._layout.attributes.getNamedItem("lineJoin"))||(this.textStyle.lineJoin=this._layout.attributes.getNamedItem("lineJoin").value),s.isNil(this._layout.attributes.getNamedItem("padding"))||(this.textStyle.padding=parseFloat(this._layout.attributes.getNamedItem("padding").value)),!this.textStyle.padding&&this.textStyle.dropShadowBlur&&(this.textStyle.padding=this.textStyle.dropShadowBlur),this.checkForIE()||s.isNil(this._layout.attributes.getNamedItem("filters"))||(this._styleFilters=this._layout.attributes.getNamedItem("filters").value),this.initFromNode(),this.initTextField()},enumerable:!0,configurable:!0}),e.prototype.setLayoutAndStyle=function(t,i){this._layout=t,this.checkForIE()||s.isNil(this._layout.attributes.getNamedItem("filters"))||(this._styleFilters=this._layout.attributes.getNamedItem("filters").value);var n=1;this._layout.attributes.getNamedItem("fontClarity")&&(n=parseFloat(this._layout.attributes.getNamedItem("fontClarity").value)),this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("width").value)*e.FONT_MULTIPLIER*n,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("height").value)*e.FONT_MULTIPLIER*n,i.fontFamily||(i.fontFamily="noto_sansregular"),this._initialFontSize=this._fontSize=i.fontSize+n,this.vAlign=i.vAlign,this.textStyle=new PIXI.TextStyle(i),this.initFromNode(),this.initTextField()},e.prototype.initFromNode=function(){s.isNil(this._layout.attributes.getNamedItem("label"))||(this._labelText=this._layout.attributes.getNamedItem("label").value),s.isNil(this._layout.attributes.getNamedItem("singleLine"))||(this._isSingleLine="true"==this._layout.attributes.getNamedItem("singleLine").value),s.isNil(this._layout.attributes.getNamedItem("customFont"))||this.checkFontForLanguage(this._layout.attributes.getNamedItem("customFont").value),this.position.x=parseFloat(this._layout.attributes.getNamedItem("x").value),this.position.y=parseFloat(this._layout.attributes.getNamedItem("y").value)},e.prototype.checkFontForLanguage=function(t){this.checkFontForLanguageFromObject(JSON.parse(t))},e.prototype.checkFontForLanguageFromObject=function(t){var e=this,i=this.settings.getValue("lang");s.each(["growth","fontFamily","fontWeight","fill","fillGradientType","stroke","strokeThickness","letterSpacing"],(function(n){s.each(t,(function(t,o){s.isNil(t[n])||s.isNaN(t[n])||"undefined"==t[n]||s.isNil(t.lang)||i.toLowerCase()!=t.lang.toLowerCase()&&"all"!=t.lang.toLowerCase()||("growth"==n?e.needToGrowBy=t[n]:e.textStyle[n]=t[n])}))}))},e.prototype.setUp=function(t,i,n,o,a,r){void 0===o&&(o=""),void 0===a&&(a=0),void 0===r&&(r=0),this._textFieldWidth=t*e.FONT_MULTIPLIER,this._textFieldHeight=i*e.FONT_MULTIPLIER,!this.checkForIE()&&n.filters&&(this._styleFilters=n.filters),n.fontFamily||(n.fontFamily="noto_sansregular"),n.fontSize||(n.fontSize=20),this._initialFontSize=this._fontSize=n.fontSize*e.FONT_MULTIPLIER,this.vAlign=n.vAlign,this.textStyle=new PIXI.TextStyle(n),o&&o.length>0&&(this._labelText=o),s.isNil(n.singleLine)||(this._isSingleLine=n.singleLine),this.position.set(a,r),this.initTextField()},e.prototype.initTextField=function(){var t=this;this._styleFilters&&this.checkFilters(this._styleFilters),this.elementsHolder.scale.set(e.FONT_SCALE),this.setAlign(this.textStyle.align,this.vAlign),this.text.style=this.textStyle,a.FontObserver.instance().isFontReady(this.textStyle.fontFamily)?this.updateLabel(this._labelText):a.FontObserver.instance().loadFont(this.textStyle.fontFamily,(function(){t.updateLabel(t._labelText)}));var i=this.settings.getValue("WORDWRAP_LANGUAGE"),n=this.settings.getValue("lang").toLowerCase();s.isNil(i)||i.hasOwnProperty(n)&&i[n]&&!this._isSingleLine&&(this.text.style.breakWords=!0)},e.prototype.setAlign=function(t,e){"left"==t?(this.text.anchor.x=0,this.text.x=0):"right"==t?(this.text.anchor.x=1,this.text.x=this._textFieldWidth):(this.text.anchor.x=.5,this.text.x=this._textFieldWidth/2),"top"==e?(this.text.anchor.y=0,this.text.y=0):"bottom"==e?(this.text.anchor.y=1,this.text.y=this._textFieldHeight):(this.text.anchor.y=.5,this.text.y=this._textFieldHeight/2)},e.prototype.changeDimensions=function(t,e){this._textFieldWidth=t,this._textFieldHeight=e,this.setAlign(this.textStyle.align,this.vAlign)},e.prototype.startUpdate=function(t,i){if(void 0===i&&(i=!0),this.text.text!=t){var n=!1;s.isNil(this.text.text)||s.isEmpty(t)||this.text.text.length==t.length&&" "!=this.text.text||(n=!0),this.text.text=t,i&&!this._autoSize?this.checkTextFit(n):this._autoSize&&(this.text.style.wordWrap=!0,this.text.style.wordWrapWidth=this._textFieldWidth,null!=this.needToGrowBy&&(this.text.style.fontSize=this._fontSize+this.needToGrowBy)),this.equalizeID&&(this.updateFontSize(e.equalizeFontSizeMap[this.equalizeID]),TweenMax.delayedCall(.1,this.updateFontSize.bind(this,e.equalizeFontSizeMap[this.equalizeID]))),this._glowFilters&&this.addGlowFilter(t)}},e.prototype.updateLabel=function(t,e){void 0===e&&(e=!0),this.startUpdate(t,e)},e.prototype.checkTextFit=function(t){void 0===t&&(t=!0),t&&(this.fontSize=this._initialFontSize);var i=this.text.style.strokeThickness;i>0&&(this.text.style.strokeThickness=0),this._isSingleLine||this.textWidth>this._textFieldWidth&&(this.text.style.wordWrap=!0,this.text.style.wordWrapWidth=this._textFieldWidth),(this.textHeight>this._textFieldHeight||this.textWidth>this._textFieldWidth)&&(this._fontSize<this.MINIM_FONT_SIZE&&(this._fontSize=this.MINIM_FONT_SIZE),this.findFontSizeProperValue(this.MINIM_FONT_SIZE,this._fontSize)),null!=this.needToGrowBy&&(this.text.style.fontSize=this._fontSize=this._fontSize+this.needToGrowBy),i>0&&(this.text.style.strokeThickness=i),this.equalizeID&&(s.isNil(e.equalizeFontSizeMap[this.equalizeID])||e.equalizeFontSizeMap[this.equalizeID]>this._fontSize)&&(e.equalizeFontSizeMap[this.equalizeID]=this._fontSize)},e.prototype.findFontSizeProperValue=function(t,e){if(t%1!=0||e%1!=0)throw Error("Don't use float font size please! Check your xml files!");var i=Math.floor((t+e)/2);if(this.updateFontSize(i),e!=i){if(this.textHeight>this._textFieldHeight||this.textWidth>this._textFieldWidth)e=i-1;else{if(!(this.textHeight<this._textFieldHeight||this.textWidth<this._textFieldWidth))return;t=i+1}this.findFontSizeProperValue(t,e)}else(this.textHeight>this._textFieldHeight||this.textWidth>this._textFieldWidth)&&this.updateFontSize(i-1)},e.prototype.addGlowFilter=function(t){var e=this;s.each(s.range(this._glowColors.length),(function(i){(s.isNil(e._glowTexts)||s.isNil(e._glowTexts))&&(e._glowTexts=[]),e._glowTexts.length<e._glowColors.length?(e._glowTexts.push(new PIXI.Text(t)),e.elementsHolder.addChildAt(e._glowTexts[i],0)):e._glowTexts[i].text=t,e._glowTexts[i].style.fontFamily=e.text.style.fontFamily,e._glowTexts[i].style.align=e.text.style.align,e._glowTexts[i].style.fill=e._glowColors[i],e._glowTexts[i].style.fontWeight=e.text.style.fontWeight,e._glowTexts[i].style.fontStyle=e.text.style.fontStyle,e._glowTexts[i].style.fontSize=e.text.style.fontSize,e._glowTexts[i].style.wordWrap=e.text.style.wordWrap,e._glowTexts[i].style.wordWrapWidth=e.text.style.wordWrapWidth,e._glowTexts[i].filters=[e._glowFilters[i]],e._glowTexts[i].x=e.text.x,e._glowTexts[i].y=e.text.y,e._glowTexts[i].anchor.x=e.text.anchor.x,e._glowTexts[i].anchor.y=e.text.anchor.y}))},e.prototype.checkForIE=function(){var t=!1;return/MSIE 10/i.test(navigator.userAgent)&&(t=!0),(/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(t=!0),/Edge\/\d./i.test(navigator.userAgent)&&(t=!0),t},e.prototype.checkFilters=function(t){var e,i=this,n=t;try{e=JSON.parse(n)}catch(t){}s.forOwn(e,(function(t,e){if("glowFilter"==t.name)return i._glowFilters=[new PIXI.filters.BlurFilter],i._glowColors=[parseInt(t.color)],!1}))},e.prototype.setIntervalDrawBounds=function(){var t=this;setInterval((function(){t.drawBounds(t.width,t.height)}),1e3)},e.FONT_MULTIPLIER=2,e.FONT_SCALE=.5,e.equalizeFontSizeMap={},e}(r.BaseComponent);e.TextField=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),s=i(6),a=i(17),r=i(3),l=i(13),c=function(){function t(t){this.NAME=t,this.serviceLocator=a.ServiceLocator.instance(),this.mvc=this.serviceLocator.get("MVC"),this.viewFactory=this.serviceLocator.get("ViewFactory"),this.mediatorFactory=this.serviceLocator.get("MediatorFactory"),this.settings=this.serviceLocator.get("Settings");var e=this.settings.getValue("GameConfig");this.useMasterLayout=e.useMasterLayout,this.registerConfigModule(),this.registerScope(),this.registerLayerModule(),this.registerCommands(),this.registerProxies(),this.registerViews(),this.registerMediators(),this.initOther()}return t.prototype.registerCommands=function(){},t.prototype.registerProxies=function(){},t.prototype.registerMediators=function(){},t.prototype.registerViews=function(){},t.prototype.registerDecorators=function(){},t.prototype.registerConfigModule=function(){},t.prototype.addCommand=function(t,e,i){void 0===i&&(i=this.NAME);var n=new e(t);n instanceof r.Controller?this.mvc.registerCommand(t,n,i):s.Log.warning(t+" is not a Controller")},t.prototype.deleteCommand=function(t){this.mvc.isRegisteredCommand(t,this.NAME)&&this.mvc.unregisterCommand(t,this.NAME)},t.prototype.replaceCommand=function(t,e){this.addCommand(t,e)},t.prototype.addProxy=function(t,e,i){void 0===i&&(i=this.NAME);var n=new e(t);n instanceof l.Proxy?this.mvc.registerProxy(t,n,i):s.Log.warning(t+" is not a Proxy")},t.prototype.deleteProxy=function(t){this.mvc.isRegisteredProxy(t,this.NAME)&&this.mvc.unregisterProxy(t,this.NAME)},t.prototype.replaceProxy=function(t,e){this.deleteProxy(t),this.addProxy(t,e)},t.prototype.addView=function(t,e){this.viewFactory.addView(t,e,this.NAME)},t.prototype.replaceView=function(t,e,i){this.viewFactory.replaceView(t,e,i)},t.prototype.deleteView=function(t,e){this.viewFactory.deleteView(t,e)},t.prototype.addDecorator=function(t,e,i,n){void 0===n&&(n=""),this.viewFactory.addDecorator(t,e,i,n)},t.prototype.replaceDecorator=function(t,e,i){this.viewFactory.replaceDecorator(t,e,i)},t.prototype.removeDecorator=function(t,e){this.viewFactory.removeDecorator(t,e)},t.prototype.addMediator=function(t,e){this.mediatorFactory.addMediator(t,e,this.NAME)},t.prototype.replaceMediator=function(t,e,i){this.mediatorFactory.replaceMediator(t,e,i)},t.prototype.deleteMediator=function(t,e){this.mediatorFactory.deleteMediator(t,e)},t.prototype.registerLayerModule=function(){n.isNil(this.layersProxy)&&(this.layersProxy=this.mvc.retrieveProxy(o.Names.Proxies.LAYERS,o.Names.Modules.GAME_SETUP))},t.prototype.initOther=function(){},t.prototype.registerScope=function(){this.mvc.registerCore(this.NAME)},t}();e.AbstractModule=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.FREE_ROUNDS_PROXY="fr_free_rounds_proxy",t}();e.FRProxiesName=n;var o=function(){function t(){}return t.SHOW_START_POP_UP="FR_SHOW_START_POP_UP",t.SHOW_START_PENDING_POP_UP="FR_SHOW_START_PENDING_POP_UP",t.SHOW_END_POP_UP="FR_SHOW_END_POP_UP",t.ACCEPT_FREE_ROUNDS="FR_ACCEPT_FREE_ROUNDS",t.DECLINE_FREE_ROUNDS="FR_DECLINE_FREE_ROUNDS",t.RESUME_FREE_ROUNDS="FR_RESUME_FREE_ROUNDS",t.RESUME_PENDING_WINNINGS_FREE_ROUNDS="FR_RESUME_PENDING_WINNINGS_FREE_ROUNDS",t.HIDE_END_POP_UP_FREE_ROUNDS="FR_HIDE_END_POP_UP_FREE_ROUNDS",t.UPDATE_FREE_ROUNDS_SCREEN="FR_UPDATE_FREE_ROUNDS_SCREEN",t}();e.FRNotifications=o;var s=function(){function t(){}return t.ACCEPT_FREE_ROUNDS="frAcceptFreeRoundsAction",t.DECLINE_FREE_ROUNDS="frDeclineFreeRounds",t.RESUME_FREE_ROUNDS="frResumeFreeRounds",t.RESUME_PENDING_WINNINGS="frResumePendingWinningsFreeRounds",t.FREE_ROUNDS_HIDE_START_POP_UP="frHideStartPopUp",t.FREE_ROUNDS_HIDE_END_POP_UP="frHideStartPopUp",t}();e.FRActions=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getMultiplierDuration=function(e){for(var i=-1,n=0;n<t.MCR_VALUES_THRESHOLD_MULTIPLIER_INCREMENT.length;n++)if(e<t.MCR_VALUES_THRESHOLD_MULTIPLIER_INCREMENT[n]){i=t.MCR_DURATIONS_THRESHOLD_MULTIPLIER_INCREMENT[n];break}return-1===i&&(i=t.MCR_DURATIONS_THRESHOLD_MULTIPLIER_INCREMENT[t.MCR_VALUES_THRESHOLD_MULTIPLIER_INCREMENT.length]),i},t.MCR_ASSET_CASH_VALUE_PREFIX="Frame-Counter-Win-",t.MCR_WHEEL_SEPARATOR_ASSET_NAME="divider_hor-2.png",t.MCR_POPUP_START_ACTION="respinsStartPopupAction",t.MCR_POPUP_END_ACTION="respinsEndPopupAction",t.MCR_SKIP_RESPINS_COUNTUP_ACTION="skipRespinsCountUpAction",t.MCR_POPUP_START_TRACK_IN=0,t.MCR_POPUP_START_TRACK_LOOP=1,t.MCR_POPUP_START_TRACK_OUT=2,t.MCR_POPUP_START_ANIMATION_IN="animation in",t.MCR_POPUP_START_ANIMATION_LOOP="animation loop",t.MCR_POPUP_START_ANIMATION_OUT="animation out",t.UI_FIELD_TOTAL_WIN="freeSpinsTotalWinValue",t.MCR_MAXIMUM_SPIN_LEFT=3,t.MCR_DURATION_CASH_MONEY_MOVE=.6,t.MCR_DURATION_MULTIPLIER_INCREMENT=1.5,t.MCR_DURATION_CASH_FIRST_SCALE_UP=.8,t.MCR_DURATION_TEXT_SCALE_UP=.5,t.STRIP_CENTER_OFFSET_Y=19,t.STRIP_CENTER_CONTAINER="sbContainerCenter",t.MCR_DURATIONS_THRESHOLD_MULTIPLIER_INCREMENT=[1,2,3],t.MCR_VALUES_THRESHOLD_MULTIPLIER_INCREMENT=[10,50],t}();e.MegawaysCashRespinsStrings=n;var o=function(){function t(){}return t.CASH_RESPINS="CASH_RESPINS",t.CASH_RESPINS_START_POPUP="CASH_RESPINS_START_POPUP",t.CASH_RESPINS_END_POPUP="CASH_RESPINS_END_POPUP",t.CASH_RESPINS_END_GAME_ENABLE_UI="CASH_RESPINS_END_GAME_ENABLE_UI",t}();e.MegawaysCashRespinsStates=o;var s=function(){function t(){}return t.CASH_RESPINS_IN_PROGRESS="cashRespinsInProgress",t.CASH_RESPINS_RESUME_AUTO_VALIDATION="cashRespinsResumeAutoValidation",t}();e.MegawaysCashRespinsValidationProperties=s;var a=function(){function t(){}return t.GAME_SPECIFIC="gameSpecific",t.SERVER_ACTION_SEND_RESPINS="sendRespins",t.CASH_RESPIN_START_POPUP_CLICKED="CASH_RESPIN_START_POPUP_CLICKED",t.CASH_RESPIN_END_POPUP_CLICKED="CASH_RESPIN_END_POPUP_CLICKED",t.CASH_RESPIN_COUNTUP_CLICKED="CASH_RESPIN_COUNTUP_CLICKED",t.SETUP_RESPIN_WHEELS="SETUP_RESPIN_WHEELS",t.START_RESPIN_WHEELS="START_RESPIN_WHEELS",t}();e.MegawaysCashRespinsServerData=a;var r=function(){function t(){}return t.SET_SCATTER_VALUES="SET_SCATTER_VALUES",t}();e.MegawaysCashRespinsInjectAction=r;var l=function(){function t(){}return t.SEND_CHOICE_TO_SERVER="SEND_CHOICE_TO_SERVER",t.RESPINS_ALL_WHEEL_COMPLETED="RESPINS_ALL_WHEEL_COMPLETED",t.RESPINS_COLLECT_START="RESPINS_COLLECT_START",t.RESPINS_COLLECT_END="RESPINS_COLLECT_END",t.RESPINS_COLLECT_CLICK_EVENT="RESPINS_COLLECT_CLICK_EVENT",t.POPUP_END_ANIMATION_IN_COMPLETED="POPUP_END_ANIMATION_IN_COMPLETED",t.POPUP_END_ANIMATION_OUT_COMPLETED="POPUP_END_ANIMATION_OUT_COMPLETED",t.RESPINS_START_WIN_INCREMENT="RESPINS_START_WIN_INCREMENT",t.RESPINS_PLAY_PARTICLE_COLLECT="RESPINS_PLAY_PARTICULE_COLLECT",t.ON_START_NEXT_COLLECT_STEP="ON_START_NEXT_COLLECT_STEP",t.ON_START_POPUP_BUTTON_CLICK="ON_START_POPUP_BUTTON_CLICK",t.ON_END_POPUP_BUTTON_CLICK="ON_END_POPUP_BUTTON_CLICK",t}();e.MegawaysCashRespinsSignal=l;var c=function(){function t(){}return t._namespace="MegawaysCashRespinsNotifications:",t.FEATURE_TRANSITION_IN=t._namespace+"FEATURE_TRANSITION_IN",t.FEATURE_TRANSITION_OUT=t._namespace+"FEATURE_TRANSITION_OUT",t.FEATURE_COMPLETED=t._namespace+"FEATURE_COMPLETED",t.SHOW_INTRO_POPUP=t._namespace+"SHOW_INTRO_POPUP",t.FEATURE_WIN=t._namespace+"FEATURE_WIN",t.SPIN_RESULT_RECEIVED=t._namespace+"SPIN_RESULT_RECEIVED",t.SPIN=t._namespace+"SPIN",t.GAT_SCREENSHOT=t._namespace+"GAT_SCREENSHOT",t.RESTORE_SHARE_SYMBOL_BITMAP_CONTAINER=t._namespace+"RESTORE_SHARE_SYMBOL_BITMAP_CONTAINER",t.RESPINS_ALL_SPIN_COMPLETED=t._namespace+"RESPINS_ALL_SPIN_COMPLETED",t.SHOW_END_POPUP=t._namespace+"SHOW_END_POPUP",t.GET_TOTAL_WIN_TEXTFIELD=t._namespace+"GET_TOTAL_WIN_TEXTFIELD",t.RESPINS_START_WIN_INCREMENT=t._namespace+"RESPINS_START_WIN_INCREMENT",t.RESPINS_START_WIN_COLLECT=t._namespace+"RESPINS_START_WIN_COLLECT",t.START_NEXT_RESPIN=t._namespace+"START_NEXT_RESPIN",t.INIT_SPIN_LEFT=t._namespace+"INIT_SPIN_LEFT",t.CLEAN_RESPIN_WHEELS=t._namespace+"CLEAN_RESPIN_WHEELS",t.END_FEATURE_RESPINS=t._namespace+"END_FEATURE_RESPINS",t.RESPINS_START_PARTICLE_COLLECT="RESPINS_START_PARTICLE_COLLECT",t.UPDATE_TOTAL_WIN_FIELD="UPDATE_TOTAL_WIN_FIELD",t.SKIP_RESPINS_COLLECT=t._namespace+"SKIP_RESPINS_COLLECT",t}();e.MegawaysCashRespinsNotifications=c;var u=function(){function t(){}return t.TEXT_AZTEC_GOLD_RESPIN_APPEAR="text_aztec_gold_respin_appear",t.POPUP_APPEAR="popup_appear",t.RESPIN_WIN="respin_win",t.POPUP_DISSAPPEAR="popup_dissappear",t.RESPIN_REEL_SPIN="respin_reel_spin",t.RESPIN_DROP_SYMBOL="respin_drop_symbol",t.RESPIN_ANIMATION_ABOVE="respin_animation_above",t.RESPIN_NUMBER="respin_number",t.SYMBOL_COLLECT="symbol_collect",t.SYMBOL_WHOOSH="symbol_whoosh",t.RESPIN_CONGRATULATIONS="respin_congratulations",t.LIGHT_SWEEP="light_sweep",t.RESPIN_AMBIANCE="respin_ambiance",t.COINS_COLLECT="coins_collect",t.COINS_SPILL="coins_spill",t.ANTICIPATION="anticipation",t.RESPIN_ACCELERATION="respin_acceleration",t.SCATTER_ANNOUNCE="scatter_announce",t.SHOW_ALL_WIN_01="show_all_win_01",t.SHOW_ALL_WIN_02="show_all_win_02",t.SHOW_ALL_WIN_03="show_all_win_03",t.TRANSITION="transition",t.SYMBOL_MONTEZUMA="symbol_montezuma",t.INCREMENT_STOP="increment_stop",t.INCREMENT_MULTIPLIER_BELOW_10X="increment_multiplier_below_10x",t.INCREMENT_MULTIPLIER_10_50X="increment_multiplier_10_50x",t.INCREMENT_MULTIPLIER_ABOVE50X="increment_multiplier_above50x",t}();e.MegawaysCashRespinsSounds=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(46),r=i(1),l=i(142),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.allowCheatTool)&&(this.allowCheatTool=this.settings.getValue("ALLOW_CHEAT_TOOL")),s.isNil(this.allowProgressive)&&(this.allowProgressive=!!this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS")),s.isNil(this.cheatToolProxy)&&this.allowCheatTool&&(this.cheatToolProxy=this.retrieveGlobalProxy(r.Names.Proxies.CHEAT_TOOL,r.Names.Modules.CHEAT_TOOL)),s.isNil(this.progressiveProxy)&&this.allowProgressive&&(this.progressiveProxy=this.retrieveGlobalProxy(r.Names.Proxies.PROGRESSIVE,r.Names.Modules.PROGRESSIVE)),s.isNil(this.slotAutomatedTestProxy)&&(this.slotAutomatedTestProxy=this.retrieveProxy(l.SlotATMProxiesNames.SLOT_ATM_PROXY))},e}(a.AutomatedTestAbstractCommand);e.SlotAutomatedTestAbstractCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.INTRO_OPENED="INTRO_OPENED",e.INTRO_CLOSED="INTRO_CLOSED",e.READY_TO_SPIN="READY_TO_SPIN",e.SPINS_GROUP_STARTED="SPINS_GROUP_STARTED",e.SPINS_GROUP_ENDED="SPINS_GROUP_ENDED",e.CURRENT_BONUS_DETAILS="CURRENT_BONUS_DETAILS",e.CURRENT_STEP_DETAILS="CURRENT_STEP_DETAILS",e.BONUS_READY_TO_CHOOSE="BONUS_READY_TO_CHOOSE",e.BONUS_CHOICE_ANIM_FINISHED="BONUS_CHOICE_ANIM_FINISHED",e.BONUS_WINNINGS="BONUS_WINNINGS",e.PROGRESSIVE_WIN="PROGRESSIVE_WIN",e.TURBO_SPIN_END_GAME="TURBO_SPIN_END_GAME",e.TURBO_WHEELS_ANIMATIONS_COMPLETE="TURBO_WHEELS_ANIMATIONS_COMPLETE",e.READY_FOR_NEXT_SPIN="READY_FOR_NEXT_SPIN",e.WHEELS_ANIMATIONS_COMPLETE="WHEELS_ANIMATIONS_COMPLETE",e.AUTO_SPIN_END="AUTO_SPIN_END",e.INTRO_SCREENSHOT="INTRO_SCREENSHOT",e.BIG_WIN_ANIMATION_STARTED="BIG_WIN_ANIMATION_STARTED",e.FANTASTIC_WIN_ANIMATION_STARTED="FANTASTIC_WIN_ANIMATION_STARTED",e.ULTRA_WIN_ANIMATION_STARTED="ULTRA_WIN_ANIMATION_STARTED",e.PLAY_FIVE_OF_A_KIND_ANIMATION="PLAY_FIVE_OF_A_KIND_ANIMATION",e.START_PROGRESSIVE_POPUP="START_PROGRESSIVE_POPUP",e.DISPLAY_VALUES="DISPLAY_VALUES",e}(s.ATEventNames);e.SlotATEventNames=a;var r=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this.doScreenshot=t,this.hasToWaitForIntroVideo=e};e.SlotATIntroOpened=r;var l=function(t){function e(e,i,n,o,s){void 0===s&&(s=!1);var a=t.call(this,s)||this;return a.betValue=e,a.isAutoSpin=i,a.isFreeSpin=n,a.isReSpin=o,a}return o(e,t),e}(s.ATGameroundStarted);e.SlotATGameroundStarted=l;var c=function(t){function e(e,i,n,o,s,a,r,l){void 0===l&&(l=!1);var c=t.call(this,l)||this;return c.coins=e,c.additionalCoins=i,c.freeSpins=n,c.multiplier=o,c.additionalMultiplier=s,c.progressive=a,c.splitReels=r,c}return o(e,t),e}(s.ATGameroundEnded);e.SlotATGameroundEnded=c;var u=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),e.FEATURE_FREE_ROUNDS="free_rounds",e.FEATURE_COPY_SYMBOL="copySymbol",e}(s.ATOnFeature);e.SlotATOnFeature=u;var h=function(t){function e(i,n,o,s,a,r,l,c,u,h,p,d,_){void 0===d&&(d=e.FEATURE_FREE_ROUNDS),void 0===_&&(_=!1);var f=t.call(this,d,_)||this;return f.left=i,f.total=n,f.fRoundUnlimited=o,f.fRoundCap=s,f.coinValue=a,f.lines=r,f.lineBet=l,f.fRoundState=c,f.fRoundTotalWins=u,f.fRoundEndDate=h,f.fRoundDurationRelative=p,f}return o(e,t),e}(u);e.SlotATFeatureStartedFreeRounds=h;var p=function(t){function e(i,n,o,s,a,r,l,c){void 0===s&&(s=!1),void 0===a&&(a=!1),void 0===r&&(r=!0),void 0===l&&(l=e.FEATURE_COPY_SYMBOL),void 0===c&&(c=!0);var u=t.call(this,l,c)||this;return u.symbolsArray=i,u.maskArray=n,u.symbolID=o,u.additive=s,u.non_adjacent_reels=a,u.last=r,u}return o(e,t),e}(u);e.SlotATFeatureStartedCopySymbol=p;var d=function(t){function e(i,n,o,s,a){void 0===s&&(s=e.FEATURE_FREE_ROUNDS),void 0===a&&(a=!1);var r=t.call(this,s,a)||this;return r.left=i,r.fRoundTotalWins=n,r.fRoundConvToBonus=o,r}return o(e,t),e}(u);e.SlotATFeatureEndedFreeRounds=d;var _=function(t){function e(i,n,o,s){void 0===n&&(n=!0),void 0===o&&(o=e.FEATURE_COPY_SYMBOL),void 0===s&&(s=!0);var a=t.call(this,o,s)||this;return a.symbolsArray=i,a.last=n,a}return o(e,t),e}(u);e.SlotATFeatureEndedCopySymbol=_;var f=function(t){function e(e,i,n,o,a){return void 0===n&&(n=s.ATFeaturePopUpOpen.TYPE),void 0===o&&(o=!1),void 0===a&&(a=!0),t.call(this,e,i,n,o,a)||this}return o(e,t),e.BONUS_START_POPUP="BONUS_POP_UP_START",e.BONUS_END_POPUP="BONUS_POP_UP_END",e.START_FREE_SPINS_POPUP="startFreeSpinsPopUp",e.EXTRA_FREE_SPINS_POPUP="extraFreeSpinsPopUp",e.END_FREE_SPINS_POPUP="endFreeSpinsPopUp",e.END_FREE_ROUNDS_POPUP="endFreeRoundsPopUp",e.START_FREE_ROUNDS_POPUP="startFreeRoundsPopUp",e.RESUME_FREE_ROUNDS_POPUP="resumeFreeRoundsPopUp",e.HIDE_BONUS_START_BTN="uiHideBonusStartPopUpButton",e.HIDE_BONUS_END_BTN="uiHideBonusEndPopUpButton",e.HIDE_FREE_SPINS_START_BTN="uiHideFreeSpinsStartPopUpButton",e.HIDE_FREE_SPINS_EXTRA_BTN="uiHideFreeSpinsExtraPopUpButton",e.HIDE_FREE_SPINS_END_BTN="uiHideFreeSpinsEndPopUpButton",e.RESUME_FREE_ROUNDS_START_BTN="resumeFreeRoundsStartButton",e.RESUME_FREE_ROUNDS_END_BTN="resumeFreeRoundsEndButton",e.ACCEPT_FREE_ROUNDS_START_BTN="acceptFreeRoundsStartButton",e.DECLINE_FREE_ROUNDS_START_BTN="declineFreeRoundsStartButton",e}(s.ATFeaturePopUpOpen);e.SlotATFeaturePopUpOpen=f;var y=function(){function t(t,e){this.featureName=t,this.doScreenshot=e}return t.FREE_SPINS_GROUP="freeSpins",t.RE_SPINS_GROUP="reSpins",t}();e.SlotATSpinsGroup=y;var m=function(t){function e(e,i){return void 0===i&&(i=!1),t.call(this,e,i)||this}return o(e,t),e}(y);e.SlotATSpinsGroupStarted=m;var N=function(t){function e(e,i){return void 0===i&&(i=!1),t.call(this,e,i)||this}return o(e,t),e}(y);e.SlotATSpinsGroupEnded=N;var S=function(t,e,i){void 0===i&&(i=!1),this.bonusType=t,this.stepsTotal=e,this.doScreenshot=i};e.SlotATCurrentBonusDetails=S;var g=function(t,e,i,n,o){void 0===o&&(o=!1),this.stepID=t,this.playerOptionsCount=e,this.totalOptionsCount=i,this.revealUnselectedOptions=n,this.doScreenshot=o};e.SlotATCurrentStepDetails=g;var A=function(t,e,i,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=!0),this.coins=t,this.freeSpins=e,this.multiplier=i,this.progressive=n,this.doScreenshot=o};e.SlotATBonusChoiceAnimFinished=A;var E=function(t,e,i,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=!1),this.coins=t,this.freeSpins=e,this.multiplier=i,this.progressive=n,this.doScreenshot=o};e.SlotATBonusWinnings=E},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=function(t){function e(e,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=null),void 0===r&&(r=null);var l=t.call(this,e,i,o,r)||this;return 1!=n||s.isNil(l.componentPortrait)||a.Device.addDeviceOrientationListener(e,l.deviceOrientationChanged.bind(l)),l}return o(e,t),e.prototype.deviceOrientationChanged=function(){this.currentOrientation=a.Device.isLandscape(),this.functionCallback?this.functionCallback.call(null,this,this.argsCallback):0==this.currentOrientation?this.componentPortrait&&(this.componentPortrait.text.dirty=!0,this.updateLabel(this.componentPortrait.text.text,!0)):this.componentLandscape&&(this.componentLandscape.text.dirty=!0,this.updateLabel(this.componentLandscape.text.text,!0))},e.prototype.updateLabel=function(t,e){void 0===e&&(e=!0),this.currentComponent&&this.currentComponent.updateLabel(t,e),this.nonCurrentComponent&&this.nonCurrentComponent.updateLabel(t,e)},Object.defineProperty(e.prototype,"currentOrientation",{get:function(){return this._currentOrientation},set:function(t){this._currentOrientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.currentComponent.text},set:function(t){this.currentComponent.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.currentComponent.fontSize},set:function(t){this.currentComponent.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needToGrowBy",{get:function(){return this.currentComponent.needToGrowBy||0},enumerable:!0,configurable:!0}),e}(i(86).ControllerBaseComponent);e.ControllerTextField=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),o=function(){function t(){}return t.UPDATE_DISPLAY_SYMBOLS=n.MegawaysNames.MEGAWAYS_NAME+"UPDATE_DISPLAY_SYMBOLS",t.UPDATE_NEAR_MISS=n.MegawaysNames.MEGAWAYS_NAME+"UPDATE_NEAR_MISS",t.SYMBOLS_REMOVE_FINISHED=n.MegawaysNames.MEGAWAYS_NAME+"SYMBOLS_REMOVE_FINISHED",t.DO_CASCADE_SPIN=n.MegawaysNames.MEGAWAYS_NAME+"DO_CASCADE_SPIN",t.PARSE_SPECIAL_SYMBOLS=n.MegawaysNames.MEGAWAYS_NAME+"PARSE_SPECIAL_SYMBOLS",t.SEND_SPINE_ANTICIPATION_CONFIGURATION=n.MegawaysNames.MEGAWAYS_NAME+"SEND_SPINE_ANTICIPATION_CONFIGURATION",t.NEAR_MISS_BEGINS=n.MegawaysNames.MEGAWAYS_NAME+"NEAR_MISS_BEGINS",t.NEAR_MISS_ENDS=n.MegawaysNames.MEGAWAYS_NAME+"NEAR_MISS_ENDS",t.SKIP_CASCADE_SUMMARY=n.MegawaysNames.MEGAWAYS_NAME+"SKIP_CASCADE_SUMMARY",t.START_CASCADE_SUMMARY=n.MegawaysNames.MEGAWAYS_NAME+"START_CASCADE_SUMMARY",t.FINISH_CASCADE_SUMMARY=n.MegawaysNames.MEGAWAYS_NAME+"FINISH_CASCADE_SUMMARY",t.STRIP_ALLOW_UPDATE_BALANCE=n.MegawaysNames.MEGAWAYS_NAME+"STRIP_ALLOW_UPDATE_BALANCE",t.UPDATE_STRIP_BALANCE=n.MegawaysNames.MEGAWAYS_NAME+"UPDATE_STRIP_BALANCE",t.UPDATE_STRIP_WINNINGS_ONLY=n.MegawaysNames.MEGAWAYS_NAME+"UPDATE_STRIP_WINNINGS_ONLY",t}();e.MegawaysNotifications=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SHOW_REEL_MODIFIER="SHOW_REEL_MODIFIER",t.SEND_SCATTER_VALUES="SEND_SCATTER_VALUES",t.SEND_SCATTER_VALUES_INITIAL="SEND_SCATTER_VALUES_INITIAL",t}();e.AztecNotifications=n;var o=function(){function t(){}return t.MODIFIERS_VIEW="MODIFIERS_VIEW",t}();e.AztecViews=o;var s=function(){function t(){}return t.MODIFIER_MODULE="MODIFIER_MODULE",t.RESPINS_MODULE="RESPINS_MODULE",t}();e.AztecModules=s;var a=function(){function t(){}return t.MODIFIER_PROXY="MODIFIER_PROXY",t}();e.AztecProxies=a;var r=function(){function t(){}return t.BIG_SPINES_X=792,t.BIG_SPINES_Y=360,t.BIG_SPINES_SCALE=.5,t.BIG_SPINES_PORTRAIT_X=792,t.BIG_SPINES_PORTRAIT_Y=510,t.BIG_SPINES_PORTRAIT_SCALE=.37,t}();e.AztecAssetPositions=r;var l=function(){function t(){}return t.MODIFIER_SHOWING="MODIFIER_SHOWING",t.BIG_WIN_END_ACTION="BIG_WIN_END_ACTION",t.BIG_WIN_ALLOW_SKIP_ACTION="BIG_WIN_ALLOW_SKIP_ACTION",t.STATIC_WIN_SUMMARY="STATIC_WIN_SUMMARY",t}();e.AztecUiActions=l;var c=function(){function t(){}return t.USER_INTERFACE="userInterface",t}();e.ViewNames=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(87),s=i(4),a=function(){function t(){}return t.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},t.parseUrl=function(t){return t.search("www")>=0&&t.search("http")<0&&(t="http://"+t),t},t.onLobbyHomeButton=function(){var e=o.Settings.instance.getValue("name").split(",")[0],i=[],a=o.Settings.instance.getValue("CUSTOM_LOBBY_ACTIONS");if(n.isNil(a)||n.isNil(a.licensees)||(i=a.licensees.split(",")),i.indexOf(e)>=0){var r={data:{},method:"lobby"};n.isNil(window.parent)||(window.parent.postMessage(r,"*"),n.isNil(window.parent.parent)||window.parent.parent.postMessage(r,"*"))}else{var l=o.Settings.instance.getValue("lobbyUrl");if(n.isEmpty(t.CUSTOM_LOBBY_URL)||(l=t.CUSTOM_LOBBY_URL),!n.isNil(l))if(l.search("www")>=0||l.search("http")>=0||"//"==l.substr(0,2))if(l=t.parseUrl(l),t.inIframe())window.top.location.href=l;else navigator.userAgent.indexOf("Opera Mini")>-1||s.Device.instance().iOS&&navigator.userAgent.indexOf("Opera")>-1?window.location.href=l:window.open(l,"_self");else n.isFunction(window[l])?window[l]():!n.isNil(window.parent)&&n.isFunction(window.parent[l])&&window.parent[l]()}},t.onReloadButton=function(){location.reload()},t.onCloseButton=function(){var e=o.Settings.instance.getValue("lobbyUrl");s.Device.instance().desktop&&window.close(),n.isNil(e)?s.Device.instance().iOS?setTimeout(window.close,300):window.close():t.onLobbyHomeButton()},t.onHistoryButton=function(e){var i;i=n.isNil(e)?o.Settings.instance.getValue("historyUrl"):e,!n.isNil(i)&&""!==i&&this.httpPresent(i)&&window.open(t.parseUrl(i))},t.onRulesButton=function(){var t=o.Settings.instance.getValue("rulesUrl");!n.isNil(t)&&""!==t&&this.httpPresent(t)&&window.open(t)},t.getIntroFromCookie=function(){var t=o.Settings.instance.getCookie("NEVER_SHOW_INTRO");return!!this.checkForSkipIntro()||!n.isNil(t)&&("true"==t||"1"==t)},t.checkForSkipIntro=function(){var t=!1,e=o.Settings.instance.getValue("name").split(",")[0];return o.Settings.instance.getSpecificKey("SKIP_INTRO","enabled")&&o.Settings.instance.getSpecificKey("SKIP_INTRO","lid").indexOf(e)>-1&&(t=!0),t},t.httpPresent=function(t){var e=/\bhttp:|https:/i.exec(t);return!n.isNil(e)&&e.index>-1},t.isChromiumBrowser=function(){return/Chrome/.test(navigator.userAgent)||/CriOS/.test(navigator.userAgent)},t.ROUND_COMPENSATION=3,t.CUSTOM_LOBBY_URL="",t}();e.WindowUtil=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(17),r=PIXI.Container,l=PIXI.Graphics,c=function(t){function e(i,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var r=t.call(this)||this;return r.type="BaseComponent",r._name=i,r._serviceLocator=a.ServiceLocator.instance(),r.settings=r._serviceLocator.get("Settings"),r.translations=r._serviceLocator.get("Translations"),s.isNil(n)||(r.params=n,s.isNil(o)||r.checkMandatoryParams(o)),s.isNil(e.DEBUG_GRAPHICS)&&(e.DEBUG_GRAPHICS="true"==r.settings.getValue("debugGraphics")),1==e.DEBUG_GRAPHICS&&(r.objectDebugBounds=r,r.debugBounds=new l,r.setIntervalDrawBounds()),r}return o(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t},enumerable:!0,configurable:!0}),e.prototype.setIntervalDrawBounds=function(){setInterval(this.drawBounds.bind(this),5e3)},e.prototype.drawBounds=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),this.debugBounds.clear(),this.debugBounds.lineStyle(1,16777215),this.debugBounds.beginFill(16750848,0),s.isNil(t)||s.isNil(e)){var i=this.getLocalBounds();t=i.width,e=i.height}this.debugBounds.drawRect(0,0,t-1,e-1),this.debugBounds.endFill(),s.includes(this.children,this.debugBounds)||this.addChild(this.debugBounds)},e.prototype.checkMandatoryParams=function(t){var e=this;s.each(t,(function(t){if(0==e.params.hasOwnProperty(t))throw new Error('Param: "'+t+'" missing in XML for element : '+e.name)}))},e.DEBUG_GRAPHICS=null,e}(r);e.BaseComponent=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(17),s=i(4),a=i(6),r=function(){function t(){}return t.formatNumber=function(e,i){return void 0===i&&(i=0),t.format(e,i)},t.formatCurrency=function(e,i){void 0===i&&(i=2);var n=t.format(e,i);return o.ServiceLocator.instance().get("Settings").getCurrencyString(n,!1)},t.formatCoins=function(e,i){return void 0===i&&(i=0),t.format(e,i).replace(/\..+/,"")},t.format=function(t,e){var i="";if(!n.isNil(t)){var o=t.toFixed(e).toString();i=this.applySeparators(o,e)}return i},t.init=function(){var t=this.SAMPLE.toLocaleString();if(8==t.length){if(s.Device.instance().iOS&&s.Device.instance().iOSVersion<=9){var e=this.SAMPLE.toString().split(".");t=e[0].replace(/.(?=(?:.{3})+$)/g,"$&,")+(2==e.length?"."+e[1]:"")}this.DECIMAL_SEPARATOR=t.charAt(5),this.THOUSANDS_SEPARATOR=t.charAt(1)}else this.DECIMAL_SEPARATOR=".",this.THOUSANDS_SEPARATOR=","},t.applySeparators=function(t,e){if((n.isNil(this.DECIMAL_SEPARATOR)||n.isNil(this.THOUSANDS_SEPARATOR))&&this.init(),0===e)return this.getStringWithThousandsSeparator(t);var i=t.match(/[^\d]/g)[0];if(i){var o=t.split(i);return this.getStringWithThousandsSeparator(o[0])+this.DECIMAL_SEPARATOR+o[1]}return a.Log.warningch("NumberFormatterUtil","Something went wrong, a number was declared having fractional part, but we can't find any!"),t},t.getStringWithThousandsSeparator=function(t){for(var e=0,i="",n=t.length-1;n>=0;n--)3==e&&(i+=this.THOUSANDS_SEPARATOR,e=0),i+=t[n],e++;return i.split("").reverse().join("")},t.SAMPLE=1000.12,t}();e.NumberFormatterUtil=r},function(t,e,i){(function(t){var n;(function(){var o="Expected a function",s="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",_="[object Map]",f="[object Number]",y="[object Object]",m="[object RegExp]",N="[object Set]",S="[object String]",g="[object Symbol]",A="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",v="[object Uint8Array]",M="[object Uint16Array]",L="[object Uint32Array]",R=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,w=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,B=RegExp(x.source),G=RegExp(U.source),V=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,X=RegExp(Y.source),K=/^\s+|\s+$/g,z=/^\s+/,q=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,it=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",_t="["+pt+"]",ft="["+ht+"]",yt="\\d+",mt="[\\u2700-\\u27bf]",Nt="[a-z\\xdf-\\xf6\\xf8-\\xff]",St="[^\\ud800-\\udfff"+pt+yt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",gt="\\ud83c[\\udffb-\\udfff]",At="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="(?:"+Nt+"|"+St+")",Pt="(?:"+Ot+"|"+St+")",bt="(?:"+ft+"|"+gt+")"+"?",Ct="[\\ufe0e\\ufe0f]?"+bt+("(?:\\u200d(?:"+[At,Et,It].join("|")+")[\\ufe0e\\ufe0f]?"+bt+")*"),vt="(?:"+[mt,Et,It].join("|")+")"+Ct,Mt="(?:"+[At+ft+"?",ft,Et,It,dt].join("|")+")",Lt=RegExp("['’]","g"),Rt=RegExp(ft,"g"),Dt=RegExp(gt+"(?="+gt+")|"+Mt+Ct,"g"),wt=RegExp([Ot+"?"+Nt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[_t,Ot,"$"].join("|")+")",Pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[_t,Ot+Tt,"$"].join("|")+")",Ot+"?"+Tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yt,vt].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Vt={};Vt[O]=Vt[T]=Vt[P]=Vt[b]=Vt[C]=Vt[v]=Vt["[object Uint8ClampedArray]"]=Vt[M]=Vt[L]=!0,Vt[r]=Vt[l]=Vt[E]=Vt[c]=Vt[I]=Vt[u]=Vt[h]=Vt[p]=Vt[_]=Vt[f]=Vt[y]=Vt[m]=Vt[N]=Vt[S]=Vt[A]=!1;var Wt={};Wt[r]=Wt[l]=Wt[E]=Wt[I]=Wt[c]=Wt[u]=Wt[O]=Wt[T]=Wt[P]=Wt[b]=Wt[C]=Wt[_]=Wt[f]=Wt[y]=Wt[m]=Wt[N]=Wt[S]=Wt[g]=Wt[v]=Wt["[object Uint8ClampedArray]"]=Wt[M]=Wt[L]=!0,Wt[h]=Wt[p]=Wt[A]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ht=parseInt,jt="object"==typeof global&&global&&global.Object===Object&&global,Yt="object"==typeof self&&self&&self.Object===Object&&self,Xt=jt||Yt||Function("return this")(),Kt=e&&!e.nodeType&&e,zt=Kt&&"object"==typeof t&&t&&!t.nodeType&&t,qt=zt&&zt.exports===Kt,Zt=qt&&jt.process,Jt=function(){try{var t=zt&&zt.require&&zt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),$t=Jt&&Jt.isArrayBuffer,Qt=Jt&&Jt.isDate,te=Jt&&Jt.isMap,ee=Jt&&Jt.isRegExp,ie=Jt&&Jt.isSet,ne=Jt&&Jt.isTypedArray;function oe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function se(t,e,i,n){for(var o=-1,s=null==t?0:t.length;++o<s;){var a=t[o];e(n,a,i(a),t)}return n}function ae(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function re(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function le(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function ce(t,e){for(var i=-1,n=null==t?0:t.length,o=0,s=[];++i<n;){var a=t[i];e(a,i,t)&&(s[o++]=a)}return s}function ue(t,e){return!!(null==t?0:t.length)&&ge(t,e,0)>-1}function he(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function pe(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function de(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function _e(t,e,i,n){var o=-1,s=null==t?0:t.length;for(n&&s&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);return i}function fe(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}function ye(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var me=Oe("length");function Ne(t,e,i){var n;return i(t,(function(t,i,o){if(e(t,i,o))return n=i,!1})),n}function Se(t,e,i,n){for(var o=t.length,s=i+(n?1:-1);n?s--:++s<o;)if(e(t[s],s,t))return s;return-1}function ge(t,e,i){return e==e?function(t,e,i){var n=i-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,i):Se(t,Ee,i)}function Ae(t,e,i,n){for(var o=i-1,s=t.length;++o<s;)if(n(t[o],e))return o;return-1}function Ee(t){return t!=t}function Ie(t,e){var i=null==t?0:t.length;return i?be(t,e)/i:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return function(e){return null==t?void 0:t[e]}}function Pe(t,e,i,n,o){return o(t,(function(t,o,s){i=n?(n=!1,t):e(i,t,o,s)})),i}function be(t,e){for(var i,n=-1,o=t.length;++n<o;){var s=e(t[n]);void 0!==s&&(i=void 0===i?s:i+s)}return i}function Ce(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function ve(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Le(t,e){return t.has(e)}function Re(t,e){for(var i=-1,n=t.length;++i<n&&ge(e,t[i],0)>-1;);return i}function De(t,e){for(var i=t.length;i--&&ge(e,t[i],0)>-1;);return i}function we(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var xe=Te({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=Te({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Be(t){return"\\"+Ft[t]}function Ge(t){return xt.test(t)}function Ve(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function We(t,e){return function(i){return t(e(i))}}function Fe(t,e){for(var i=-1,n=t.length,o=0,a=[];++i<n;){var r=t[i];r!==e&&r!==s||(t[i]=s,a[o++]=i)}return a}function ke(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function He(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function je(t){return Ge(t)?function(t){var e=Dt.lastIndex=0;for(;Dt.test(t);)++e;return e}(t):me(t)}function Ye(t){return Ge(t)?function(t){return t.match(Dt)||[]}(t):function(t){return t.split("")}(t)}var Xe=Te({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ke=function t(e){var i,n=(e=null==e?Xt:Ke.defaults(Xt.Object(),e,Ke.pick(Xt,Bt))).Array,ht=e.Date,pt=e.Error,dt=e.Function,_t=e.Math,ft=e.Object,yt=e.RegExp,mt=e.String,Nt=e.TypeError,St=n.prototype,gt=dt.prototype,At=ft.prototype,Et=e["__core-js_shared__"],It=gt.toString,Ot=At.hasOwnProperty,Tt=0,Pt=(i=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",bt=At.toString,Ct=It.call(ft),vt=Xt._,Mt=yt("^"+It.call(Ot).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=qt?e.Buffer:void 0,xt=e.Symbol,Ft=e.Uint8Array,jt=Dt?Dt.allocUnsafe:void 0,Yt=We(ft.getPrototypeOf,ft),Kt=ft.create,zt=At.propertyIsEnumerable,Zt=St.splice,Jt=xt?xt.isConcatSpreadable:void 0,me=xt?xt.iterator:void 0,Te=xt?xt.toStringTag:void 0,ze=function(){try{var t=ts(ft,"defineProperty");return t({},"",{}),t}catch(t){}}(),qe=e.clearTimeout!==Xt.clearTimeout&&e.clearTimeout,Ze=ht&&ht.now!==Xt.Date.now&&ht.now,Je=e.setTimeout!==Xt.setTimeout&&e.setTimeout,$e=_t.ceil,Qe=_t.floor,ti=ft.getOwnPropertySymbols,ei=Dt?Dt.isBuffer:void 0,ii=e.isFinite,ni=St.join,oi=We(ft.keys,ft),si=_t.max,ai=_t.min,ri=ht.now,li=e.parseInt,ci=_t.random,ui=St.reverse,hi=ts(e,"DataView"),pi=ts(e,"Map"),di=ts(e,"Promise"),_i=ts(e,"Set"),fi=ts(e,"WeakMap"),yi=ts(ft,"create"),mi=fi&&new fi,Ni={},Si=bs(hi),gi=bs(pi),Ai=bs(di),Ei=bs(_i),Ii=bs(fi),Oi=xt?xt.prototype:void 0,Ti=Oi?Oi.valueOf:void 0,Pi=Oi?Oi.toString:void 0;function bi(t){if(ja(t)&&!Da(t)&&!(t instanceof Li)){if(t instanceof Mi)return t;if(Ot.call(t,"__wrapped__"))return Cs(t)}return new Mi(t)}var Ci=function(){function t(){}return function(e){if(!Ha(e))return{};if(Kt)return Kt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function vi(){}function Mi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Li(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Di(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function wi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function xi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new wi;++e<i;)this.add(t[e])}function Ui(t){var e=this.__data__=new Di(t);this.size=e.size}function Bi(t,e){var i=Da(t),n=!i&&Ra(t),o=!i&&!n&&Ba(t),s=!i&&!n&&!o&&$a(t),a=i||n||o||s,r=a?Ce(t.length,mt):[],l=r.length;for(var c in t)!e&&!Ot.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rs(c,l))||r.push(c);return r}function Gi(t){var e=t.length;return e?t[Un(0,e-1)]:void 0}function Vi(t,e){return Os(No(t),zi(e,0,t.length))}function Wi(t){return Os(No(t))}function Fi(t,e,i){(void 0!==i&&!va(t[e],i)||void 0===i&&!(e in t))&&Xi(t,e,i)}function ki(t,e,i){var n=t[e];Ot.call(t,e)&&va(n,i)&&(void 0!==i||e in t)||Xi(t,e,i)}function Hi(t,e){for(var i=t.length;i--;)if(va(t[i][0],e))return i;return-1}function ji(t,e,i,n){return Qi(t,(function(t,o,s){e(n,t,i(t),s)})),n}function Yi(t,e){return t&&So(e,gr(e),t)}function Xi(t,e,i){"__proto__"==e&&ze?ze(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Ki(t,e){for(var i=-1,o=e.length,s=n(o),a=null==t;++i<o;)s[i]=a?void 0:fr(t,e[i]);return s}function zi(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function qi(t,e,i,n,o,s){var a,l=1&e,h=2&e,A=4&e;if(i&&(a=o?i(t,n,o,s):i(t)),void 0!==a)return a;if(!Ha(t))return t;var R=Da(t);if(R){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!l)return No(t,a)}else{var D=ns(t),w=D==p||D==d;if(Ba(t))return ho(t,l);if(D==y||D==r||w&&!o){if(a=h||w?{}:ss(t),!l)return h?function(t,e){return So(t,is(t),e)}(t,function(t,e){return t&&So(e,Ar(e),t)}(a,t)):function(t,e){return So(t,es(t),e)}(t,Yi(a,t))}else{if(!Wt[D])return o?t:{};a=function(t,e,i){var n=t.constructor;switch(e){case E:return po(t);case c:case u:return new n(+t);case I:return function(t,e){var i=e?po(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case O:case T:case P:case b:case C:case v:case"[object Uint8ClampedArray]":case M:case L:return _o(t,i);case _:return new n;case f:case S:return new n(t);case m:return function(t){var e=new t.constructor(t.source,it.exec(t));return e.lastIndex=t.lastIndex,e}(t);case N:return new n;case g:return o=t,Ti?ft(Ti.call(o)):{}}var o}(t,D,l)}}s||(s=new Ui);var x=s.get(t);if(x)return x;s.set(t,a),qa(t)?t.forEach((function(n){a.add(qi(n,e,i,n,t,s))})):Ya(t)&&t.forEach((function(n,o){a.set(o,qi(n,e,i,o,t,s))}));var U=R?void 0:(A?h?Ko:Xo:h?Ar:gr)(t);return ae(U||t,(function(n,o){U&&(n=t[o=n]),ki(a,o,qi(n,e,i,o,t,s))})),a}function Zi(t,e,i){var n=i.length;if(null==t)return!n;for(t=ft(t);n--;){var o=i[n],s=e[o],a=t[o];if(void 0===a&&!(o in t)||!s(a))return!1}return!0}function Ji(t,e,i){if("function"!=typeof t)throw new Nt(o);return gs((function(){t.apply(void 0,i)}),e)}function $i(t,e,i,n){var o=-1,s=ue,a=!0,r=t.length,l=[],c=e.length;if(!r)return l;i&&(e=pe(e,ve(i))),n?(s=he,a=!1):e.length>=200&&(s=Le,a=!1,e=new xi(e));t:for(;++o<r;){var u=t[o],h=null==i?u:i(u);if(u=n||0!==u?u:0,a&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;l.push(u)}else s(e,h,n)||l.push(u)}return l}bi.templateSettings={escape:V,evaluate:W,interpolate:F,variable:"",imports:{_:bi}},bi.prototype=vi.prototype,bi.prototype.constructor=bi,Mi.prototype=Ci(vi.prototype),Mi.prototype.constructor=Mi,Li.prototype=Ci(vi.prototype),Li.prototype.constructor=Li,Ri.prototype.clear=function(){this.__data__=yi?yi(null):{},this.size=0},Ri.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ri.prototype.get=function(t){var e=this.__data__;if(yi){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Ot.call(e,t)?e[t]:void 0},Ri.prototype.has=function(t){var e=this.__data__;return yi?void 0!==e[t]:Ot.call(e,t)},Ri.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=yi&&void 0===e?"__lodash_hash_undefined__":e,this},Di.prototype.clear=function(){this.__data__=[],this.size=0},Di.prototype.delete=function(t){var e=this.__data__,i=Hi(e,t);return!(i<0)&&(i==e.length-1?e.pop():Zt.call(e,i,1),--this.size,!0)},Di.prototype.get=function(t){var e=this.__data__,i=Hi(e,t);return i<0?void 0:e[i][1]},Di.prototype.has=function(t){return Hi(this.__data__,t)>-1},Di.prototype.set=function(t,e){var i=this.__data__,n=Hi(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},wi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ri,map:new(pi||Di),string:new Ri}},wi.prototype.delete=function(t){var e=$o(this,t).delete(t);return this.size-=e?1:0,e},wi.prototype.get=function(t){return $o(this,t).get(t)},wi.prototype.has=function(t){return $o(this,t).has(t)},wi.prototype.set=function(t,e){var i=$o(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},xi.prototype.add=xi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},xi.prototype.has=function(t){return this.__data__.has(t)},Ui.prototype.clear=function(){this.__data__=new Di,this.size=0},Ui.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ui.prototype.get=function(t){return this.__data__.get(t)},Ui.prototype.has=function(t){return this.__data__.has(t)},Ui.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Di){var n=i.__data__;if(!pi||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new wi(n)}return i.set(t,e),this.size=i.size,this};var Qi=Eo(ln),tn=Eo(cn,!0);function en(t,e){var i=!0;return Qi(t,(function(t,n,o){return i=!!e(t,n,o)})),i}function nn(t,e,i){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(void 0===r?a==a&&!Ja(a):i(a,r)))var r=a,l=s}return l}function on(t,e){var i=[];return Qi(t,(function(t,n,o){e(t,n,o)&&i.push(t)})),i}function sn(t,e,i,n,o){var s=-1,a=t.length;for(i||(i=as),o||(o=[]);++s<a;){var r=t[s];e>0&&i(r)?e>1?sn(r,e-1,i,n,o):de(o,r):n||(o[o.length]=r)}return o}var an=Io(),rn=Io(!0);function ln(t,e){return t&&an(t,e,gr)}function cn(t,e){return t&&rn(t,e,gr)}function un(t,e){return ce(e,(function(e){return Wa(t[e])}))}function hn(t,e){for(var i=0,n=(e=ro(e,t)).length;null!=t&&i<n;)t=t[Ps(e[i++])];return i&&i==n?t:void 0}function pn(t,e,i){var n=e(t);return Da(t)?n:de(n,i(t))}function dn(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Te&&Te in ft(t)?function(t){var e=Ot.call(t,Te),i=t[Te];try{t[Te]=void 0;var n=!0}catch(t){}var o=bt.call(t);n&&(e?t[Te]=i:delete t[Te]);return o}(t):function(t){return bt.call(t)}(t)}function _n(t,e){return t>e}function fn(t,e){return null!=t&&Ot.call(t,e)}function yn(t,e){return null!=t&&e in ft(t)}function mn(t,e,i){for(var o=i?he:ue,s=t[0].length,a=t.length,r=a,l=n(a),c=1/0,u=[];r--;){var h=t[r];r&&e&&(h=pe(h,ve(e))),c=ai(h.length,c),l[r]=!i&&(e||s>=120&&h.length>=120)?new xi(r&&h):void 0}h=t[0];var p=-1,d=l[0];t:for(;++p<s&&u.length<c;){var _=h[p],f=e?e(_):_;if(_=i||0!==_?_:0,!(d?Le(d,f):o(u,f,i))){for(r=a;--r;){var y=l[r];if(!(y?Le(y,f):o(t[r],f,i)))continue t}d&&d.push(f),u.push(_)}}return u}function Nn(t,e,i){var n=null==(t=ys(t,e=ro(e,t)))?t:t[Ps(Vs(e))];return null==n?void 0:oe(n,t,i)}function Sn(t){return ja(t)&&dn(t)==r}function gn(t,e,i,n,o){return t===e||(null==t||null==e||!ja(t)&&!ja(e)?t!=t&&e!=e:function(t,e,i,n,o,s){var a=Da(t),p=Da(e),d=a?l:ns(t),A=p?l:ns(e),O=(d=d==r?y:d)==y,T=(A=A==r?y:A)==y,P=d==A;if(P&&Ba(t)){if(!Ba(e))return!1;a=!0,O=!1}if(P&&!O)return s||(s=new Ui),a||$a(t)?jo(t,e,i,n,o,s):function(t,e,i,n,o,s,a){switch(i){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!s(new Ft(t),new Ft(e)));case c:case u:case f:return va(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case S:return t==e+"";case _:var r=Ve;case N:var l=1&n;if(r||(r=ke),t.size!=e.size&&!l)return!1;var p=a.get(t);if(p)return p==e;n|=2,a.set(t,e);var d=jo(r(t),r(e),n,o,s,a);return a.delete(t),d;case g:if(Ti)return Ti.call(t)==Ti.call(e)}return!1}(t,e,d,i,n,o,s);if(!(1&i)){var b=O&&Ot.call(t,"__wrapped__"),C=T&&Ot.call(e,"__wrapped__");if(b||C){var v=b?t.value():t,M=C?e.value():e;return s||(s=new Ui),o(v,M,i,n,s)}}if(!P)return!1;return s||(s=new Ui),function(t,e,i,n,o,s){var a=1&i,r=Xo(t),l=r.length,c=Xo(e).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var h=r[u];if(!(a?h in e:Ot.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);var _=a;for(;++u<l;){h=r[u];var f=t[h],y=e[h];if(n)var m=a?n(y,f,h,e,t,s):n(f,y,h,t,e,s);if(!(void 0===m?f===y||o(f,y,i,n,s):m)){d=!1;break}_||(_="constructor"==h)}if(d&&!_){var N=t.constructor,S=e.constructor;N==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof N&&N instanceof N&&"function"==typeof S&&S instanceof S||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,i,n,o,s)}(t,e,i,n,gn,o))}function An(t,e,i,n){var o=i.length,s=o,a=!n;if(null==t)return!s;for(t=ft(t);o--;){var r=i[o];if(a&&r[2]?r[1]!==t[r[0]]:!(r[0]in t))return!1}for(;++o<s;){var l=(r=i[o])[0],c=t[l],u=r[1];if(a&&r[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Ui;if(n)var p=n(c,u,l,t,e,h);if(!(void 0===p?gn(u,c,3,n,h):p))return!1}}return!0}function En(t){return!(!Ha(t)||(e=t,Pt&&Pt in e))&&(Wa(t)?Mt:st).test(bs(t));var e}function In(t){return"function"==typeof t?t:null==t?Xr:"object"==typeof t?Da(t)?vn(t[0],t[1]):Cn(t):el(t)}function On(t){if(!ps(t))return oi(t);var e=[];for(var i in ft(t))Ot.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Tn(t){if(!Ha(t))return function(t){var e=[];if(null!=t)for(var i in ft(t))e.push(i);return e}(t);var e=ps(t),i=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&i.push(n);return i}function Pn(t,e){return t<e}function bn(t,e){var i=-1,o=xa(t)?n(t.length):[];return Qi(t,(function(t,n,s){o[++i]=e(t,n,s)})),o}function Cn(t){var e=Qo(t);return 1==e.length&&e[0][2]?_s(e[0][0],e[0][1]):function(i){return i===t||An(i,t,e)}}function vn(t,e){return cs(t)&&ds(e)?_s(Ps(t),e):function(i){var n=fr(i,t);return void 0===n&&n===e?yr(i,t):gn(e,n,3)}}function Mn(t,e,i,n,o){t!==e&&an(e,(function(s,a){if(o||(o=new Ui),Ha(s))!function(t,e,i,n,o,s,a){var r=Ns(t,i),l=Ns(e,i),c=a.get(l);if(c)return void Fi(t,i,c);var u=s?s(r,l,i+"",t,e,a):void 0,h=void 0===u;if(h){var p=Da(l),d=!p&&Ba(l),_=!p&&!d&&$a(l);u=l,p||d||_?Da(r)?u=r:Ua(r)?u=No(r):d?(h=!1,u=ho(l,!0)):_?(h=!1,u=_o(l,!0)):u=[]:Ka(l)||Ra(l)?(u=r,Ra(r)?u=ar(r):Ha(r)&&!Wa(r)||(u=ss(l))):h=!1}h&&(a.set(l,u),o(u,l,n,s,a),a.delete(l));Fi(t,i,u)}(t,e,a,i,Mn,n,o);else{var r=n?n(Ns(t,a),s,a+"",t,e,o):void 0;void 0===r&&(r=s),Fi(t,a,r)}}),Ar)}function Ln(t,e){var i=t.length;if(i)return rs(e+=e<0?i:0,i)?t[e]:void 0}function Rn(t,e,i){var n=-1;return e=pe(e.length?e:[Xr],ve(Jo())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(bn(t,(function(t,i,o){return{criteria:pe(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,i){var n=-1,o=t.criteria,s=e.criteria,a=o.length,r=i.length;for(;++n<a;){var l=fo(o[n],s[n]);if(l){if(n>=r)return l;var c=i[n];return l*("desc"==c?-1:1)}}return t.index-e.index}(t,e,i)}))}function Dn(t,e,i){for(var n=-1,o=e.length,s={};++n<o;){var a=e[n],r=hn(t,a);i(r,a)&&Fn(s,ro(a,t),r)}return s}function wn(t,e,i,n){var o=n?Ae:ge,s=-1,a=e.length,r=t;for(t===e&&(e=No(e)),i&&(r=pe(t,ve(i)));++s<a;)for(var l=0,c=e[s],u=i?i(c):c;(l=o(r,u,l,n))>-1;)r!==t&&Zt.call(r,l,1),Zt.call(t,l,1);return t}function xn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==s){var s=o;rs(o)?Zt.call(t,o,1):Qn(t,o)}}return t}function Un(t,e){return t+Qe(ci()*(e-t+1))}function Bn(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Qe(e/2))&&(t+=t)}while(e);return i}function Gn(t,e){return As(fs(t,e,Xr),t+"")}function Vn(t){return Gi(vr(t))}function Wn(t,e){var i=vr(t);return Os(i,zi(e,0,i.length))}function Fn(t,e,i,n){if(!Ha(t))return t;for(var o=-1,s=(e=ro(e,t)).length,a=s-1,r=t;null!=r&&++o<s;){var l=Ps(e[o]),c=i;if(o!=a){var u=r[l];void 0===(c=n?n(u,l,r):void 0)&&(c=Ha(u)?u:rs(e[o+1])?[]:{})}ki(r,l,c),r=r[l]}return t}var kn=mi?function(t,e){return mi.set(t,e),t}:Xr,Hn=ze?function(t,e){return ze(t,"toString",{configurable:!0,enumerable:!1,value:Hr(e),writable:!0})}:Xr;function jn(t){return Os(vr(t))}function Yn(t,e,i){var o=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var a=n(s);++o<s;)a[o]=t[o+e];return a}function Xn(t,e){var i;return Qi(t,(function(t,n,o){return!(i=e(t,n,o))})),!!i}function Kn(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;n<o;){var s=n+o>>>1,a=t[s];null!==a&&!Ja(a)&&(i?a<=e:a<e)?n=s+1:o=s}return o}return zn(t,e,Xr,i)}function zn(t,e,i,n){e=i(e);for(var o=0,s=null==t?0:t.length,a=e!=e,r=null===e,l=Ja(e),c=void 0===e;o<s;){var u=Qe((o+s)/2),h=i(t[u]),p=void 0!==h,d=null===h,_=h==h,f=Ja(h);if(a)var y=n||_;else y=c?_&&(n||p):r?_&&p&&(n||!d):l?_&&p&&!d&&(n||!f):!d&&!f&&(n?h<=e:h<e);y?o=u+1:s=u}return ai(s,4294967294)}function qn(t,e){for(var i=-1,n=t.length,o=0,s=[];++i<n;){var a=t[i],r=e?e(a):a;if(!i||!va(r,l)){var l=r;s[o++]=0===a?0:a}}return s}function Zn(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jn(t){if("string"==typeof t)return t;if(Da(t))return pe(t,Jn)+"";if(Ja(t))return Pi?Pi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $n(t,e,i){var n=-1,o=ue,s=t.length,a=!0,r=[],l=r;if(i)a=!1,o=he;else if(s>=200){var c=e?null:Go(t);if(c)return ke(c);a=!1,o=Le,l=new xi}else l=e?[]:r;t:for(;++n<s;){var u=t[n],h=e?e(u):u;if(u=i||0!==u?u:0,a&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),r.push(u)}else o(l,h,i)||(l!==r&&l.push(h),r.push(u))}return r}function Qn(t,e){return null==(t=ys(t,e=ro(e,t)))||delete t[Ps(Vs(e))]}function to(t,e,i,n){return Fn(t,e,i(hn(t,e)),n)}function eo(t,e,i,n){for(var o=t.length,s=n?o:-1;(n?s--:++s<o)&&e(t[s],s,t););return i?Yn(t,n?0:s,n?s+1:o):Yn(t,n?s+1:0,n?o:s)}function io(t,e){var i=t;return i instanceof Li&&(i=i.value()),_e(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),i)}function no(t,e,i){var o=t.length;if(o<2)return o?$n(t[0]):[];for(var s=-1,a=n(o);++s<o;)for(var r=t[s],l=-1;++l<o;)l!=s&&(a[s]=$i(a[s]||r,t[l],e,i));return $n(sn(a,1),e,i)}function oo(t,e,i){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var r=n<s?e[n]:void 0;i(a,t[n],r)}return a}function so(t){return Ua(t)?t:[]}function ao(t){return"function"==typeof t?t:Xr}function ro(t,e){return Da(t)?t:cs(t,e)?[t]:Ts(rr(t))}var lo=Gn;function co(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:Yn(t,e,i)}var uo=qe||function(t){return Xt.clearTimeout(t)};function ho(t,e){if(e)return t.slice();var i=t.length,n=jt?jt(i):new t.constructor(i);return t.copy(n),n}function po(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function _o(t,e){var i=e?po(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function fo(t,e){if(t!==e){var i=void 0!==t,n=null===t,o=t==t,s=Ja(t),a=void 0!==e,r=null===e,l=e==e,c=Ja(e);if(!r&&!c&&!s&&t>e||s&&a&&l&&!r&&!c||n&&a&&l||!i&&l||!o)return 1;if(!n&&!s&&!c&&t<e||c&&i&&o&&!n&&!s||r&&i&&o||!a&&o||!l)return-1}return 0}function yo(t,e,i,o){for(var s=-1,a=t.length,r=i.length,l=-1,c=e.length,u=si(a-r,0),h=n(c+u),p=!o;++l<c;)h[l]=e[l];for(;++s<r;)(p||s<a)&&(h[i[s]]=t[s]);for(;u--;)h[l++]=t[s++];return h}function mo(t,e,i,o){for(var s=-1,a=t.length,r=-1,l=i.length,c=-1,u=e.length,h=si(a-l,0),p=n(h+u),d=!o;++s<h;)p[s]=t[s];for(var _=s;++c<u;)p[_+c]=e[c];for(;++r<l;)(d||s<a)&&(p[_+i[r]]=t[s++]);return p}function No(t,e){var i=-1,o=t.length;for(e||(e=n(o));++i<o;)e[i]=t[i];return e}function So(t,e,i,n){var o=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var r=e[s],l=n?n(i[r],t[r],r,i,t):void 0;void 0===l&&(l=t[r]),o?Xi(i,r,l):ki(i,r,l)}return i}function go(t,e){return function(i,n){var o=Da(i)?se:ji,s=e?e():{};return o(i,t,Jo(n,2),s)}}function Ao(t){return Gn((function(e,i){var n=-1,o=i.length,s=o>1?i[o-1]:void 0,a=o>2?i[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&ls(i[0],i[1],a)&&(s=o<3?void 0:s,o=1),e=ft(e);++n<o;){var r=i[n];r&&t(e,r,n,s)}return e}))}function Eo(t,e){return function(i,n){if(null==i)return i;if(!xa(i))return t(i,n);for(var o=i.length,s=e?o:-1,a=ft(i);(e?s--:++s<o)&&!1!==n(a[s],s,a););return i}}function Io(t){return function(e,i,n){for(var o=-1,s=ft(e),a=n(e),r=a.length;r--;){var l=a[t?r:++o];if(!1===i(s[l],l,s))break}return e}}function Oo(t){return function(e){var i=Ge(e=rr(e))?Ye(e):void 0,n=i?i[0]:e.charAt(0),o=i?co(i,1).join(""):e.slice(1);return n[t]()+o}}function To(t){return function(e){return _e(Wr(Rr(e).replace(Lt,"")),t,"")}}function Po(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ci(t.prototype),n=t.apply(i,e);return Ha(n)?n:i}}function bo(t){return function(e,i,n){var o=ft(e);if(!xa(e)){var s=Jo(i,3);e=gr(e),i=function(t){return s(o[t],t,o)}}var a=t(e,i,n);return a>-1?o[s?e[a]:a]:void 0}}function Co(t){return Yo((function(e){var i=e.length,n=i,s=Mi.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Nt(o);if(s&&!r&&"wrapper"==qo(a))var r=new Mi([],!0)}for(n=r?n:i;++n<i;){var l=qo(a=e[n]),c="wrapper"==l?zo(a):void 0;r=c&&us(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?r[qo(c[0])].apply(r,c[3]):1==a.length&&us(a)?r[l]():r.thru(a)}return function(){var t=arguments,n=t[0];if(r&&1==t.length&&Da(n))return r.plant(n).value();for(var o=0,s=i?e[o].apply(this,t):n;++o<i;)s=e[o].call(this,s);return s}}))}function vo(t,e,i,o,s,a,r,l,c,u){var h=128&e,p=1&e,d=2&e,_=24&e,f=512&e,y=d?void 0:Po(t);return function m(){for(var N=arguments.length,S=n(N),g=N;g--;)S[g]=arguments[g];if(_)var A=Zo(m),E=we(S,A);if(o&&(S=yo(S,o,s,_)),a&&(S=mo(S,a,r,_)),N-=E,_&&N<u){var I=Fe(S,A);return Uo(t,e,vo,m.placeholder,i,S,I,l,c,u-N)}var O=p?i:this,T=d?O[t]:t;return N=S.length,l?S=ms(S,l):f&&N>1&&S.reverse(),h&&c<N&&(S.length=c),this&&this!==Xt&&this instanceof m&&(T=y||Po(T)),T.apply(O,S)}}function Mo(t,e){return function(i,n){return function(t,e,i,n){return ln(t,(function(t,o,s){e(n,i(t),o,s)})),n}(i,t,e(n),{})}}function Lo(t,e){return function(i,n){var o;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(o=i),void 0!==n){if(void 0===o)return n;"string"==typeof i||"string"==typeof n?(i=Jn(i),n=Jn(n)):(i=Zn(i),n=Zn(n)),o=t(i,n)}return o}}function Ro(t){return Yo((function(e){return e=pe(e,ve(Jo())),Gn((function(i){var n=this;return t(e,(function(t){return oe(t,n,i)}))}))}))}function Do(t,e){var i=(e=void 0===e?" ":Jn(e)).length;if(i<2)return i?Bn(e,t):e;var n=Bn(e,$e(t/je(e)));return Ge(e)?co(Ye(n),0,t).join(""):n.slice(0,t)}function wo(t){return function(e,i,o){return o&&"number"!=typeof o&&ls(e,i,o)&&(i=o=void 0),e=ir(e),void 0===i?(i=e,e=0):i=ir(i),function(t,e,i,o){for(var s=-1,a=si($e((e-t)/(i||1)),0),r=n(a);a--;)r[o?a:++s]=t,t+=i;return r}(e,i,o=void 0===o?e<i?1:-1:ir(o),t)}}function xo(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=sr(e),i=sr(i)),t(e,i)}}function Uo(t,e,i,n,o,s,a,r,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,o,u?s:void 0,u?a:void 0,u?void 0:s,u?void 0:a,r,l,c],p=i.apply(void 0,h);return us(t)&&Ss(p,h),p.placeholder=n,Es(p,t,e)}function Bo(t){var e=_t[t];return function(t,i){if(t=sr(t),(i=null==i?0:ai(nr(i),292))&&ii(t)){var n=(rr(t)+"e").split("e");return+((n=(rr(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Go=_i&&1/ke(new _i([,-0]))[1]==1/0?function(t){return new _i(t)}:Jr;function Vo(t){return function(e){var i=ns(e);return i==_?Ve(e):i==N?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wo(t,e,i,a,r,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new Nt(o);var p=a?a.length:0;if(p||(e&=-97,a=r=void 0),c=void 0===c?c:si(nr(c),0),u=void 0===u?u:nr(u),p-=r?r.length:0,64&e){var d=a,_=r;a=r=void 0}var f=h?void 0:zo(t),y=[t,e,i,a,r,d,_,l,c,u];if(f&&function(t,e){var i=t[1],n=e[1],o=i|n,a=o<131,r=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!a&&!r)return t;1&n&&(t[2]=e[2],o|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?yo(c,l,e[4]):l,t[4]=c?Fe(t[3],s):e[4]}(l=e[5])&&(c=t[5],t[5]=c?mo(c,l,e[6]):l,t[6]=c?Fe(t[5],s):e[6]);(l=e[7])&&(t[7]=l);128&n&&(t[8]=null==t[8]?e[8]:ai(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(y,f),t=y[0],e=y[1],i=y[2],a=y[3],r=y[4],!(u=y[9]=void 0===y[9]?h?0:t.length:si(y[9]-p,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,i){var o=Po(t);return function s(){for(var a=arguments.length,r=n(a),l=a,c=Zo(s);l--;)r[l]=arguments[l];var u=a<3&&r[0]!==c&&r[a-1]!==c?[]:Fe(r,c);if((a-=u.length)<i)return Uo(t,e,vo,s.placeholder,void 0,r,u,void 0,void 0,i-a);var h=this&&this!==Xt&&this instanceof s?o:t;return oe(h,this,r)}}(t,e,u):32!=e&&33!=e||r.length?vo.apply(void 0,y):function(t,e,i,o){var s=1&e,a=Po(t);return function e(){for(var r=-1,l=arguments.length,c=-1,u=o.length,h=n(u+l),p=this&&this!==Xt&&this instanceof e?a:t;++c<u;)h[c]=o[c];for(;l--;)h[c++]=arguments[++r];return oe(p,s?i:this,h)}}(t,e,i,a);else var m=function(t,e,i){var n=1&e,o=Po(t);return function e(){var s=this&&this!==Xt&&this instanceof e?o:t;return s.apply(n?i:this,arguments)}}(t,e,i);return Es((f?kn:Ss)(m,y),t,e)}function Fo(t,e,i,n){return void 0===t||va(t,At[i])&&!Ot.call(n,i)?e:t}function ko(t,e,i,n,o,s){return Ha(t)&&Ha(e)&&(s.set(e,t),Mn(t,e,void 0,ko,s),s.delete(e)),t}function Ho(t){return Ka(t)?void 0:t}function jo(t,e,i,n,o,s){var a=1&i,r=t.length,l=e.length;if(r!=l&&!(a&&l>r))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var u=-1,h=!0,p=2&i?new xi:void 0;for(s.set(t,e),s.set(e,t);++u<r;){var d=t[u],_=e[u];if(n)var f=a?n(_,d,u,e,t,s):n(d,_,u,t,e,s);if(void 0!==f){if(f)continue;h=!1;break}if(p){if(!ye(e,(function(t,e){if(!Le(p,e)&&(d===t||o(d,t,i,n,s)))return p.push(e)}))){h=!1;break}}else if(d!==_&&!o(d,_,i,n,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function Yo(t){return As(fs(t,void 0,ws),t+"")}function Xo(t){return pn(t,gr,es)}function Ko(t){return pn(t,Ar,is)}var zo=mi?function(t){return mi.get(t)}:Jr;function qo(t){for(var e=t.name+"",i=Ni[e],n=Ot.call(Ni,e)?i.length:0;n--;){var o=i[n],s=o.func;if(null==s||s==t)return o.name}return e}function Zo(t){return(Ot.call(bi,"placeholder")?bi:t).placeholder}function Jo(){var t=bi.iteratee||Kr;return t=t===Kr?In:t,arguments.length?t(arguments[0],arguments[1]):t}function $o(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function Qo(t){for(var e=gr(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,ds(o)]}return e}function ts(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return En(i)?i:void 0}var es=ti?function(t){return null==t?[]:(t=ft(t),ce(ti(t),(function(e){return zt.call(t,e)})))}:ol,is=ti?function(t){for(var e=[];t;)de(e,es(t)),t=Yt(t);return e}:ol,ns=dn;function os(t,e,i){for(var n=-1,o=(e=ro(e,t)).length,s=!1;++n<o;){var a=Ps(e[n]);if(!(s=null!=t&&i(t,a)))break;t=t[a]}return s||++n!=o?s:!!(o=null==t?0:t.length)&&ka(o)&&rs(a,o)&&(Da(t)||Ra(t))}function ss(t){return"function"!=typeof t.constructor||ps(t)?{}:Ci(Yt(t))}function as(t){return Da(t)||Ra(t)||!!(Jt&&t&&t[Jt])}function rs(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&rt.test(t))&&t>-1&&t%1==0&&t<e}function ls(t,e,i){if(!Ha(i))return!1;var n=typeof e;return!!("number"==n?xa(i)&&rs(e,i.length):"string"==n&&e in i)&&va(i[e],t)}function cs(t,e){if(Da(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Ja(t))||(H.test(t)||!k.test(t)||null!=e&&t in ft(e))}function us(t){var e=qo(t),i=bi[e];if("function"!=typeof i||!(e in Li.prototype))return!1;if(t===i)return!0;var n=zo(i);return!!n&&t===n[0]}(hi&&ns(new hi(new ArrayBuffer(1)))!=I||pi&&ns(new pi)!=_||di&&"[object Promise]"!=ns(di.resolve())||_i&&ns(new _i)!=N||fi&&ns(new fi)!=A)&&(ns=function(t){var e=dn(t),i=e==y?t.constructor:void 0,n=i?bs(i):"";if(n)switch(n){case Si:return I;case gi:return _;case Ai:return"[object Promise]";case Ei:return N;case Ii:return A}return e});var hs=Et?Wa:sl;function ps(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function ds(t){return t==t&&!Ha(t)}function _s(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in ft(i)))}}function fs(t,e,i){return e=si(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=si(o.length-e,0),r=n(a);++s<a;)r[s]=o[e+s];s=-1;for(var l=n(e+1);++s<e;)l[s]=o[s];return l[e]=i(r),oe(t,this,l)}}function ys(t,e){return e.length<2?t:hn(t,Yn(e,0,-1))}function ms(t,e){for(var i=t.length,n=ai(e.length,i),o=No(t);n--;){var s=e[n];t[n]=rs(s,i)?o[s]:void 0}return t}function Ns(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ss=Is(kn),gs=Je||function(t,e){return Xt.setTimeout(t,e)},As=Is(Hn);function Es(t,e,i){var n=e+"";return As(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return ae(a,(function(i){var n="_."+i[0];e&i[1]&&!ue(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split($):[]}(n),i)))}function Is(t){var e=0,i=0;return function(){var n=ri(),o=16-(n-i);if(i=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Os(t,e){var i=-1,n=t.length,o=n-1;for(e=void 0===e?n:e;++i<e;){var s=Un(i,o),a=t[s];t[s]=t[i],t[i]=a}return t.length=e,t}var Ts=function(t){var e=Ia(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(j,(function(t,i,n,o){e.push(n?o.replace(tt,"$1"):i||t)})),e}));function Ps(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function bs(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Cs(t){if(t instanceof Li)return t.clone();var e=new Mi(t.__wrapped__,t.__chain__);return e.__actions__=No(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vs=Gn((function(t,e){return Ua(t)?$i(t,sn(e,1,Ua,!0)):[]})),Ms=Gn((function(t,e){var i=Vs(e);return Ua(i)&&(i=void 0),Ua(t)?$i(t,sn(e,1,Ua,!0),Jo(i,2)):[]})),Ls=Gn((function(t,e){var i=Vs(e);return Ua(i)&&(i=void 0),Ua(t)?$i(t,sn(e,1,Ua,!0),void 0,i):[]}));function Rs(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:nr(i);return o<0&&(o=si(n+o,0)),Se(t,Jo(e,3),o)}function Ds(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return void 0!==i&&(o=nr(i),o=i<0?si(n+o,0):ai(o,n-1)),Se(t,Jo(e,3),o,!0)}function ws(t){return(null==t?0:t.length)?sn(t,1):[]}function xs(t){return t&&t.length?t[0]:void 0}var Us=Gn((function(t){var e=pe(t,so);return e.length&&e[0]===t[0]?mn(e):[]})),Bs=Gn((function(t){var e=Vs(t),i=pe(t,so);return e===Vs(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?mn(i,Jo(e,2)):[]})),Gs=Gn((function(t){var e=Vs(t),i=pe(t,so);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?mn(i,void 0,e):[]}));function Vs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ws=Gn(Fs);function Fs(t,e){return t&&t.length&&e&&e.length?wn(t,e):t}var ks=Yo((function(t,e){var i=null==t?0:t.length,n=Ki(t,e);return xn(t,pe(e,(function(t){return rs(t,i)?+t:t})).sort(fo)),n}));function Hs(t){return null==t?t:ui.call(t)}var js=Gn((function(t){return $n(sn(t,1,Ua,!0))})),Ys=Gn((function(t){var e=Vs(t);return Ua(e)&&(e=void 0),$n(sn(t,1,Ua,!0),Jo(e,2))})),Xs=Gn((function(t){var e=Vs(t);return e="function"==typeof e?e:void 0,$n(sn(t,1,Ua,!0),void 0,e)}));function Ks(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Ua(t))return e=si(t.length,e),!0})),Ce(e,(function(e){return pe(t,Oe(e))}))}function zs(t,e){if(!t||!t.length)return[];var i=Ks(t);return null==e?i:pe(i,(function(t){return oe(e,void 0,t)}))}var qs=Gn((function(t,e){return Ua(t)?$i(t,e):[]})),Zs=Gn((function(t){return no(ce(t,Ua))})),Js=Gn((function(t){var e=Vs(t);return Ua(e)&&(e=void 0),no(ce(t,Ua),Jo(e,2))})),$s=Gn((function(t){var e=Vs(t);return e="function"==typeof e?e:void 0,no(ce(t,Ua),void 0,e)})),Qs=Gn(Ks);var ta=Gn((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,zs(t,i)}));function ea(t){var e=bi(t);return e.__chain__=!0,e}function ia(t,e){return e(t)}var na=Yo((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,o=function(e){return Ki(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Li&&rs(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:ia,args:[o],thisArg:void 0}),new Mi(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));var oa=go((function(t,e,i){Ot.call(t,i)?++t[i]:Xi(t,i,1)}));var sa=bo(Rs),aa=bo(Ds);function ra(t,e){return(Da(t)?ae:Qi)(t,Jo(e,3))}function la(t,e){return(Da(t)?re:tn)(t,Jo(e,3))}var ca=go((function(t,e,i){Ot.call(t,i)?t[i].push(e):Xi(t,i,[e])}));var ua=Gn((function(t,e,i){var o=-1,s="function"==typeof e,a=xa(t)?n(t.length):[];return Qi(t,(function(t){a[++o]=s?oe(e,t,i):Nn(t,e,i)})),a})),ha=go((function(t,e,i){Xi(t,i,e)}));function pa(t,e){return(Da(t)?pe:bn)(t,Jo(e,3))}var da=go((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var _a=Gn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&ls(t,e[0],e[1])?e=[]:i>2&&ls(e[0],e[1],e[2])&&(e=[e[0]]),Rn(t,sn(e,1),[])})),fa=Ze||function(){return Xt.Date.now()};function ya(t,e,i){return e=i?void 0:e,Wo(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var i;if("function"!=typeof e)throw new Nt(o);return t=nr(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var Na=Gn((function(t,e,i){var n=1;if(i.length){var o=Fe(i,Zo(Na));n|=32}return Wo(t,n,e,i,o)})),Sa=Gn((function(t,e,i){var n=3;if(i.length){var o=Fe(i,Zo(Sa));n|=32}return Wo(e,n,t,i,o)}));function ga(t,e,i){var n,s,a,r,l,c,u=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Nt(o);function _(e){var i=n,o=s;return n=s=void 0,u=e,r=t.apply(o,i)}function f(t){return u=t,l=gs(m,e),h?_(t):r}function y(t){var i=t-c;return void 0===c||i>=e||i<0||p&&t-u>=a}function m(){var t=fa();if(y(t))return N(t);l=gs(m,function(t){var i=e-(t-c);return p?ai(i,a-(t-u)):i}(t))}function N(t){return l=void 0,d&&n?_(t):(n=s=void 0,r)}function S(){var t=fa(),i=y(t);if(n=arguments,s=this,c=t,i){if(void 0===l)return f(c);if(p)return uo(l),l=gs(m,e),_(c)}return void 0===l&&(l=gs(m,e)),r}return e=sr(e)||0,Ha(i)&&(h=!!i.leading,a=(p="maxWait"in i)?si(sr(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d),S.cancel=function(){void 0!==l&&uo(l),u=0,n=c=s=l=void 0},S.flush=function(){return void 0===l?r:N(fa())},S}var Aa=Gn((function(t,e){return Ji(t,1,e)})),Ea=Gn((function(t,e,i){return Ji(t,sr(e)||0,i)}));function Ia(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Nt(o);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=i.cache;if(s.has(o))return s.get(o);var a=t.apply(this,n);return i.cache=s.set(o,a)||s,a};return i.cache=new(Ia.Cache||wi),i}function Oa(t){if("function"!=typeof t)throw new Nt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ia.Cache=wi;var Ta=lo((function(t,e){var i=(e=1==e.length&&Da(e[0])?pe(e[0],ve(Jo())):pe(sn(e,1),ve(Jo()))).length;return Gn((function(n){for(var o=-1,s=ai(n.length,i);++o<s;)n[o]=e[o].call(this,n[o]);return oe(t,this,n)}))})),Pa=Gn((function(t,e){return Wo(t,32,void 0,e,Fe(e,Zo(Pa)))})),ba=Gn((function(t,e){return Wo(t,64,void 0,e,Fe(e,Zo(ba)))})),Ca=Yo((function(t,e){return Wo(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var Ma=xo(_n),La=xo((function(t,e){return t>=e})),Ra=Sn(function(){return arguments}())?Sn:function(t){return ja(t)&&Ot.call(t,"callee")&&!zt.call(t,"callee")},Da=n.isArray,wa=$t?ve($t):function(t){return ja(t)&&dn(t)==E};function xa(t){return null!=t&&ka(t.length)&&!Wa(t)}function Ua(t){return ja(t)&&xa(t)}var Ba=ei||sl,Ga=Qt?ve(Qt):function(t){return ja(t)&&dn(t)==u};function Va(t){if(!ja(t))return!1;var e=dn(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ka(t)}function Wa(t){if(!Ha(t))return!1;var e=dn(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Fa(t){return"number"==typeof t&&t==nr(t)}function ka(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ja(t){return null!=t&&"object"==typeof t}var Ya=te?ve(te):function(t){return ja(t)&&ns(t)==_};function Xa(t){return"number"==typeof t||ja(t)&&dn(t)==f}function Ka(t){if(!ja(t)||dn(t)!=y)return!1;var e=Yt(t);if(null===e)return!0;var i=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&It.call(i)==Ct}var za=ee?ve(ee):function(t){return ja(t)&&dn(t)==m};var qa=ie?ve(ie):function(t){return ja(t)&&ns(t)==N};function Za(t){return"string"==typeof t||!Da(t)&&ja(t)&&dn(t)==S}function Ja(t){return"symbol"==typeof t||ja(t)&&dn(t)==g}var $a=ne?ve(ne):function(t){return ja(t)&&ka(t.length)&&!!Vt[dn(t)]};var Qa=xo(Pn),tr=xo((function(t,e){return t<=e}));function er(t){if(!t)return[];if(xa(t))return Za(t)?Ye(t):No(t);if(me&&t[me])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[me]());var e=ns(t);return(e==_?Ve:e==N?ke:vr)(t)}function ir(t){return t?(t=sr(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function nr(t){var e=ir(t),i=e%1;return e==e?i?e-i:e:0}function or(t){return t?zi(nr(t),0,4294967295):0}function sr(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(K,"");var i=ot.test(t);return i||at.test(t)?Ht(t.slice(2),i?2:8):nt.test(t)?NaN:+t}function ar(t){return So(t,Ar(t))}function rr(t){return null==t?"":Jn(t)}var lr=Ao((function(t,e){if(ps(e)||xa(e))So(e,gr(e),t);else for(var i in e)Ot.call(e,i)&&ki(t,i,e[i])})),cr=Ao((function(t,e){So(e,Ar(e),t)})),ur=Ao((function(t,e,i,n){So(e,Ar(e),t,n)})),hr=Ao((function(t,e,i,n){So(e,gr(e),t,n)})),pr=Yo(Ki);var dr=Gn((function(t,e){t=ft(t);var i=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&ls(e[0],e[1],o)&&(n=1);++i<n;)for(var s=e[i],a=Ar(s),r=-1,l=a.length;++r<l;){var c=a[r],u=t[c];(void 0===u||va(u,At[c])&&!Ot.call(t,c))&&(t[c]=s[c])}return t})),_r=Gn((function(t){return t.push(void 0,ko),oe(Ir,void 0,t)}));function fr(t,e,i){var n=null==t?void 0:hn(t,e);return void 0===n?i:n}function yr(t,e){return null!=t&&os(t,e,yn)}var mr=Mo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=bt.call(e)),t[e]=i}),Hr(Xr)),Nr=Mo((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=bt.call(e)),Ot.call(t,e)?t[e].push(i):t[e]=[i]}),Jo),Sr=Gn(Nn);function gr(t){return xa(t)?Bi(t):On(t)}function Ar(t){return xa(t)?Bi(t,!0):Tn(t)}var Er=Ao((function(t,e,i){Mn(t,e,i)})),Ir=Ao((function(t,e,i,n){Mn(t,e,i,n)})),Or=Yo((function(t,e){var i={};if(null==t)return i;var n=!1;e=pe(e,(function(e){return e=ro(e,t),n||(n=e.length>1),e})),So(t,Ko(t),i),n&&(i=qi(i,7,Ho));for(var o=e.length;o--;)Qn(i,e[o]);return i}));var Tr=Yo((function(t,e){return null==t?{}:function(t,e){return Dn(t,e,(function(e,i){return yr(t,i)}))}(t,e)}));function Pr(t,e){if(null==t)return{};var i=pe(Ko(t),(function(t){return[t]}));return e=Jo(e),Dn(t,i,(function(t,i){return e(t,i[0])}))}var br=Vo(gr),Cr=Vo(Ar);function vr(t){return null==t?[]:Me(t,gr(t))}var Mr=To((function(t,e,i){return e=e.toLowerCase(),t+(i?Lr(e):e)}));function Lr(t){return Vr(rr(t).toLowerCase())}function Rr(t){return(t=rr(t))&&t.replace(lt,xe).replace(Rt,"")}var Dr=To((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),wr=To((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),xr=Oo("toLowerCase");var Ur=To((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Br=To((function(t,e,i){return t+(i?" ":"")+Vr(e)}));var Gr=To((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Vr=Oo("toUpperCase");function Wr(t,e,i){return t=rr(t),void 0===(e=i?void 0:e)?function(t){return Ut.test(t)}(t)?function(t){return t.match(wt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Fr=Gn((function(t,e){try{return oe(t,void 0,e)}catch(t){return Va(t)?t:new pt(t)}})),kr=Yo((function(t,e){return ae(e,(function(e){e=Ps(e),Xi(t,e,Na(t[e],t))})),t}));function Hr(t){return function(){return t}}var jr=Co(),Yr=Co(!0);function Xr(t){return t}function Kr(t){return In("function"==typeof t?t:qi(t,1))}var zr=Gn((function(t,e){return function(i){return Nn(i,t,e)}})),qr=Gn((function(t,e){return function(i){return Nn(t,i,e)}}));function Zr(t,e,i){var n=gr(e),o=un(e,n);null!=i||Ha(e)&&(o.length||!n.length)||(i=e,e=t,t=this,o=un(e,gr(e)));var s=!(Ha(i)&&"chain"in i&&!i.chain),a=Wa(t);return ae(o,(function(i){var n=e[i];t[i]=n,a&&(t.prototype[i]=function(){var e=this.__chain__;if(s||e){var i=t(this.__wrapped__),o=i.__actions__=No(this.__actions__);return o.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,de([this.value()],arguments))})})),t}function Jr(){}var $r=Ro(pe),Qr=Ro(le),tl=Ro(ye);function el(t){return cs(t)?Oe(Ps(t)):function(t){return function(e){return hn(e,t)}}(t)}var il=wo(),nl=wo(!0);function ol(){return[]}function sl(){return!1}var al=Lo((function(t,e){return t+e}),0),rl=Bo("ceil"),ll=Lo((function(t,e){return t/e}),1),cl=Bo("floor");var ul,hl=Lo((function(t,e){return t*e}),1),pl=Bo("round"),dl=Lo((function(t,e){return t-e}),0);return bi.after=function(t,e){if("function"!=typeof e)throw new Nt(o);return t=nr(t),function(){if(--t<1)return e.apply(this,arguments)}},bi.ary=ya,bi.assign=lr,bi.assignIn=cr,bi.assignInWith=ur,bi.assignWith=hr,bi.at=pr,bi.before=ma,bi.bind=Na,bi.bindAll=kr,bi.bindKey=Sa,bi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},bi.chain=ea,bi.chunk=function(t,e,i){e=(i?ls(t,e,i):void 0===e)?1:si(nr(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,r=n($e(o/e));s<o;)r[a++]=Yn(t,s,s+=e);return r},bi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var s=t[e];s&&(o[n++]=s)}return o},bi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],o=t;o--;)e[o-1]=arguments[o];return de(Da(i)?No(i):[i],sn(e,1))},bi.cond=function(t){var e=null==t?0:t.length,i=Jo();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new Nt(o);return[i(t[0]),t[1]]})):[],Gn((function(i){for(var n=-1;++n<e;){var o=t[n];if(oe(o[0],this,i))return oe(o[1],this,i)}}))},bi.conforms=function(t){return function(t){var e=gr(t);return function(i){return Zi(i,t,e)}}(qi(t,1))},bi.constant=Hr,bi.countBy=oa,bi.create=function(t,e){var i=Ci(t);return null==e?i:Yi(i,e)},bi.curry=function t(e,i,n){var o=Wo(e,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=t.placeholder,o},bi.curryRight=function t(e,i,n){var o=Wo(e,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=t.placeholder,o},bi.debounce=ga,bi.defaults=dr,bi.defaultsDeep=_r,bi.defer=Aa,bi.delay=Ea,bi.difference=vs,bi.differenceBy=Ms,bi.differenceWith=Ls,bi.drop=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,(e=i||void 0===e?1:nr(e))<0?0:e,n):[]},bi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,0,(e=n-(e=i||void 0===e?1:nr(e)))<0?0:e):[]},bi.dropRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0,!0):[]},bi.dropWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!0):[]},bi.fill=function(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&ls(t,e,i)&&(i=0,n=o),function(t,e,i,n){var o=t.length;for((i=nr(i))<0&&(i=-i>o?0:o+i),(n=void 0===n||n>o?o:nr(n))<0&&(n+=o),n=i>n?0:or(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},bi.filter=function(t,e){return(Da(t)?ce:on)(t,Jo(e,3))},bi.flatMap=function(t,e){return sn(pa(t,e),1)},bi.flatMapDeep=function(t,e){return sn(pa(t,e),1/0)},bi.flatMapDepth=function(t,e,i){return i=void 0===i?1:nr(i),sn(pa(t,e),i)},bi.flatten=ws,bi.flattenDeep=function(t){return(null==t?0:t.length)?sn(t,1/0):[]},bi.flattenDepth=function(t,e){return(null==t?0:t.length)?sn(t,e=void 0===e?1:nr(e)):[]},bi.flip=function(t){return Wo(t,512)},bi.flow=jr,bi.flowRight=Yr,bi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n},bi.functions=function(t){return null==t?[]:un(t,gr(t))},bi.functionsIn=function(t){return null==t?[]:un(t,Ar(t))},bi.groupBy=ca,bi.initial=function(t){return(null==t?0:t.length)?Yn(t,0,-1):[]},bi.intersection=Us,bi.intersectionBy=Bs,bi.intersectionWith=Gs,bi.invert=mr,bi.invertBy=Nr,bi.invokeMap=ua,bi.iteratee=Kr,bi.keyBy=ha,bi.keys=gr,bi.keysIn=Ar,bi.map=pa,bi.mapKeys=function(t,e){var i={};return e=Jo(e,3),ln(t,(function(t,n,o){Xi(i,e(t,n,o),t)})),i},bi.mapValues=function(t,e){var i={};return e=Jo(e,3),ln(t,(function(t,n,o){Xi(i,n,e(t,n,o))})),i},bi.matches=function(t){return Cn(qi(t,1))},bi.matchesProperty=function(t,e){return vn(t,qi(e,1))},bi.memoize=Ia,bi.merge=Er,bi.mergeWith=Ir,bi.method=zr,bi.methodOf=qr,bi.mixin=Zr,bi.negate=Oa,bi.nthArg=function(t){return t=nr(t),Gn((function(e){return Ln(e,t)}))},bi.omit=Or,bi.omitBy=function(t,e){return Pr(t,Oa(Jo(e)))},bi.once=function(t){return ma(2,t)},bi.orderBy=function(t,e,i,n){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(i=n?void 0:i)||(i=null==i?[]:[i]),Rn(t,e,i))},bi.over=$r,bi.overArgs=Ta,bi.overEvery=Qr,bi.overSome=tl,bi.partial=Pa,bi.partialRight=ba,bi.partition=da,bi.pick=Tr,bi.pickBy=Pr,bi.property=el,bi.propertyOf=function(t){return function(e){return null==t?void 0:hn(t,e)}},bi.pull=Ws,bi.pullAll=Fs,bi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?wn(t,e,Jo(i,2)):t},bi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?wn(t,e,void 0,i):t},bi.pullAt=ks,bi.range=il,bi.rangeRight=nl,bi.rearg=Ca,bi.reject=function(t,e){return(Da(t)?ce:on)(t,Oa(Jo(e,3)))},bi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],s=t.length;for(e=Jo(e,3);++n<s;){var a=t[n];e(a,n,t)&&(i.push(a),o.push(n))}return xn(t,o),i},bi.rest=function(t,e){if("function"!=typeof t)throw new Nt(o);return Gn(t,e=void 0===e?e:nr(e))},bi.reverse=Hs,bi.sampleSize=function(t,e,i){return e=(i?ls(t,e,i):void 0===e)?1:nr(e),(Da(t)?Vi:Wn)(t,e)},bi.set=function(t,e,i){return null==t?t:Fn(t,e,i)},bi.setWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Fn(t,e,i,n)},bi.shuffle=function(t){return(Da(t)?Wi:jn)(t)},bi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ls(t,e,i)?(e=0,i=n):(e=null==e?0:nr(e),i=void 0===i?n:nr(i)),Yn(t,e,i)):[]},bi.sortBy=_a,bi.sortedUniq=function(t){return t&&t.length?qn(t):[]},bi.sortedUniqBy=function(t,e){return t&&t.length?qn(t,Jo(e,2)):[]},bi.split=function(t,e,i){return i&&"number"!=typeof i&&ls(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=rr(t))&&("string"==typeof e||null!=e&&!za(e))&&!(e=Jn(e))&&Ge(t)?co(Ye(t),0,i):t.split(e,i):[]},bi.spread=function(t,e){if("function"!=typeof t)throw new Nt(o);return e=null==e?0:si(nr(e),0),Gn((function(i){var n=i[e],o=co(i,0,e);return n&&de(o,n),oe(t,this,o)}))},bi.tail=function(t){var e=null==t?0:t.length;return e?Yn(t,1,e):[]},bi.take=function(t,e,i){return t&&t.length?Yn(t,0,(e=i||void 0===e?1:nr(e))<0?0:e):[]},bi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Yn(t,(e=n-(e=i||void 0===e?1:nr(e)))<0?0:e,n):[]},bi.takeRightWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3),!1,!0):[]},bi.takeWhile=function(t,e){return t&&t.length?eo(t,Jo(e,3)):[]},bi.tap=function(t,e){return e(t),t},bi.throttle=function(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new Nt(o);return Ha(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),ga(t,e,{leading:n,maxWait:e,trailing:s})},bi.thru=ia,bi.toArray=er,bi.toPairs=br,bi.toPairsIn=Cr,bi.toPath=function(t){return Da(t)?pe(t,Ps):Ja(t)?[t]:No(Ts(rr(t)))},bi.toPlainObject=ar,bi.transform=function(t,e,i){var n=Da(t),o=n||Ba(t)||$a(t);if(e=Jo(e,4),null==i){var s=t&&t.constructor;i=o?n?new s:[]:Ha(t)&&Wa(s)?Ci(Yt(t)):{}}return(o?ae:ln)(t,(function(t,n,o){return e(i,t,n,o)})),i},bi.unary=function(t){return ya(t,1)},bi.union=js,bi.unionBy=Ys,bi.unionWith=Xs,bi.uniq=function(t){return t&&t.length?$n(t):[]},bi.uniqBy=function(t,e){return t&&t.length?$n(t,Jo(e,2)):[]},bi.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?$n(t,void 0,e):[]},bi.unset=function(t,e){return null==t||Qn(t,e)},bi.unzip=Ks,bi.unzipWith=zs,bi.update=function(t,e,i){return null==t?t:to(t,e,ao(i))},bi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:to(t,e,ao(i),n)},bi.values=vr,bi.valuesIn=function(t){return null==t?[]:Me(t,Ar(t))},bi.without=qs,bi.words=Wr,bi.wrap=function(t,e){return Pa(ao(e),t)},bi.xor=Zs,bi.xorBy=Js,bi.xorWith=$s,bi.zip=Qs,bi.zipObject=function(t,e){return oo(t||[],e||[],ki)},bi.zipObjectDeep=function(t,e){return oo(t||[],e||[],Fn)},bi.zipWith=ta,bi.entries=br,bi.entriesIn=Cr,bi.extend=cr,bi.extendWith=ur,Zr(bi,bi),bi.add=al,bi.attempt=Fr,bi.camelCase=Mr,bi.capitalize=Lr,bi.ceil=rl,bi.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=sr(i))==i?i:0),void 0!==e&&(e=(e=sr(e))==e?e:0),zi(sr(t),e,i)},bi.clone=function(t){return qi(t,4)},bi.cloneDeep=function(t){return qi(t,5)},bi.cloneDeepWith=function(t,e){return qi(t,5,e="function"==typeof e?e:void 0)},bi.cloneWith=function(t,e){return qi(t,4,e="function"==typeof e?e:void 0)},bi.conformsTo=function(t,e){return null==e||Zi(t,e,gr(e))},bi.deburr=Rr,bi.defaultTo=function(t,e){return null==t||t!=t?e:t},bi.divide=ll,bi.endsWith=function(t,e,i){t=rr(t),e=Jn(e);var n=t.length,o=i=void 0===i?n:zi(nr(i),0,n);return(i-=e.length)>=0&&t.slice(i,o)==e},bi.eq=va,bi.escape=function(t){return(t=rr(t))&&G.test(t)?t.replace(U,Ue):t},bi.escapeRegExp=function(t){return(t=rr(t))&&X.test(t)?t.replace(Y,"\\$&"):t},bi.every=function(t,e,i){var n=Da(t)?le:en;return i&&ls(t,e,i)&&(e=void 0),n(t,Jo(e,3))},bi.find=sa,bi.findIndex=Rs,bi.findKey=function(t,e){return Ne(t,Jo(e,3),ln)},bi.findLast=aa,bi.findLastIndex=Ds,bi.findLastKey=function(t,e){return Ne(t,Jo(e,3),cn)},bi.floor=cl,bi.forEach=ra,bi.forEachRight=la,bi.forIn=function(t,e){return null==t?t:an(t,Jo(e,3),Ar)},bi.forInRight=function(t,e){return null==t?t:rn(t,Jo(e,3),Ar)},bi.forOwn=function(t,e){return t&&ln(t,Jo(e,3))},bi.forOwnRight=function(t,e){return t&&cn(t,Jo(e,3))},bi.get=fr,bi.gt=Ma,bi.gte=La,bi.has=function(t,e){return null!=t&&os(t,e,fn)},bi.hasIn=yr,bi.head=xs,bi.identity=Xr,bi.includes=function(t,e,i,n){t=xa(t)?t:vr(t),i=i&&!n?nr(i):0;var o=t.length;return i<0&&(i=si(o+i,0)),Za(t)?i<=o&&t.indexOf(e,i)>-1:!!o&&ge(t,e,i)>-1},bi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:nr(i);return o<0&&(o=si(n+o,0)),ge(t,e,o)},bi.inRange=function(t,e,i){return e=ir(e),void 0===i?(i=e,e=0):i=ir(i),function(t,e,i){return t>=ai(e,i)&&t<si(e,i)}(t=sr(t),e,i)},bi.invoke=Sr,bi.isArguments=Ra,bi.isArray=Da,bi.isArrayBuffer=wa,bi.isArrayLike=xa,bi.isArrayLikeObject=Ua,bi.isBoolean=function(t){return!0===t||!1===t||ja(t)&&dn(t)==c},bi.isBuffer=Ba,bi.isDate=Ga,bi.isElement=function(t){return ja(t)&&1===t.nodeType&&!Ka(t)},bi.isEmpty=function(t){if(null==t)return!0;if(xa(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||Ba(t)||$a(t)||Ra(t)))return!t.length;var e=ns(t);if(e==_||e==N)return!t.size;if(ps(t))return!On(t).length;for(var i in t)if(Ot.call(t,i))return!1;return!0},bi.isEqual=function(t,e){return gn(t,e)},bi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?gn(t,e,void 0,i):!!n},bi.isError=Va,bi.isFinite=function(t){return"number"==typeof t&&ii(t)},bi.isFunction=Wa,bi.isInteger=Fa,bi.isLength=ka,bi.isMap=Ya,bi.isMatch=function(t,e){return t===e||An(t,e,Qo(e))},bi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,An(t,e,Qo(e),i)},bi.isNaN=function(t){return Xa(t)&&t!=+t},bi.isNative=function(t){if(hs(t))throw new pt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return En(t)},bi.isNil=function(t){return null==t},bi.isNull=function(t){return null===t},bi.isNumber=Xa,bi.isObject=Ha,bi.isObjectLike=ja,bi.isPlainObject=Ka,bi.isRegExp=za,bi.isSafeInteger=function(t){return Fa(t)&&t>=-9007199254740991&&t<=9007199254740991},bi.isSet=qa,bi.isString=Za,bi.isSymbol=Ja,bi.isTypedArray=$a,bi.isUndefined=function(t){return void 0===t},bi.isWeakMap=function(t){return ja(t)&&ns(t)==A},bi.isWeakSet=function(t){return ja(t)&&"[object WeakSet]"==dn(t)},bi.join=function(t,e){return null==t?"":ni.call(t,e)},bi.kebabCase=Dr,bi.last=Vs,bi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return void 0!==i&&(o=(o=nr(i))<0?si(n+o,0):ai(o,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Se(t,Ee,o,!0)},bi.lowerCase=wr,bi.lowerFirst=xr,bi.lt=Qa,bi.lte=tr,bi.max=function(t){return t&&t.length?nn(t,Xr,_n):void 0},bi.maxBy=function(t,e){return t&&t.length?nn(t,Jo(e,2),_n):void 0},bi.mean=function(t){return Ie(t,Xr)},bi.meanBy=function(t,e){return Ie(t,Jo(e,2))},bi.min=function(t){return t&&t.length?nn(t,Xr,Pn):void 0},bi.minBy=function(t,e){return t&&t.length?nn(t,Jo(e,2),Pn):void 0},bi.stubArray=ol,bi.stubFalse=sl,bi.stubObject=function(){return{}},bi.stubString=function(){return""},bi.stubTrue=function(){return!0},bi.multiply=hl,bi.nth=function(t,e){return t&&t.length?Ln(t,nr(e)):void 0},bi.noConflict=function(){return Xt._===this&&(Xt._=vt),this},bi.noop=Jr,bi.now=fa,bi.pad=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return Do(Qe(o),i)+t+Do($e(o),i)},bi.padEnd=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;return e&&n<e?t+Do(e-n,i):t},bi.padStart=function(t,e,i){t=rr(t);var n=(e=nr(e))?je(t):0;return e&&n<e?Do(e-n,i)+t:t},bi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),li(rr(t).replace(z,""),e||0)},bi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&ls(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ir(t),void 0===e?(e=t,t=0):e=ir(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var o=ci();return ai(t+o*(e-t+kt("1e-"+((o+"").length-1))),e)}return Un(t,e)},bi.reduce=function(t,e,i){var n=Da(t)?_e:Pe,o=arguments.length<3;return n(t,Jo(e,4),i,o,Qi)},bi.reduceRight=function(t,e,i){var n=Da(t)?fe:Pe,o=arguments.length<3;return n(t,Jo(e,4),i,o,tn)},bi.repeat=function(t,e,i){return e=(i?ls(t,e,i):void 0===e)?1:nr(e),Bn(rr(t),e)},bi.replace=function(){var t=arguments,e=rr(t[0]);return t.length<3?e:e.replace(t[1],t[2])},bi.result=function(t,e,i){var n=-1,o=(e=ro(e,t)).length;for(o||(o=1,t=void 0);++n<o;){var s=null==t?void 0:t[Ps(e[n])];void 0===s&&(n=o,s=i),t=Wa(s)?s.call(t):s}return t},bi.round=pl,bi.runInContext=t,bi.sample=function(t){return(Da(t)?Gi:Vn)(t)},bi.size=function(t){if(null==t)return 0;if(xa(t))return Za(t)?je(t):t.length;var e=ns(t);return e==_||e==N?t.size:On(t).length},bi.snakeCase=Ur,bi.some=function(t,e,i){var n=Da(t)?ye:Xn;return i&&ls(t,e,i)&&(e=void 0),n(t,Jo(e,3))},bi.sortedIndex=function(t,e){return Kn(t,e)},bi.sortedIndexBy=function(t,e,i){return zn(t,e,Jo(i,2))},bi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Kn(t,e);if(n<i&&va(t[n],e))return n}return-1},bi.sortedLastIndex=function(t,e){return Kn(t,e,!0)},bi.sortedLastIndexBy=function(t,e,i){return zn(t,e,Jo(i,2),!0)},bi.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Kn(t,e,!0)-1;if(va(t[i],e))return i}return-1},bi.startCase=Br,bi.startsWith=function(t,e,i){return t=rr(t),i=null==i?0:zi(nr(i),0,t.length),e=Jn(e),t.slice(i,i+e.length)==e},bi.subtract=dl,bi.sum=function(t){return t&&t.length?be(t,Xr):0},bi.sumBy=function(t,e){return t&&t.length?be(t,Jo(e,2)):0},bi.template=function(t,e,i){var n=bi.templateSettings;i&&ls(t,e,i)&&(e=void 0),t=rr(t),e=ur({},e,n,Fo);var o,s,a=ur({},e.imports,n.imports,Fo),r=gr(a),l=Me(a,r),c=0,u=e.interpolate||ct,h="__p += '",p=yt((e.escape||ct).source+"|"+u.source+"|"+(u===F?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(p,(function(e,i,n,a,r,l){return n||(n=a),h+=t.slice(c,l).replace(ut,Be),i&&(o=!0,h+="' +\n__e("+i+") +\n'"),r&&(s=!0,h+="';\n"+r+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var _=Ot.call(e,"variable")&&e.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(R,""):h).replace(D,"$1").replace(w,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=Fr((function(){return dt(r,d+"return "+h).apply(void 0,l)}));if(f.source=h,Va(f))throw f;return f},bi.times=function(t,e){if((t=nr(t))<1||t>9007199254740991)return[];var i=4294967295,n=ai(t,4294967295);t-=4294967295;for(var o=Ce(n,e=Jo(e));++i<t;)e(i);return o},bi.toFinite=ir,bi.toInteger=nr,bi.toLength=or,bi.toLower=function(t){return rr(t).toLowerCase()},bi.toNumber=sr,bi.toSafeInteger=function(t){return t?zi(nr(t),-9007199254740991,9007199254740991):0===t?t:0},bi.toString=rr,bi.toUpper=function(t){return rr(t).toUpperCase()},bi.trim=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(K,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t),o=Ye(e);return co(n,Re(n,o),De(n,o)+1).join("")},bi.trimEnd=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(q,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t);return co(n,0,De(n,Ye(e))+1).join("")},bi.trimStart=function(t,e,i){if((t=rr(t))&&(i||void 0===e))return t.replace(z,"");if(!t||!(e=Jn(e)))return t;var n=Ye(t);return co(n,Re(n,Ye(e))).join("")},bi.truncate=function(t,e){var i=30,n="...";if(Ha(e)){var o="separator"in e?e.separator:o;i="length"in e?nr(e.length):i,n="omission"in e?Jn(e.omission):n}var s=(t=rr(t)).length;if(Ge(t)){var a=Ye(t);s=a.length}if(i>=s)return t;var r=i-je(n);if(r<1)return n;var l=a?co(a,0,r).join(""):t.slice(0,r);if(void 0===o)return l+n;if(a&&(r+=l.length-r),za(o)){if(t.slice(r).search(o)){var c,u=l;for(o.global||(o=yt(o.source,rr(it.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var h=c.index;l=l.slice(0,void 0===h?r:h)}}else if(t.indexOf(Jn(o),r)!=r){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+n},bi.unescape=function(t){return(t=rr(t))&&B.test(t)?t.replace(x,Xe):t},bi.uniqueId=function(t){var e=++Tt;return rr(t)+e},bi.upperCase=Gr,bi.upperFirst=Vr,bi.each=ra,bi.eachRight=la,bi.first=xs,Zr(bi,(ul={},ln(bi,(function(t,e){Ot.call(bi.prototype,e)||(ul[e]=t)})),ul),{chain:!1}),bi.VERSION="4.17.15",ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){bi[t].placeholder=bi})),ae(["drop","take"],(function(t,e){Li.prototype[t]=function(i){i=void 0===i?1:si(nr(i),0);var n=this.__filtered__&&!e?new Li(this):this.clone();return n.__filtered__?n.__takeCount__=ai(i,n.__takeCount__):n.__views__.push({size:ai(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},Li.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ae(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Li.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Jo(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),ae(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Li.prototype[t]=function(){return this[i](1).value()[0]}})),ae(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Li.prototype[t]=function(){return this.__filtered__?new Li(this):this[i](1)}})),Li.prototype.compact=function(){return this.filter(Xr)},Li.prototype.find=function(t){return this.filter(t).head()},Li.prototype.findLast=function(t){return this.reverse().find(t)},Li.prototype.invokeMap=Gn((function(t,e){return"function"==typeof t?new Li(this):this.map((function(i){return Nn(i,t,e)}))})),Li.prototype.reject=function(t){return this.filter(Oa(Jo(t)))},Li.prototype.slice=function(t,e){t=nr(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Li(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=nr(e))<0?i.dropRight(-e):i.take(e-t)),i)},Li.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Li.prototype.toArray=function(){return this.take(4294967295)},ln(Li.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=bi[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(bi.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,r=e instanceof Li,l=a[0],c=r||Da(e),u=function(t){var e=o.apply(bi,de([t],a));return n&&h?e[0]:e};c&&i&&"function"==typeof l&&1!=l.length&&(r=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,_=r&&!p;if(!s&&c){e=_?e:new Li(this);var f=t.apply(e,a);return f.__actions__.push({func:ia,args:[u],thisArg:void 0}),new Mi(f,h)}return d&&_?t.apply(this,a):(f=this.thru(u),d?n?f.value()[0]:f.value():f)})})),ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=St[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);bi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(Da(o)?o:[],t)}return this[i]((function(i){return e.apply(Da(i)?i:[],t)}))}})),ln(Li.prototype,(function(t,e){var i=bi[e];if(i){var n=i.name+"";Ot.call(Ni,n)||(Ni[n]=[]),Ni[n].push({name:e,func:i})}})),Ni[vo(void 0,2).name]=[{name:"wrapper",func:void 0}],Li.prototype.clone=function(){var t=new Li(this.__wrapped__);return t.__actions__=No(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=No(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=No(this.__views__),t},Li.prototype.reverse=function(){if(this.__filtered__){var t=new Li(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Li.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Da(t),n=e<0,o=i?t.length:0,s=function(t,e,i){var n=-1,o=i.length;for(;++n<o;){var s=i[n],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ai(e,t+a);break;case"takeRight":t=si(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=s.start,r=s.end,l=r-a,c=n?r:a-1,u=this.__iteratees__,h=u.length,p=0,d=ai(l,this.__takeCount__);if(!i||!n&&o==l&&d==l)return io(t,this.__actions__);var _=[];t:for(;l--&&p<d;){for(var f=-1,y=t[c+=e];++f<h;){var m=u[f],N=m.iteratee,S=m.type,g=N(y);if(2==S)y=g;else if(!g){if(1==S)continue t;break t}}_[p++]=y}return _},bi.prototype.at=na,bi.prototype.chain=function(){return ea(this)},bi.prototype.commit=function(){return new Mi(this.value(),this.__chain__)},bi.prototype.next=function(){void 0===this.__values__&&(this.__values__=er(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},bi.prototype.plant=function(t){for(var e,i=this;i instanceof vi;){var n=Cs(i);n.__index__=0,n.__values__=void 0,e?o.__wrapped__=n:e=n;var o=n;i=i.__wrapped__}return o.__wrapped__=t,e},bi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Li){var e=t;return this.__actions__.length&&(e=new Li(this)),(e=e.reverse()).__actions__.push({func:ia,args:[Hs],thisArg:void 0}),new Mi(e,this.__chain__)}return this.thru(Hs)},bi.prototype.toJSON=bi.prototype.valueOf=bi.prototype.value=function(){return io(this.__wrapped__,this.__actions__)},bi.prototype.first=bi.prototype.head,me&&(bi.prototype[me]=function(){return this}),bi}();Xt._=Ke,void 0===(n=function(){return Ke}.call(e,i,e,t))||(t.exports=n)}).call(this)}).call(this,i(161)(t))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="VisualAssetsNames",t.DEFAULT_BLANK_IMAGE=t.NAME+".DEFAULT_BLANK_IMAGE",t.MENU_BACKGROUND=t.NAME+".MENU_BACKGROUND",t.MENU_SETTINGS_SECTION_BORDER=t.NAME+".MENU_SETTINGS_SECTION_BORDER",t.MENU_SLIDER_HEAD=t.NAME+".MENU_SLIDER_HEAD",t.MENU_SLIDER_TRACK_FULL=t.NAME+".MENU_SLIDER_TRACK_FULL",t.MENU_SLIDER_TRACK_EMPTY=t.NAME+".MENU_SLIDER_TRACK_EMPTY",t.MENU_BUTTON_UP=t.NAME+".MENU_BUTTON_UP",t.MENU_BUTTON_OVER=t.NAME+".MENU_BUTTON_OVER",t.MENU_BUTTON_DOWN=t.NAME+".MENU_BUTTON_DOWN",t.MENU_BUTTON_DISABLE=t.NAME+".MENU_BUTTON_DISABLE",t.SYMBOL_NAME=t.NAME+".SYMBOL_NAME",t.SYMBOL_GLOW_PREFIX_NAME=t.NAME+".SYMBOL_GLOW_PREFIX_NAME",t.SYMBOL_GLOW_SUFFIX_NAME=t.NAME+".SYMBOL_GLOW_SUFFIX_NAME",t.SYMBOL_BLUR_SUFFIX_NAME=t.NAME+".SYMBOL_BLUR_SUFFIX_NAME",t.SYMBOL_INFOBOX_NAME=t.NAME+".SYMBOL_INFOBOX_NAME",t.EXTENDED_WILD_PARTICLE=t.NAME+".EXTENDED_WILD_PARTICLE",t.EXTENDED_WILD_ANIMATION=t.NAME+".EXTENDED_WILD_ANIMATION",t.EXTENDED_WILD_ANIMATION_TOP=t.NAME+".EXTENDED_WILD_ANIMATION_TOP",t.EXTENDED_WILD_ANIMATION_CENTER=t.NAME+".EXTENDED_WILD_ANIMATION_CENTER",t.EXTENDED_WILD_ANIMATION_BOTTOM=t.NAME+".EXTENDED_WILD_ANIMATION_BOTTOM",t.COPY_WILD_ANIMATION=t.NAME+".COPY_WILD_ANIMATION",t.WHEELS_ANNOUNCE_PARTICLE=t.NAME+".WHEELS_ANNOUNCE_PARTICLE",t.WHEELS_ANNOUNCE_ANIMATION=t.NAME+".WHEELS_ANNOUNCE_ANIMATION",t.WHEELS_ANNOUNCE_SYMBOL_ANIMATION=t.NAME+".WHEELS_ANNOUNCE_SYMBOL_ANIMATION",t.WHEELS_NEAR_MISS_ANIMATION=t.NAME+".WHEELS_NEAR_MISS_ANIMATION",t.WIN_BIG_WIN_MESSAGE=t.NAME+".WIN_BIG_WIN_MESSAGE",t.WIN_FANTASTIC_WIN_MESSAGE=t.NAME+".WIN_FANTASTIC_WIN_MESSAGE",t.WIN_ULTRA_WIN_MESSAGE=t.NAME+".WIN_ULTRA_WIN_MESSAGE",t.WIN_FIVE_OF_A_KIND_MESSAGE=t.NAME+".WIN_FIVE_OF_A_KIND_MESSAGE",t.WIN_JACKPOT=t.NAME+".WIN_JACKPOT",t.INFO_BOX_BACKGROUND=t.NAME+".INFO_BOX_BACKGROUND",t.WIN_BIG_WIN_ANIMATION=t.NAME+".WIN_BIG_WIN_ANIMATION",t.WIN_BIG_WIN_DIGIT=t.NAME+".WIN_BIG_WIN_DIGIT",t.WIN_BIG_WIN_DOT=t.NAME+".WIN_BIG_WIN_DOT",t.WIN_BIG_WIN_COMMA=t.NAME+".WIN_BIG_WIN_COMMA",t.WIN_BIG_WIN_SPACE=t.NAME+".WIN_BIG_WIN_SPACE",t.WIN_BIG_WIN_COIN_01=t.NAME+".WIN_BIG_WIN_COIN_01",t.WIN_BIG_WIN_COIN_02=t.NAME+".WIN_BIG_WIN_COIN_02",t.WIN_BIG_WIN_COIN_03=t.NAME+".WIN_BIG_WIN_COIN_03",t.WIN_BIG_WIN_COIN_04=t.NAME+".WIN_BIG_WIN_COIN_04",t.WIN_BIG_WIN_X=t.NAME+".WIN_BIG_WIN_X",t.WIN_FRAME_SYMBOL=t.NAME+".WIN_FRAME_SYMBOL",t.WIN_FRAME_ANIMATION=t.NAME+".WIN_FRAME_ANIMATION",t.WIN_LINE_FOLLOWER=t.NAME+".WIN_LINE_FOLLOWER",t.WIN_OUTLINE_WIN_TEXTURE=t.NAME+".WIN_OUTLINE_WIN_TEXTURE",t.WIN_OUTLINE_WIN_ANIMATION=t.NAME+".WIN_OUTLINE_WIN_ANIMATION",t.WIN_SYMBOL_ANIMATION_NAME=t.NAME+".WIN_SYMBOL_ANIMATION_NAME",t.WIN_SYMBOL_ANIMATION_NAME_ONE_FOR_ALL=t.NAME+".WIN_SYMBOL_ANIMATION_NAME_ONE_FOR_ALL",t.WIN_SYMBOL_STATIC_ANIMATION_NAME=t.NAME+".WIN_SYMBOL_STATIC_ANIMATION_NAME",t.WIN_BIG_WIN_PARTICLE=t.NAME+".WIN_BIG_WIN_PARTICLE",t.WIN_INCREMENT_COMPLETE_ANIMATION=t.NAME+".WIN_INCREMENT_COMPLETE_ANIMATION",t.WIN_VALUE_BACKGROUND_LEFT=t.NAME+".WIN_VALUE_BACKGROUND_LEFT",t.WIN_VALUE_BACKGROUND_MIDDLE=t.NAME+".WIN_VALUE_BACKGROUND_MIDDLE",t.WIN_VALUE_BACKGROUND_RIGHT=t.NAME+".WIN_VALUE_BACKGROUND_RIGHT",t.BLIT_MASK_VALUES=t.NAME+".BLIT_MASK_VALUES",t.BLIT_MASK_COMMA=t.NAME+".BLIT_MASK_COMMA",t.BLIT_MASK_DOTS=t.NAME+".BLIT_MASK_DOTS",t.BLIT_MASK_SPACE=t.NAME+".BLIT_MASK_SPACE",t.LINES_NUMBER_BUTTON_UP=t.NAME+".LINES_NUMBER_BUTTON_UP",t.LINES_NUMBER_BUTTON_OVER=t.NAME+".LINES_NUMBER_BUTTON_OVER",t.LINES_NUMBER_BUTTON_DOWN=t.NAME+".LINES_NUMBER_BUTTON_DOWN",t.LINES_NUMBER_BUTTON_DISABLE=t.NAME+".LINES_NUMBER_BUTTON_DISABLE",t.DIALOG_WINDOW_BACKGROUND=t.NAME+".DIALOG_WINDOW_BACKGROUND",t.DIALOG_WINDOW_BUTTON_UP=t.NAME+".DIALOG_WINDOW_BUTTON_UP",t.DIALOG_WINDOW_BUTTON_DOWN=t.NAME+".DIALOG_WINDOW_BUTTON_DOWN",t.DIALOG_WINDOW_BUTTON_OVER=t.NAME+".DIALOG_WINDOW_BUTTON_OVER",t.DIALOG_WINDOW_BUTTON_DISABLE=t.NAME+".DIALOG_WINDOW_BUTTON_DISABLE",t.INTRO_LOADING_CIRCLE=t.NAME+".INTRO_LOADING_CIRCLE",t.LOGO_STATIC=t.NAME+".LOGO_STATIC",t.LOGO_ANIMATION=t.NAME+".LOGO_ANIMATION",t.UI_INCREMENT_ANIMATION=t.NAME+".UI_INCREMENT_ANIMATION",t.FS_INCREMENT_ANIMATION=t.NAME+".FS_UI_INCREMENT_ANIMATION",t.USER_INTERFACE_BACKGROUND=t.NAME+".USER_INTERFACE_BACKGROUND",t.MAIN_BACKGROUND=t.NAME+".MAIN_BACKGROUND",t.MAIN_BACKGROUND_MASK=t.NAME+".MAIN_BACKGROUND_MASK",t.LINE_PATH_TEXTURE=t.NAME+".LINE_PATH_TEXTURE",t.LINE_PATH_SHINING_STAR_TEXTURE=t.NAME+"LINE_PATH_SHINING_STAR_TEXTURE",t.PROGRESSIVE_BACKGROUND=t.NAME+"PROGRESSIVE_BACKGROUND",t.PROGRESSIVE_POPUP=t.NAME+"PROGRESSIVE_POPUP",t.RESPIN_POPUP=t.NAME+"RESPIN_POPUP",t.TABLE_CHIP=t.NAME+".TABLE_CHIP",t.TABLE_STACK_CHIP=t.NAME+".TABLE_STACK_CHIP",t.TABLE_CHIP_SHADOW=t.NAME+".TABLE_CHIP_SHADOW",t.TABLE_BACK_CARD=t.NAME+".TABLE_BACK_CARD",t.TABLE_CARD_CLUBS=t.NAME+".TABLE_CARD_CLUBS",t.TABLE_CARD_DIAMONDS=t.NAME+".TABLE_CARD_DIAMONDS",t.TABLE_CARD_HEARTS=t.NAME+".TABLE_CARD_HEARTS",t.TABLE_CARD_SPADES=t.NAME+".TABLE_CARD_SPADES",t}();e.VisualAssetsNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(378),s=i(379),a=i(6),r=function(){function t(){if(this.maxStep=.1,this.revertStep=.01,t._instance)throw new Error("SpineManager class is not to be instantiated. Please use SpineManager.getInstance()");t._instance=this,this.updateBound=this.update.bind(this),PIXI.ticker.shared.add(this.updateBound),this.spines=[],this.spinesToRemove=[],this._active=!0,this._events=[],this._defaultSkins=[]}return t.prototype.kill=function(){this._active&&PIXI.ticker.shared.remove(this.updateBound),this._active=!1,this.spines=null,this.spinesToRemove=null,t._instance=null},t.getInstance=function(){return t._instance||a.Log.warning("SpineManager class not ready"),t._instance},t.prototype.addDefaultSkin=function(t,e){var i=new s.SpineSkinVO(t,e);this._defaultSkins.push(i)},t.prototype.setDefaultSkin=function(t,e){var i=this.getDefaultSkin(t);n.isNil(i)||i.setDefaultSkin(e)},t.prototype.getDefaultSkin=function(t){return n.find(this._defaultSkins,(function(e){return e.animationName==t}))},t.prototype.addSpine=function(t){var e=this;t.autoUpdate=!1,n.each(t.spineData.animations,(function(i){var o=e.getDefaultSkin(i.name);n.isNil(o)||o.setDefaultSkin(t)})),-1==this.spines.indexOf(t)&&this.spines.push(t),-1!=this.spinesToRemove.indexOf(t)&&this.spinesToRemove.splice(this.spinesToRemove.indexOf(t),1);var i=new o.SpineEventVO(t);this._events.push(i)},t.prototype.addEvent=function(t,e,i){n.find(this._events,(function(e){return e.spine===t})).addEvent(e,i)},t.prototype.addPersistentEvent=function(t,e,i){n.find(this._events,(function(e){return e.spine===t})).addPersistentEvent(e,i)},t.prototype.removeEvent=function(t,e,i){n.find(this._events,(function(e){return e.spine===t})).removeEvent(e,i)},t.prototype.clearEvents=function(){n.forEach(this._events,(function(t){t.clearEvents()}))},t.prototype.getSpineByName=function(t){var e=null;return n.each(this.spines,(function(i){if(i.name==t)return e=i,!1})),e},t.prototype.removeSpine=function(t){this.spinesToRemove.push(t)},t.prototype.update=function(){var t=.001*PIXI.ticker.shared.elapsedMS;t>this.maxStep&&(t=this.revertStep),this.removeOldSpines(),n.each(this.spines,(function(e){e.state.tracks.length>0&&e.update(t)})),this.removeOldSpines()},t.prototype.removeOldSpines=function(){for(;this.spinesToRemove.length>0;){var t=this.spinesToRemove.shift(),e=this.spines.indexOf(t);-1!=e&&this.spines.splice(e,1)}},t}();e.SpineManager=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SPIN="spinAction",t.STOP_SPIN="stopSpinAction",t.SPIN_BUTTON_DOWN_ACTION="spinButtonDownAction",t.BET_MAX="betMaxAction",t.SKIP="skipAction",t.SKIP_WINNINGS="skipWinningsAction",t.SHOW_PAY_TABLE="showPayTableAction",t.START_AUTO_PLAY="startAutoPlayAction",t.STOP_AUTO_PLAY="stopAutoPlayAction",t.INCREASE_COIN_VALUE="increaseCoinValueAction",t.DECREASE_COIN_VALUE="decreaseCoinValueAction",t.TOGGLE_COIN_VALUE="coinValueAction",t.INCREASE_LINE_BET="increaseLineBetAction",t.DECREASE_LINE_BET="decreaseLineBetAction",t.INCREASE_LINES="increaseLinesAction",t.DECREASE_LINES="decreaseLinesAction",t.COIN_CHANGE="COIN_CHANGE",t.HIDE_BONUS_START_POP_UP="hideBonusStartPopUp",t.HIDE_BONUS_END_POP_UP="hideBonusEndPopUp",t.HIDE_FREE_SPINS_START_POP_UP="hideFreeSpinsStartPopUp",t.HIDE_FREE_SPINS_END_POP_UP="hideFreeSpinsEndPopUp",t.HIDE_FREE_ROUNDS_END_POP_UP="hideFreeRoundsEndPopUp",t.HIDE_EXTRA_FREE_SPIN_POP_UP="hideExtraFreeSpinPopUp",t.SHOW_DEBUG_WINDOW="showDebugWindowAction",t.TOGGLE_UI_MINI_MENU="toggleMiniMenuAction",t.SHOW_SETTINGS_MENU="showSettingsMenuAction",t.HIDE_SETTINGS_MENU="hideSettingsMenuAction",t.SHOW_COIN_VALUES_MENU="showCoinValuesMenuAction",t.HIDE_COIN_VALUES_MENU="hideCoinValuesMenuAction",t}();e.UserInterfaceAction=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(75),s=i(6),a=function(){function t(){if(t._instance)throw new Error("MasterLayoutConfig class is not to be instantiated. Please use MasterLayoutConfig.instance ");t._instance=this}return Object.defineProperty(t,"path",{get:function(){return this.projects[o.DTConstants.GAME_CONTENT].path},set:function(t){this.projects[o.DTConstants.GAME_CONTENT].path=t},enumerable:!0,configurable:!0}),t.mapProject=function(e,i){if(t.hasProject(e))throw s.Log.debugch("MasterLayoutConfig","The project type : "+e+" is already registered!"),new Error("MasterLayoutConfig.mapProject(): The project type : "+e+" is already registered");t.projects[e]=i},t.getProject=function(e){var i;return t.hasProject(e)&&(i=t.projects[e]),i},t.getProjectWithKey=function(e){return n.find(t.projects,(function(t){return t.groupId===e}))},t.hasProject=function(e){return n.has(t.projects,e)},t.mapLayout=function(e,i){var o=t.layouts[i];n.isNil(o)&&(o=new Array),o.push(e),t.layouts[i]=o},t.mapScene=function(e,i){t.scenes[e+".desktop"]=i,t.scenes[e+".mobile.landscape"]=i,t.scenes[e+".mobile.portrait"]=i},t.getScene=function(e){return t.scenes[e]},t.hasMasterLayout=function(e){return n.has(t.layouts,e)},t.mapFontFamily=function(e,i){t.fontFamilies[e]=i},t.getFontFamily=function(e){var i=void 0;return n.has(t.fontFamilies,e)&&(i=t.fontFamilies[e]),i},t.mapTextfield=function(e,i,n){t.textfields[e]={text:i,extra:n}},t.getTextfield=function(e){return n.isNil(t.textfields[e])?void 0:t.textfields[e].text},t.getTextfieldExtraParams=function(e){return n.isNil(t.textfields[e])?void 0:t.textfields[e].extra},t.mapSymbol=function(e,i){n.isArray(e)?t.symbols[i]={pulseSymbol:i,masterSymbol:e}:n.isString(e)&&(t.symbols[i]={pulseSymbol:i,masterSymbol:[e]})},t.getSymbol=function(e){var i="";return n.each(t.symbols,(function(t){n.each(t.masterSymbol,(function(n){n!==e||(i=t.pulseSymbol)}))})),i},t.getLayout=function(e){return t.layouts[e]},t.designToolEnabled=!1,t.layouts={},t.fontFamilies={},t.textfields={},t.scenes={},t.symbols={},t.projects={},t.spinesToExcludeOnObsoleteDevices=[],t.symbolPrefabsVersion=!1,t}();e.MasterLayoutConfig=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.CURRENT_INCREMENTAL_WIN_COINS="currentIncrementalWin",t.CURRENT_INCREMENTAL_WIN_MONEY="currentIncrementalWinMoney",t.CUMULATIVE_INCREMENTAL_WIN_COINS="cumulativeIncrementalWin",t.CUMULATIVE_INCREMENTAL_WIN_MONEY="cumulativeIncrementalWinMoney",t}();e.IncrementNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i,n,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null),this.stateName=t,this.from=i,this.onEnter=e,this.onExit=n,this.removeFrom=o};e.StateVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(15),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"imageLandscape",{get:function(){return this.componentLandscape},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagePortrait",{get:function(){return this.componentPortrait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.currentComponent.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{set:function(t){this.imageLandscape.rotation=t,s.isNil(this.componentPortrait)||(this.imagePortrait.rotation=t)},enumerable:!0,configurable:!0}),e.prototype.setAnchor=function(t,e){this.imageLandscape.setAnchor(t,e),s.isNil(this.componentPortrait)||this.imagePortrait.setAnchor(t,e)},e.prototype.setTexture=function(t){this.imageLandscape.setTexture(t),s.isNil(this.componentPortrait)||this.imagePortrait.setTexture(t)},e.prototype.changeTextureFromString=function(t){this.imageLandscape.setTexture(a.TextureUtil.instance().getTextureFromCache(t)),s.isNil(this.componentPortrait)||this.imagePortrait.setTexture(a.TextureUtil.instance().getTextureFromCache(t))},Object.defineProperty(e.prototype,"filters",{set:function(t){this.imageLandscape.filters=t,this.componentPortrait&&(this.imagePortrait.filters=t)},enumerable:!0,configurable:!0}),e}(i(86).ControllerBaseComponent);e.ControllerImage=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(742),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e,"moneyProxy",{get:function(){return s.isNil(this._moneyProxy)&&(this._moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),this._moneyProxy},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenUse",{get:function(){return s.isNil(this._tokenUse)&&(this._tokenUse=this.settings.getValue("tokenuse")>0),this._tokenUse},enumerable:!0,configurable:!0}),e.getMoneyFromValueMoneyAsString=function(t){var e={valueInMoney:t,result:""};return e.result=this.moneyProxy.getStringValueFrom(this.moneyProxy.getClientValue(e.valueInMoney,!1),this.tokenUse),e.result},e.getCurrencyStringFromMoney=function(t){var e={valueInMoney:t,result:""};return e.result=this.moneyProxy.getStringValueFrom(e.valueInMoney,this.tokenUse),e.result},e.getMoneyFromCoinsAsString=function(t){var e={valueInCoins:t,result:""};return e.result=this.moneyProxy.getStringValueFrom(this.moneyProxy.getClientValue(e.valueInCoins*this.moneyProxy.getCurrentCoinValue(),!1),this.tokenUse),e.result},e.getCoinsAsString=function(t){var e={valueInCoins:t,result:""};return e.result=this.moneyProxy.getStringValueFrom(e.valueInCoins),e.result},e}(a.MoneyUtils);e.SlotMoneyUtils=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(34),o=i(20),s=function(){function t(){if(this.visualAssets={},t._instance)throw new Error("VisualAssetsMap class is not to be instantiated. Please use VisualAssetsMap.instance() ");t._instance=this,this.registerAssets()}return t.instance=function(){return t._instance},t.prototype.registerAssets=function(){t.instance().visualAssets[n.VisualAssetsNames.DEFAULT_BLANK_IMAGE]="Default-Blank-Image",t.instance().visualAssets[n.VisualAssetsNames.MENU_BACKGROUND]="Menu-Background",t.instance().visualAssets[n.VisualAssetsNames.MENU_SETTINGS_SECTION_BORDER]="Menu-Settings-Section-Border",t.instance().visualAssets[n.VisualAssetsNames.MENU_SLIDER_HEAD]="x@0.5_Menu-Slider-Head",t.instance().visualAssets[n.VisualAssetsNames.MENU_SLIDER_TRACK_FULL]="x@0.5_Menu-Slider-Track-Full",t.instance().visualAssets[n.VisualAssetsNames.MENU_SLIDER_TRACK_EMPTY]="x@0.5_Menu-Slider-Track-Empty",t.instance().visualAssets[n.VisualAssetsNames.MENU_BUTTON_UP]="Menu-Button-Up",t.instance().visualAssets[n.VisualAssetsNames.MENU_BUTTON_OVER]="Menu-Button-Over",t.instance().visualAssets[n.VisualAssetsNames.MENU_BUTTON_DOWN]="Menu-Button-Down",t.instance().visualAssets[n.VisualAssetsNames.MENU_BUTTON_DISABLE]="Menu-Button-Disable",t.instance().visualAssets[n.VisualAssetsNames.SYMBOL_NAME]="Symbol-",t.instance().visualAssets[n.VisualAssetsNames.SYMBOL_GLOW_PREFIX_NAME]="Win-Symbol-",t.instance().visualAssets[n.VisualAssetsNames.SYMBOL_GLOW_SUFFIX_NAME]="-Animation",t.instance().visualAssets[n.VisualAssetsNames.SYMBOL_BLUR_SUFFIX_NAME]="-Blur",t.instance().visualAssets[n.VisualAssetsNames.SYMBOL_INFOBOX_NAME]="Symbol-{1}-Info",t.instance().visualAssets[n.VisualAssetsNames.EXTENDED_WILD_PARTICLE]="Extended-Wild-Particle",t.instance().visualAssets[n.VisualAssetsNames.EXTENDED_WILD_ANIMATION]="Extended-Wild-Animation",t.instance().visualAssets[n.VisualAssetsNames.EXTENDED_WILD_ANIMATION_TOP]="Extended-Wild-Top-Animation",t.instance().visualAssets[n.VisualAssetsNames.EXTENDED_WILD_ANIMATION_CENTER]="Extended-Wild-Center-Animation",t.instance().visualAssets[n.VisualAssetsNames.EXTENDED_WILD_ANIMATION_BOTTOM]="Extended-Wild-Bottom-Animation",t.instance().visualAssets[n.VisualAssetsNames.WHEELS_ANNOUNCE_PARTICLE]="Wheels-Announce-Particle",t.instance().visualAssets[n.VisualAssetsNames.WHEELS_ANNOUNCE_ANIMATION]="Wheels-Announce-Animation",t.instance().visualAssets[n.VisualAssetsNames.WHEELS_ANNOUNCE_SYMBOL_ANIMATION]="Announce-Symbol-{1}-Animation-",t.instance().visualAssets[n.VisualAssetsNames.WHEELS_NEAR_MISS_ANIMATION]="Wheels-Near-Miss-Animation",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_MESSAGE]="Win-Big-Win-Message",t.instance().visualAssets[n.VisualAssetsNames.WIN_FANTASTIC_WIN_MESSAGE]="Win-Fantastic-Win-Message",t.instance().visualAssets[n.VisualAssetsNames.WIN_ULTRA_WIN_MESSAGE]="Win-Ultra-Win-Message",t.instance().visualAssets[n.VisualAssetsNames.WIN_FIVE_OF_A_KIND_MESSAGE]="Win-5-Of-A-Kind-Message",t.instance().visualAssets[n.VisualAssetsNames.WIN_JACKPOT]="Win-Jackpot",t.instance().visualAssets[n.VisualAssetsNames.INFO_BOX_BACKGROUND]="infoBG",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_DIGIT]="Win-Big-Win-",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_DOT]="Win-Big-Win-Dot",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_COMMA]="Win-Big-Win-Comma",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_SPACE]="Win-Big-Win-Space",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_X]="Win-Big-Win-X",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_COIN_01]="Win-Big-Win-Coin-01.png",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_COIN_02]="Win-Big-Win-Coin-02.png",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_COIN_03]="Win-Big-Win-Coin-03.png",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_COIN_04]="Win-Big-Win-Coin-04.png",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_ANIMATION]="Win-Big-Win-Animation-",t.instance().visualAssets[n.VisualAssetsNames.WIN_FRAME_SYMBOL]="Win-Frame-Symbol",t.instance().visualAssets[n.VisualAssetsNames.WIN_FRAME_ANIMATION]="Win-Frame-Animation",t.instance().visualAssets[n.VisualAssetsNames.WIN_LINE_FOLLOWER]="Win-Line-Follower",t.instance().visualAssets[n.VisualAssetsNames.WIN_OUTLINE_WIN_TEXTURE]="Win-Outline-Win-Texture",t.instance().visualAssets[n.VisualAssetsNames.WIN_OUTLINE_WIN_ANIMATION]="Win-Outline-Win-Animation",t.instance().visualAssets[n.VisualAssetsNames.WIN_SYMBOL_ANIMATION_NAME]="Win-Symbol-{1}-Animation-",t.instance().visualAssets[n.VisualAssetsNames.WIN_SYMBOL_ANIMATION_NAME_ONE_FOR_ALL]="Win-Symbol-One-For-All-Animation-",t.instance().visualAssets[n.VisualAssetsNames.WIN_SYMBOL_STATIC_ANIMATION_NAME]="Generic-Animation-",t.instance().visualAssets[n.VisualAssetsNames.WIN_VALUE_BACKGROUND_LEFT]="x@0.5_Win-Increment-Background-Left",t.instance().visualAssets[n.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE]="x@0.5_Win-Increment-Background-Middle",t.instance().visualAssets[n.VisualAssetsNames.WIN_VALUE_BACKGROUND_RIGHT]="x@0.5_Win-Increment-Background-Right",t.instance().visualAssets[n.VisualAssetsNames.WIN_BIG_WIN_PARTICLE]="Win-Big-Win-Particle",t.instance().visualAssets[n.VisualAssetsNames.WIN_INCREMENT_COMPLETE_ANIMATION]="Win-Increment-Complete-Animation-",t.instance().visualAssets[n.VisualAssetsNames.BLIT_MASK_VALUES]="Blit-Mask-Values",t.instance().visualAssets[n.VisualAssetsNames.BLIT_MASK_COMMA]="Blit-Mask-Comma",t.instance().visualAssets[n.VisualAssetsNames.BLIT_MASK_DOTS]="Blit-Mask-Dot",t.instance().visualAssets[n.VisualAssetsNames.BLIT_MASK_SPACE]="Blit-Mask-Space",t.instance().visualAssets[n.VisualAssetsNames.LINES_NUMBER_BUTTON_UP]="Lines-Number-Button-Up",t.instance().visualAssets[n.VisualAssetsNames.LINES_NUMBER_BUTTON_OVER]="Lines-Number-Button-Over",t.instance().visualAssets[n.VisualAssetsNames.LINES_NUMBER_BUTTON_DOWN]="Lines-Number-Button-Down",t.instance().visualAssets[n.VisualAssetsNames.LINES_NUMBER_BUTTON_DISABLE]="Lines-Number-Button-Disable",t.instance().visualAssets[n.VisualAssetsNames.DIALOG_WINDOW_BACKGROUND]="Dialog-Window-Background",t.instance().visualAssets[n.VisualAssetsNames.DIALOG_WINDOW_BUTTON_UP]="Dialog-Window-Button-Up",t.instance().visualAssets[n.VisualAssetsNames.DIALOG_WINDOW_BUTTON_DOWN]="Dialog-Window-Button-Down",t.instance().visualAssets[n.VisualAssetsNames.DIALOG_WINDOW_BUTTON_OVER]="Dialog-Window-Button-Over",t.instance().visualAssets[n.VisualAssetsNames.DIALOG_WINDOW_BUTTON_DISABLE]="Dialog-Window-Button-Disable",t.instance().visualAssets[n.VisualAssetsNames.INTRO_LOADING_CIRCLE]="Intro-Loading-Circle",t.instance().visualAssets[n.VisualAssetsNames.LOGO_STATIC]="Logo-Static",t.instance().visualAssets[n.VisualAssetsNames.LOGO_ANIMATION]="Logo-Animation",t.instance().visualAssets[n.VisualAssetsNames.UI_INCREMENT_ANIMATION]="UI-Increment-Animation",t.instance().visualAssets[n.VisualAssetsNames.FS_INCREMENT_ANIMATION]="FS-Increment-Animation",t.instance().visualAssets[n.VisualAssetsNames.USER_INTERFACE_BACKGROUND]="UI-Background",t.instance().visualAssets[n.VisualAssetsNames.MAIN_BACKGROUND]="BG-Main-Background",t.instance().visualAssets[n.VisualAssetsNames.MAIN_BACKGROUND_MASK]="BG-Mask",t.instance().visualAssets[n.VisualAssetsNames.LINE_PATH_TEXTURE]="LinePathTexture",t.instance().visualAssets[n.VisualAssetsNames.LINE_PATH_SHINING_STAR_TEXTURE]="ShiningStar",t.instance().visualAssets[n.VisualAssetsNames.PROGRESSIVE_BACKGROUND]="Progressive-Background_",t.instance().visualAssets[n.VisualAssetsNames.PROGRESSIVE_POPUP]="Win-Jackpot-Message",t.instance().visualAssets[n.VisualAssetsNames.RESPIN_POPUP]="Win-Cherry-Respin-Message",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CHIP]="x@0.5_Chip-",t.instance().visualAssets[n.VisualAssetsNames.TABLE_STACK_CHIP]="Perspective-Chip-",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CHIP_SHADOW]="Chips-Shadow",t.instance().visualAssets[n.VisualAssetsNames.TABLE_BACK_CARD]="BackCard",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CARD_CLUBS]="CardsClubs-",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CARD_DIAMONDS]="CardsDiamonds-",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CARD_HEARTS]="CardsHearts-",t.instance().visualAssets[n.VisualAssetsNames.TABLE_CARD_SPADES]="CardsSpades-"},t.prototype.getVisualAsset=function(e,i){if(i){var n=t.instance().visualAssets[e];return o.StringUtil.replacePlaceHolders(n,["{1}"],[i])}return t.instance().visualAssets[e]},t}();e.VisualAssetsMap=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="WinningsAnimationsModule",t.CREATE_WINNINGS_LINES=t.NAME+".CREATE_WINNINGS_LINES",t.WINNINGS_LINES_CREATED=t.NAME+".WINNINGS_LINES_CREATED",t.CREATE_ANIMATION_STEPS=t.NAME+".CREATE_ANIMATION_STEPS",t.ANIMATION_STEP_STARTED=t.NAME+".ANIMATION_STEP_STARTED",t.ANIMATION_STEP_STOPPED=t.NAME+".ANIMATION_STEP_STOPPED",t.UPDATE_ONLY_SHOW_ALL=t.NAME+".UPDATE_ONLY_SHOW_ALL",t.START_ANIMATE_NEXT_STEP=t.NAME+".START_ANIMATE_NEXT_STEP",t.MANAGE_FIVE_OF_A_KIND_ANIMATION=t.NAME+".MANAGE_FIVE_OF_A_KIND_ANIMATION",t.MANAGE_BIG_WIN_ANIMATION=t.NAME+".MANAGE_BIG_WIN_ANIMATION",t.FULL_CYCLE_COMPLETE=t.NAME+".FULL_CYCLE_COMPLETE",t.GET_SYMBOL_ANIMATION_FROM_DECORATOR=t.NAME+".GET_SYMBOL_ANIMATION_FROM_DECORATOR",t}();e.WinningsAnimationsNotifications=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.ANIMATE_NEXT_STEP="decorator_broadcast_animate_next_step",e.ADD_SYMBOL_ANIMATION_TO_POOL="decorator_broadcast_add_symbol_animation_to_pool",e.RESET_SYMBOL_ANIMATION_TO_POOL="decorator_broadcast_reset_symbol_animation_to_pool",e.GET_SYMBOL_ANIMATION_FROM_POOL="decorator_broadcast_get_symbol_animation_from_pool",e.GET_SPINE_ANIMATION_DATA="decorator_broadcast_get_spine_animation_data",e.LONGEST_ANIMATION_DURATION="decorator_broadcast_longest_animation_duration",e.GET_INCREMENT_STATUS="decorator_broadcast_GET_INCREMENT_STATUS",e.START_HIDE_INCREMENT="decorator_broadcast_inject_START_HIDE_INCREMENT",e.ADD_ON_UPDATE_FUNCTION="decorator_broadcast_ADD_ON_UPDATE_FUNCTION",e.ADD_ON_COMPLETE_FUNCTION="decorator_broadcast_ADD_ON_COMPLETE_FUNCTION",e.GET_INCREMENT_END_VALUE="decorator_broadcast_GET_INCREMENT_END_VALUE",e.REMOVE_ON_UPDATE_FUNCTION="decorator_broadcast_REMOVE_ON_UPDATE_FUNCTION",e.REMOVE_ON_COMPLETE_FUNCTION="decorator_broadcast_REMOVE_ON_COMPLETE_FUNCTION",e.WINNINGS_INCREMENT_ENDED="decorator_broadcast_WINNINGS_INCREMENT_ENDED",e.STOP_ALL_INCREMENTS="decorator_broadcast_STOP_ALL_INCREMENTS",e.BIG_WIN_ANIMATION_COMPLETED="decorator_broadcast_BIG_WIN_ANIMATION_COMPLETED",e.BIG_WIN_ANIMATION_STARTED="decorator_broadcast_BIG_WIN_ANIMATION_STARTED",e.BIG_WIN_ANIMATION_CANCELED="decorator_broadcast_BIG_WIN_ANIMATION_CANCELED",e.BIG_WIN_INCREMENT_ENDED="decorator_broadcast_BIG_WIN_INCREMENT_ENDED",e.FANTASTIC_WIN_ANIMATION_STARTED="decorator_broadcast_FANTASTIC_WIN_ANIMATION_STARTED",e.PLAY_BIG_WIN_VOICE="decorator_broadcast_PLAY_BIG_WIN_VOICE",e.ULTRA_WIN_ANIMATION_STARTED="decorator_broadcast_ULTRA_WIN_ANIMATION_STARTED",e.FIVE_OF_A_KIND_ANIMATION_COMPLETED="decorator_broadcast_FIVE_OF_A_KIND_ANIMATION_COMPLETED",e.WHEEL_COMPLETE_WIN="decorator_broadcast_WHEEL_COMPLETE_WIN",e.PLAY_SOUND="decorator_broadcast_PLAY_SOUND",e.PLAY_SOUND_MASTER_LAYOUT="decorator_broadcast_PLAY_SOUND_MASTER_LAYOUT",e.STOP_SOUND="decorator_broadcast_STOP_SOUND",e.SKIP_INCREMENT_EFFECTS="decorator_broadcast_SKIP_INCREMENT_EFFECTS",e.STOP_FIVE_OF_A_KIND_ANIMATION="decorator_broadcast_STOP_FIVE_OF_A_KIND_ANIMATION",e.FIVE_OF_A_KIND_ANIMATION_STARTED="decorator_broadcast_BIG_WIN_ANIMATION_STOPPED",e.FIVE_OF_A_KIND_ANIMATION_ENDED="decorator_broadcast_FIVE_OF_A_KIND_ANIMATION_ENDED",e.ANIMATE_CUSTOM_SYMBOL="decorator_broadcast_animate_custom_symbol",e.CELEBRATION_END="decorator_broadcast_celebration_end",e}(i(177).DecoratorBroadcastActionNames);e.WinningsDecoratorBroadcastActionNames=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t._namespace="pointer",t.OVER=t._namespace+"over",t.OUT=t._namespace+"out",t.DOWN=t._namespace+"down",t.UP=t._namespace+"up",t.UP_OUTSIDE=t._namespace+"upoutside",t.CANCEL=t._namespace+"cancel",t.TAP=t._namespace+"tap",t.MOVE=t._namespace+"move",t}();e.PointerStates=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"engine",{get:function(){return s.isNil(this._engine)&&(this._engine="pixi",this.settings.getValue("GameConfig").fullPixi3D&&(this._engine="pixi/three")),this._engine},enumerable:!0,configurable:!0}),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER))},e}(i(3).Controller);e.AutomatedTestAbstractCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e,i,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var a=t.call(this,e,i,n,o)||this;return s.isNil(a.currentComponent)||(a.currentComponent.onClickHandler=n),s.isNil(a.nonCurrentComponent)||(a.nonCurrentComponent.onClickHandler=n),a}return o(e,t),Object.defineProperty(e.prototype,"buttonLandscape",{get:function(){return this.componentLandscape},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonPortrait",{get:function(){return this.componentPortrait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonDetails",{get:function(){return this.currentComponent.buttonDetails},set:function(t){this.buttonLandscape.buttonDetails=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.buttonDetails=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonName",{get:function(){return this.currentComponent.buttonName},set:function(t){this.buttonLandscape.buttonName=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.buttonName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClickHandler",{get:function(){return this.currentComponent.onClickHandler},set:function(t){this.buttonLandscape.onClickHandler=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.onClickHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDownHandler",{get:function(){return this.currentComponent.onDownHandler},set:function(t){this.buttonLandscape.onDownHandler=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.onDownHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRollOverHandler",{get:function(){return this.currentComponent.onRollOverHandler},set:function(t){this.buttonLandscape.onRollOverHandler=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.onRollOverHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseOutHandler",{get:function(){return this.currentComponent.onMouseOutHandler},set:function(t){this.buttonLandscape.onMouseOutHandler=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.onMouseOutHandler=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stopClickPropagation",{get:function(){return this.currentComponent.stopClickPropagation},set:function(t){this.buttonLandscape.stopClickPropagation=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.stopClickPropagation=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentState",{get:function(){return this.currentComponent.currentState},set:function(t){this.buttonLandscape.currentState=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.currentState=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousState",{get:function(){return this.currentComponent.previousState},set:function(t){this.buttonLandscape.previousState=t,s.isNil(this.componentPortrait)||(this.buttonPortrait.previousState=t)},enumerable:!0,configurable:!0}),e.prototype.changeState=function(t){this.buttonLandscape.changeState(t),s.isNil(this.componentPortrait)||this.buttonPortrait.changeState(t)},e.prototype.showButton=function(t){this.buttonLandscape.showButton(t),s.isNil(this.componentPortrait)||this.buttonPortrait.showButton(t)},e.prototype.enableButton=function(t){this.enable(t)},e.prototype.enable=function(t){this.buttonLandscape.enableButton(t),s.isNil(this.componentPortrait)||this.buttonPortrait.enableButton(t)},e.prototype.getLabelText=function(){return this.currentComponent.getLabelText()},e.prototype.updateLabel=function(t){this.buttonLandscape.updateLabel(t),s.isNil(this.componentPortrait)||this.buttonPortrait.updateLabel(t)},e.prototype.isVisible=function(){return this.visible},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.currentComponent.isEnabled},enumerable:!0,configurable:!0}),e}(i(86).ControllerBaseComponent);e.ControllerButton=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="StripActionsNames",t.REMOVE_BUTTONS=t.NAME+"_removeButtons",t.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT=t.NAME+".ADD_ON_UPDATE_FUNCTION_TO_INCREMENT",t.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT=t.NAME+".ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT",t.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT=t.NAME+".REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT",t.ADD_LABEL_TO_CLOCK=t.NAME+".ADD_LABEL_TO_CLOCK",t.ACTION=t.NAME+"_action",t.ADD_LABELS_TO_UPDATE_ON_STRIP=t.NAME+"_add_labels_to_update_on_strip",t}();e.StripActionsNames=n;var o=function(){function t(){}return t.STRIP_BAR_HEIGHT_LANDSCAPE=10,t.STRIP_BAR_HEIGHT_PORTRAIT=10,t}();e.StripParameters=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.WINNINGS_ANIMATION_VIEW="WinningsAnimationsView",t.INCREMENT_LINE_WIN="IncrementLineWinAnimationDecorator",t.STATIC_LINE_WIN="StaticLineWinAnimationDecorator",t.BIG_WIN="SpineBigWinAnimationDecorator",t.ANIMATE_SYMBOL_STATIC_WINNING_DECORATOR="animateSymbolStaticWinningDecorator",t.ANIMATE_SYMBOL_OPTIONAL_STATIC_WINNING_DECORATOR="animateSymbolOptionalStaticWinningDecorator",t.MEGAWAYS_WAY_VALUE_WINNINGS_DECORATOR="megawaysWayValueWinningsDecorator",t.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR="megawaysBigWinAnimationDecorator",t.ANIMATE_SYMBOL_SPINE_WINNINGS_DECORATOR="AnimateSymbolSpineWinningsDecorator",t.BIG_WIN_THRESHOLDS="BIG_WIN_THRESHOLDS",t.MAIN_LAYOUT_DESKTOP="layout_Main.desktop",t.MAIN_LAYOUT_MOBILE_LANDSCAPE="layout_Main.mobile.landscape",t.WIN_ANIMATIONS="win_animations",t.PARTICLES="particles",t.WIN_THRESHOLDS="win_threshold_",t.BACKGROUND="background",t.MESSAGE_IN="message_in",t.MESSAGE_OUT="message_out",t.MESSAGE_LOOP="message_loop",t.BACKGROUND_IN="background_in",t.BACKGROUND_OUT="background_out",t.BACKGROUND_LOOP="background_loop",t}();e.MegawaysWinningsAnimationNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(){}return t.MODE_NORMAL=0,t.MODE_FREESPIN=1,t.MODE_BONUS_1=2,t.MODE_BONUS_2=3,t.MODE_BONUS_3=4,t.SUBLAYOUT_BACKGROUNDS=["Normal","FreeSpins","Bonus1","Bonus2"],t.SUBLAYOUT_FRAMES=["Normal","FreeSpins","Bonus1","Bonus2"],t}();e.BackgroundActions=o;var s=function(){function t(){}return t.VIDEO_BACKGROUND="VIDEO_BACKGROUND",t.VIDEO_FREESPIN="VIDEO_FREESPIN",t.VIDEO_BONUS_1="VIDEO_BONUS_1",t.VIDEO_BONUS_2="VIDEO_BONUS_2",t}();e.BackgroundNames=s;var a=function(){function t(){}return t.NO_ACTION_ON_LAYER=[n.Names.Layers.FREE_GAMES_UI],t.CLICK_ON_MASK="click_on_pixi_mask",t.CLICK_ON_COMPONENT_MASK="click_on_compoment_pixi_mask",t.MASK="mask",t.MASK_MOBILE="maskMobile",t.NOMASK="nomask",t}();e.MaskActions=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i(15),r=function(t){function e(i,n){void 0===n&&(n=null);var o=t.call(this,i,n,null!=n?e.mandatoryParams:null)||this;if(o.anchor=new PIXI.Point,o.objectDebugBounds=o.image,null!=n){var r=o.params.resource;o.position.x=parseFloat(o.params.x),o.position.y=parseFloat(o.params.y),o.depth=parseFloat(o.params.depth),"image"==o.params.type&&(r=(r=(r=r.replace("{assetsBase}",s.Device.ASSET_PATH_BASE)).replace("{assetsGlobal}",s.Device.getGlobalAssetPath())).replace("{assetsBackground}",s.Device.getGlobalBackgroundPath()),o.setTexture(a.TextureUtil.instance().getTextureFromCache(r))),o.width=parseFloat(o.params.width),o.height=parseFloat(o.params.height),o.params.rotation&&(o.rotation=o.toRadians(parseFloat(o.params.rotation))),o.params.anchorX&&(o.anchor.x=parseFloat(o.params.anchorX)),o.params.anchorY&&(o.anchor.y=parseFloat(o.params.anchorY)),o.params.scaleX&&(o.scale.x=parseFloat(o.params.scaleX)),o.params.scaleY&&(o.scale.y=parseFloat(o.params.scaleY)),o.params.opacity&&(o.alpha=parseFloat(o.params.opacity)),o.setAnchor(o.anchor.x,o.anchor.y)}return o}return o(e,t),e.prototype.setTexture=function(t){for(this._texture=t;this.children.length>0;)this.removeChildAt(0);this.image=new PIXI.Sprite(t),this.addChild(this.image),this.image.anchor.set(this.anchor.x,this.anchor.y)},e.prototype.getTexture=function(){return this._texture},e.prototype.setTint=function(t){this.image.tint=t},e.prototype.setAnchor=function(t,e){this.anchor.set(t,e),this.image&&this.image.anchor.set(this.anchor.x,this.anchor.y)},e.prototype.getAnchor=function(){return this.anchor.clone()},e.prototype.toRadians=function(t){return t*(Math.PI/180)},e.mandatoryParams=["x","y","width","height","resource","depth","type"],e}(i(31).BaseComponent);e.Image=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.START_ANIMATION="inject_decorator_start_animation",e.STOP_ANIMATION="inject_decorator_stop_animation",e.FULL_CYCLE_COMPLETE="inject_decorator_full_cycle_complete",e.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS="inject_decorator_full_cycle_winnings_complete",e.SYMBOLS_MATRIX="inject_decorator_symbols_matrix",e.ANIMATION_CONFIG="inject_decorator_animation_config",e.SYMBOLS_TO_SKIP="inject_decorator_symbols_to_skip",e.GET_SYMBOL_ANIMATION_FROM_DECORATOR="inject_decorator_get_symbol_animation_from_decorator",e.LONGEST_ANIMATION_DURATION="inject_longest_animation_duration",e.ANIMATE_NEXT_STEP="inject_ANIMATE_NEXT_STEP",e.PREPARE_BIG_WIN_ANIMATION="inject_PREPARE_BIG_WIN_ANIMATION",e.PROGRESSIVE_ANIMATION_STARTED="inject_PROGRESSIVE_ANIMATION_STARTED",e.PROGRESSIVE_ANIMATION_COMPLETED="PROGRESSIVE_ANIMATION_COMPLETED",e.BIG_WIN_ANIMATION_STARTED="inject_BIG_WIN_ANIMATION_STARTED",e.FIVE_OF_A_KIND_ANIMATION_STARTED="inject_FIVE_OF_A_KIND_ANIMATION_STARTED",e.PLAY_BIG_WIN_VOICE="inject_PLAY_BIG_WIN_VOICE",e.STOP_BIG_WIN_VOICE="inject_STOP_BIG_WIN_VOICE",e.BIG_WIN_ANIMATION_CANCELED="inject_BIG_WIN_ANIMATION_CANCELED",e.FANTASTIC_WIN_ANIMATION_STARTED="inject_FANTASTIC_WIN_ANIMATION_STARTED",e.ULTRA_WIN_ANIMATION_STARTED="inject_ULTRA_WIN_ANIMATION_STARTED",e.BIG_WIN_INCREMENT_ENDED="inject_BIG_WIN_INCREMENT_ENDED",e.FIVE_OF_A_KIND_ANIMATION_ENDED="inject_FIVE_OF_A_KIND_ANIMATION_ENDED",e.SKIP_INCREMENT_EFFECTS="inject_SKIP_INCREMENT_EFFECTS",e.ANIMATE_FIVE_OF_A_KIND="inject_ANIMATE_FIVE_OF_A_KIND",e.WHEEL_COMPLETE="inject_WHEEL_COMPLETE",e.LOCK_WHEEL="inject_LOCK_WHEEL",e.UNLOCK_WHEEL="inject_UNLOCK_WHEEL",e.SPIN="inject_SPIN",e.STOP_SPIN="inject_STOP_SPIN",e.SHOW_ALL="inject_SHOW_ALL",e.START_HIDE_INCREMENT="inject_START_HIDE_INCREMENT",e.WINNINGS_INCREMENT_ENDED="inject_WINNINGS_INCREMENT_ENDED",e.ANIMATE_CUSTOM_SYMBOL="inject_animate_custom_symbol",e.ALL_MODULES_INITIALIZED="all_modules_initialized",e.CELEBRATION_START="celebration_start",e.CELEBRATION_SKIP="celebration_skip",e.SET_SYMBOL_3D_PROTOTYPE="set_symbol_3d_prototype",e}(i(111).DecoratorInjectActionNames);e.WinningsDecoratorInjectActionNames=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(27),s=i(21),a=i(162),r=i(30),l=function(){function t(){}return t.findChildByName=function(e,i){return e.name==i?e:e.hasOwnProperty("children")&&e.children.length>0?e.children.reduce((function(e,n){var o=t.findChildByName(n,i);return o&&(e=o),e}),null):null},t.findComponentMultipleChild=function(t,e){var i=[];return e.componentLandscape&&e.componentPortrait?(i.push(this.findChildByName(e.componentLandscape,t)),i.push(this.findChildByName(e.componentPortrait,t))):i.push(this.findChildByName(e.componentLandscape,t)),i},t.createMST=function(t){var e,i=new a.default("",{default:t.textStyle,white:{fill:"#ffffff"},a:{fill:"#0088FF"}});return(e=new s.TextField(t.name+"MST",i)).setUp(t.width*s.TextField.FONT_SCALE*2,t.height*s.TextField.FONT_SCALE*2,n.assign(t.textStyle.clone(),{fontSize:Number(t.initialFontSize)*s.TextField.FONT_SCALE}),""),t.parent.addChild(e),e.position=t.position,i.x=t.width,i.y=t.height,e},t.getMSTComponentArray=function(t){var e=[];return e.push(this.createMST(t.componentLandscape)),n.isNil(t.componentPortrait)||e.push(this.createMST(t.componentPortrait)),e},t.duplicateTextAsMST=function(e){var i;return i=new o.ControllerTextField(e.name+"MSTC",t.getMSTComponentArray(e)),e.visible=!1,i.updateLabel(e.text.text,!0),i},t.addMSTInteractivityForAnchors=function(t){t.text.interactive=!0,t.text.on("pointerdown",(function(t){var e;t.targetTag&&"a"===t.targetTag.name&&("_blank"!=(e=t.targetTag.properties.target?t.targetTag.properties.target:"_blank")?setTimeout((function(){window.top.location.replace(r.WindowUtil.parseUrl(t.targetTag.properties.href))}),1):setTimeout((function(){window.open(r.WindowUtil.parseUrl(t.targetTag.properties.href),e)}),1))})),t.text.on("pointermove",(function(e){t.text.buttonMode=e.targetTag&&"a"===e.targetTag.name}))},t}();e.PixiUtils=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(15),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.createButton=function(t,i,n,o,r){void 0===r&&(r=new PIXI.Point(0,0));var l,c=new e(t);if(i instanceof Array)l=i,s.times(3,(function(t){l.length<=t+1&&l.push(l[0])}));else{l=[i+"Up",i+"Down",i+"Over",i+"Disable"]}var u={upSkin:l[0],downSkin:l[2],overSkin:l[1],disabledSkin:l[3]};return s.each(u,(function(t,e){c[e]=new PIXI.Sprite(a.TextureUtil.instance().getTextureFromCache(t)),c[e].width=n,c[e].height=o,r&&c[e].anchor.set(r.x,r.y)})),c.buttonName=t,c},e.UP="button_state_up",e.DOWN="button_state_down",e.OVER="button_state_over",e.DISABLED="button_state_disabled",e}(i(113).SimpleButton);e.Button=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.MENU_LAYER_START_SHOWING="menu_layer_start_showing",t.MENU_LAYER_COMPLETE_SHOWING="menu_layer_complete_showing",t.MENU_LAYER_START_HIDING="menu_layer_start_hiding",t.MENU_LAYER_COMPLETE_HIDING="menu_layer_complete_hiding",t.MENU_SOUND_SLIDER_CHANGED="menu_sound_slider_changed",t.MENU_SWITCH_SOUND="menu_sound_switch",t.MENU_SWITCH_TURBO="menu_sound_turbo",t.MENU_SWITCH_BUTTON_SOUND="menu_sound_button_switch",t.MENU_SWITCH_SOUND_FROM_UI="menu_sound_switch_from_ui",t.MENU_ADD_LABEL_TO_CLOCK="menu_add_label_to_clock",t.MENU_SHOW_AUTOPLAY_PANEL="menu_show_autoplay_panel",t.MENU_VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION="menu_verify_and_and_button_to_user_interaction",t}();e.MenuActionNames=n;var o=function(){function t(){}return t.MENU_SWITCH_SOUND="menu_sound_switch_notification",t.MENU_SWITCH_BUTTON_SOUND="menu_sound_button_switch_notification",t.MENU_MOBILE_SHOWED="menu_mobile_showed",t.MENU_RENDERING_NON_CURRENT_COMPONENT="menu_rendering_non_current_component",t}();e.MenuNotificationNames=o;var s=function(){function t(){}return t.MENU_COOKIE_SOUND_CATEGORY_PREFIX="MENU_SOUND_CATEGORY_",t.TOGGLE_MENU="menuToggle",t.SLIDER_PREFIX="SLIDER_",t.SOUND_SWITCH="SOUND_SWITCH",t.FULLSCREEN_NAME="menuFullscreenLabel",t.SOUND_NAME="menuSoundButton",t.BUY_NAME="menuBuyLabel",t.HISTORY_NAME="menuHistoryLabel",t.TURBO_NAME="menuTurboLabel",t.RULES_NAME="menuRulesButton",t.HOME_NAME="menuHomeButton",t.GENERAL_SLIDER_NAME="general",t.MANUAL_SCROLL_DOWN="menuScrollDown",t.MANUAL_SCROLL_UP="menuScrollUp",t}();e.MenuStaticNames=s;var a=function(){function t(){}return t.HISTORY=0,t.PAYTABLE=1,t.SOUND=2,t.AUTO_PLAY=3,t.COIN_VALUE=4,t}();e.MobileMenuIndexes=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.extractSymbols=function(t){for(var e,i,n,o,s=[],a=new RegExp("[\\-]?\\d+[\\-]"),r=0;r<t.line.length;r++){for(o=[],n=t.line[r].toString();null!=(e=a.exec(n));)i=String(e[0]),n=n.substr(i.length),"-"==i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),o.push(parseInt(i));o.push(parseInt(n)),s.push(o)}return s},t}();e.SymbolUtil=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.GENERAL_AMBIANCE="GENERAL_AMBIANCE",t.GAME_WELCOME="GAME_WELCOME",t.INCREMENT="INCREMENT",t.INCREMENT_STOP="INCREMENT_STOP",t.POPUP_SHOW="POPUP_SHOW",t.POPUP_HIDE="POPUP_HIDE",t.GENERIC_BUTTON_CLICK="GENERIC_BUTTON_CLICK",t.CHANGE_BACKGROUND="CHANGE_BACKGROUND",t.PAYTABLE_OPENING="PAYTABLE_OPENING",t.PAYTABLE_CLOSING="PAYTABLE_CLOSING",t.MENU_OPENING="MENU_OPENING",t.MENU_CLOSING="MENU_CLOSING",t.USER_INTERFACE_TRANSITION="USER_INTERFACE_TRANSITION",t.PROGRESSIVE_WIN="PROGRESSIVE_WIN",t}();e.SoundNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DEFAULT="default_dialog_window",t.LOGOUT="logout_dialog_window",t.GAP="gap_dialog_window",t.REALITY_CHECK_CLIENT="reality_check_client",t.REALITY_CHECK_SERVER="reality_check_server",t}();e.DialogTypes=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){void 0===i&&(i=-1),this.currentTimeOutID=0,this.repeatCount=0,this.currentIteration=0,this._running=!1,this._delayedTimeOutID=0,this.callBack=e,this.delay=t,this.repeatCount=i,this._boundStart=this.start.bind(this)}return Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.start=function(){this._running=!0,this.isFirstIteration()?this.hasNextIteration()?(this.currentIteration++,this.currentTimeOutID=setTimeout(this._boundStart,this.delay),this.callBack.call(null,this.currentIteration)):this._running=!1:this.currentTimeOutID=setTimeout(this._boundStart,this.delay)},t.prototype.delayedStart=function(t){this._running=!0,this.currentTimeOutID=-1,this._delayedTimeOutID=setTimeout(this.start.bind(this),t)},t.prototype.stop=function(){clearTimeout(this.currentTimeOutID),clearTimeout(this._delayedTimeOutID),this.currentTimeOutID=0,this._running=!1},t.prototype.reset=function(){clearTimeout(this.currentTimeOutID),this.currentIteration=0,this.currentTimeOutID=0},t.prototype.setDelay=function(t){this.delay=t,this.stop(),this.start()},t.prototype.isFirstIteration=function(){return 0!=this.currentTimeOutID},t.prototype.hasNextIteration=function(){return this.currentIteration!=this.repeatCount},t.SECOND=1e3,t.MINUTE=6e4,t}();e.Timer=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.log=function(t,e){var i=this;requestAnimationFrame((function(){window.isb&&window.isb.log&&window.isb.log.call(i,t,e)}))},t}();e.NewRelic=o;var s=function(){function t(){this.roundId="undefined"}return Object.defineProperty(t,"instance",{get:function(){return n.isNil(this._instance)&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getRoundId=function(t){var e=t.getServerData("id");return!n.isNil(e)&&n.has(e,"roundId")&&(this.roundId=e.roundId),this.roundId},t}();e.SlotLoggerModuleUtil=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13),a=i(954),r=i(24),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeRoundsPackageDetails={},e}return o(e,t),Object.defineProperty(e.prototype,"cashRespinsData",{get:function(){return this.VO},enumerable:!0,configurable:!0}),e.prototype.processEndGame=function(t){var e=t.gameSpecific;if(e&&e.bonusGameInProgress){var i=new a.MegawaysCashRespinsVo;i.currentBet=Number(t.bet),i.scatterValues=e.scatterValues.split("-").map(Number),i.bonusGameInProgress="1"===e.bonusGameInProgress,i.bonusGameSpinsLeft=parseInt(e.bonusGameSpinsLeft),i.bonusGameSpinsUsed=parseInt(e.bonusGameSpinsUsed),i.bonusGameGain=parseInt(e.bonusGameGain),i.bonusOnlyGain=parseInt(e.bonusOnlyGain),i.bonusGameGainMoney=parseInt(e.bonusGameGainMoney),i.bonusGameNewScatters=e.bonusGameNewScatters,i.bonusGameMultipliers=e.bonusGameMultipliers.split("-").map(Number),this.VO=i,this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.SPIN_RESULT_RECEIVED),this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.GAT_SCREENSHOT)}},e.prototype.hasCashRespin=function(t){void 0===t&&(t=null);var e=!1;if(t){var i=t[r.MegawaysCashRespinsServerData.GAME_SPECIFIC];i&&i.bonusGameInProgress&&"1"===i.bonusGameInProgress&&(e=!0)}else e=this.cashRespinsData&&this.cashRespinsData.bonusGameInProgress;return e},e.prototype.reset=function(){this.VO=null},e.NAME="MegawaysCashRespinsProxy",e}(s.Proxy);e.MegawaysCashRespinsProxy=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.WIN_SCATTER_ID=100,t.FEATURE_ID=101,t.LINE="line",t.SCATTERS="scatters",t.BONUS="bonus",t.PROGRESSIVE="progressive",t.SHOW_ALL="showAll",t}();e.WinningTypes=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.INCREMENTING="incrementing",t.NOT_INCREMENTING="notIncrementing",t.STOPPED="stopped",t}();e.IncrementStatusNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.RESET="wheel_reset",e.ANIMATE="wheel_animate",e.ANIMATION_CONFIG="wheel_wheelsConfig",e.SPIN="wheel_spin",e.STOP="wheel_stop",e.WHEEL_ID="wheel_wheelId",e.GRAPHIC_ASSETS="graphic_asset",e.UPDATE_DISPLAY_SYMBOLS="wheel_updateDisplaySymbols",e.PLAY_NEAR_MISS_ANIMATION="play_near_miss_animation",e.STOP_NEAR_MISS_ANIMATION="stop_near_miss_animation",e.PLAY_ANNOUNCE_SYMBOLS_ANIMATION="play_announce_symbols_animation",e.STOP_ANNOUNCE_SYMBOLS_ANIMATION="stop_announce_symbols_animation",e.ALL_WHEELS_COMPLETED="all_wheels_completed",e.SEND_SHARED_ANNOUNCE_SPINE="send_shared_announce_spine",e.LOCK_WHEEL="wheel_lockWheel",e.UNLOCK_WHEEL="wheel_unlockWheel",e.NEAR_MISS="wheel_nearMiss",e.HIDE_SYMBOLS="wheel_hideSymbols",e.TURBO_MODE_TOGGLED="turbo_mode_toggled",e.ALL_DECORATORS_CONSTRUCTED="all_decorators_constructed",e.SET_SYMBOL_3D_PROTOTYPE="wheel_set_symbol_3d_prototype",e}(i(111).DecoratorInjectActionNames);e.WheelDecoratorInjectActionNames=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.CASCADE_FULL_COMPLETE="ui_cascade_full_complete",t.CASCADE_DROP="ui_cascade_drop",t.CASCADES_SUMMARY_STATE="ui_cascade_summary_state",t.CASCADES_SUMMARY_SKIPPED="ui_cascade_summary_skipped",t}();e.MegawaysUiBehavior=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="megaways.validation_types.",t.CASCADES_IN_PROGRESS=t.NAME+"CASCADES_IN_PROGRESS",t}();e.MegawaysValidationTypes=n;var o=function(){function t(){}return t.NAME="megaways.validation_properties.",t.CASCADES_IN_PROGRESS=t.NAME+"CASCADES_IN_PROGRESS",t}();e.MegawaysValidationProperties=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(144),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),t.body.hasOwnProperty("soundName"))if(null==this.soundNamesProxy.names[t.body.soundName]){if(!(t.body.soundName instanceof r.AmbianceVO))return;var e=t.body.soundName;t.body.soundName=this.soundNamesProxy.names[e.soundName],t.body.fadeOut=e.fadeOut,t.body.fadeIn=e.fadeIn,t.body.isRunning=e.isRunning}else t.body.soundName=this.soundNamesProxy.names[t.body.soundName];if(t.body.hasOwnProperty("sounds"))for(var i=0;i<t.body.sounds.length;i++)null!=this.soundNamesProxy.names[t.body.sounds[i]]&&(t.body.sounds[i]=this.soundNamesProxy.names[t.body.sounds[i]])},e.prototype.initVars=function(){s.isNil(this.soundNamesProxy)&&(this.soundNamesProxy=this.retrieveProxy(l.Names.Proxies.SOUND_NAMES))},e}(a.Controller);e.SoundCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(6),l=i(13),c=i(84),u=i(172),h=i(4),p=i(1),d=PIXI.spine.core.AtlasAttachmentLoader,_=PIXI.spine.core.SkeletonJson,f=PIXI.spine.core.TextureAtlas,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){var t,i=this;this._loader=PIXI.loader,this._loader.onProgress.add((function(n,o){0!==(t=Math.round(100-n.progress))&&i.sendNotification(u.LoadingNotifications.UPDATE_LOADING_PROGRESS,{total:100,left:t},e.SCOPE)})),this._loader.onError.add((function(t,e,n){r.Log.errorch("Loader","Loading error: "+t.message),h.Device.instance().ie&&!PIXI.sound.supported&&n.data instanceof HTMLAudioElement||i.sendGlobalNotification(a.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOAD_ERROR,t.message+" ERROR STACK: "+t.stack)})),this._loader.onComplete.add((function(t,e){i.loadQueFiles()})),this.setVO(new m)},e.prototype.load=function(t){var e=this;s.each(t,(function(t){s.isNil(e._loader.resources[t.path])?(e.VO.cacheMap[t.path]=t.getDetails(),e._loader.loading||(e.VO.cacheMap[t.path].loaded=!0,e._loader.add(t.path,t.path,t.loaderOptions,t.onComplete))):r.Log.warning("The file "+t.path+" is already added to the loader. Please remove the extra inclusion in a loader group.")})),this._loader.loading||this._loader.load()},e.prototype.loadQueFiles=function(){var t=this,e=!1;this._loader.loading||(e=!1,s.each(this.VO.cacheMap,(function(i){i.loaded||(t._loader.add(i.path,i.path,i.loaderOptions,i.onComplete),i.loaded=!0,e=!0)}))),e&&this._loader.load()},e.prototype.getAsset=function(t){var e=t,i=this._loader.resources[t];if(s.isNil(i)){var n=s.find(this.VO.cacheMap,(function(e){return!s.isNil(e.id)&&e.id==t}));if(s.isNil(n))return;e=n.path,i=this._loader.resources[e]}var o=this.VO.cacheMap[e].type;if(o==c.FileTypes.IMAGE_FILE){if(!s.isNil(i))return i.texture;r.Log.warningch("PRELOAD_PROXY","Undefined asset reference ID = "+t)}return c.FileTypes.ATLAS_FILE,c.FileTypes.SOUND_FILE,c.FileTypes.JSON_FILE,c.FileTypes.XML_FILE,i},e.prototype.getSeparateSounds=function(t){var e=this,i={};return s.each(t,(function(t,n){var o=e.getAsset(n);s.isNil(o)||s.isNil(o.sound)||(i[n]=o.sound)})),i},e.prototype.getSoundSprite=function(){var t=this.getAsset("abstract_sound_module_sound_audiosheet");return s.isNil(t)?null:t.sound},e.prototype.getSoundSpriteJson=function(){var t=this,e=s.find(this._loader.resources,(function(e,i){return t.VO.cacheMap[i]&&t.VO.cacheMap[i].id&&t.VO.cacheMap[i].id.indexOf("_sound_json")>0}));return s.isNil(e)?{}:e.data},e.prototype.getSoundManifestJson=function(t){var e=this.getAsset(t);if(!s.isNil(e))return e.data},e.prototype.getSpineData=function(t){var e=this.getLoaderResource(t);if(e)return e;r.Log.error("could not find spine atlas for "+t)},e.prototype.getLoaderResource=function(t){var i=s.find(this._loader.resources,(function(i){return t===e.getFileNameFromURL(i.url,-1!==t.indexOf("."))}));return i||r.Log.error("Could not find resource for "+t),i},e.prototype.getSpineDataFromJson=function(t){var e=void 0,i=this.getLoaderResource(t);return i&&s.has(i,"data")&&(e=i.spineData),e},e.prototype.getSpineDataFromAtlas=function(t,e){var i=this,n=void 0,o=this.getLoaderResource(t),a=this.getLoaderResource(e);if(o&&s.has(o,"data")&&a&&s.has(a,"data")){var r=o.data,l=a.data,c=new f(l,(function(t,e){var n=i.getLoaderResource(t);e(PIXI.BaseTexture.fromImage(n.url))})),u=new d(c);n=new _(u).readSkeletonData(r)}return n},e.getFileNameFromURL=function(t,e){return void 0===e&&(e=!1),e?t.split("/").pop():t.split("/").pop().split(".")[0]},e.prototype.getJsonData=function(t){var i,n=s.find(this._loader.resources,(function(i){return t===e.getFileNameFromURL(i.url,-1!==t.indexOf("."))}));return n?i=n:r.Log.error("could not find json data for "+t),i},e.prototype.stopLoader=function(){this._loader.reset()},e.NAME="GraphicsEnginePreloadProxy",e.SCOPE=p.Names.Modules.GRAPHICS_ENGINE,e}(l.Proxy);e.PreloadProxy=y;var m=function(){this.cacheMap={}};e.PreloadVO=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(177),a=i(20),r=function(t){function e(){var e=t.call(this)||this;throw new Error(a.StringUtil.getName(e)+" :: static class. Cannot instantiate.")}return o(e,t),e.WHEEL_COMPLETE_ID="WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE_ID",e.WHEEL_COMPLETE="WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE",e.START_WHEEL_ANIMATION="WheelDecoratorBroadcastActionNames.START_WHEEL_ANIMATION",e.UPDATE_WHEEL_PROPERTIES="WheelDecoratorBroadcastActionNames.UPDATE_WHEEL_PROPERTIES",e.HIDE_SYMBOLS="WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS",e.SYMBOLS_RECEIVED_AND_ADDED="WheelDecoratorBroadcastActionNames.SYMBOLS_RECEIVED_AND_ADDED",e.PLAY_ANNOUNCE_SOUND="WheelDecoratorBroadcastActionNames.PLAY_ANNOUNCE_SOUND",e.PLAY_SOUND="WheelDecoratorBroadcastActionNames.PLAY_SOUND",e.STOP_SOUND="WheelDecoratorBroadcastActionNames.STOP_SOUND",e.PLAY_WHEEL_STOP_SOUND="WheelDecoratorBroadcastActionNames.PLAY_WHEEL_STOP_SOUND",e.SET_NEAR_MISS_DELAYS="WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS",e.GET_SPINE_ANIMATION_DATA="WheelDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA",e.SYMBOL_ON_TOP_NAME="WheelDecoratorBroadcastActionNames.SYMBOL_ON_TOP_NAME",e.ADD_ANNOUNCE_TO_SHARED_POOL="WheelDecoratorBroadcastActionNames.ADD_ANNOUNCE_TO_SHARED_POOL",e.GET_ANNOUNCE_FROM_SHARED_POOL="WheelDecoratorBroadcastActionNames.GET_ANNOUNCE_FROM_SHARED_POOL",e.KEEP_ANNOUNCES_WHILE_NEAR_MISS="WheelDecoratorBroadcastActionNames.KEEP_ANNOUNCES_WHILE_NEAR_MISS",e}(s.DecoratorBroadcastActionNames);e.WheelDecoratorBroadcastActionNames=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(192),o=function(){function t(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return t.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},t.prototype._registerListener=function(t,e,i,o){var s,a=this._indexOfListener(t,i);if(-1!==a){if((s=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else s=new n.SignalBinding(this,t,e,i,o),this._addBinding(s);return this.memorize&&this._prevParams&&s.execute(this._prevParams),s},t.prototype._addBinding=function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},t.prototype._indexOfListener=function(t,e){for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n]).getListener()===t&&i.context===e)return n;return-1},t.prototype.has=function(t,e){return-1!==this._indexOfListener(t,e)},t.prototype.add=function(t,e,i){return null==i&&(i=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,i)},t.prototype.addOnce=function(t,e,i){return null==i&&(i=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,i)},t.prototype.remove=function(t,e){this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},t.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},t.prototype.getNumListeners=function(){return this._bindings.length},t.prototype.halt=function(){this._shouldPropagate=!1},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var i,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){i=this._bindings.slice(0),this._shouldPropagate=!0;do{n--}while(i[n]&&this._shouldPropagate&&!1!==i[n].execute(t))}}},t.prototype.forget=function(){this._prevParams=null},t.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},t.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},t.VERSION="1.0.0",t}();e.Signal=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=function(){function t(t,e){void 0===e&&(e=null),this._statusType=t,e&&(this._moneyBet=e)}return t.hasUpdatedValuesStatus=function(e,i){void 0===i&&(i=!0);var n,o=!1,s=!0;if(e&&e.length>0)for(;s;){n=-1;for(var a=0;a<e.length;a++)if(e[a].statusType==t.UPDATED_VALUES){o=!0,n=a;break}n>-1&&i?e.splice(n,1):s=!1}return o},t.retrieveHighestPriorityStatus=function(e){if(!e)return o.Log.errorch("Money","::retrieveHighestPriorityStatus - the status Array is not defined or empty"),null;if(0==e.length)return new t(this.OK);for(var i=e[0],n=1;n<e.length;n++)this.retrievePriority(i)<this.retrievePriority(e[n])&&(i=e[n]);return i},t.retrievePriority=function(t){return this._priorities.indexOf(t.statusType)},Object.defineProperty(t.prototype,"statusType",{get:function(){return this._statusType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moneyBet",{get:function(){return this._moneyBet},set:function(t){this._moneyBet=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t="{ ";return t+="MoneyStatus ",t+="statusType: "+this.statusType,t+=" } "},t.changeMoneyStatusPriority=function(e,i){var o=n.findIndex(t._priorities,(function(t){return t==e}));if(-1==o)throw new Error("Attempting change priority of "+e+" that does not exist in priorities array");var s=n.findIndex(t._priorities,(function(t){return t==i}));if(-1==s)throw new Error("Attempting to put priority of "+e+" in front of priority of "+i+" that does not exist in priorities array");t._priorities.splice(o,1),o=o<s?s:s+1,t._priorities.splice(o,0,e)},t.INCORRECT_BET_VALUE="incorrectBetVal",t.NEGATIVE_BET_VALUE="negBetVal",t.NEGATIVE_WIN_VALUE="negWinVal",t.NEGATIVE_BALANCE_VALUE="negBalanceVal",t.NOT_ENOUGH_MONEY_FOR_MINIMUM_BET="notEnoughMoneyForMinimumBet",t.NOT_ENOUGH_MONEY="notEnoughMoney",t.NOT_ENOUGH_MONEY_TO_FINISH_THE_GAME="notEnoughMoneyToFinishTheGame",t.NO_MAIN_BET_SET="noMainBetset",t.NO_BET_SET="noMainBetset",t.BET_ADJUSTED="betAdjusted",t.NO_MONEY_WARNING="noMoneyWarning",t.NO_MONEY_ERROR="noMoneyError",t.NEUTRAL_BET_WARNING="neutralBetWarning",t.MAX_TABLE_BET_REACHED="maxTableBetReached",t.MIN_BET_NOT_REACHED="minBetNotReached",t.MAX_BET_REACHED="maxBetReached",t.UPDATED_VALUES="be_updatedValues",t.NO_LINES_SELECTED="be_noLinesSelected",t.NO_COINS_SELECTED="be_noCoinsSelected",t.NO_COIN_VALUE_SELECTED="be_noCoinValueSelected",t.INDEX_OUT_OF_RANGE="be_indexOutOfRange",t.COIN_VALUE_INDEX_OUT_OF_RANGE="be_coinValueIndexOutOfRange",t.COIN_INDEX_OUT_OF_RANGE="be_coinIndexOutOfRange",t.LINE_INDEX_OUT_OF_RANGE="be_lineIndexOutOfRange",t.OK="ok",t._priorities=[t.NEUTRAL_BET_WARNING,t.INCORRECT_BET_VALUE,t.MIN_BET_NOT_REACHED,t.MAX_BET_REACHED,t.MAX_TABLE_BET_REACHED,t.NO_LINES_SELECTED,t.NO_COINS_SELECTED,t.NO_COIN_VALUE_SELECTED,t.INDEX_OUT_OF_RANGE,t.COIN_VALUE_INDEX_OUT_OF_RANGE,t.COIN_INDEX_OUT_OF_RANGE,t.LINE_INDEX_OUT_OF_RANGE,t.BET_ADJUSTED,t.NOT_ENOUGH_MONEY,t.NOT_ENOUGH_MONEY_TO_FINISH_THE_GAME,t.NOT_ENOUGH_MONEY_FOR_MINIMUM_BET,t.NO_MAIN_BET_SET,t.NO_BET_SET,t.NO_MONEY_WARNING,t.NO_MONEY_ERROR,t.NEGATIVE_BET_VALUE,t.NEGATIVE_WIN_VALUE,t.NEGATIVE_BALANCE_VALUE],t}();e.MoneyStatus=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.HIDE_PAY_TABLE_CLOSED="hide_paytable_closed",t.UPDATE_PAY_TABLE_ACTION="update_paytable_action",t.UPDATE_PAY_TABLE_SIGNAL="update_paytable_signal",t}();e.PaytableNotifications=n;var o=function(){function t(){}return t.RULES="ptRulesButton",t.RULES_CONTAINER_NAME="Rules Page",t.BACK="ptBackButton",t}();e.PaytableButtonsNames=o;var s=function(){function t(){}return t.GAME_VERSION_NAME="GameVersion",t.DESKTOP={TEXT_HEIGHT:50,STYLES:{fontSize:36,fontFamily:"noto_sansregular",fill:5460562,align:"right",vAlign:"center",singleLine:!1}},t.MOBILE={TEXT_HEIGHT:30,STYLES:{fontSize:18,fontFamily:"noto_sansregular",fill:5460562,align:"right",vAlign:"center",singleLine:!1}},t.MINIGAME={TEXT_HEIGHT:30,STYLES:{fontSize:20,fontFamily:"noto_sansregular",fill:5460562,align:"right",vAlign:"center",singleLine:!1}},t}();e.PaytableGameVersionParams=s;var a=function(){function t(){}return t.DISCLAIMER_NAME="textDisclaimer",t.DISCLAIMER_TRANSLATION="ptRulesPageVoidPayments",t.DESKTOP={TEXT_HEIGHT:25,STYLES:{fontSize:20,fontFamily:"noto_sansregular",fill:16777215,align:"center",vAlign:"center",singleLine:!0}},t.MOBILE_LANDSCAPE={TEXT_HEIGHT:50,STYLES:{fontSize:40,fontFamily:"noto_sansregular",fill:16777215,align:"center",vAlign:"center",singleLine:!0}},t.MOBILE_PORTRAIT={TEXT_HEIGHT:50,STYLES:{fontSize:40,fontFamily:"noto_sansregular",fill:16777215,align:"center",vAlign:"center",singleLine:!1}},t.MINIGAME={TEXT_HEIGHT:40,STYLES:{fontSize:12,fontFamily:"noto_sansregular",fill:16777215,align:"center",vAlign:"center",singleLine:!1}},t}();e.PaytableDisclaimerParams=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),o=i(53),s=i(50),a=i(16),r=i(24),l=function(){function t(){}return t.orderMainLayers=function(t){if(n.Device.instance().desktop||n.Device.instance().tablet)t.addChildAt(o.PixiUtils.findChildByName(t,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_NORMAL]),s.BackgroundActions.MODE_NORMAL),t.addChildAt(o.PixiUtils.findChildByName(t,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_FREESPIN]),s.BackgroundActions.MODE_FREESPIN);else{var e=t.getChildByName(a.PixiView.MAIN_LANDSCAPE);e.addChildAt(o.PixiUtils.findChildByName(e,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_NORMAL]),s.BackgroundActions.MODE_NORMAL),e.addChildAt(o.PixiUtils.findChildByName(e,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_FREESPIN]),s.BackgroundActions.MODE_FREESPIN);var i=t.getChildByName(a.PixiView.MAIN_PORTRAIT);i.addChildAt(o.PixiUtils.findChildByName(i,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_NORMAL]),s.BackgroundActions.MODE_NORMAL),i.addChildAt(o.PixiUtils.findChildByName(i,s.BackgroundActions.SUBLAYOUT_FRAMES[s.BackgroundActions.MODE_FREESPIN]),s.BackgroundActions.MODE_FREESPIN)}},t}();e.NgsMwAztecGoldBackgroundUtils=l;var c=function(){function t(){}return t.SYMBOLS_BACKGROUND_VIEW="SymbolsBackgroundView",t.SYMBOLS_FRAME_VIEW="SymbolsFrameView",t.MASK_VIEW="MaskView",t.HTML_BACKGROUND_VIEW="HTMLBackground",t.ABSTRACT_DECORATIVE_BACKGROUND_VIEW="AbstractDecorativeBackgroundView",t.HTML_VIDEO_BACKGROUND_VIEW="HTMLVideoBackground",t.MEGAWAYS_VALUES="Megaways_",t.BONUS_VALUES=r.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX,t.INTRO_TRANSITION_LAYER="INTRO_TRANSITION_Layer",t.PLAY_TRANSITION_ANIMATION="PLAY_TRANSITION_ANIMATION",t.INTRO_TRANSITION_VIEW="INTRO_TRANSITION_VIEW",t.AMBIENT_ANIMATIONS_LOADED="AMBIENT_ANIMATIONS_LOADED",t}();e.NgsMwAztecGoldBackgroundNames=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.FILE_NAME="FeaturesAnimations.json",t.SUN_DISK_LOOP="Sun Disk Loop",t}();e.NgsMwAztecGoldFeatureAnimations=n;var o=function(){function t(){}return t.FILE_NAME="BackgroundAnimations.json",t.FILE_NAME_MOBILE="BackgroundAnimations-Mobile.json",t.BONUS_ADD_MODIFIER_IN="Bonus Add Modifier In",t.BONUS_ADD_MODIFIER_LOOP="Bonus Add Modifier Loop",t.BONUS_ADD_MODIFIER_OUT="Bonus Add Modifier Out",t.MAIN_STAGE_IDLE="Main Stage Idle",t.MAIN_STAGE_IDLE_OVERGROUND="Main Stage Overground  Idle",t.MAIN_STAGE_GOLD_SHIMMER="Main Stage Gold Shimmer",t.MAX_WAYS_MODIFIER_IN="Max Ways Modifier In",t.MAX_WAYS_MODIFIER_LOOP="Max Ways Modifier Loop",t.MAX_WAYS_MODIFIER_OUT="Max Ways Modifier Out",t.FS_IDLE="FS Idle",t.FS_IDLE_PORTRAIT="Portrait FS Idle",t}();e.NgsMwAztecGoldAmbientAnimations=o;var s=function(){function t(){}return t.FILE_NAME="IntroTransition.json",t.FILE_NAME_MOBILE="IntroTransition-Mobile.json",t.ANIMATION="Intro_Transition",t}();e.NgsMwAztecGoldIntroTransitionAnimations=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=PIXI.Point,o=i(4),s=function(){function t(){}return t.getDTLayerDimensions=function(){return o.Device.isLandscape()||o.Device.instance().desktop?new n(this.DT_LAYER_LARGE_DIMENSION,this.DT_LAYER_SMALL_DIMENSION):new n(this.DT_LAYER_SMALL_DIMENSION,this.DT_LAYER_LARGE_DIMENSION)},t.MANIFEST_URL_KEY="_manifest_masterlayout_url",t.GAME_CONTENT="game_content",t.UI_CONTENT="ui_content",t.DT_LAYER_SMALL_DIMENSION=1440,t.DT_LAYER_LARGE_DIMENSION=3168,t}();e.DTConstants=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.UP="up",t.DOWN="down",t.OVER="over",t.DISABLED="disabled",t}();e.ButtonSkinName=n;var o=function(){function t(){}return t._namespace="button_state_",t.UP=t._namespace+n.UP,t.DOWN=t._namespace+n.DOWN,t.OVER=t._namespace+n.OVER,t.DISABLED=t._namespace+n.DISABLED,t}();e.ButtonState=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(178),a=i(64),r=i(69),l=i(0),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lockWheel=!1,e}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),l.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.gameConfig)},e.prototype.postConstructor=function(){t.prototype.postConstructor.call(this)},e.prototype.onDisplayReceived=function(t){this.display=t},e.prototype.onResetAnimation=function(t){this.decoratorAnimationFinished=!1},e.prototype.onAnimationConfig=function(t){this.wheelAnimationConfig=t},e.prototype.onSpin=function(t){},e.prototype.onStop=function(t){},e.prototype.onWheelID=function(t){this.wheel_id=parseInt(t)},e.prototype.onUpdateDisplaySymbols=function(t){},e.prototype.initVars=function(){t.prototype.initVars.call(this)},e.prototype.getDecoratorSettings=function(){return this.slotGameConfig.getProperty("WHEEL_DECORATORS",this.name)},e.prototype.registerInjectActionHandlers=function(){this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.RESET,this.onResetAnimation.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.DISPLAY,this.onDisplayReceived.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.ANIMATION_CONFIG,this.onAnimationConfig.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.WHEEL_ID,this.onWheelID.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.UPDATE_DISPLAY_SYMBOLS,this.onUpdateDisplaySymbols.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.LOCK_WHEEL,this.onLockWheel.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.UNLOCK_WHEEL,this.onUnlockWheel.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.HIDE_SYMBOLS,this.onHideSymbols.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.SPIN,this.onSpin.bind(this)),this.addInjectActionHandler(a.WheelDecoratorInjectActionNames.STOP,this.onStop.bind(this))},e.prototype.onUnlockWheel=function(t){this.wheel_id==t&&(this.lockWheel=!1)},e.prototype.onLockWheel=function(t){this.wheel_id==t&&(this.lockWheel=!0)},e.prototype.onHideSymbols=function(t){},e.prototype.wheelComplete=function(){this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(r.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE_ID,{wheel_id:this.wheel_id}),this.broadcastAction(r.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE))},e}(s.AbstractDecorator);e.AbstractWheelDecorator=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(58),s=function(t,e,i,s,a,r){void 0===t&&(t=o.DialogTypes.DEFAULT),void 0===e&&(e=""),void 0===i&&(i=new Array),void 0===s&&(s=[]),void 0===a&&(a=.95),this.type=t,this.message=e,this.buttonCallbacks=i,this.buttonLabels=s,this.bgOpacity=a,n.isNil(r)||(this.stepperCallback=r)};e.DialogWindowVO=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(99),a=i(42),r=i(32),l=i(15),c=PIXI.Sprite,u=function(t){function e(i,n,o,s,r){void 0===r&&(r="WIN_BIG_WIN_");var u=t.call(this,i,n,o,s,r)||this;return u.substituteImages=!0,u.container=i,u.digitPrefixLength=a.VisualAssetsMap.instance().getVisualAsset(u.getVisualAssetName("DIGIT")).length,u.textureJackpot=[l.TextureUtil.instance().getTextureFromCache(e.TEXTURE_MINI),l.TextureUtil.instance().getTextureFromCache(e.TEXTURE_MAJOR),l.TextureUtil.instance().getTextureFromCache(e.TEXTURE_MEGA)],u.spriteJackpot=new c,u.spriteJackpot.name=e.SPRITE_JACKPOT_NAME,u.spriteJackpot.scale.set((n-.05)*e.MULTIPLIER_ASSET_SIZE),u}return o(e,t),e.prototype.updateBitmapValue=function(t,i,n,o){void 0===i&&(i=""),void 0===n&&(n=0),void 0===o&&(o=""),this.resetBitmapValue();var s=e.VALUES_MINI_MAJOR_MEGA.indexOf(t);if(this.substituteImages&&-1!==s)this.spriteJackpot.texture=this.textureJackpot[s],this._valueContainer.addChild(this.spriteJackpot);else{for(var a=r.NumberFormatterUtil.formatNumber(t,n),l=0;l<i.length;l++){"X"!==(h=i.charAt(l))?this.addNewDigit(h,this._valueContainer):this.addNewX(this._valueContainer)}for(var c=0;c<a.length;c++){var u=a.charAt(c);"0"!=u&&"1"!=u&&"2"!=u&&"3"!=u&&"4"!=u&&"5"!=u&&"6"!=u&&"7"!=u&&"8"!=u&&"9"!=u?(","==u&&this.addNewComma(this._valueContainer),"."==u&&this.addNewDot(this._valueContainer),c!==a.length-1&&this.addNewSpace(this._valueContainer)):0==c?this.addNewDigit(u,this._valueContainer,!0):this.addNewDigit(u,this._valueContainer)}for(l=0;l<o.length;l++){var h;"X"!==(h=o.charAt(l))?this.addNewDigit(h,this._valueContainer):this.addNewX(this._valueContainer)}}this._valueContainer.pivot.x=this._valueContainer.width/this._valueContainer.scale.x/2,this._valueContainer.pivot.y=this._valueContainer.height/this._valueContainer.scale.y/2},e.prototype.resetBitmapValue=function(){this._valueContainer.children&&this._valueContainer.children[0]&&this._valueContainer.children[0]&&this._valueContainer.children[0].name===e.SPRITE_JACKPOT_NAME&&this._valueContainer.removeChild(this._valueContainer.children[0]),t.prototype.resetBitmapValue.call(this)},e.prototype.addDigitToPool=function(t){var e=Number(t.name.substr(this.digitPrefixLength));s.BitmapValue._digitsPool[this._assetsPrefix][e].push(t)},e.prototype.addNewX=function(t,e){void 0===e&&(e=!1);var i=this.getXFromPool();i.scale.x=this.initialScale,i.scale.y=this.initialScale,i.x=t.width-i.width*(1-this.digitPercent),i.y=-1,t.addChildAt(i,0)},e.VALUES_MINI_MAJOR_MEGA=[30,100,1e3],e.SPRITE_JACKPOT_NAME="spriteJackpot",e.TEXTURE_MINI="Mini_Text",e.TEXTURE_MAJOR="Major_text",e.TEXTURE_MEGA="Mega_Text",e.MULTIPLIER_ASSET_SIZE=2,e}(s.BitmapValue);e.MegawaysBitmapValue=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.ENGLISH="ENGLISH",t.ENGLISH_ID=2,t.ENGLISH_EXT="en",t.FRENCH="FRENCH",t.FRENCH_ID=1,t.FRENCH_EXT="fr",t.SPANISH="SPANISH",t.SPANISH_ID=3,t.SPANISH_EXT="es",t.ITALIAN="ITALIAN",t.ITALIAN_ID=4,t.ITALIAN_EXT="it",t.GERMAN="GERMAN",t.GERMAN_ID=6,t.GERMAN_EXT="de",t.PORTUGUESE="PORTUGUESE",t.PORTUGUESE_ID=7,t.PORTUGUESE_EXT="pt",t.GREEK="GREEK",t.GREEK_ID=8,t.GREEK_EXT="gr",t.DUTCH="DUTCH",t.DUTCH_ID=9,t.DUTCH_EXT="nl",t.SWEDISH="SWEDISH",t.SWEDISH_ID=10,t.SWEDISH_EXT="sv",t.TURKISH="TURKISH",t.TURKISH_ID=11,t.TURKISH_EXT="tr",t.RUSSIAN="RUSSIAN",t.RUSSIAN_ID=12,t.RUSSIAN_EXT="ru",t.ROMANIAN="ROMANIAN",t.ROMANIAN_ID=13,t.ROMANIAN_EXT="ro",t.HUNGARIAN="HUNGARIAN",t.HUNGARIAN_ID=14,t.HUNGARIAN_EXT="hu",t.JAPANESE="JAPANESE",t.JAPANESE_ID=15,t.JAPANESE_EXT="ja",t.FINLAND="FINLAND",t.FINLAND_ID=16,t.FINLAND_EXT="fi",t.NORWAY="NORWAY",t.NORWAY_ID=17,t.NORWAY_EXT="no",t.SLOVAK="SLOVAK",t.SLOVAK_ID=18,t.SLOVAK_EXT="sk",t.CZECH="CZECH",t.CZECH_ID=19,t.CZECH_EXT="cs",t.POLISH="POLISH",t.POLISH_ID=20,t.POLISH_EXT="pl",t.BULGARIAN="BULGARIAN",t.BULGARIAN_ID=21,t.BULGARIAN_EXT="bg",t.TRADITIONAL_CHINESE="TRADITIONAL CHINESE",t.TRADITIONAL_CHINESE_ID=23,t.TRADITIONAL_CHINESE_EXT="cht",t.DANISH="DANISH",t.DANISH_ID=22,t.DANISH_EXT="da",t.SIMPLIFIED_CHINESE="SIMPLIFIED CHINESE",t.SIMPLIFIED_CHINESE_ID=24,t.SIMPLIFIED_CHINESE_EXT="chs",t.KOREAN="KOREAN",t.KOREAN_ID=25,t.KOREAN_EXT="kr",t.THAILAND="THAILAND",t.THAILAND_ID=26,t.THAILAND_EXT="th",t.VIETNAMESE="VIETNAMESE",t.VIETNAMESE_ID=27,t.VIETNAMESE_EXT="vi",t.CROATIAN="CROATIAN",t.CROATIAN_ID=28,t.CROATIAN_EXT="hr",t.LATVIAN="LATVIAN",t.LATVIAN_ID=29,t.LATVIAN_EXT="lv",t.LITHUANIAN="LITHUANIAN",t.LITHUANIAN_ID=30,t.LITHUANIAN_EXT="lt",t.SLOVENE="SLOVENE",t.SLOVENE_ID=31,t.SLOVENE_EXT="sl",t.ABKHAZ="ABKHAZ",t.ABKHAZ_ID=31,t.ABKHAZ_EXT="ab",t.AFAR="AFAR",t.AFAR_ID=32,t.AFAR_EXT="aa",t.AFRIKAANS="AFRIKAANS",t.AFRIKAANS_ID=33,t.AFRIKAANS_EXT="af",t.AKAN="AKAN",t.AKAN_ID=34,t.AKAN_EXT="ak",t.ALBANIAN="ALBANIAN",t.ALBANIAN_ID=35,t.ALBANIAN_EXT="sq",t.AMHARIC="AMHARIC",t.AMHARIC_ID=36,t.AMHARIC_EXT="am",t.ARABIC="ARABIC",t.ARABIC_ID=37,t.ARABIC_EXT="ar",t.ARAGONESE="ARAGONESE",t.ARAGONESE_ID=38,t.ARAGONESE_EXT="an",t.ARMENIAN="ARMENIAN",t.ARMENIAN_ID=42,t.ARMENIAN_EXT="hy",t.ASSAMESE="ASSAMESE",t.ASSAMESE_ID=40,t.ASSAMESE_EXT="as",t.AVARIC="AVARIC",t.AVARIC_ID=41,t.AVARIC_EXT="av",t.AVESTAN="AVESTAN",t.AVESTAN_ID=42,t.AVESTAN_EXT="ae",t.AYMARA="AYMARA",t.AYMARA_ID=43,t.AYMARA_EXT="ay",t.AZERBAIJANI="AZERBAIJANI",t.AZERBAIJANI_ID=44,t.AZERBAIJANI_EXT="az",t.BAMBARA="BAMBARA",t.BAMBARA_ID=45,t.BAMBARA_EXT="bm",t.BASHKIR="BASHKIR",t.BASHKIR_ID=46,t.BASHKIR_EXT="ba",t.BASQUE="BASQUE",t.BASQUE_ID=47,t.BASQUE_EXT="eu",t.BELARUSIAN="BELARUSIAN",t.BELARUSIAN_ID=48,t.BELARUSIAN_EXT="be",t.BENGALI="BENGALI",t.BENGALI_ID=49,t.BENGALI_EXT="bn",t.BIHARI="BIHARI",t.BIHARI_ID=50,t.BIHARI_EXT="bh",t.BISLAMA="BISLAMA",t.BISLAMA_ID=51,t.BISLAMA_EXT="bi",t.BOSNIAN="BOSNIAN",t.BOSNIAN_ID=52,t.BOSNIAN_EXT="bs",t.BRETON="BRETON",t.BRETON_ID=53,t.BRETON_EXT="br",t.BURMESE="BURMESE",t.BURMESE_ID=54,t.BURMESE_EXT="my",t.CATALAN="CATALAN",t.CATALAN_ID=55,t.CATALAN_EXT="ca",t.CHAMORRO="CHAMORRO",t.CHAMORRO_ID=56,t.CHAMORRO_EXT="ch",t.CHECHEN="CHECHEN",t.CHECHEN_ID=57,t.CHECHEN_EXT="ce",t.CHICHEWA="CHICHEWA",t.CHICHEWA_ID=58,t.CHICHEWA_EXT="ny",t.CHUVASH="CHUVASH",t.CHUVASH_ID=59,t.CHUVASH_EXT="cv",t.CORNISH="CORNISH",t.CORNISH_ID=60,t.CORNISH_EXT="kw",t.CORSICAN="CORSICAN",t.CORSICAN_ID=61,t.CORSICAN_EXT="co",t.CREE="CREE",t.CREE_ID=62,t.CREE_EXT="cr",t.DIVEHI="DIVEHI",t.DIVEHI_ID=63,t.DIVEHI_EXT="dv",t.DZONGKHA="DZONGKHA",t.DZONGKHA_ID=64,t.DZONGKHA_EXT="dz",t.ESPERANTO="ESPERANTO",t.ESPERANTO_ID=65,t.ESPERANTO_EXT="eo",t.ESTONIAN="ESTONIAN",t.ESTONIAN_ID=44,t.ESTONIAN_EXT="et",t.EWE="EWE",t.EWE_ID=67,t.EWE_EXT="ee",t.FAROESE="FAROESE",t.FAROESE_ID=68,t.FAROESE_EXT="fo",t.FIJIAN="FIJIAN",t.FIJIAN_ID=69,t.FIJIAN_EXT="fj",t.FULA="FULA",t.FULA_ID=70,t.FULA_EXT="ff",t.GALICIAN="GALICIAN",t.GALICIAN_ID=71,t.GALICIAN_EXT="gl",t.GEORGIAN="GEORGIAN",t.GEORGIAN_ID=32,t.GEORGIAN_EXT="ka",t.GUARANI="GUARANI",t.GUARANI_ID=73,t.GUARANI_EXT="gn",t.GUJARATI="GUJARATI",t.GUJARATI_ID=74,t.GUJARATI_EXT="gu",t.HAITIAN="HAITIAN",t.HAITIAN_ID=75,t.HAITIAN_EXT="ht",t.HAUSA="HAUSA",t.HAUSA_ID=76,t.HAUSA_EXT="ha",t.HEBREW="HEBREW",t.HEBREW_ID=77,t.HEBREW_EXT="he",t.HERERO="HERERO",t.HERERO_ID=78,t.HERERO_EXT="hz",t.HINDI="HINDI",t.HINDI_ID=79,t.HINDI_EXT="hi",t.HIRI_MOTU="HIRI MOTU",t.HIRI_MOTU_ID=80,t.HIRI_MOTU_EXT="ho",t.INTERLINGUA="INTERLINGUA",t.INTERLINGUA_ID=81,t.INTERLINGUA_EXT="ia",t.INDONESIAN="INDONESIAN",t.INDONESIAN_ID=41,t.INDONESIAN_EXT="id",t.INTERLINGUE="INTERLINGUE",t.INTERLINGUE_ID=83,t.INTERLINGUE_EXT="ie",t.IRISH="IRISH",t.IRISH_ID=84,t.IRISH_EXT="ga",t.IGBO="IGBO",t.IGBO_ID=85,t.IGBO_EXT="ig",t.INUPIAQ="INUPIAQ",t.INUPIAQ_ID=86,t.INUPIAQ_EXT="ik",t.IDO="IDO",t.IDO_ID=87,t.IDO_EXT="io",t.ICELANDIC="ICELANDIC",t.ICELANDIC_ID=88,t.ICELANDIC_EXT="is",t.INUKTITUT="INUKTITUT",t.INUKTITUT_ID=89,t.INUKTITUT_EXT="iu",t.JAVANESE="JAVANESE",t.JAVANESE_ID=90,t.JAVANESE_EXT="jv",t.KALAALLISUT="KALAALLISUT",t.KALAALLISUT_ID=91,t.KALAALLISUT_EXT="kl",t.KANNADA="KANNADA",t.KANNADA_ID=92,t.KANNADA_EXT="kn",t.KANURI="KANURI",t.KANURI_ID=93,t.KANURI_EXT="kr",t.KASHMIRI="KASHMIRI",t.KASHMIRI_ID=94,t.KASHMIRI_EXT="ks",t.KAZAKH="KAZAKH",t.KAZAKH_ID=95,t.KAZAKH_EXT="kk",t.KHMER="KHMER",t.KHMER_ID=96,t.KHMER_EXT="km",t.KIKUYU="KIKUYU",t.KIKUYU_ID=97,t.KIKUYU_EXT="ki",t.KINYARWANDA="KINYARWANDA",t.KINYARWANDA_ID=98,t.KINYARWANDA_EXT="rw",t.KYRGYZ="KYRGYZ",t.KYRGYZ_ID=99,t.KYRGYZ_EXT="ky",t.KOMI="KOMI",t.KOMI_ID=100,t.KOMI_EXT="kv",t.KONGO="KONGO",t.KONGO_ID=101,t.KONGO_EXT="kg",t.KURDISH="KURDISH",t.KURDISH_ID=102,t.KURDISH_EXT="ku",t.KWANYAMA="KWANYAMA",t.KWANYAMA_ID=103,t.KWANYAMA_EXT="kj",t.LATIN="LATIN",t.LATIN_ID=104,t.LATIN_EXT="la",t.LUXEMBOURGISH="LUXEMBOURGISH",t.LUXEMBOURGISH_ID=105,t.LUXEMBOURGISH_EXT="lb",t.GANDA="GANDA",t.GANDA_ID=106,t.GANDA_EXT="lg",t.LIMBURGISH="LIMBURGISH",t.LIMBURGISH_ID=107,t.LIMBURGISH_EXT="li",t.LINGALA="LINGALA",t.LINGALA_ID=108,t.LINGALA_EXT="ln",t.LAO="LAO",t.LAO_ID=109,t.LAO_EXT="lo",t.LUBA_KATANGA="LUBA KATANGA",t.LUBA_KATANGA_ID=110,t.LUBA_KATANGA_EXT="lu",t.MANX="MANX",t.MANX_ID=111,t.MANX_EXT="gv",t.MACEDONIAN="MACEDONIAN",t.MACEDONIAN_ID=112,t.MACEDONIAN_EXT="mk",t.MALAGASY="MALAGASY",t.MALAGASY_ID=113,t.MALAGASY_EXT="mg",t.MALAY="MALAY",t.MALAY_ID=114,t.MALAY_EXT="ms",t.MALAYALAM="MALAYALAM",t.MALAYALAM_ID=115,t.MALAYALAM_EXT="ml",t.MALTESE="MALTESE",t.MALTESE_ID=116,t.MALTESE_EXT="mt",t.MAORI="MAORI",t.MAORI_ID=117,t.MAORI_EXT="mi",t.MARATHI="MARATHI",t.MARATHI_ID=118,t.MARATHI_EXT="mr",t.MARSHALLESE="MARSHALLESE",t.MARSHALLESE_ID=119,t.MARSHALLESE_EXT="mh",t.MONGOLIAN="MONGOLIAN",t.MONGOLIAN_ID=120,t.MONGOLIAN_EXT="mn",t.NAURU="NAURU",t.NAURU_ID=121,t.NAURU_EXT="na",t.NAVAJO="NAVAJO",t.NAVAJO_ID=122,t.NAVAJO_EXT="nv",t.NORTHERN_NDEBELE="NORTHERN NDEBELE",t.NORTHERN_NDEBELE_ID=123,t.NORTHERN_NDEBELE_EXT="nd",t.NEPALI="NEPALI",t.NEPALI_ID=124,t.NEPALI_EXT="ne",t.NDONGA="NDONGA",t.NDONGA_ID=125,t.NDONGA_EXT="ng",t.NORWEGIAN_BOKMAL="NORWEGIAN BOKMAL",t.NORWEGIAN_BOKMAL_ID=126,t.NORWEGIAN_BOKMAL_EXT="nb",t.NORWEGIAN_NYNORSK="NORWEGIAN NYNORSK",t.NORWEGIAN_NYNORSK_ID=127,t.NORWEGIAN_NYNORSK_EXT="nn",t.NUOSU="NUOSU",t.NUOSU_ID=128,t.NUOSU_EXT="ii",t.SOUTHERN_NDEBELE="SOUTHERN NDEBELE",t.SOUTHERN_NDEBELE_ID=129,t.SOUTHERN_NDEBELE_EXT="nr",t.OCCITAN="OCCITAN",t.OCCITAN_ID=130,t.OCCITAN_EXT="oc",t.OJIBWE="OJIBWE",t.OJIBWE_ID=131,t.OJIBWE_EXT="oj",t.OLD_BULGARIAN="OLD BULGARIAN",t.OLD_BULGARIAN_ID=132,t.OLD_BULGARIAN_EXT="cu",t.OROMO="OROMO",t.OROMO_ID=133,t.OROMO_EXT="om",t.ORIYA="ORIYA",t.ORIYA_ID=134,t.ORIYA_EXT="or",t.OSSETIAN="OSSETIAN",t.OSSETIAN_ID=135,t.OSSETIAN_EXT="os",t.PANJABI="PANJABI",t.PANJABI_ID=136,t.PANJABI_EXT="pa",t.PALI="PALI",t.PALI_ID=137,t.PALI_EXT="pi",t.PERSIAN="PERSIAN",t.PERSIAN_ID=138,t.PERSIAN_EXT="fa",t.PASHTO="PASHTO",t.PASHTO_ID=139,t.PASHTO_EXT="ps",t.QUECHUA="QUECHUA",t.QUECHUA_ID=140,t.QUECHUA_EXT="qu",t.ROMANSH="ROMANSH",t.ROMANSH_ID=141,t.ROMANSH_EXT="rm",t.KIRUNDI="KIRUNDI",t.KIRUNDI_ID=142,t.KIRUNDI_EXT="rn",t.SANSKRIT="SANSKRIT",t.SANSKRIT_ID=143,t.SANSKRIT_EXT="sa",t.SARDINIAN="SARDINIAN",t.SARDINIAN_ID=144,t.SARDINIAN_EXT="sc",t.SINDHI="SINDHI",t.SINDHI_ID=145,t.SINDHI_EXT="sd",t.NORTHERN_SAMI="NORTHERN SAMI",t.NORTHERN_SAMI_ID=146,t.NORTHERN_SAMI_EXT="se",t.SAMOAN="SAMOAN",t.SAMOAN_ID=147,t.SAMOAN_EXT="sm",t.SANGO="SANGO",t.SANGO_ID=148,t.SANGO_EXT="sg",t.SARAIKI="SARAIKI",t.SARAIKI_ID=149,t.SARAIKI_EXT="sk",t.SERBIAN="SERBIAN",t.SERBIAN_ID=150,t.SERBIAN_EXT="sr",t.SCOTTISH_GAELIC="SCOTTISH GAELIC",t.SCOTTISH_GAELIC_ID=151,t.SCOTTISH_GAELIC_EXT="gd",t.SHONA="SHONA",t.SHONA_ID=152,t.SHONA_EXT="sn",t.SINHALA="SINHALA",t.SINHALA_ID=153,t.SINHALA_EXT="si",t.SOMALI="SOMALI",t.SOMALI_ID=154,t.SOMALI_EXT="so",t.SOUTHERN_SOTHO="SOUTHERN SOTHO",t.SOUTHERN_SOTHO_ID=155,t.SOUTHERN_SOTHO_EXT="st",t.SUNDANESE="SUNDANESE",t.SUNDANESE_ID=156,t.SUNDANESE_EXT="su",t.SWAHILI="SWAHILI",t.SWAHILI_ID=157,t.SWAHILI_EXT="sw",t.SWATI="SWATI",t.SWATI_ID=158,t.SWATI_EXT="ss",t.TAMIL="TAMIL",t.TAMIL_ID=159,t.TAMIL_EXT="ta",t.TELUGU="TELUGU",t.TELUGU_ID=160,t.TELUGU_EXT="te",t.TAJIK="TAJIK",t.TAJIK_ID=161,t.TAJIK_EXT="tg",t.THAI="THAI",t.THAI_ID=162,t.THAI_EXT="th",t.TIGRINYA="TIGRINYA",t.TIGRINYA_ID=163,t.TIGRINYA_EXT="ti",t.TIBETAN_STANDARD="TIBETAN STANDARD",t.TIBETAN_STANDARD_ID=164,t.TIBETAN_STANDARD_EXT="bo",t.TURKMEN="TURKMEN",t.TURKMEN_ID=165,t.TURKMEN_EXT="tk",t.TAGALOG="TAGALOG",t.TAGALOG_ID=166,t.TAGALOG_EXT="tl",t.TSWANA="TSWANA",t.TSWANA_ID=167,t.TSWANA_EXT="tn",t.TONGA="TONGA",t.TONGA_ID=168,t.TONGA_EXT="to",t.TSONGA="TSONGA",t.TSONGA_ID=169,t.TSONGA_EXT="ts",t.TATAR="TATAR",t.TATAR_ID=170,t.TATAR_EXT="tt",t.TWI="TWI",t.TWI_ID=171,t.TWI_EXT="tw",t.TAHITIAN="TAHITIAN",t.TAHITIAN_ID=172,t.TAHITIAN_EXT="ty",t.UYGHUR="UYGHUR",t.UYGHUR_ID=173,t.UYGHUR_EXT="ug",t.UKRAINIAN="UKRAINIAN",t.UKRAINIAN_ID=174,t.UKRAINIAN_EXT="uk",t.URDU="URDU",t.URDU_ID=175,t.URDU_EXT="ur",t.UZBEK="UZBEK",t.UZBEK_ID=176,t.UZBEK_EXT="uz",t.VENDA="VENDA",t.VENDA_ID=177,t.VENDA_EXT="ve",t.VOLAPUK="VOLAPUK",t.VOLAPUK_ID=178,t.VOLAPUK_EXT="vo",t.WALLOON="WALLOON",t.WALLOON_ID=179,t.WALLOON_EXT="wa",t.WELSH="WELSH",t.WELSH_ID=180,t.WELSH_EXT="cy",t.WOLOF="WOLOF",t.WOLOF_ID=181,t.WOLOF_EXT="wo",t.WESTERN_FRISIAN="WESTERN FRISIAN",t.WESTERN_FRISIAN_ID=182,t.WESTERN_FRISIAN_EXT="fy",t.XHOSA="XHOSA",t.XHOSA_ID=183,t.XHOSA_EXT="xh",t.YIDDISH="YIDDISH",t.YIDDISH_ID=184,t.YIDDISH_EXT="yi",t.YORUBA="YORUBA",t.YORUBA_ID=185,t.YORUBA_EXT="yo",t.ZHUANG="ZHUANG",t.ZHUANG_ID=186,t.ZHUANG_EXT="za",t.ZULU="ZULU",t.ZULU_ID=187,t.ZULU_EXT="zu",t}();e.Language=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(51),s=i(21),a=i(15),r=i(42),l=i(34),c=i(4),u=i(8),h=PIXI.Container,p=function(){function t(){this.margin=0,this.fieldWidth=600,this.fieldHeight=25,this.fontSize=14,this.imageHeight=18,this.imageGap=3,c.Device.instance().mobile?(this.fieldWidth=t.MOBILE_FIELD_WIDTH,this.fieldHeight=t.MOBILE_FIELD_HEIGHT,this.margin=0,this.fontSize=45,this.imageHeight=55,this.imageGap=5,t.useMasterLayout&&(this.fieldWidth=700)):c.Device.instance().minigame&&(this.fieldWidth=240,this.fieldHeight=20,this.margin=12,this.fontSize=15,this.imageHeight=18,this.imageGap=2),this.fieldWidth-=2*this.margin,this.createTextFields(),this.imagesPool=[],this.images=[]}return Object.defineProperty(t.prototype,"checkIfBackgroundIsNeeded",{set:function(t){var e=r.VisualAssetsMap.instance().getVisualAsset(l.VisualAssetsNames.INFO_BOX_BACKGROUND);if(t){if(n.isNil(this.display.getChildByName(e))){var i=new o.Image(e);i.setTexture(a.TextureUtil.instance().getTextureFromCache(e)),i.image.width=2*this.fieldWidth,i.image.height=2*this.fieldHeight,i.x=this.margin,i.scale.set(.5),i.setAnchor(0,0),this.display.addChildAt(i,0)}}else n.isNil(this.display.getChildByName(e))||this.display.removeChild(this.display.getChildByName(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imgHeight",{get:function(){return this.imageHeight},set:function(t){this.imageHeight=t},enumerable:!0,configurable:!0}),t.prototype.updateInfoBoxDisplay=function(t){this.display=t,this.contentsHolder=new h,this.display.addChild(this.contentsHolder),this.display.visible=!1},t.prototype.setPosition=function(t,e){this.display.y=t-this.fieldHeight*e,this.display.x=(u.SceneManager.SCENE_WIDTH-this.fieldWidth)/2,this.setFontSizes(),this.hideInfoBox()},t.prototype.setFontSizes=function(){c.Device.instance().mobile?c.Device.isLandscape()?this.fontSize=30:this.fontSize=40:this.fontSize=28,n.isNil(this.textField0)||(this.textField0.fontSize=this.fontSize),n.isNil(this.textField1)||(this.textField1.fontSize=this.fontSize)},t.prototype.updateInfoBoxMessage=function(t,e){var i=this;if(void 0===e&&(e=void 0),""!=t.message){if(n.isNil(e)?this.contentsHolder:e){var o=t.symbols,s=this.messageCopy!=t.message||!n.isEqual(this.symbolsCopy,o);if(this.contentsHolder.scale.set(1),s&&(this.contentsHolder.removeChildren(),n.each(this.images,(function(t){i.imagesPool.push(t)})),this.images=[],this.setFontSizes()),this.showMessageWithSymbols(t)){if(s){var a=t.message.split("{image}");this.textField0.updateLabel(a[0]),this.contentsHolder.addChild(this.textField0),n.each(o,(function(t){i.addImage(r.VisualAssetsMap.instance().getVisualAsset(l.VisualAssetsNames.SYMBOL_INFOBOX_NAME,t.toString()))})),this.textField1.updateLabel(a[1]),this.textField1.x=this.contentsHolder.width+2,this.contentsHolder.addChild(this.textField1),this.messageCopy=t.message,this.symbolsCopy=o}}else this.textField0.updateLabel(t.message),this.contentsHolder.addChild(this.textField0),this.messageCopy=t.message,this.symbolsCopy=o}else this.contentsHolder instanceof h&&!n.isNil(this.contentsHolder.getChildByName("messageInfoText"))&&this.contentsHolder.getChildByName("messageInfoText").updateLabel(t.message);this.contentsHolder.x=this.margin+(this.fieldWidth-this.contentsHolder.width)/2,this.display.visible=!0}else this.hideInfoBox()},t.prototype.hideInfoBox=function(){this.textField0.text.text="",this.textField1.text.text="",this.messageCopy="",this.display.visible=!1},t.prototype.setInfoboxAlpha=function(t){this.display.alpha=t},t.prototype.createTextFields=function(){this.setFontSizes();var t={fontSize:this.fontSize,fill:16777215,align:"left",vAlign:"center",stroke:"black",strokeThickness:5,singleLine:!1,miterLimit:5,lineJoin:"round"};this.textField0=new s.TextField("tf0"),this.textField1=new s.TextField("tf1"),this.textField0.setUp(this.fieldWidth,this.fieldHeight,t),this.textField1.setUp(this.fieldWidth,this.fieldHeight,t)},t.prototype.addImage=function(t){var e;return(e=this.imagesPool.length?this.imagesPool.shift():new PIXI.Sprite).texture=a.TextureUtil.instance().getTextureFromCache(t),e.width=e.height=this.imageHeight,e.x=this.contentsHolder.width+this.imageGap,e.y=(this.fieldHeight-this.imageHeight)/2,this.contentsHolder.addChild(e),this.images.push(e),e},t.prototype.showMessageWithSymbols=function(t){return t&&t.symbols&&t.symbols.length>0&&t.message},t.DESKTOP="desktop",t.MOBILE_LANDSCAPE="mobile_landscape",t.MOBILE_PORTRAIT="mobile_portait",t.MOBILE_PORTRAIT_OFFSET="mobilePortraitInfoboxOffset",t.MOBILE_FIELD_HEIGHT=60,t.MOBILE_FIELD_WIDTH=900,t.useMasterLayout=!1,t}();e.SlotInfoBoxHandlerPixi=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(358),s=i(51),a=PIXI.Texture,r=function(){function t(){if(this.svgAtlas={},t._instance)throw new Error("SVGUtil class is not to be instantiated. Please use SVGUtil.instance() ");t._instance=this}return t.instance=function(){return t._instance},t.prototype.storeSVG=function(t){this.parseXMLResult(t)},t.prototype.svgToURL=function(t,e,i,n,o,s){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=58.29),void 0===o&&(o=58.29),void 0===s&&(s="none");var a="",r="xMaxYMax";return t.search("%noRatio%")>=0?(r="none",t=t.replace("%noRatio%","")):0==i&&(r=s),this.svgAtlas&&this.svgAtlas[t.toLowerCase()]&&(a=this.svgAtlas[t.toLowerCase()].data,"xMaxYMax"!=r&&(a=a.replace("xMaxYMax",r)),a="fromSVG"==s?a.replace("{width}",this.svgAtlas[t.toLowerCase()].width.toString()).replace("{height}",this.svgAtlas[t.toLowerCase()].height.toString()):a.replace("{width}",(2*n).toString()).replace("{height}",(2*o).toString()),a=e?this.adjustSVGNewLine(a).replace(/"/g,"'"):this.adjustSVG(a).replace(/"/g,"'")),a},t.prototype.parseXMLResult=function(t){var e=this,i=t.getElementsByTagName("g"),o=new XMLSerializer;n.each(i,(function(t){if(t.getAttribute("id")){var i=t.getAttribute("id").toLowerCase(),n=o.serializeToString(t),s="0 0 699.494 699.502";t.getAttribute("viewBox")&&(s=t.getAttribute("viewBox"));var a=s.split(" ");e.svgAtlas[i]={data:'data:image/svg+xml;charset=utf8,<svg xmlns="http://www.w3.org/2000/svg" width="{width}" height="{height}" viewBox="'+s+'" preserveAspectRatio="xMaxYMax">'+n+"</svg>",viewBox:s,width:parseFloat(a[2]),height:parseFloat(a[3])}}}))},t.prototype.adjustSVG=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=o.trim(t)).replace(/\%/g,"%25")).replace(/\#/g,"%23")).replace(/\{/g,"%7B")).replace(/\}/g,"%7D")).replace(/\&/g,"%26")).replace(/\|/g,"%7C")).replace(/\[/g,"%5B")).replace(/\]/g,"%5D")).replace(/\</g,"%3C")).replace(/\>/g,"%3E")).replace(/\n/g,"")},t.prototype.adjustSVGNewLine=function(t){return t=(t=o.trim(t)).replace(/\n/g,"")},t.prototype.getImage=function(t,e,i,n,o){void 0===n&&(n=t),void 0===o&&(o="xMidYMid slice");var r=this.svgToURL(t,!0,!1,e,i,o),l=a.fromImage(r),c=new s.Image(n);return l.width=e,l.height=i,c.setTexture(l),c.image.width=e,c.image.height=i,c},t}();e.SVGUtil=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.LINES="lines",e.BONUS="bonus",e.BONUS_1="bonus_1",e.BONUS_2="bonus_2",e.BONUS_3="bonus_3",e.BONUS_4="bonus_4",e.BONUS_5="bonus_5",e.EXTENDED_WILD="extended_wild",e.FEATURES="features",e.FREESPIN="freespin",e.FREESPIN_RESTORE="freespin_restore",e.FREE_ROUNDS="freeRounds",e.PROGRESSIVE="progressive",e.START_RESPIN="start_respin",e.END_RESPIN="end_respin",e.COPY_WILD="copy_wild",e.STICKY_SYMBOL="sticky_symbol",e}(i(169).EndGameDecisionNames);e.SlotEndGameDecisionNames=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=PIXI.loaders.Resource.XHR_RESPONSE_TYPE,o=function(){function t(){}return t.XML_FILE=n.DOCUMENT,t.JSON_FILE=n.JSON,t.IMAGE_FILE=n.BLOB,t.ATLAS_FILE=n.JSON,t.SPINE_JSON_FILE=n.JSON,t.SPINE_ATLAS_FILE=n.TEXT,t.SOUND_FILE=n.BUFFER,t.HTML_FILE=n.TEXT,t.CSS_FILE=n.TEXT,t.MASTER_LAYOUT=n.TEXT,t.SCENE_3D=n.JSON,t.TEXTURE_3D=n.BLOB,t}();e.FileTypes=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(178),r=i(52),l=i(44),c=i(111),u=PIXI.Point,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._symbolsToSkipHL=[],e._offset=new u,e}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.gameConfig)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.linesConfig)&&(this.linesConfig=this.settings.getValue("LINES_CONFIG")),this.animationDetails=this.slotGameConfig.getProperties("WIN_ANIMATIONS_DETAILS_DESIGN_TOOL")},e.prototype.onAnimationConfig=function(t){this.wheelAnimationConfig=t},e.prototype.destroyDecorator=function(){t.prototype.destroyDecorator.call(this),this._display.destroy(),this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP)},e.prototype.registerInjectActionHandlersMandatory=function(){this.addInjectActionHandler(c.DecoratorInjectActionNames.DISPLAY,this.onDisplayReceived.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.ANIMATION_CONFIG,this.onAnimationConfig.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.SYMBOLS_MATRIX,this.onSymbolsMatrix.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.SYMBOLS_TO_SKIP,this.onSymbolsToSkip.bind(this))},e.prototype.registerInjectActionHandlers=function(){this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.ALL_MODULES_INITIALIZED,this.onAllModulesInitialized.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.START_ANIMATION,this.onStartAnimation.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.STOP_ANIMATION,this.onStopAnimation.bind(this)),this.addInjectActionHandler(r.WinningsDecoratorInjectActionNames.FULL_CYCLE_COMPLETE,this.onFullCycleComplete.bind(this))},e.prototype.getDecoratorSettings=function(){return this.slotGameConfig.getProperty("WINNINGS_ANIMATIONS_DECORATORS",this.name)},e.prototype.onStartAnimation=function(t){},e.prototype.onStopAnimation=function(t){!s.isNil(t)&&t.resetAnimation&&(this._fullCycleComplete=!1,this._symbolsToSkipHL=[]),this.emptyDisplay()},e.prototype.emptyDisplay=function(){this._display.removeChildren()},e.prototype.onDisplayReceived=function(t){this._display=t.display},e.prototype.onSymbolsMatrix=function(t){this._serverIdSymbolsMatrix=t.symbolsMatrix},e.prototype.onSymbolsToSkip=function(t){this._symbolsToSkipHL=t.symbolsToSkip},e.prototype.onFullCycleComplete=function(t){this._fullCycleComplete=!0},e.prototype.onAllModulesInitialized=function(){},e.prototype.everythingIsLoaded=function(){t.prototype.everythingIsLoaded.call(this),this.onAllModulesInitialized()},e}(a.AbstractDecorator);e.AbstractWinningsDecorator=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(4),s=function(){function t(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.name=t,this.componentLandscape=e[0],this.componentPortrait=e[1],this.functionCallback=i,this.argsCallback=n}return Object.defineProperty(t.prototype,"currentComponent",{get:function(){return!0===o.Device.isLandscape()||n.isNil(this.componentPortrait)?this.componentLandscape:this.componentPortrait},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonCurrentComponent",{get:function(){return!1===o.Device.isLandscape()||n.isNil(this.componentPortrait)?this.componentLandscape:this.componentPortrait},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentOrientation",{get:function(){return o.Device.isLandscape()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.currentComponent.x},set:function(t){this.currentComponent.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{set:function(t){this.currentComponent.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{set:function(t){this.currentComponent.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.currentComponent.y},set:function(t){this.currentComponent.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.currentComponent.width},set:function(t){this.currentComponent.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.currentComponent.height},set:function(t){this.currentComponent.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.currentComponent.visible},set:function(t){n.isNil(this.componentLandscape)||(this.componentLandscape.visible=t),n.isNil(this.componentPortrait)||(this.componentPortrait.visible=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactive",{get:function(){return this.currentComponent.interactive},set:function(t){this.componentLandscape.interactive=t,n.isNil(this.componentPortrait)||(this.componentPortrait.interactive=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buttonMode",{get:function(){return this.currentComponent.buttonMode},set:function(t){this.componentLandscape.buttonMode=t,n.isNil(this.componentPortrait)||(this.componentPortrait.buttonMode=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.currentComponent.children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.currentComponent.alpha},set:function(t){this.componentLandscape.alpha=t,n.isNil(this.componentPortrait)||(this.componentPortrait.alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasComponents",{get:function(){return!n.isNil(this.componentLandscape)&&!n.isNil(this.componentPortrait)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(t){this.componentLandscape.destroy(t),n.isNil(this.componentPortrait)||this.componentPortrait.destroy(t)},t.prototype.addClickAction=function(t,e){this.componentLandscape.on(t,e),n.isNil(this.componentPortrait)||this.componentPortrait.on(t,e)},t}();e.ControllerBaseComponent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(186),s=i(6),a=i(4),r=i(20),l=i(388),c=function(){function t(){if(this._launcherParams={},this._mapDictionary={},this._cookies={},this.passwordGPMSplit=["token","username","strip_currency","country","mode","tournament","tournament_id","6_digits_skin_id","gametype"],t._instance)throw new Error("Settings class is not to be instantiated. Please use Settings.instance ");t._instance=this,this.retrieveCookies()}return Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),t.prototype.hasLauncherParam=function(t){return n.has(this._launcherParams,t)},t.prototype.map=function(t,e){this._mapDictionary[t]=e},t.prototype.getValue=function(e){return t._idAccessCount++,this._mapDictionary[e]},t.prototype.getSpecificKey=function(e,i){t._keyAccessCount++;var n=this.getValue(e);return n?o.XMLParser.findKey(n,i):void s.Log.warningch("Settings","The id: '"+e+"' was not found in Settings, will return 'undefined'")},t.prototype.parseXMLResult=function(e){var i=this,r=o.XMLParser.xmlToJson(e.data),l=this.getValue("GameConfig");if(r&&r.game&&r.game.settings&&r.game.settings.setting){var c=r.game.settings.setting;if(c=this.setOperatorAndLicense(c),n.each(c,(function(e){if(a.Device.CLASS_INDEX==a.Device.CLASS_INDEX_DESKTOP&&e.id.indexOf(t._isMobile)>0);else if(a.Device.CLASS_INDEX==a.Device.CLASS_INDEX_MOBILE&&e.id.indexOf(t._isMobile)>0){var n=e.id.split(t._isMobile).map(String)[0],s=o.XMLParser.parseObject(e);i.map(n,s),l.hasProperties(n)&&l.overwrideFromSettings(n,s)}else if(!i._mapDictionary.hasOwnProperty(e.id)){n=e.id,s=o.XMLParser.parseObject(e);i.map(n,s),l.hasProperties(n)&&l.overwrideFromSettings(n,s)}})),!this.getValue("ENABLE_CONNECTION_SERVICE")){var u=r.game.details.detail;n.isNil(u)||this.map("CONNECTION_DETAILS_JSON",u)}}else s.Log.warning("GPM - Assets are malformted");this.setConsoleAvailability()},t.prototype.destroy=function(){this._launcherParams={},this._mapDictionary={},this._cookies={},t._idAccessCount=0,t._keyAccessCount=0,t._instance=null},t.prototype.setCookie=function(t,e,i){void 0===i&&(i=1825);var n=r.StringUtil.escapeHtml(t),o=r.StringUtil.escapeHtml(e),s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);var a="expires="+s.toUTCString();document.cookie=n+"="+o+"; "+a,this._cookies[n]=o},t.prototype.getCookie=function(t,e){var i;return void 0===e&&(e=!1),e&&this.retrieveCookies(),this._cookies.hasOwnProperty(t)&&(i=this._cookies[t]),i},t.prototype.getCurrencyString=function(t,e){if(void 0===e&&(e=!0),e)return String(t);var i=this.getValue("CURRENCIES")[this.getValue("currency")];return i=i&&""!=i?i.trim():"{1}",r.StringUtil.sprintf(i,[t])},t.prototype.getProgressiveCurrencyString=function(t,e){if(void 0===e&&(e=!0),e)return String(t);var i=this.getValue("CURRENCIES")[this.getValue("progressiveCurrency")];return i&&""!=i||(i="{1}"),r.StringUtil.sprintf(i,[t])},t.prototype.parseParameters=function(){var t=this,e=location.search.replace("?","").split("&");n.each(e,(function(e){if(""!=e){var i=e.split("="),n=i.shift(),o=i.join("=");t.mapLauncherParam(n,decodeURIComponent(o)),t.map(n,decodeURIComponent(o)),"password"==n&&t.map("isLocal",!1)}})),this.checkForPassword()},t.prototype.getSkinIdFormat=function(t){return this.getValue("newSkinIDFormat")||(t%=1e4),t},t.prototype.contains=function(t){return l.ObjectUtil.validateObject(this._mapDictionary,t)},t.prototype.retrieveCookies=function(){var t=this;this._cookies={};var e=document.cookie.split(";");e.length>0&&n.each(e,(function(e){var i=e.indexOf("=");if(-1!=i){var n=r.StringUtil.escapeHtml(e.substr(0,i).trim());t._cookies[n]=r.StringUtil.escapeHtml(e.substr(i+1))}}))},t.prototype.checkForPassword=function(){var t=this,e=this.getValue("password");this.getValue("isLocal")||n.each(e.split(","),(function(e,i){t.map(t.passwordGPMSplit[i],e)}));var i=this.getValue("channelautodetection");e=n.isNil(i)||"ON"==i?this.parsePasswordOnChannelDectionOn(e):e.replace(/multi/gi,this.getValue("game_type")),this.map("password",e)},t.prototype.parsePasswordOnChannelDectionOn=function(t){return a.Device.instance().desktop&&(t=t.replace(/multi/gi,"flash")),a.Device.instance().mobile&&(t=t.replace(/multi/gi,"mobile")),a.Device.instance().tablet&&(t=t.replace(/multi/gi,"mobile")),t},t.prototype.setConsoleAvailability=function(){var t=!1,e=!n.isNil(this.getValue("enableConsole")),i=JSON.parse(this.getValue("isLocal"));e&&(t=JSON.parse(this.getValue("enableConsole"))),i?(s.Log.disableConsole=!1,e&&(s.Log.disableConsole=!t)):s.Log.disableConsole=!t},t.prototype.setOperatorAndLicense=function(t){var e,i,o=this,s=this._mapDictionary.name.split(",");return s.length>2&&(e="_"+s[2]),s.length>1&&(i="_"+s[0]),n.each(this._mapDictionary,(function(t,n){o._mapDictionary.hasOwnProperty(n+e)?o.map(n,o._mapDictionary[n+e]):o._mapDictionary.hasOwnProperty(n+i)&&o.map(n,o._mapDictionary[n+i])})),n.each(t,(function(o,s){n.each(t,(function(e,n){t[n].id+i==t[s].id&&(t[n].var=t[s].var)})),n.each(t,(function(i,n){t[n].id+e==t[s].id&&(t[n].var=t[s].var)}))})),t},t.prototype.mapLauncherParam=function(t,e){this.hasLauncherParam(t)?s.Log.warningch("Settings","The param: '"+t+"' already exists in Settings, please check url for duplicate params."):this._launcherParams[t]=e},t._idAccessCount=0,t._keyAccessCount=0,t._isMobile="_MOBILE",t}();e.Settings=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SYMBOLS_BREAK="symbol_break",t.MEGAWAYS_EARTHQUAKE_SOUND="megaways_eartquake",t.SUN_DISK_APPEAR="sun_disk_appear",t.SUN_DISK_DISSAPPEAR="sun_disk_dissappear",t.SUN_DISK_INCREMENT="sun_disk_increment",t.SUN_DISK_INCREMENT_STOP="sun_disk_increment_stop",t.MAX_MEGAWAYS_AMBIANCE="max_megaways_ambiance",t.BIG_WIN_TEXT_EFFECT="text_effect",t.UI_LIGHT_SWEEP="light_sweep",t.POPUP_HIDE="popup_hide",t.WIN_BONUS="respin_win",t.WIN_MONTEZUMA="symbol_montezuma",t.WIN_EAGLE="symbol_eagle",t.WIN_SNAKE="symbol_snake",t.WIN_TIGER="symbol_tiger",t.INTRO_ANIMATION="intro_animation",t.ANNOUNCE_PREFIX="announce_0",t.ANNOUNCE_SOUND="scatterland",t}();e.NgsMwAztecGoldSoundNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=i(486),l=PIXI.Container,c=PIXI.Graphics,u=function(t){function e(e,i,n,o,a){void 0===o&&(o="true");var u=t.call(this,e)||this;return u.type="ScrollingContainer",u.mouseWheelStep=15,u.maxScroll=0,u.minScroll=0,u.decelValue=.95,u.bounceVal=1,u.viewportHeight=0,u._offsetHeight=.04,u.speed=0,u.dragged=!1,u.active=!1,u._elements=[],u.nbClicks=0,u.contents=new l,s.isNil(a)||(u._offsetHeight=a),u.contents.y=n*u._offsetHeight,u.addChild(u.contents),u.viewportHeight=n,"false"!=o&&(u._maskScroll=new c,u._maskScroll.name="maskScroll",u._maskScroll.beginFill(16777215),u._maskScroll.drawRect(0,0,i,n),u._maskScroll.endFill(),u.addChild(u._maskScroll),u.mask=u._maskScroll),u.updateBound=u.update.bind(u),u.bg=new PIXI.Graphics,u.bg.name="bg",u.bg.beginFill(16711680,0),u.bg.drawRect(0,0,i,n),u.setBackground(u.bg),u.dragPoint=new PIXI.Point,u.on("pointerdown",u.onPress.bind(u)),u.on("pointerup",u.onRelease.bind(u)),u.on("pointerupoutside",u.onRelease.bind(u)),u.on("pointermove",u.onDrag.bind(u)),u.mouseWheel=new r.MouseScrollEvent(u,u.onMouseWheel.bind(u)),u}return o(e,t),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetHeight",{get:function(){return this._offsetHeight},set:function(t){this._offsetHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskScroll",{get:function(){return this._maskScroll},set:function(t){this._maskScroll=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getViewportHeight",{get:function(){return this.viewportHeight},enumerable:!0,configurable:!0}),e.prototype.resizeContainer=function(t,e){this.viewportHeight=e,this.bg.clear(),this.bg.beginFill(16711680,0),this.bg.drawRect(0,0,t,e),this.recalculate()},e.prototype.createContainer=function(){var t=this;s.each(s.sortBy(this.elements,"depth"),(function(e){t.addContent(e,!1)})),this.recalculate()},e.prototype.enable=function(){this.active||(this.active=!0,this.recalculate(),PIXI.ticker.shared.add(this.updateBound),this.interactive=this.interactiveChildren=!0,this.mouseWheel&&this.mouseWheel.startEvent())},e.prototype.disable=function(){this.active&&(this.active=!1,this.dragged=!1,this.speed=0,PIXI.ticker.shared.remove(this.updateBound),this.interactive=this.interactiveChildren=!1,this.mouseWheel&&this.mouseWheel.stopEvent())},e.prototype.setBackground=function(t){this.background&&this.removeChild(this.background),this.background=t,this.addChildAt(this.background,0)},e.prototype.removeBackground=function(){this.background&&(this.removeChild(this.background),this.background=null)},e.prototype.setFrame=function(t){this.frame&&this.removeChild(this.frame),this.frame=t,this.addChild(this.frame)},e.prototype.removeFrame=function(){this.frame&&(this.removeChild(this.frame),this.frame=null)},e.prototype.addContent=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=-1),i<0?this.contents.addChild(t):this.contents.addChildAt(t,i),e&&this.recalculate()},e.prototype.removeContent=function(t){this.contents.getChildIndex(t)>=0&&(this.contents.removeChild(t),this.recalculate())},e.prototype.removeAllContent=function(){this.contents.removeChildren(),this.recalculate()},e.prototype.recalculate=function(){this.minScroll=this.viewportHeight*this.offsetHeight,this.maxScroll=this.contentHeight-this.viewportHeight+this.minScroll,this.maxScroll*=-1,this.maxScroll<0?(this.mouseWheelStep=this.contentHeight/50,this.active=!0,s.isNil(this._maskScroll)||(this.addChild(this._maskScroll),this.mask=this._maskScroll),this.contents.y=this.minScroll):(this.active=!1,s.isNil(this._maskScroll)||(this.removeChild(this._maskScroll),this.mask=null),this.contents.y=0),this.resetDrag()},Object.defineProperty(e.prototype,"contentHeight",{get:function(){var t=0;return this.contentChildren.length>0&&(t=this.viewportHeight,s.each(this.contentChildren,(function(e){t=e.y<t&&e.y>=0?e.y:t})),t==this.viewportHeight&&(t=0)),(this.contents.getBounds().height+t)/this.getCumulativeScale(this.contents)},enumerable:!0,configurable:!0}),e.prototype.getCumulativeScale=function(t){return t.parent?t.parent.scale.y*this.getCumulativeScale(t.parent):1},e.prototype.onPress=function(t){this.timeClick=Date.now(),this.nbClicks=0,this.nbClicks<=0&&(this.nbClicks=0,this.maxScroll<0&&(this.dragged=!0,this.dragPoint.y=this.toLocal(t.data.global).y)),this.nbClicks++},e.prototype.onRelease=function(t){1==this.nbClicks&&(this.dragged=!1,(Math.abs(this.speed)<1||Date.now()-this.timeClick>500)&&(this.speed=0)),this.keepInLimits(),this.nbClicks--},e.prototype.onDrag=function(t){if(1==this.nbClicks&&this.dragged){var e=this.toLocal(t.data.global).y;this.speed=e-this.dragPoint.y,this.dragPoint.y=e,this.moveContents(),this.keepInLimits()}},e.prototype.resetDrag=function(){this.speed=0,this.nbClicks=0,this.dragged=!1},e.prototype.manualScroll=function(t){this.dragged||1!=this.active||(this.speed=0,this.contents.y+=t,this.contents.y>this.viewportHeight*this._offsetHeight?this.contents.y=this.viewportHeight*this._offsetHeight:this.contents.y<this.maxScroll&&(this.contents.y=this.maxScroll))},e.prototype.onMouseWheel=function(t){this.dragged||1!=this.active||0==t.y||(this.speed=0,this.contents.y+=t.y<0?this.mouseWheelStep:-this.mouseWheelStep,this.contents.y>this.viewportHeight*this._offsetHeight?this.contents.y=this.viewportHeight*this._offsetHeight:this.contents.y<this.maxScroll&&(this.contents.y=this.maxScroll))},e.prototype.update=function(t){this.dragged||0==this.speed||(this.moveContents(),this.speed*=this.decelValue,Math.abs(this.speed)<1&&(this.speed=0)),this.dragged||(this.keepInLimits(),this.nbClicks=0)},e.prototype.moveContents=function(){this.contents.y+=this.speed},e.prototype.keepInLimits=function(){if(0==this.active)this.contents.y=0;else if(this.contents.y>this.minScroll){var t=(this.contents.y-this.minScroll)/this.bounceVal;this.dragged?this.contents.y-=Math.min(t,this.speed):this.contents.y-=t}else if(this.contents.y<this.maxScroll){t=-(this.maxScroll-this.contents.y)/this.bounceVal;this.dragged?this.contents.y-=Math.max(t,this.speed):this.contents.y-=t}},Object.defineProperty(e.prototype,"contentChildren",{get:function(){return this.contents.children},enumerable:!0,configurable:!0}),e}(a.BaseComponent);e.ScrollingContainer=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(213).SimpleButtonLabel);e.ButtonLabel=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SEND_BET_COMMAND="sendBetCommand",t.SEND_COIN_COMMAND="sendCoinCommand",t.SEND_DEBUG_COMMAND="sendDebugCommand",t.SEND_STRIPS_COMMAND="sendStripsCommand",t.SEND_START_BONUS_COMMAND="sendStartBonusCommand",t.SEND_BONUS_CHOICE_COMMAND="sendBonusChoiceCommand",t.SEND_START_BONUS="sendStartBonus",t.SEND_BONUS_CHOICE="sendBonusChoice",t.SEND_SPIN_COMMAND="sendSpinCommand",t.SEND_REBET_AND_SPIN_COMMAND="sendRebetAndSpinCommand",t.SEND_DEAL_COMMAND="sendDealCommand",t.SEND_REBET_AND_DEAL_COMMAND="sendRebetAndDealCommand",t.SEND_PLAYER_HIT_COMMAND="sendPlayerHitCommand",t.SEND_PLAYER_STAND_COMMAND="sendPlayerStandCommand",t.SEND_PLAYER_DOUBLE_COMMAND="sendPlayerDoubleCommand",t.SEND_PLAYER_SPLIT_COMMAND="sendPlayerSplitCommand",t.SEND_PLAYER_SURRENDER_COMMAND="sendPlayerSurrenderCommand",t.SEND_ACCEPT_INSURANCE_COMMAND="sendAcceptInsuranceCommand",t.SEND_REFUSE_INSURANCE_COMMAND="sendRefuseInsuranceCommand",t.SEND_ACCEPT_EVEN_MONEY_COMMAND="sendAcceptEvenMoneyCommand",t.SEND_REFUSE_EVEN_MONEY_COMMAND="sendRefuseEvenMoneyCommand",t.SEND_BALANCE_UPDATE="sendBalanceUpdateCommand",t}();e.ServerActions=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.UPDATE_MONEY="updateMoney",t.RESPONSE="response",t}();e.ServerResponseNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(86),r=i(45),l=function(t){function e(e,i,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var a=t.call(this,e,i,n,o)||this;return a.componentLandscape.onClickHandler=n,a.componentLandscape.on(r.PointerStates.DOWN,a.controllerClick,a),a.componentLandscape.buttonDetails={isLandscape:!0},s.isNil(a.componentPortrait)||(a.componentPortrait.onClickHandler=n,a.componentPortrait.buttonDetails={isLandscape:!1},a.componentPortrait.on(r.PointerStates.DOWN,a.controllerClick,a)),a}return o(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this.currentComponent.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonDetails",{get:function(){return this.currentComponent.buttonDetails},set:function(t){this.componentLandscape.buttonDetails=t,s.isNil(this.componentPortrait)||(this.componentPortrait.buttonDetails=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonName",{get:function(){return this.name},set:function(t){this.componentLandscape.buttonName=t,s.isNil(this.componentPortrait)||(this.componentPortrait.buttonName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClickHandler",{get:function(){return this.currentComponent.onClickHandler},set:function(t){this.componentLandscape.onClickHandler=t,s.isNil(this.componentPortrait)||(this.componentPortrait.onClickHandler=t)},enumerable:!0,configurable:!0}),e.prototype.controllerClick=function(t,e,i){s.isNil(this.nonCurrentComponent)||this.nonCurrentComponent.toggleState(this.currentComponent.state)},Object.defineProperty(e.prototype,"stopClickPropagation",{get:function(){return this.currentComponent.stopClickPropagation},set:function(t){this.componentLandscape.stopClickPropagation=t,s.isNil(this.componentPortrait)||(this.componentPortrait.stopClickPropagation=t)},enumerable:!0,configurable:!0}),e.prototype.changeState=function(t){this.componentLandscape.changeState(t),s.isNil(this.componentPortrait)||this.componentPortrait.changeState(t)},e.prototype.toggleState=function(t){this.componentLandscape.toggleState(t),s.isNil(this.componentPortrait)||this.componentPortrait.toggleState(t)},e.prototype.updateStateOnChange=function(t){this.componentLandscape.updateStateOnChange(t),s.isNil(this.componentPortrait)||this.componentPortrait.updateStateOnChange(t)},e.prototype.enable=function(t){this.componentLandscape.enable(t),s.isNil(this.componentPortrait)||this.componentPortrait.enable(t)},e}(a.ControllerBaseComponent);e.ControllerToggleButton=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(){}return t.SHOW_INITIAL_SERVER_SYMBOLS=n.Names.Modules.WHEELS+".SHOW_INITIAL_SERVER_SYMBOLS",t.DISPLAY_SYMBOLS=n.Names.Modules.WHEELS+".DISPLAY_SYMBOLS",t.UPDATE_DISPLAY_SYMBOLS=n.Names.Modules.WHEELS+".UPDATE_DISPLAY_SYMBOLS",t.WHEEL_COMPLETE=n.Names.Modules.WHEELS+".WHEEL_COMPLETE",t.WHEEL_START=n.Names.Modules.WHEELS+".WHEEL_START",t.STOP_NEAR_MISS_ANIMATION=n.Names.Modules.WHEELS+".STOP_NEAR_MISS_ANIMATION",t}();e.WheelsNotifications=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SHOW_CHEAT_TOOL="show_cheat_tool",t.HIDE_CHEAT_TOOL="hide_cheat_tool",t.SEND_CHEAT_TOOL_CMD="send_cheat_tool_command",t.CHEAT_TOOL_COOKIE_HISTORY="cheat_tool_history",t.CHEAT_TOOL_COOKIE_SCENARIO="cheat_tool_scenario",t.CHEAT_TOOL_CHANGE_LANGUAGE="cheat_tool_change_languages",t.START_AUTOSPIN_CHEAT_TOOL="start_autospin_cheat_tool",t.CHEAT_TOOL_REPOSITION_PAYTABLE="cheat_tool_reposition_paytable",t.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON="toggle_cheat_tool_button",t.CHEAT_TOOL_SHOW_LAYER="cheat_tool_show_layer",t.CHEAT_TOOL_HIDE_LAYER="cheat_tool_hide_layer",t.CHEAT_TOOL_MOVE_SLOW_TIME="cheat_tool_move_slow_time",t.CHEAT_TOOL_ADD_KEY_LISTENER="cheat_tool_add_key_listener",t.CHEAT_TOOL_REMOVE_KEY_LISTENER="cheat_tool_remove_key_listener",t}();e.SlotCheatToolAction=n;var o=function(){function t(){}return t.DRAW_CHEAT_TOOL="draw_cheat_tool",t.RECEIVE_STRIPS_DATA="receive_strips_data",t.INIT_STRIPS_CHEAT_TOOL="init_strips_cheat_tool",t}();e.SlotCheatToolNotifications=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.label=t,this.type=e,this.coins=i}return t.COINS="coins_type",t.MONEY="money_type",t.BALANCE="balance_label",t.WIN="win_label",t}();e.LabelToUpdateVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(80),s=i(355),a=function(){function t(){}return Object.defineProperty(t,"languageList",{get:function(){return n.isNil(this._languageList)&&(this._languageList=[],this.initLanguages()),this._languageList},enumerable:!0,configurable:!0}),t.initLanguages=function(){this.addLanguage(o.Language.ENGLISH,o.Language.ENGLISH_ID,o.Language.ENGLISH_EXT),this.addLanguage(o.Language.FRENCH,o.Language.FRENCH_ID,o.Language.FRENCH_EXT),this.addLanguage(o.Language.SPANISH,o.Language.SPANISH_ID,o.Language.SPANISH_EXT),this.addLanguage(o.Language.ITALIAN,o.Language.ITALIAN_ID,o.Language.ITALIAN_EXT),this.addLanguage(o.Language.GERMAN,o.Language.GERMAN_ID,o.Language.GERMAN_EXT),this.addLanguage(o.Language.PORTUGUESE,o.Language.PORTUGUESE_ID,o.Language.PORTUGUESE_EXT),this.addLanguage(o.Language.GREEK,o.Language.GREEK_ID,o.Language.GREEK_EXT),this.addLanguage(o.Language.DUTCH,o.Language.DUTCH_ID,o.Language.DUTCH_EXT),this.addLanguage(o.Language.SWEDISH,o.Language.SWEDISH_ID,o.Language.SWEDISH_EXT),this.addLanguage(o.Language.TURKISH,o.Language.TURKISH_ID,o.Language.TURKISH_EXT),this.addLanguage(o.Language.RUSSIAN,o.Language.RUSSIAN_ID,o.Language.RUSSIAN_EXT),this.addLanguage(o.Language.ROMANIAN,o.Language.ROMANIAN_ID,o.Language.ROMANIAN_EXT),this.addLanguage(o.Language.HUNGARIAN,o.Language.HUNGARIAN_ID,o.Language.HUNGARIAN_EXT),this.addLanguage(o.Language.JAPANESE,o.Language.JAPANESE_ID,o.Language.JAPANESE_EXT),this.addLanguage(o.Language.FINLAND,o.Language.FINLAND_ID,o.Language.FINLAND_EXT),this.addLanguage(o.Language.NORWAY,o.Language.NORWAY_ID,o.Language.NORWAY_EXT),this.addLanguage(o.Language.SLOVAK,o.Language.SLOVAK_ID,o.Language.SLOVAK_EXT),this.addLanguage(o.Language.CZECH,o.Language.CZECH_ID,o.Language.CZECH_EXT),this.addLanguage(o.Language.POLISH,o.Language.POLISH_ID,o.Language.POLISH_EXT),this.addLanguage(o.Language.BULGARIAN,o.Language.BULGARIAN_ID,o.Language.BULGARIAN_EXT),this.addLanguage(o.Language.TRADITIONAL_CHINESE,o.Language.TRADITIONAL_CHINESE_ID,o.Language.TRADITIONAL_CHINESE_EXT),this.addLanguage(o.Language.DANISH,o.Language.DANISH_ID,o.Language.DANISH_EXT),this.addLanguage(o.Language.SIMPLIFIED_CHINESE,o.Language.SIMPLIFIED_CHINESE_ID,o.Language.SIMPLIFIED_CHINESE_EXT),this.addLanguage(o.Language.KOREAN,o.Language.KOREAN_ID,o.Language.KOREAN_EXT),this.addLanguage(o.Language.THAILAND,o.Language.THAILAND_ID,o.Language.THAILAND_EXT),this.addLanguage(o.Language.VIETNAMESE,o.Language.VIETNAMESE_ID,o.Language.VIETNAMESE_EXT),this.addLanguage(o.Language.CROATIAN,o.Language.CROATIAN_ID,o.Language.CROATIAN_EXT),this.addLanguage(o.Language.LATVIAN,o.Language.LATVIAN_ID,o.Language.LATVIAN_EXT),this.addLanguage(o.Language.LITHUANIAN,o.Language.LITHUANIAN_ID,o.Language.LITHUANIAN_EXT),this.addLanguage(o.Language.SLOVENE,o.Language.SLOVENE_ID,o.Language.SLOVENE_EXT),this.addLanguage(o.Language.ABKHAZ,o.Language.ABKHAZ_ID,o.Language.ABKHAZ_EXT),this.addLanguage(o.Language.AFAR,o.Language.AFAR_ID,o.Language.AFAR_EXT),this.addLanguage(o.Language.AFRIKAANS,o.Language.AFRIKAANS_ID,o.Language.AFRIKAANS_EXT),this.addLanguage(o.Language.AKAN,o.Language.AKAN_ID,o.Language.AKAN_EXT),this.addLanguage(o.Language.ALBANIAN,o.Language.ALBANIAN_ID,o.Language.ALBANIAN_EXT),this.addLanguage(o.Language.AMHARIC,o.Language.AMHARIC_ID,o.Language.AMHARIC_EXT),this.addLanguage(o.Language.ARABIC,o.Language.ARABIC_ID,o.Language.ARABIC_EXT),this.addLanguage(o.Language.ARAGONESE,o.Language.ARAGONESE_ID,o.Language.ARAGONESE_EXT),this.addLanguage(o.Language.ARMENIAN,o.Language.ARMENIAN_ID,o.Language.ARMENIAN_EXT),this.addLanguage(o.Language.ASSAMESE,o.Language.ASSAMESE_ID,o.Language.ASSAMESE_EXT),this.addLanguage(o.Language.AVARIC,o.Language.AVARIC_ID,o.Language.AVARIC_EXT),this.addLanguage(o.Language.AVESTAN,o.Language.AVESTAN_ID,o.Language.AVESTAN_EXT),this.addLanguage(o.Language.AYMARA,o.Language.AYMARA_ID,o.Language.AYMARA_EXT),this.addLanguage(o.Language.AZERBAIJANI,o.Language.AZERBAIJANI_ID,o.Language.AZERBAIJANI_EXT),this.addLanguage(o.Language.BAMBARA,o.Language.BAMBARA_ID,o.Language.BAMBARA_EXT),this.addLanguage(o.Language.BASHKIR,o.Language.BASHKIR_ID,o.Language.BASHKIR_EXT),this.addLanguage(o.Language.BASQUE,o.Language.BASQUE_ID,o.Language.BASQUE_EXT),this.addLanguage(o.Language.BELARUSIAN,o.Language.BELARUSIAN_ID,o.Language.BELARUSIAN_EXT),this.addLanguage(o.Language.BENGALI,o.Language.BENGALI_ID,o.Language.BENGALI_EXT),this.addLanguage(o.Language.BIHARI,o.Language.BIHARI_ID,o.Language.BIHARI_EXT),this.addLanguage(o.Language.BISLAMA,o.Language.BISLAMA_ID,o.Language.BISLAMA_EXT),this.addLanguage(o.Language.BOSNIAN,o.Language.BOSNIAN_ID,o.Language.BOSNIAN_EXT),this.addLanguage(o.Language.BRETON,o.Language.BRETON_ID,o.Language.BRETON_EXT),this.addLanguage(o.Language.BURMESE,o.Language.BURMESE_ID,o.Language.BURMESE_EXT),this.addLanguage(o.Language.CATALAN,o.Language.CATALAN_ID,o.Language.CATALAN_EXT),this.addLanguage(o.Language.CHAMORRO,o.Language.CHAMORRO_ID,o.Language.CHAMORRO_EXT),this.addLanguage(o.Language.CHECHEN,o.Language.CHECHEN_ID,o.Language.CHECHEN_EXT),this.addLanguage(o.Language.CHICHEWA,o.Language.CHICHEWA_ID,o.Language.CHICHEWA_EXT),this.addLanguage(o.Language.CHUVASH,o.Language.CHUVASH_ID,o.Language.CHUVASH_EXT),this.addLanguage(o.Language.CORNISH,o.Language.CORNISH_ID,o.Language.CORNISH_EXT),this.addLanguage(o.Language.CORSICAN,o.Language.CORSICAN_ID,o.Language.CORSICAN_EXT),this.addLanguage(o.Language.CREE,o.Language.CREE_ID,o.Language.CREE_EXT),this.addLanguage(o.Language.DIVEHI,o.Language.DIVEHI_ID,o.Language.DIVEHI_EXT),this.addLanguage(o.Language.DZONGKHA,o.Language.DZONGKHA_ID,o.Language.DZONGKHA_EXT),this.addLanguage(o.Language.ESPERANTO,o.Language.ESPERANTO_ID,o.Language.ESPERANTO_EXT),this.addLanguage(o.Language.ESTONIAN,o.Language.ESTONIAN_ID,o.Language.ESTONIAN_EXT),this.addLanguage(o.Language.EWE,o.Language.EWE_ID,o.Language.EWE_EXT),this.addLanguage(o.Language.FAROESE,o.Language.FAROESE_ID,o.Language.FAROESE_EXT),this.addLanguage(o.Language.FIJIAN,o.Language.FIJIAN_ID,o.Language.FIJIAN_EXT),this.addLanguage(o.Language.FULA,o.Language.FULA_ID,o.Language.FULA_EXT),this.addLanguage(o.Language.GALICIAN,o.Language.GALICIAN_ID,o.Language.GALICIAN_EXT),this.addLanguage(o.Language.GEORGIAN,o.Language.GEORGIAN_ID,o.Language.GEORGIAN_EXT),this.addLanguage(o.Language.GUARANI,o.Language.GUARANI_ID,o.Language.GUARANI_EXT),this.addLanguage(o.Language.GUJARATI,o.Language.GUJARATI_ID,o.Language.GUJARATI_EXT),this.addLanguage(o.Language.HAITIAN,o.Language.HAITIAN_ID,o.Language.HAITIAN_EXT),this.addLanguage(o.Language.HAUSA,o.Language.HAUSA_ID,o.Language.HAUSA_EXT),this.addLanguage(o.Language.HEBREW,o.Language.HEBREW_ID,o.Language.HEBREW_EXT),this.addLanguage(o.Language.HERERO,o.Language.HERERO_ID,o.Language.HERERO_EXT),this.addLanguage(o.Language.HINDI,o.Language.HINDI_ID,o.Language.HINDI_EXT),this.addLanguage(o.Language.HIRI_MOTU,o.Language.HIRI_MOTU_ID,o.Language.HIRI_MOTU_EXT),this.addLanguage(o.Language.INTERLINGUA,o.Language.INTERLINGUA_ID,o.Language.INTERLINGUA_EXT),this.addLanguage(o.Language.INDONESIAN,o.Language.INDONESIAN_ID,o.Language.INDONESIAN_EXT),this.addLanguage(o.Language.INTERLINGUE,o.Language.INTERLINGUE_ID,o.Language.INTERLINGUE_EXT),this.addLanguage(o.Language.IRISH,o.Language.IRISH_ID,o.Language.IRISH_EXT),this.addLanguage(o.Language.IGBO,o.Language.IGBO_ID,o.Language.IGBO_EXT),this.addLanguage(o.Language.INUPIAQ,o.Language.INUPIAQ_ID,o.Language.INUPIAQ_EXT),this.addLanguage(o.Language.IDO,o.Language.IDO_ID,o.Language.IDO_EXT),this.addLanguage(o.Language.ICELANDIC,o.Language.ICELANDIC_ID,o.Language.ICELANDIC_EXT),this.addLanguage(o.Language.INUKTITUT,o.Language.INUKTITUT_ID,o.Language.INUKTITUT_EXT),this.addLanguage(o.Language.JAVANESE,o.Language.JAVANESE_ID,o.Language.JAVANESE_EXT),this.addLanguage(o.Language.KALAALLISUT,o.Language.KALAALLISUT_ID,o.Language.KALAALLISUT_EXT),this.addLanguage(o.Language.KANNADA,o.Language.KANNADA_ID,o.Language.KANNADA_EXT),this.addLanguage(o.Language.KANURI,o.Language.KANURI_ID,o.Language.KANURI_EXT),this.addLanguage(o.Language.KASHMIRI,o.Language.KASHMIRI_ID,o.Language.KASHMIRI_EXT),this.addLanguage(o.Language.KAZAKH,o.Language.KAZAKH_ID,o.Language.KAZAKH_EXT),this.addLanguage(o.Language.KHMER,o.Language.KHMER_ID,o.Language.KHMER_EXT),this.addLanguage(o.Language.KIKUYU,o.Language.KIKUYU_ID,o.Language.KIKUYU_EXT),this.addLanguage(o.Language.KINYARWANDA,o.Language.KINYARWANDA_ID,o.Language.KINYARWANDA_EXT),this.addLanguage(o.Language.KYRGYZ,o.Language.KYRGYZ_ID,o.Language.KYRGYZ_EXT),this.addLanguage(o.Language.KOMI,o.Language.KOMI_ID,o.Language.KOMI_EXT),this.addLanguage(o.Language.KONGO,o.Language.KONGO_ID,o.Language.KONGO_EXT),this.addLanguage(o.Language.KURDISH,o.Language.KURDISH_ID,o.Language.KURDISH_EXT),this.addLanguage(o.Language.KWANYAMA,o.Language.KWANYAMA_ID,o.Language.KWANYAMA_EXT),this.addLanguage(o.Language.LATIN,o.Language.LATIN_ID,o.Language.LATIN_EXT),this.addLanguage(o.Language.LUXEMBOURGISH,o.Language.LUXEMBOURGISH_ID,o.Language.LUXEMBOURGISH_EXT),this.addLanguage(o.Language.GANDA,o.Language.GANDA_ID,o.Language.GANDA_EXT),this.addLanguage(o.Language.LIMBURGISH,o.Language.LIMBURGISH_ID,o.Language.LIMBURGISH_EXT),this.addLanguage(o.Language.LINGALA,o.Language.LINGALA_ID,o.Language.LINGALA_EXT),this.addLanguage(o.Language.LAO,o.Language.LAO_ID,o.Language.LAO_EXT),this.addLanguage(o.Language.LUBA_KATANGA,o.Language.LUBA_KATANGA_ID,o.Language.LUBA_KATANGA_EXT),this.addLanguage(o.Language.MANX,o.Language.MANX_ID,o.Language.MANX_EXT),this.addLanguage(o.Language.MACEDONIAN,o.Language.MACEDONIAN_ID,o.Language.MACEDONIAN_EXT),this.addLanguage(o.Language.MALAGASY,o.Language.MALAGASY_ID,o.Language.MALAGASY_EXT),this.addLanguage(o.Language.MALAY,o.Language.MALAY_ID,o.Language.MALAY_EXT),this.addLanguage(o.Language.MALAYALAM,o.Language.MALAYALAM_ID,o.Language.MALAYALAM_EXT),this.addLanguage(o.Language.MALTESE,o.Language.MALTESE_ID,o.Language.MALTESE_EXT),this.addLanguage(o.Language.MAORI,o.Language.MAORI_ID,o.Language.MAORI_EXT),this.addLanguage(o.Language.MARATHI,o.Language.MARATHI_ID,o.Language.MARATHI_EXT),this.addLanguage(o.Language.MARSHALLESE,o.Language.MARSHALLESE_ID,o.Language.MARSHALLESE_EXT),this.addLanguage(o.Language.MONGOLIAN,o.Language.MONGOLIAN_ID,o.Language.MONGOLIAN_EXT),this.addLanguage(o.Language.NAURU,o.Language.NAURU_ID,o.Language.NAURU_EXT),this.addLanguage(o.Language.NAVAJO,o.Language.NAVAJO_ID,o.Language.NAVAJO_EXT),this.addLanguage(o.Language.NORTHERN_NDEBELE,o.Language.NORTHERN_NDEBELE_ID,o.Language.NORTHERN_NDEBELE_EXT),this.addLanguage(o.Language.NEPALI,o.Language.NEPALI_ID,o.Language.NEPALI_EXT),this.addLanguage(o.Language.NDONGA,o.Language.NDONGA_ID,o.Language.NDONGA_EXT),this.addLanguage(o.Language.NORWEGIAN_BOKMAL,o.Language.NORWEGIAN_BOKMAL_ID,o.Language.NORWEGIAN_BOKMAL_EXT),this.addLanguage(o.Language.NORWEGIAN_NYNORSK,o.Language.NORWEGIAN_NYNORSK_ID,o.Language.NORWEGIAN_NYNORSK_EXT),this.addLanguage(o.Language.NUOSU,o.Language.NUOSU_ID,o.Language.NUOSU_EXT),this.addLanguage(o.Language.SOUTHERN_NDEBELE,o.Language.SOUTHERN_NDEBELE_ID,o.Language.SOUTHERN_NDEBELE_EXT),this.addLanguage(o.Language.OCCITAN,o.Language.OCCITAN_ID,o.Language.OCCITAN_EXT),this.addLanguage(o.Language.OJIBWE,o.Language.OJIBWE_ID,o.Language.OJIBWE_EXT),this.addLanguage(o.Language.OLD_BULGARIAN,o.Language.OLD_BULGARIAN_ID,o.Language.OLD_BULGARIAN_EXT),this.addLanguage(o.Language.OROMO,o.Language.OROMO_ID,o.Language.OROMO_EXT),this.addLanguage(o.Language.ORIYA,o.Language.ORIYA_ID,o.Language.ORIYA_EXT),this.addLanguage(o.Language.OSSETIAN,o.Language.OSSETIAN_ID,o.Language.OSSETIAN_EXT),this.addLanguage(o.Language.PANJABI,o.Language.PANJABI_ID,o.Language.PANJABI_EXT),this.addLanguage(o.Language.PALI,o.Language.PALI_ID,o.Language.PALI_EXT),this.addLanguage(o.Language.PERSIAN,o.Language.PERSIAN_ID,o.Language.PERSIAN_EXT),this.addLanguage(o.Language.PASHTO,o.Language.PASHTO_ID,o.Language.PASHTO_EXT),this.addLanguage(o.Language.QUECHUA,o.Language.QUECHUA_ID,o.Language.QUECHUA_EXT),this.addLanguage(o.Language.ROMANSH,o.Language.ROMANSH_ID,o.Language.ROMANSH_EXT),this.addLanguage(o.Language.KIRUNDI,o.Language.KIRUNDI_ID,o.Language.KIRUNDI_EXT),this.addLanguage(o.Language.SANSKRIT,o.Language.SANSKRIT_ID,o.Language.SANSKRIT_EXT),this.addLanguage(o.Language.SARDINIAN,o.Language.SARDINIAN_ID,o.Language.SARDINIAN_EXT),this.addLanguage(o.Language.SINDHI,o.Language.SINDHI_ID,o.Language.SINDHI_EXT),this.addLanguage(o.Language.NORTHERN_SAMI,o.Language.NORTHERN_SAMI_ID,o.Language.NORTHERN_SAMI_EXT),this.addLanguage(o.Language.SAMOAN,o.Language.SAMOAN_ID,o.Language.SAMOAN_EXT),this.addLanguage(o.Language.SANGO,o.Language.SANGO_ID,o.Language.SANGO_EXT),this.addLanguage(o.Language.SARAIKI,o.Language.SARAIKI_ID,o.Language.SARAIKI_EXT),this.addLanguage(o.Language.SERBIAN,o.Language.SERBIAN_ID,o.Language.SERBIAN_EXT),this.addLanguage(o.Language.SCOTTISH_GAELIC,o.Language.SCOTTISH_GAELIC_ID,o.Language.SCOTTISH_GAELIC_EXT),this.addLanguage(o.Language.SHONA,o.Language.SHONA_ID,o.Language.SHONA_EXT),this.addLanguage(o.Language.SINHALA,o.Language.SINHALA_ID,o.Language.SINHALA_EXT),this.addLanguage(o.Language.SOMALI,o.Language.SOMALI_ID,o.Language.SOMALI_EXT),this.addLanguage(o.Language.SOUTHERN_SOTHO,o.Language.SOUTHERN_SOTHO_ID,o.Language.SOUTHERN_SOTHO_EXT),this.addLanguage(o.Language.SUNDANESE,o.Language.SUNDANESE_ID,o.Language.SUNDANESE_EXT),this.addLanguage(o.Language.SWAHILI,o.Language.SWAHILI_ID,o.Language.SWAHILI_EXT),this.addLanguage(o.Language.SWATI,o.Language.SWATI_ID,o.Language.SWATI_EXT),this.addLanguage(o.Language.TAMIL,o.Language.TAMIL_ID,o.Language.TAMIL_EXT),this.addLanguage(o.Language.TELUGU,o.Language.TELUGU_ID,o.Language.TELUGU_EXT),this.addLanguage(o.Language.TAJIK,o.Language.TAJIK_ID,o.Language.TAJIK_EXT),this.addLanguage(o.Language.THAI,o.Language.THAI_ID,o.Language.THAI_EXT),this.addLanguage(o.Language.TIGRINYA,o.Language.TIGRINYA_ID,o.Language.TIGRINYA_EXT),this.addLanguage(o.Language.TIBETAN_STANDARD,o.Language.TIBETAN_STANDARD_ID,o.Language.TIBETAN_STANDARD_EXT),this.addLanguage(o.Language.TURKMEN,o.Language.TURKMEN_ID,o.Language.TURKMEN_EXT),this.addLanguage(o.Language.TAGALOG,o.Language.TAGALOG_ID,o.Language.TAGALOG_EXT),this.addLanguage(o.Language.TSWANA,o.Language.TSWANA_ID,o.Language.TSWANA_EXT),this.addLanguage(o.Language.TONGA,o.Language.TONGA_ID,o.Language.TONGA_EXT),this.addLanguage(o.Language.TSONGA,o.Language.TSONGA_ID,o.Language.TSONGA_EXT),this.addLanguage(o.Language.TATAR,o.Language.TATAR_ID,o.Language.TATAR_EXT),this.addLanguage(o.Language.TWI,o.Language.TWI_ID,o.Language.TWI_EXT),this.addLanguage(o.Language.TAHITIAN,o.Language.TAHITIAN_ID,o.Language.TAHITIAN_EXT),this.addLanguage(o.Language.UYGHUR,o.Language.UYGHUR_ID,o.Language.UYGHUR_EXT),this.addLanguage(o.Language.UKRAINIAN,o.Language.UKRAINIAN_ID,o.Language.UKRAINIAN_EXT),this.addLanguage(o.Language.URDU,o.Language.URDU_ID,o.Language.URDU_EXT),this.addLanguage(o.Language.UZBEK,o.Language.UZBEK_ID,o.Language.UZBEK_EXT),this.addLanguage(o.Language.VENDA,o.Language.VENDA_ID,o.Language.VENDA_EXT),this.addLanguage(o.Language.VOLAPUK,o.Language.VOLAPUK_ID,o.Language.VOLAPUK_EXT),this.addLanguage(o.Language.WALLOON,o.Language.WALLOON_ID,o.Language.WALLOON_EXT),this.addLanguage(o.Language.WELSH,o.Language.WELSH_ID,o.Language.WELSH_EXT),this.addLanguage(o.Language.WOLOF,o.Language.WOLOF_ID,o.Language.WOLOF_EXT),this.addLanguage(o.Language.WESTERN_FRISIAN,o.Language.WESTERN_FRISIAN_ID,o.Language.WESTERN_FRISIAN_EXT),this.addLanguage(o.Language.XHOSA,o.Language.XHOSA_ID,o.Language.XHOSA_EXT),this.addLanguage(o.Language.YIDDISH,o.Language.YIDDISH_ID,o.Language.YIDDISH_EXT),this.addLanguage(o.Language.YORUBA,o.Language.YORUBA_ID,o.Language.YORUBA_EXT),this.addLanguage(o.Language.ZHUANG,o.Language.ZHUANG_ID,o.Language.ZHUANG_EXT),this.addLanguage(o.Language.ZULU,o.Language.ZULU_ID,o.Language.ZULU_EXT)},t.addLanguage=function(t,e,i){var n=new s.LanguageVO(t,e,i);this._languageList.push(n)},t.getLanguageDataByName=function(t){var e;return n.each(this.languageList,(function(i){i.name==t&&(e=i)})),e},t.getLanguageDataByExtension=function(t){var e;return n.each(this.languageList,(function(i){i.ext==t&&(e=i)})),e},t.getLanguageExtension=function(t){var e,i;return""!=t&&(i=this.getLanguageDataByName(t)),i&&(e=i.ext),e},t.getLanguageId=function(t){var e,i;return""!=t&&(i=this.getLanguageDataByName(t)),i&&(e=String(i.id)),e},t.getLanguageNameByExtension=function(t){var e,i;return""!=t&&(i=this.getLanguageDataByExtension(t)),i&&(e=i.name),e},t._languageList=null,t}();e.LanguageUtil=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t,e){this.initialized=!1,this.loaded=!1,this.spriteSheets=[],this.spriteSheetsMobile=[],this.spriteSheetsMini=[],this.spriteSheetsTablet=[],this.layers=[],this.sounds=[],this.soundSprites=[],this.configs={},this.spineAnimations=[],this.others=[],this.orientationPositions=[],this.moduleId=t,this.className=e};e.ModuleConfigVO=o;var s=function(t,e,i,o){this.isHTML=!1,this.id=t,this.pathToFile1=e,n.isNil(i)||(this.pathToFile2=i,this.isHTML=!0,n.isNil(o)||(this.pathToFile3=o))};e.ModuleLayerVO=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(32),s=i(42),a=i(15),r=i(34),l=PIXI.Sprite,c=function(){function t(t,e,i,n,o){void 0===o&&(o="WIN_BIG_WIN_"),this.digitPercent=i,this.commaPercent=n,this._valueContainer=t,this.initialScale=e,this._assetsPrefix=o,this.initDigitsPool()}return t.prototype.updateBitmapValue=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),this.resetBitmapValue();for(var n=o.NumberFormatterUtil.formatNumber(t,i),s=0;s<e.length;s++){var a=e.charAt(s);"X"!=a?this.addNewDigit(a,this._valueContainer):this.addNewX(this._valueContainer)}for(var r=0;r<n.length;r++){var l=n.charAt(r);"0"!=l&&"1"!=l&&"2"!=l&&"3"!=l&&"4"!=l&&"5"!=l&&"6"!=l&&"7"!=l&&"8"!=l&&"9"!=l?(","==l&&this.addNewComma(this._valueContainer),"."==l&&this.addNewDot(this._valueContainer),this.addNewSpace(this._valueContainer)):0==r?this.addNewDigit(l,this._valueContainer,!0):this.addNewDigit(l,this._valueContainer)}this._valueContainer.pivot.x=this._valueContainer.width/this._valueContainer.scale.x/2,this._valueContainer.pivot.y=this._valueContainer.height/this._valueContainer.scale.y/2},t.prototype.resetBitmapValue=function(){for(;this._valueContainer.children.length>0;){var t=this._valueContainer.removeChildAt(0);t.name==s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA"))?this.addCommaToPool(t):t.name==s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT"))?this.addDotToPool(t):t.name==s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("X"))?this.addXToPool(t):t.name==s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE"))?this.addSpaceToPool(t):this.addDigitToPool(t),t.x=0,t.y=0,t.scale.x=1,t.scale.y=1}this._valueContainer.width=0},t.prototype.getDigitFromPool=function(e){if(t._digitsPool[this._assetsPrefix][Number(e)].length>0)return t._digitsPool[this._assetsPrefix][Number(e)].pop();var i=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DIGIT"))+e));return i.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DIGIT"))+e,i},t.prototype.getSpaceFromPool=function(){if(t._spacesPool[this._assetsPrefix].length>0)return t._spacesPool[this._assetsPrefix].pop();var e=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE"))));return e.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE")),e},t.prototype.getCommaFromPool=function(){if(t._commasPool[this._assetsPrefix].length>0)return t._commasPool[this._assetsPrefix].pop();var e=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA"))));return e.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA")),e},t.prototype.getDotFromPool=function(){if(t._dotsPool[this._assetsPrefix].length>0)return t._dotsPool[this._assetsPrefix].pop();var e=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT"))));return e.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT")),e},t.prototype.getXFromPool=function(){if(t._xsPool[this._assetsPrefix].length>0)return t._xsPool[this._assetsPrefix].pop();var e=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("X"))));return e.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("X")),e},t.prototype.addDigitToPool=function(e){var i=Number(e.name.split("-")[3]);t._digitsPool[this._assetsPrefix][i].push(e)},t.prototype.addCommaToPool=function(e){t._commasPool[this._assetsPrefix].push(e)},t.prototype.addDotToPool=function(e){t._dotsPool[this._assetsPrefix].push(e)},t.prototype.addSpaceToPool=function(e){t._spacesPool[this._assetsPrefix].push(e)},t.prototype.addXToPool=function(e){t._xsPool[this._assetsPrefix].push(e)},t.prototype.initDigitsPool=function(){if(n.isNil(t._digitsPool[this._assetsPrefix])||!(t._digitsPool[this._assetsPrefix].length>0)){t._digitsPool[this._assetsPrefix]=[];for(var e=0;e<10;e++){for(var i=[],o=0;o<7;o++){var r=new l(a.TextureUtil.instance().getTextureFromCache(s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DIGIT"))+e));r.name=s.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DIGIT"))+e,r.width=r.texture.width,r.height=r.texture.height,i.push(r)}t._digitsPool[this._assetsPrefix].push(i)}t._commasPool[this._assetsPrefix]=[],t._xsPool[this._assetsPrefix]=[],t._dotsPool[this._assetsPrefix]=[],t._spacesPool[this._assetsPrefix]=[];for(o=0;o<5;o++)t._commasPool[this._assetsPrefix].push(this.getCommaFromPool()),t._xsPool[this._assetsPrefix].push(this.getXFromPool()),t._dotsPool[this._assetsPrefix].push(this.getDotFromPool()),t._spacesPool[this._assetsPrefix].push(this.getSpaceFromPool())}},t.prototype.addNewDigit=function(t,e,i){void 0===i&&(i=!1);var n=this.getDigitFromPool(t);n.scale.x=this.initialScale,n.scale.y=this.initialScale,n.x=i?e.width:e.width-n.width*(1-this.digitPercent),e.addChildAt(n,0)},t.prototype.addNewComma=function(t,e){void 0===e&&(e=!1);var i=this.getCommaFromPool();i.scale.x=this.initialScale,i.scale.y=this.initialScale,i.x=t.width-i.width*(1-this.commaPercent),t.addChildAt(i,0)},t.prototype.addNewSpace=function(t){var e=this.getSpaceFromPool();e.scale.x=this.initialScale,e.scale.y=this.initialScale,e.x=t.width,e.width=e.width/4,t.addChildAt(e,0)},t.prototype.addNewDot=function(t,e){void 0===e&&(e=!1);var i=this.getDotFromPool();i.scale.x=this.initialScale,i.scale.y=this.initialScale,i.x=t.width-i.width*(1-this.commaPercent),t.addChildAt(i,0)},t.prototype.addNewX=function(t,e){void 0===e&&(e=!1);var i=this.getXFromPool();i.scale.x=this.initialScale,i.scale.y=this.initialScale,i.x=t.width,t.addChildAt(i,0)},t.prototype.addNewDecimal=function(t,e){var i=this.getDigitFromPool(t);i.scale.x=.5*this.initialScale,i.scale.y=.5*this.initialScale,i.x=e.width,e.addChildAt(i,0)},t.prototype.getVisualAssetName=function(t){return r.VisualAssetsNames[this._assetsPrefix+t]||this._assetsPrefix+t},t._digitsPool={},t._spacesPool={},t._dotsPool={},t._commasPool={},t._xsPool={},t}();e.BitmapValue=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=function(){function t(t,e,i){this._pool=new Array(t),this._definition=e,this._args=i,this.createItems(t)}return t.prototype.get=function(){var t;return this._pool.length>5?t=this._pool.pop():this._pool.length>0?(t=this._pool.pop(),o.Log.warning("Pool getting low, restocking with 5 items"),this.restockPool()):(o.Log.warning("Pool depleted, restocking with 5 items"),this.restockPool(),t=this._pool.pop()),t},t.prototype.recycle=function(t){n.has(t,"reset")&&n.isFunction(t.reset)&&t.reset.call(null),this._pool.push(t)},t.prototype.restockPool=function(){var t=this;n.each(n.range(5),(function(){var e=t.createItem();t._pool.push(e)}))},t.prototype.createItems=function(t){var e=this;n.each(n.range(t),(function(t){var i=e.createItem();e._pool[t]=i}))},t.prototype.createItem=function(){var t;return n.isNil(this._args)?new this._definition:new((t=this._definition).bind.apply(t,[void 0].concat(this._args)))},t}();e.ObjectPool=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(130),o=i(0),s=i(20),a=i(9),r=i(42),l=i(34),c=PIXI.Rectangle,u=function(){function t(){}return t.getWheelsDetails=function(e){if(!t._wheelsAnimationsConfig){t._wheelsAnimationsConfig=new n.WheelAnimationConfigVO;var i,a,r=e.getProperties("WHEEL_COLUMNS_DETAILS"),l=e.wheelsCnt,u=e.rowsCnt;o.times(l,(function(e){var n;i=r[e+1],n=o.isNil(i.numberOfSymbols)?u:i.numberOfSymbols,a=s.StringUtil.stringToRectangle(i.columnBounds),t._wheelsAnimationsConfig.wheelsBounds.push(new c(a.x,a.y,a.width,a.height)),t._wheelsAnimationsConfig.xAxis.push(a.x+a.width/2),o.isNaN(t._wheelsAnimationsConfig.symbolHeight)&&(t._wheelsAnimationsConfig.symbolHeight=(a.height-(n-1)*i.symbolRowSpacing)/n),t._wheelsAnimationsConfig.yAxis.push(a.y+t._wheelsAnimationsConfig.symbolHeight/2),o.isNaN(t._wheelsAnimationsConfig.symbolsSpacing)&&(t._wheelsAnimationsConfig.symbolsSpacing=i.symbolRowSpacing)}))}return t._wheelsAnimationsConfig},t.getMaskBounds=function(t,e){o.isNil(e)&&(e=new c);var i=t.wheelsBounds,n=e.width+o.reduce(i,(function(t,e,n){var o=i[n-1];return o&&(t+=e.x-(o.x+o.width)),t+e.width}),0),s=e.height+i[0].height;return new c(i[0].x+e.x,i[0].y+e.y,n,s)},t.getSymbolAssetReference=function(t,e,i){void 0===i&&(i=!1);var n=(r.VisualAssetsMap.instance().visualAssets[l.VisualAssetsNames.SYMBOL_NAME]+a.MegawaysNames.SYMBOL_REF).replace(a.MegawaysNames.SYMBOL_ID,t.toString()).replace(a.MegawaysNames.SYMBOL_SIZE,e.toString());return i&&(n+=r.VisualAssetsMap.instance().visualAssets[l.VisualAssetsNames.SYMBOL_BLUR_SUFFIX_NAME]),n},t.parseSymbolsSettings=function(t,e){t.symbolsInfo=[],e.symbolsIds.forEach((function(e){var i=o.find(t.eplSettings.symbolsInfo,{symbolId:e});o.isNil(i)?i={symbolId:e,priority:0,layerDuringSpin:0,layerAtRest:0,hasBlur:t.eplSettings.hasBlur}:(o.isNil(i.priority)&&(i.priority=0),o.isNil(i.layerDuringSpin)&&(i.layerDuringSpin=0),o.isNil(i.layerAtRest)&&(i.layerAtRest=0),o.isNil(i.hasBlur)&&(i.hasBlur=t.eplSettings.hasBlur)),t.symbolsInfo[e]=i}))},t}();e.MegawaysWheelsUtils=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.INCREMENT_TYPE_HTML="INCREMENT_TYPE_HTML",t.INCREMENT_TYPE_PIXI="INCREMENT_TYPE_PIXI",t}();e.IncrementUpdateTypeNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.isFileExist=function(t){var e=!0,i=new XMLHttpRequest;i.open("HEAD",t,!1),i.onreadystatechange=function(){404==i.status&&(e=!1,i.abort())};try{i.send(null)}catch(t){e=!1,i.abort()}return e},t.getFileName=function(t){var e;return e=t.indexOf("/")>0?"/":"\\",t.split(e).map(String).pop().split(".").map(String)[0]},t.getFileNameFromURL=function(t,e){return void 0===e&&(e=!1),e?t.split("/").pop():t.split("/").pop().split(".")[0]},t}();e.FileUtil=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DESKTOP="desktop",t.LANDSCAPE="landscape",t.PORTRAIT="portrait",t}();e.LayoutType=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(510),s=i(17);!function(t){t.Game="game",t.GMApi="gmapi",t.Server="server",t.QADeploy="qaDeploy"}(n||(n={}));var a=function(){function t(){var t=this;this.eventEmitter=new o.ATMEventEmitter,this.isLoaded=new Promise((function(e){return t.isLoadedResolve=e})),this.isReady=new Promise((function(e){return t.isReadyResolve=e})),this.publicATMApi={subscribe:this.eventEmitter.subscribe.bind(this.eventEmitter),subscribeOnce:this.eventEmitter.subscribeOnce.bind(this.eventEmitter),unsubscribe:this.eventEmitter.unsubscribe.bind(this.eventEmitter),isLoaded:this.isLoaded,isReady:this.isReady,versions:this.version},window.GameATMApi=this.publicATMApi}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.loaded=function(){this.isLoadedResolve()},t.prototype.ready=function(){var t=s.ServiceLocator.instance().get("Settings");this.publicATMApi.versions={game:t.getValue("gameVersion"),gmapi:t.getValue("versionGMAPI"),server:t.getValue("versionServer"),qaDeploy:t.getValue("qaDeploy")},this.isReadyResolve()},t.prototype.register=function(t,e){if(this.publicATMApi.hasOwnProperty(t))throw new Error("Game ATM Public API member with name '"+t+"' is already registered");this.publicATMApi[t]=e},t}();e.ATMPublicApiService=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e,i,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var a=t.call(this,e,i,n,o)||this;return a.componentLandscape.callback=n,a.componentLandscape.buttonMinus.onClickHandler=a.controllerClick.bind(a),a.componentLandscape.buttonPlus.onClickHandler=a.controllerClick.bind(a),s.isNil(a.componentPortrait)||(a.componentPortrait.callback=n,a.componentPortrait.buttonMinus.onClickHandler=a.controllerClick.bind(a),a.componentPortrait.buttonPlus.onClickHandler=a.controllerClick.bind(a)),a}return o(e,t),e.prototype.controllerClick=function(t){this.componentLandscape.clickButton(t),s.isNil(this.componentPortrait)||this.componentPortrait.clickButton(t)},e.prototype.setRange=function(t,e){this.componentLandscape.setRange(t,e),s.isNil(this.componentPortrait)||this.componentPortrait.setRange(t,e)},e.prototype.setStep=function(t){this.componentLandscape.step=t,s.isNil(this.componentPortrait)||(this.componentPortrait.step=t)},e.prototype.showFormattedText=function(t){this.componentLandscape.showFormattedText=t,s.isNil(this.componentPortrait)||(this.componentPortrait.showFormattedText=t)},e.prototype.setValues=function(t){this.componentLandscape.setValues(t),s.isNil(this.componentPortrait)||this.componentPortrait.setValues(t)},Object.defineProperty(e.prototype,"current",{get:function(){return this.currentComponent.current},set:function(t){this.componentLandscape.current=t,s.isNil(this.componentPortrait)||(this.componentPortrait.current=t)},enumerable:!0,configurable:!0}),e.prototype.currentText=function(t){this.componentLandscape.currentText=t,s.isNil(this.componentPortrait)||(this.componentPortrait.currentText=t)},Object.defineProperty(e.prototype,"index",{get:function(){return this.currentComponent.index},set:function(t){this.componentLandscape.index=t,s.isNil(this.componentPortrait)||(this.componentPortrait.index=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callback",{get:function(){return this.currentComponent.callback},enumerable:!0,configurable:!0}),e.prototype.enable=function(t){this.componentLandscape.enableControlls(t),s.isNil(this.componentPortrait)||this.componentPortrait.enableControlls(t)},e}(i(86).ControllerBaseComponent);e.ControllerNumberStepper=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(272),l=function(t){function e(e){var i=t.call(this,e)||this;return i.BACKGROUND_ANIMATION_DURATION=1,i.currentIndex=-1,i}return o(e,t),e.prototype.switchFrame=function(t,e){if(void 0===e&&(e=!0),s.isNil(this.display.children[t]))e||this.hideAllFrameComplete();else{if(this.currentIndex==t)return;this.currentIndex=t,this.hideAllFrame(e),1==e?(this.display.children[t].visible=!0,this.display.children[t].alpha=1):this.display.children.length>1?(this.display.children[t].visible=!0,TweenLite.to(this.display.children[t],this.BACKGROUND_ANIMATION_DURATION,{alpha:1,onComplete:this.hideAllFrameComplete.bind(this)})):this.hideAllFrameComplete()}},e.prototype.hideAllFrame=function(t){var e=this;s.each(this.display.children,(function(i,n){if(1==t)i.visible=!1,i.alpha=0;else if(e.display.children.length>1){if(e.currentIndex==n)return;TweenLite.to(i,e.BACKGROUND_ANIMATION_DURATION,{alpha:0,onComplete:function(t){t.visible=!1},onCompleteParams:[i]})}}))},e.prototype.hideAllFrameComplete=function(){this.dispatchSignal(r.BackgroundModuleActions.BACKGROUND_COMPLETE_ANIMATION)},e}(a.PixiView);e.AbstractBackgroundView=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(){}return t.CANCEL_AUTO_PLAY="action_cancel_auto_play",t.START_AUTO_PLAY="action_start_auto_play",t}();e.AutoPlayActions=o;var s=function(){function t(){}return t.SHOW_POP_UP_SETTINGS=n.Names.Modules.AUTO_PLAY+".show_pop_up_settings",t.INIT_AUTO_PLAY_SETTINGS=n.Names.Modules.AUTO_PLAY+".init_auto_play_settings",t}();e.AutoPlayNotifications=s;var a=function(){function t(){}return t.AP_LOSS_LIMIT_BUTTON="autoplaySettingsLossLimitButton",t.AP_WIN_LIMIT_BUTTON="autoplaySettingsWinLimitButton",t.AP_ACTIVATE_BUTTON="autoplaySettingsWindowActivateButtonLabel",t.AP_CANCEL_BUTTON="autoplaySettingsWindowCancelButton",t.AP_STEPPER_BUTTON="apNumberSpinsStepper",t}();e.AutoPlayNames=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),s=i(6),a=i(4),r=function(){function t(){}return t.VENDOR_PREFIX="",t.FULL_SCREEN_ELEMENT="",t.ORIENTATION_LANDSCAPE="ORIENTATION_LANDSCAPE",t.ORIENTATION_PORTRAIT="ORIENTATION_PORTRAIT",t.ON_FULL_SCREEN_CHANGE="",t.ON_RESIZE="resize",t}();e.HardwareEventNames=r;var l=function(){function t(){if(t._instance)throw new Error("HardwareEvents class is not to be instantiated. Please use HardwareEvents.instance()");t._instance=this,t._handlers={},t._DOMEventHooks={},t.touchMoveElementExceptions=[];var e=window.getComputedStyle(document.documentElement,""),i=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n=i+"fullscreenchange";"MS"===i&&(n="MSFullscreenChange");var o=i+"FullscreenElement";"moz"===i&&(o=i+"FullScreenElement"),r.VENDOR_PREFIX=i,r.ON_FULL_SCREEN_CHANGE=n,r.FULL_SCREEN_ELEMENT=o}return t.instance=function(){return t._instance},t.prototype.inject=function(e){if(!e.event)throw new Error("Invalid HardwareEvent");t._handlers[e.event]||(t._handlers[e.event]=new Array),e.priority>-1?t._handlers[e.event].splice(e.priority,0,e):t._handlers[e.event].push(e),1===t._handlers[e.event].length&&(t._DOMEventHooks[e.event]=function(i){t._instance.dispatchEvent(e.event,i).then()},window.addEventListener(e.event,t._DOMEventHooks[e.event]))},t.prototype.remove=function(e){e&&e.event?n.remove(t._handlers[e.event],e):s.Log.warning("Unable to remove HardwareEvent - not found or invalid")},t.prototype.dispatchEvent=function(e,i){var o=this;return new Promise((function(s){requestAnimationFrame((function(){if(!(o instanceof t))throw new Error("HardwareEvents.dispatchEvent should not be called externally");n.each(t._handlers[e],(function(n){n&&(n.handler(i),n.count>0&&(n.count--,0===n.count&&(t._instance.remove(n),0===t._handlers[e].length&&window.removeEventListener(e,t._DOMEventHooks[e]))))})),s()}))}))},t.prototype.addTouchMoveElementException=function(e){t.touchMoveElementExceptions.push(e)},t.hookTouchEvents=function(){o.SceneManager.layerContainer.addEventListener("touchmove",this.touchMoveHandler.bind(this),!0),n.isNil(o.SceneManager.layerContainerFull)||o.SceneManager.layerContainerFull.addEventListener("touchmove",this.touchMoveHandler.bind(this),!0),document.body.addEventListener("touchstart",t.preventPinchZoom,!0),document.body.addEventListener("touchend",t.preventDoubleTapZoom,!0)},t.touchMoveHandler=function(t){var e=t.changedTouches[0].target;n.includes(this.touchMoveElementExceptions,e)||t.preventDefault()},t.preventPinchZoom=function(t){t.touches.length>1&&t.preventDefault()},t.preventDoubleTapZoom=function(t){var e=(new Date).getTime();e-this.lastTouchEnd<=500&&t.preventDefault(),this.lastTouchEnd=e},t.touchHandler=function(t){var e=t.changedTouches[0],i="";switch(t.type){case"touchstart":i="mousedown";break;case"touchend":i="mouseup";break;default:return void s.Log.warning("'"+t.type+"' TouchEvent was not simulated as a MouseEvent")}var n=document.createEvent("MouseEvent");n.initMouseEvent(i,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n),e.target!==$("#swipe_overlay")[0]&&t.preventDefault()},t.toggleFullscreen=function(){var t=document.body;document.fullscreenElement||document[r.FULL_SCREEN_ELEMENT]?document[a.Device.instance().cancelFullscreen]&&document[a.Device.instance().cancelFullscreen]():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen&&t.requestFullscreen()},t.isFullScreen=function(){return!(!document.fullscreenElement&&!document[r.FULL_SCREEN_ELEMENT])},t}();e.HardwareEvents=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e,i,n,o,s){void 0===o&&(o=null),void 0===s&&(s=null),this.hasMovieAnimation=!0,this.symbolId=t,this.displayObject=e,this.playFunction=i,this.stopFunction=n,this.playFunctionParams=o,this.stopFunctionParams=s}return t.prototype.play=function(t){if(!n.isNil(this.playFunction))if(n.isNil(this.playFunctionParams))this.playFunction.call(null,this.displayObject,t,this.symbolId);else{var e=[this.displayObject,t,this.symbolId].concat(this.playFunctionParams);this.playFunction.apply(null,e)}},t.prototype.play3D=function(t){if(this.displayObject&&(this.displayObject.interactive=!0),n.isNil(this.playFunctionParams))this.playFunction.call(null,this.displayObject,t,this.symbolId);else{var e=[this.displayObject,t,this.symbolId].concat(this.playFunctionParams);this.playFunction.apply(null,e)}},t.prototype.stop=function(){if(!n.isNil(this.stopFunction))if(n.isNil(this.stopFunctionParams))this.stopFunction.call(null,this.displayObject);else{var t=[this.displayObject].concat(this.stopFunctionParams);this.stopFunction.apply(null,t)}},t}();e.SymbolAnimationVO=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DISPLAY="inject_decorator_display",t.BROADCAST="inject_decorator_broadcast",t}();e.DecoratorInjectActionNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="WinningsAnimationModule",t.ANIMATE_NEXT_STEP=t.NAME+".ANIMATE_NEXT_STEP",t.GET_INCREMENT_STATUS=t.NAME+".GET_INCREMENT_STATUS",t.GET_INCREMENT_END_VALUE=t.NAME+".GET_INCREMENT_END_VALUE",t.PROGRESSIVE_ANIMATION_STARTED=t.NAME+".PROGRESSIVE_ANIMATION_STARTED",t.PREPARE_BIG_WIN_ANIMATION=t.NAME+".PREPARE_BIG_WIN_ANIMATION",t.BIG_WIN_ANIMATION_STARTED=t.NAME+".BIG_WIN_ANIMATION_STARTED",t.PLAY_BIG_WIN_VOICE=t.NAME+".PLAY_BIG_WIN_VOICE",t.STOP_BIG_WIN_VOICE=t.NAME+".STOP_BIG_WIN_VOICE",t.BIG_WIN_ANIMATION_CANCELED=t.NAME+".BIG_WIN_ANIMATION_CANCELED",t.FANTASTIC_WIN_ANIMATION_STARTED=t.NAME+".FANTASTIC_WIN_ANIMATION_STARTED",t.ULTRA_WIN_ANIMATION_STARTED=t.NAME+".ULTRA_WIN_ANIMATION_STARTED",t.BIG_WIN_ANIMATION_STOPPED=t.NAME+".BIG_WIN_ANIMATION_STOPPED",t.BIG_WIN_ANIMATION_COMPLETED=t.NAME+".BIG_WIN_COMPLETED",t.BIG_WIN_INCREMENT_ENDED=t.NAME+".BIG_WIN_INCREMENT_ENDED",t.GET_SYMBOL_ANIMATION_FROM_DECORATOR=t.NAME+".GET_SYMBOL_ANIMATION_FROM_DECORATOR",t.GET_SYMBOL_ANIMATION_FROM_POOL=t.NAME+".GET_SYMBOL_ANIMATION_FROM_POOL",t.ADD_SYMBOL_ANIMATION_TO_POOL=t.NAME+".ADD_SYMBOL_ANIMATION_TO_POOL",t.RESET_SYMBOL_ANIMATION_TO_POOL=t.NAME+".RESET_SYMBOL_ANIMATION_TO_POOL",t.FIVE_OF_A_KIND_ANIMATION_COMPLETED=t.NAME+".FIVE_OF_A_KIND_ANIMATION_COMPLETED",t.STOP_ALL_INCREMENTS=t.NAME+".STOP_ALL_INCREMENTS",t.ADD_ON_UPDATE_FUNCTION=t.NAME+".ADD_ON_UPDATE_FUNCTION",t.REMOVE_ON_UPDATE_FUNCTION=t.NAME+".REMOVE_ON_UPDATE_FUNCTION",t.ADD_ON_COMPLETE_FUNCTION=t.NAME+".ADD_ON_COMPLETE_FUNCTION",t.REMOVE_ON_COMPLETE_FUNCTION=t.NAME+".REMOVE_ON_COMPLETE_FUNCTION",t.LONGEST_ANIMATION_DURATION=t.NAME+".LONGEST_ANIMATION_DURATION",t.WHEEL_COMPLETE=t.NAME+".WHEEL_COMPLETE",t.WHEEL_COMPLETE_WIN=t.NAME+".WHEEL_COMPLETE_WIN",t.LOCK_WHEEL=t.NAME+".LOCK_WHEEL",t.UNLOCK_WHEEL=t.NAME+".UNLOCK_WHEEL",t.SPIN=t.NAME+".SPIN",t.PLAY_SOUND=t.NAME+"PLAY_SOUND",t.STOP_SOUND=t.NAME+"STOP_SOUND",t.CELEBRATION_END=t.NAME+"CELEBRATION_END",t.SKIP_BIG_WIN_ANIMATION=t.NAME+"SKIP_BIG_WIN_ANIMATION",t.GET_SPINE_ANIMATION_DATA=t.NAME+"GET_SPINE_ANIMATION_DATA",t.PLAY_SOUND_MASTER_LAYOUT=t.NAME+"PLAY_SOUND_MASTER_LAYOUT",t}();e.WAActionNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(389),r=i(76),l=PIXI.Container,c=PIXI.extras.AnimatedSprite,u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"disabledSkin",{get:function(){return this._disabledSkin},set:function(t){this._disabledSkin=t,this.isEnabled||this.changeState(r.ButtonState.DISABLED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overSkin",{get:function(){return this._overSkin},set:function(t){this._overSkin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downSkin",{get:function(){return this._downSkin},set:function(t){this._downSkin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upSkin",{get:function(){return this._upSkin},set:function(t){this._upSkin=t,0===this._skin.children.length&&this.changeState(r.ButtonState.UP)},enumerable:!0,configurable:!0}),e.prototype.updateLabel=function(t){s.isNil(this.label)||this.label.updateLabel(t)},e.prototype.changeState=function(t){var e=this.getStateSkin(t);if(e instanceof l){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(e),this.currentState=t}this.previousState=null},e.prototype.getLabelText=function(){return this.label.text.text},e.prototype.getStateSkin=function(t){switch(t){case r.ButtonState.UP:return this._upSkin;case r.ButtonState.DOWN:return this._downSkin;case r.ButtonState.OVER:return this._overSkin;case r.ButtonState.DISABLED:return this._disabledSkin;default:return null}},e.prototype.handlePointerOverGesture=function(e){t.prototype.handlePointerOverGesture.call(this,e),this.overSkin instanceof c&&this.overSkin.gotoAndPlay(0),this.onRollOverHandler&&this.onRollOverHandler.call(this,this.buttonName,e,this)},e.prototype.handlePointerUpOutsideGesture=function(e){t.prototype.handlePointerUpOutsideGesture.call(this,e),this.upSkin instanceof c&&this.upSkin.gotoAndPlay(0)},e.prototype.handlePointerOutGesture=function(e){t.prototype.handlePointerOutGesture.call(this,e),this.upSkin instanceof c&&this.upSkin.gotoAndPlay(0),this.onMouseOutHandler&&this.onMouseOutHandler.call(this,this.buttonName,e,this)},e}(a.AbstractButton);e.SimpleButton=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(17),s=function(){function t(t){this.hasAutoTranslate=!1,this.hooksListeners={},this.ON_EVENT="onEvent",this.name=t}return Object.defineProperty(t.prototype,"serviceLocator",{get:function(){return this._serviceLocator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mvc",{get:function(){return o.ServiceLocator.instance().get("MVC")},enumerable:!0,configurable:!0}),t.prototype.onRegister=function(){this.preRegister(),this.whileRegistering(),this.postRegister(),this.autoTranslate()},t.prototype.registerToHook=function(t,e){this.hooksListeners[t]=e},t.prototype.autoTranslate=function(){},t.prototype.preRegister=function(){this._serviceLocator=o.ServiceLocator.instance(),this.settings=this._serviceLocator.get("Settings"),this.translations=this._serviceLocator.get("Translations"),this.signalsManager=this._serviceLocator.get("SignalsManager")},t.prototype.whileRegistering=function(){},t.prototype.postRegister=function(){},t.prototype.onStartShowLayer=function(t,e){n.isFunction(e)&&e.call(null)},t.prototype.onRunShowLayer=function(t){},t.prototype.onCompleteShowLayer=function(t,e){n.isFunction(e)&&e.call(null)},t.prototype.onStartHideLayer=function(t,e){n.isFunction(e)&&e.call(null)},t.prototype.onCompleteHideLayer=function(t,e){n.isFunction(e)&&e.call(null)},t.prototype.playSound=function(t,e,i,n,o){void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=null),void 0===o&&(o=0),this.dispatchSignal("playSound",{soundName:t,loop:e,fadeIn:i,callBackFunction:n,startTime:o})},t.prototype.stopSound=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=null),this.dispatchSignal("stopSound",{soundName:t,fadeOut:e,callBackFunction:i})},t.prototype.setSoundVolume=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0),this.dispatchSignal("setSoundVolume",{soundName:t,volume:e,fade:i})},t.prototype.muteAllSound=function(t,e){void 0===e&&(e=0),this.dispatchSignal("muteAllSound",{toggle:t,fade:e})},t.prototype.pauseSound=function(t,e){void 0===e&&(e=0),this.dispatchSignal("pauseSound",{soundName:t,fadeOut:e})},t.prototype.resumeSound=function(t,e){void 0===e&&(e=0),this.dispatchSignal("resumeSound",{soundName:t,fadeIn:e})},t.prototype.muteSound=function(t,e){void 0===e&&(e=0),this.dispatchSignal("muteSound",{soundName:t,fadeOut:e})},t.prototype.unmuteSound=function(t,e){void 0===e&&(e=0),this.dispatchSignal("unmuteSound",{soundName:t,fadeIn:e})},t.prototype.dispatchSignal=function(t,e){this.signalsManager.dispatch(t,e,this)},t.prototype.addListener=function(t,e,i,n,o){this.signalsManager.createBinding(t,e,i,n,o)},t.prototype.removeListener=function(t,e){this.signalsManager.removeListener(t,e)},t.prototype.deviceOrientationChanged=function(t){},t.prototype.deviceScreenResized=function(){},t.prototype.destroy=function(){},t}();e.AbstractView=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SET_SIZE="inject_decorator_set_size",t.SET_SCATTER_VALUES="SET_SCATTER_VALUES",t}();e.MegawaysWinningsDecoratorInjectActionNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(20),s=i(186),a=i(4),r=function(){function t(){if(this._mapDictionary={},t._instance)throw new Error("Translations class is not to be instantiated. Please use Translations.instance() ");t._instance=this}return Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.map=function(t,e){this._mapDictionary[t]=e},t.prototype.getValue=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=o.StringUtil.sprintf(this._mapDictionary[t],e);return n.isNil(s),s},t.prototype.parseXMLResult=function(e){var i=this,o=s.XMLParser.xmlToJson(e.data);if(o&&o.translations&&o.translations.t){var r=o.translations.t;n.each(r,(function(e){var n=s.XMLParser.parseKeyValue(e);n&&(a.Device.CLASS_INDEX==a.Device.CLASS_INDEX_DESKTOP&&n.key.indexOf(t._isMobile)>0||(a.Device.CLASS_INDEX==a.Device.CLASS_INDEX_MOBILE&&n.key.indexOf(t._isMobile)>0?i.map(n.key.split(t._isMobile).map(String)[0],n.value):i._mapDictionary.hasOwnProperty(n.key)||i.map(n.key,n.value)))}))}},t.prototype.destroy=function(){this._mapDictionary={},t._instance=null},t._isMobile="_MOBILE",t.RELOAD_LANG_FILE="reload_translations_",t}();e.Translations=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.pathToAtlas=t};e.SpritesheetVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(208),o=function(){function t(){}return t._namespace="toggle_button_state_",t.ON=t._namespace+n.ToggleButtonSkinName.ON,t.OFF=t._namespace+n.ToggleButtonSkinName.OFF,t.ON_OVER=t._namespace+n.ToggleButtonSkinName.ON_OVER,t.OFF_OVER=t._namespace+n.ToggleButtonSkinName.OFF_OVER,t}();e.ToggleButtonState=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(6),r=i(217),l=PIXI.Container,c=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0);var o=t.call(this,e,i)||this;return o.isVisibleAtInit=n,o}return o(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){t instanceof l?this._container=t:a.Log.warningch("Graphics","A non-Container was set as container for a PIXI layer, setting to null.")},enumerable:!0,configurable:!0}),e.prototype.drawLayout=function(t){var e,i;void 0===t&&(t=""),""!=t?(e=s.find(this.subLayout,{name:t}),(i=new l).name=t,s.isNil(e)||this.container.addChild(i)):(e=this.layout,i=this.container),s.isNil(e)||(i.position.x=parseFloat(e.properties.layerX),i.position.y=parseFloat(e.properties.layerY),i.visible=this.isVisibleAtInit,s.each(s.sortBy(e.elements,"depth"),(function(t){i.addChild(t)})))},e.prototype.removeSubLayout=function(t){if(void 0===t&&(t=""),""!=t){var e=s.find(this.container.children,{name:t});e&&this.container.removeChild(e)}},e}(r.LayerVO);e.PIXILayerVO=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(6),l=i(5),c=i(59),u=i(526),h=i(1),p=i(2),d=i(30),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tearDownActive=!1,e.pingTimer=null,e.PING_COMMAND="192837",e.LOGOUT_COMMAND="1",e}return o(e,t),Object.defineProperty(e.prototype,"serverData",{get:function(){return this._serverData},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.hasToDispatchData=!1,this.resetServerData()},e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this),s.isNil(this._reloadGameProxy)&&(this._reloadGameProxy=this.retrieveGlobalProxy(h.Names.Proxies.RELOAD_GAME,h.Names.Modules.GAME_SETUP)),this._reloadGameProxy.addReloadHandler((function(){e.onClosingGame(null)}))},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this.resetServerData()},e.prototype.init=function(t){var i=this;this.connection=t,this.connection.serverResponseCallback=function(t){i.serverResponse(t)};var n=this.settings.getCookie(e.SESSION_KEY);n&&""!==n&&this.needsForcedLogout()?this.connection.logout(n).then((function(){i.connection.login()})):this.settings.getValue("ENCRYPT_COMMUNICATION")?this.connection.loginWithHandshake():this.connection.login()},e.prototype.startDispatchingData=function(){this.hasToDispatchData=!0,this._serverData&&this.serverResponse(this._serverData)},e.prototype.send=function(t,e){void 0===e&&(e=!0),this.connection.send(t),this.sendGlobalNotification(p.Notifications.Global.DATA_SENT_TO_SERVER,t),this.pingTimer&&(this.connection.active?(this.clientTimeout.countPings(t),this.pingTimer.reset(),this.pingTimer.start(),this.clientTimeout.expired&&(this.sendGlobalNotification(l.States.ERROR,{code:2}),this.onClosingGame(null))):(this.pingTimer.reset(),this.pingTimer=null))},e.prototype.resetServerData=function(){this._serverData=null},e.prototype.getServerData=function(t){return this._serverData?this._serverData[t]:void 0},e.prototype.recordServerData=function(t,e){this._serverData[t]=e},e.prototype.close=function(){s.isNil(this.connection)||this.connection.send([this.LOGOUT_COMMAND],d.WindowUtil.isChromiumBrowser(),!0),this.pingTimer&&(this.pingTimer.reset(),this.pingTimer.stop(),this.pingTimer=null)},e.prototype.serverResponse=function(t){var e=this;if(s.isNil(t))r.Log.logch("CONNECTION HTTPS","ERROR - RESPONSE FROM SERVER IS EMPTY!");else{if(!s.isNil(t.error)&&(this.tearDownActive||this.sendGlobalNotification(l.States.ERROR,{code:t.error}),this.connection.active=!1,this.pingTimer))return this.pingTimer.reset(),this.pingTimer.stop(),void(this.pingTimer=null);var i=!1;s.each(t,(function(t,n){if(-1!=s.findIndex(e._serverData,n))return i=!0,!1})),this.initPing(),i?this._serverData=t:(this._serverData||(this._serverData={}),s.each(t,(function(t,i){e._serverData[i]=t}))),this.hasToDispatchData&&this.getServerResponseProxy().receivedDataFromServer(t),this.sendGlobalNotification(p.Notifications.Global.DATA_RECEIVED_FROM_SERVER,t)}},e.prototype.getServerResponseProxy=function(){return s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(h.Names.Proxies.SERVER_RESPONSE,h.Names.Modules.CONNECTION)),this.serverResponseProxy},e.prototype.initPing=function(){this.pingTimer||(this.clientTimeout=new u.ClientTimeout,this.pingTimer=new c.Timer(parseFloat(this.settings.getValue("connectionPing")),this.onPing.bind(this)),this.pingTimer.start(),this.send([this.PING_COMMAND]))},e.prototype.onPing=function(){this.pingTimer&&this.ping()},e.prototype.ping=function(){this.send([this.PING_COMMAND])},e.prototype.onClosingGame=function(t){this.sendGlobalNotification(p.Notifications.Connection.LOGOUT),this.close(),s.isNil(this.connection)||(this.connection.active=!1)},e.prototype.needsForcedLogout=function(){var t=!1,e=navigator.userAgent,i=this.settings.getValue("FORCE_LOGOUT_PLATFORMS");if(!s.isArray(i)){var n=i;if(n&&n.platform&&"*"===n.platform)return t=!0}return s.each(i,(function(i){e.indexOf(i.platform)>=0&&e.indexOf(i.browser)>=0&&(t=!0)})),t},e.SESSION_KEY="isb_session",e}(a.Proxy);e.ConnectionProxy=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.CLOSE_INTRO="IntroNotification.CLOSE_INTRO",t.SHOW_INTRO="IntroNotification.SHOW_INTRO",t}();e.IntroNotifications=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.INTRO_FEATURES_CLOSED="intro_features_closed",t}();e.IntroActionNames=n;var o=function(){function t(){}return t.CONTINUE_BUTTON="introExitIntroScreenButton",t.NEVER_SHOW_AGAIN_TOGGLE="NeverShowAgainToggle",t}();e.IntroStaticNames=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getString=function(e){return this.keysMap||(this.keysMap={},this.keysMap[t.KEYMAP_INDEX_0]="0",this.keysMap[49]="1",this.keysMap[50]="2",this.keysMap[51]="3",this.keysMap[52]="4",this.keysMap[53]="5",this.keysMap[54]="6",this.keysMap[55]="7",this.keysMap[56]="8",this.keysMap[t.KEYMAP_INDEX_9]="9",this.keysMap[t.KEYMAP_INDEX_0_NUM]="0",this.keysMap[97]="1",this.keysMap[98]="2",this.keysMap[99]="3",this.keysMap[100]="4",this.keysMap[101]="5",this.keysMap[102]="6",this.keysMap[103]="7",this.keysMap[104]="8",this.keysMap[t.KEYMAP_INDEX_9_NUM]="9",this.keysMap[65]="a",this.keysMap[t.KEYMAP_INDEX_B]="b",this.keysMap[t.KEYMAP_INDEX_C]="c",this.keysMap[68]="d",this.keysMap[t.KEYMAP_INDEX_E]="e",this.keysMap[70]="f",this.keysMap[71]="g",this.keysMap[t.KEYMAP_INDEX_H]="h",this.keysMap[73]="i",this.keysMap[74]="j",this.keysMap[75]="k",this.keysMap[t.KEYMAP_INDEX_L]="l",this.keysMap[77]="m",this.keysMap[78]="n",this.keysMap[79]="o",this.keysMap[t.KEYMAP_INDEX_P]="p",this.keysMap[81]="q",this.keysMap[t.KEYMAP_INDEX_R]="r",this.keysMap[t.KEYMAP_INDEX_S]="s",this.keysMap[t.KEYMAP_INDEX_T]="t",this.keysMap[85]="u",this.keysMap[t.KEYMAP_INDEX_V]="v",this.keysMap[87]="w",this.keysMap[88]="x",this.keysMap[89]="y",this.keysMap[90]="z",this.keysMap[37]="LeftArrow",this.keysMap[38]="UpArrow",this.keysMap[39]="RightArrow",this.keysMap[40]="DownArrow",this.keysMap[17]="Ctrl",this.keysMap[t.KEYMAP_INDEX_SPACE]="Space",this.keysMap[16]="Shift",this.keysMap[t.KEYMAP_INDEX_BACK_SPACE]="BackSpace",this.keysMap[107]="NumPlus",this.keysMap[108]="NumEnter",this.keysMap[109]="NumMinus",this.keysMap[t.KEYMAP_INDEX_ESC]="Esc",this.keysMap[t.KEYMAP_INDEX_ENTER]="Enter",this.keysMap[t.KEYMAP_INDEX_PIPE]="|",this.keysMap[t.KEYMAP_INDEX_COMA]=",",this.keysMap[t.KEYMAP_INDEX_DOT]=".",this.keysMap[t.KEYMAP_INDEX_DOT_NUM]=".",this.keysMap[t.KEYMAP_INDEX_DASH]="/"),this.keysMap?this.keysMap[e]:""},t.KEYMAP_INDEX_0=48,t.KEYMAP_INDEX_9=57,t.KEYMAP_INDEX_0_NUM=96,t.KEYMAP_INDEX_9_NUM=105,t.KEYMAP_INDEX_B=66,t.KEYMAP_INDEX_C=67,t.KEYMAP_INDEX_E=69,t.KEYMAP_INDEX_H=72,t.KEYMAP_INDEX_L=76,t.KEYMAP_INDEX_P=80,t.KEYMAP_INDEX_R=82,t.KEYMAP_INDEX_S=83,t.KEYMAP_INDEX_T=84,t.KEYMAP_INDEX_V=86,t.KEYMAP_INDEX_SPACE=32,t.KEYMAP_INDEX_BACK_SPACE=8,t.KEYMAP_INDEX_PIPE=220,t.KEYMAP_INDEX_COMA=188,t.KEYMAP_INDEX_DOT=190,t.KEYMAP_INDEX_DOT_NUM=110,t.KEYMAP_INDEX_DASH=191,t.KEYMAP_INDEX_ENTER=13,t.KEYMAP_INDEX_ESC=27,t}();e.KeyboardMap=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(16),l=i(18),c=i(40),u=i(27),h=i(6),p=i(32),d=i(20),_=i(30),f=i(746),y=i(48),m=i(96),N=i(4),S=i(41),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noCurrency=!1,e.cumulativeWinStarted=!1,e._labelSync=!1,e.smallestFontSize=30,e.originalFontSize=30,e.equalizeLabelSize=!0,e._offsetStripY=1,e.betLevelEnabled=!1,e.stripLabelsToUpdate=[],e.balanceBonusValue=0,e.firstBalanceLabelUpdate=!0,e}return o(e,t),Object.defineProperty(e.prototype,"balanceAnimation",{get:function(){return h.Log.warning("TODO - get balanceAnimation()"),null},set:function(t){h.Log.warning("TODO - set balanceAnimation()")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationStarted",{get:function(){return h.Log.warning("TODO - get animationStarted()"),null},set:function(t){h.Log.warning("TODO - set animationStarted()")},enumerable:!0,configurable:!0}),e.prototype.autoTranslate=function(){var e=this;t.prototype.autoTranslate.call(this),s.each(this.titleToFit,(function(t){s.isNil(t)||(t.updateLabel(t.text.text),e.smallestFontSize<t.fontSize-t.needToGrowBy?t.fontSize=e.smallestFontSize:e.smallestFontSize>t.fontSize-t.needToGrowBy&&(e.smallestFontSize=t.fontSize-t.needToGrowBy),s.isNil(t.nonCurrentComponent)||t.nonCurrentComponent.updateLabel(t.text.text))})),this.equalizeLabelSize&&this.equalizeFontSize(),this.originalFontSize=this.smallestFontSize},e.prototype.showStripBar=function(){this.bonusBalanceManager.canShowStrips=!0,this.stripBar.visible=!0},e.prototype.hideStripBar=function(){this.stripBar.visible=!1},e.prototype.showBetAndWin=function(){this.totalBetLabel.currentComponent.parent.visible=!0,this.winLabel.currentComponent.parent.visible=!0},e.prototype.hideBetAndWin=function(){this.totalBetLabel.currentComponent.parent.visible=!1,this.winLabel.currentComponent.parent.visible=!1},e.prototype.updateDisplayValues=function(t){if(this.displayValues=t,this.displayValues){if(this.betLevelEnabled?this.updateLabel(this.totalBetLabel,this.displayValues.totalBetInCoins.toString()):this.updateLabel(this.totalBetLabel,this.displayValues.betsAsString(!1)),0!=this.displayValues.winnings||this.cumulativeWinStarted)this.initIncrementUpdates();else{this.betLevelEnabled?(this.updateWinLabel(this.displayValues.winningsAsString()),this.updateLabelsOutsideStrip("",m.LabelToUpdateVO.WIN,m.LabelToUpdateVO.MONEY)):this.updateWinLabel(this.displayValues.winningsAsString(!1));var e=this.displayValues.balance/this.displayValues.coinValue;this.noCurrency&&(e=Math.floor(e)),this.firstBalanceLabelUpdate?(this.updateLabel(this.balanceLabel,this.displayValues.balanceAsString(!1)),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,m.LabelToUpdateVO.BALANCE,m.LabelToUpdateVO.MONEY),this.creditLabel&&this.updateLabel(this.creditLabel,p.NumberFormatterUtil.formatNumber(e,0)),this.firstBalanceLabelUpdate=!1):(this.updateLabel(this.balanceLabel,this.displayValues.balanceAsString(!1)),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,m.LabelToUpdateVO.BALANCE,m.LabelToUpdateVO.MONEY),this.creditLabel&&this.updateLabel(this.creditLabel,p.NumberFormatterUtil.formatNumber(e,0)))}this.balanceBonusValue>0&&this.updateBonusBalance(this.balanceBonusValue)}},e.prototype.startCumulativeIncrementWin=function(t){},e.prototype.stopCumulativeIncrementWin=function(){},e.prototype.setCelebrationWin=function(t){var e;this.betLevelEnabled?(e=S.SlotMoneyUtils.getCoinsAsString(t),this.updateLabelsOutsideStrip(S.SlotMoneyUtils.getMoneyFromCoinsAsString(t),m.LabelToUpdateVO.WIN,m.LabelToUpdateVO.MONEY)):e=S.SlotMoneyUtils.getMoneyFromCoinsAsString(t),this.updateLabel(this.winLabel,e)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.positionElements(),this.equalizeLabelSize&&this.equalizeFontSize()},e.prototype.addLabelToUpdateOnStrip=function(t){var e=this;s.each(t,(function(t){e.stripLabelsToUpdate.push(t)}))},e.prototype.updateLabelsOutsideStrip=function(t,e,i){s.each(this.stripLabelsToUpdate,(function(n){n.type==e&&n.coins==i&&n.label.updateLabel(t)}))},e.prototype.updateBonusBalance=function(t,e){if(void 0===e&&(e=!0),!s.isNil(this.bonusBalanceManager)&&(this.balanceBonusValue=t,e)){var i=t/this.displayValues.coinValue;this.noCurrency&&(i=Math.floor(i));var n=d.StringUtil.sprintf(this.translations.getValue("stripBonusBalanceLabel"),S.SlotMoneyUtils.getCurrencyStringFromMoney(t),S.SlotMoneyUtils.getCoinsAsString(i));s.isNil(n)||(this.bonusBalanceManager.updateBonusBalance(n),this.equalizeLabelSize&&this.equalizeFontSize())}},e.prototype.toggleBonusVisibility=function(t){s.isNil(this.bonusBalanceManager)||this.bonusBalanceManager.stopBonusDisplay()},e.prototype.postRegister=function(){this.hasAutoTranslate=!0,t.prototype.postRegister.call(this),this.initElements(),this.settings.getValue("tokenuse")&&(this.noCurrency=!0),this.keepWinningsAfterSpin=this.settings.getValue("KEEP_WINNINGS_AFTER_SPIN"),this.setElementsToFit();var e=this.settings.getValue("GameConfig");e&&(this.equalizeLabelSize=!1==!e.getProperty("STRIP_VIEW","equalizeLabelSize")),this.positionElements(),this.deviceScreenResized()},e.prototype.initElements=function(){this.stripBar=new l.ControllerContainer("sbContainer",this.findMultipleChild("sbContainer")),this.stripBarBonus=new l.ControllerContainer("sbContainerBonus",this.findMultipleChild("sbContainerBonus")),this.stripBarBonus.visible=!1,this.stripBarBg=new c.ControllerImage("sbBg",this.findMultipleChild("sbBg")),y.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE=this.stripBarBg.componentLandscape.height,s.isNil(this.stripBarBg.componentPortrait)||(y.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT=this.stripBarBg.componentPortrait.height);var t=this.settings.getValue("BET_LEVEL");!s.isNil(t)&&t.enabled&&(this.betLevelEnabled=!0),this.totalBetTitle=new u.ControllerTextField("stripTotalBetLabel",this.findMultipleChild("stripTotalBetLabel")),this.balanceTitle=new u.ControllerTextField("stripBalanceLabel",this.findMultipleChild("stripBalanceLabel")),this.creditTitle=new u.ControllerTextField("stripCreditLabel",this.findMultipleChild("stripCreditLabel")),this.winTitle=new u.ControllerTextField("stripWinLabel",this.findMultipleChild("stripWinLabel")),this.totalBetLabel=new u.ControllerTextField("stripTotalBetValue",this.findMultipleChild("stripTotalBetValue"),!0),this.balanceLabel=new u.ControllerTextField("stripBalanceValue",this.findMultipleChild("stripBalanceValue"),!0),this.creditLabel=new u.ControllerTextField("stripCreditValue",this.findMultipleChild("stripCreditValue"),!0),this.winLabel=new u.ControllerTextField("stripWinValue",this.findMultipleChild("stripWinValue"),!0);var e=new l.ControllerContainer("sbBetContainer",this.findMultipleChild("sbBetContainer")),i=new l.ControllerContainer("sbBalanceContainer",this.findMultipleChild("sbBalanceContainer")),n=new l.ControllerContainer("sbCreditContainer",this.findMultipleChild("sbCreditContainer")),o=new l.ControllerContainer("sbWinContainer",this.findMultipleChild("sbWinContainer"));this.balanceBonusLabel=new u.ControllerTextField("stripBalanceBonusLabel",this.findMultipleChild("stripBalanceBonusLabel"),!0),this.bonusBalanceManager=new f.PIXIBonusBalanceManager([e,i,n,o],this.stripBarBonus,this.balanceBonusLabel)},e.prototype.setElementsToFit=function(){var t=this;this.titleToFit=[this.totalBetTitle,this.balanceTitle,this.creditTitle,this.winTitle,this.balanceBonusLabel],this.valuesToFit=[this.totalBetLabel,this.balanceLabel,this.creditLabel,this.winLabel],this.betLevelEnabled&&!N.Device.instance().mobile&&(s.remove(this.titleToFit,(function(e){return e==t.balanceTitle})),s.remove(this.valuesToFit,(function(e){return e==t.balanceLabel})))},e.prototype.positionElements=function(){this.stripBarBg.x=-a.SceneManager.getHMargin-_.WindowUtil.ROUND_COMPENSATION,this.stripBarBg.width=Math.ceil(a.SceneManager.getScreenWidth)+2*_.WindowUtil.ROUND_COMPENSATION},e.prototype.initIncrementUpdates=function(){},e.prototype.updateWinLabel=function(t){this.cumulativeWinStarted||this.updateLabel(this.winLabel,t)},e.prototype.updateLabel=function(t,e,i){if(void 0===i&&(i=!1),e.length!=t.text.text.length||1==i){var n=t.fontSize;t.updateLabel(e),this.equalizeLabelSize&&n!=t.fontSize&&(this.smallestFontSize=this.originalFontSize,this.equalizeFontSize())}else t.updateLabel(e,!1)},e.prototype.equalizeFontSize=function(){var t=this;s.each(this.titleToFit,(function(e){t.smallestFontSize=Math.min(e.fontSize-e.needToGrowBy,t.smallestFontSize)})),s.each(this.valuesToFit,(function(e){t.smallestFontSize=Math.min(e.fontSize-e.needToGrowBy,t.smallestFontSize)})),s.each(this.titleToFit,(function(e){e.fontSize=t.smallestFontSize+e.needToGrowBy})),s.each(this.valuesToFit,(function(e){e.fontSize=t.smallestFontSize+e.needToGrowBy}))},e.prototype.onIncrementUpdateForBalance=function(t){var e=this.displayValues.balance-this.displayValues.winnings+t,i=this.displayValues.getStringValueFrom(e,this.noCurrency);if(this.updateLabel(this.balanceLabel,i),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,m.LabelToUpdateVO.BALANCE,m.LabelToUpdateVO.MONEY),this.creditLabel){var n=e/this.displayValues.coinValue;this.noCurrency&&(n=Math.floor(n)),this.updateLabel(this.creditLabel,p.NumberFormatterUtil.formatNumber(n,0))}},e.prototype.onIncrementCompleteForBalance=function(t){this.updateLabel(this.winLabel,this.winLabel.text.text),this.updateLabel(this.balanceLabel,this.balanceLabel.text.text),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,m.LabelToUpdateVO.BALANCE,m.LabelToUpdateVO.MONEY),this.creditLabel&&this.updateLabel(this.creditLabel,this.creditLabel.text.text),this.updateLabel(this.totalBetLabel,this.totalBetLabel.text.text)},e.prototype.onIncrementUpdateForWin=function(t){var e;this.betLevelEnabled?(e=this.displayValues.getStringValueFrom(t/this.displayValues.coinValue),this.updateLabelsOutsideStrip(this.displayValues.getStringValueFrom(t,this.noCurrency),m.LabelToUpdateVO.WIN,m.LabelToUpdateVO.MONEY)):e=this.displayValues.getStringValueFrom(t,this.noCurrency),this.updateLabel(this.winLabel,e)},e}(r.PixiView);e.StripAbstractPixiView=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.ENABLE=!0,t.DISABLE=!1,t.UNCHANGED="unchanged",t.VISIBLE=!0,t.INVISIBLE=!1,t}();e.ButtonStateVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SHIMMER_DELAY=1,t.MODIFIER_BEGIN=1,t.BRING_IN_DISC=1,t.BONUS_TWEEN_IN=5,t.BONUS_TWEEN_OUT=1,t.BONUS_COUNT_UP=4,t.BONUS_DELAY=3,t.MAX_WAY_DURATION=5,t.MAX_WAY_TWEEN_IN=2,t.MAX_WAY_LOOPS=2,t.MAX_WAY_LOOP_TIME=1.5,t.MAX_WAY_MAX_SCALE=1.1,t}();e.NgsMwAztecGoldModifierTimings=n;var o=function(){function t(){}return t.MIN_VALUE=10,t.MAX_VALUE=20,t.MIN_RATIO=.3,t.MAX_RATIO=.7,t}();e.NgsMwAztecGoldFakeBonusAmounts=o;var s=function(){function t(){}return t.FINISH_MAX_WAY="FINISH_MAX_WAY",t.FINISH_SUN_DISCS="FINISH_SUN_DISCS",t}();e.NgsMwAztecGoldModifierSignals=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(359),s=i(6),a=function(){function t(e){if(this._maxLoadTries=3,e!==t.SingletonEnforcer)throw new Error("FontObserver is a singleton, please use instance()");this.initFontsArray()}return t.SingletonEnforcer=function(){},t.instance=function(){return n.isNil(t._instance)&&(t._instance=new t(t.SingletonEnforcer)),t._instance},t.prototype.initFontsArray=function(){var e=this;t.FONTS=[],n.each(t.FONT_NAMES,(function(i,a){n.isNil(e.getFontObserverVO(i))?t.FONTS.push(new o.FontObserverVO(i,a)):s.Log.info("Skipping font: "+i+" as it's already added")}))},t.prototype.loadFont=function(t,e,i){void 0===e&&(e=void 0),void 0===i&&(i=void 0);var n=this.getFontObserverVO(t);this.tryLoad(n,e,i)},t.prototype.loadAllFonts=function(){var e=this;n.each(t.FONTS,(function(t){t.isLoaded||e.tryLoad(t)}))},t.prototype.tryLoad=function(t,e,i){var o=this;void 0===e&&(e=void 0),void 0===i&&(i=void 0),t.fo.load().then((function(){t.fontHasLoaded(),n.isNil(e)||n.isNil(i)||e.call(i)}),(function(){t.loadTries>=o._maxLoadTries?s.Log.warning("Font: "+t.name+" has failed to load"):(t.fontHasFailedToLoad(),o.tryLoad(t,e,i))}))},t.prototype.isFontReady=function(t){var e=this.getFontObserverVO(t);if(n.isNil(e))throw new Error('[FontObserver] Font: "'+t+'", not found in the fonts array');return e.isLoaded},t.prototype.getFontObserverVO=function(e){return n.find(t.FONTS,(function(t){return t.name==e}))},t}();e.FontObserver=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),o=function(){function t(t){this.notifications=new Array,this.name=t}return Object.defineProperty(t.prototype,"serviceLocator",{get:function(){return this._serviceLocator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mvc",{get:function(){return n.ServiceLocator.instance().get("MVC")},enumerable:!0,configurable:!0}),t.prototype.sendNotification=function(t,e,i,n){void 0===i&&(i=this.currentScope),void 0===n&&(n=!1),this.mvc.sendNotification(t,e,i,n)},t.prototype.sendGlobalNotification=function(t,e,i){void 0===i&&(i=!1),this.mvc.sendGlobalNotification(t,e,i)},t.prototype.retrieveProxy=function(t){return this.mvc.retrieveProxy(t,this.currentScope)},t.prototype.retrieveGlobalProxy=function(t,e){return this.mvc.retrieveProxy(t,e)},t.prototype.onRegister=function(){this.preRegister(),this.whileRegistering(),this.postRegister()},t.prototype.preRegister=function(){this._serviceLocator=n.ServiceLocator.instance(),this.settings=this._serviceLocator.get("Settings"),this.translations=this._serviceLocator.get("Translations")},t.prototype.whileRegistering=function(){},t.prototype.postRegister=function(){},t.prototype.onUnregister=function(){},t}();e.MVCEntity=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numberOfRepeats=6,e._transitionInDuration=.33,e._transitionOutDuration=0,e}return o(e,t),e}(i(387).BlinkAnimateStaticSymbolWinningsDecorator);e.AnimateSymbolOptionalStaticWinningDecorator=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=NaN),void 0===i&&(i=NaN);var o=this;this.wheelsBounds=new Array,this.xAxis=[],this.yAxis=[],t&&(this.wheelsBounds=t,n.each(this.wheelsBounds,(function(t){o.xAxis.push(t.x+t.width/2),o.yAxis.push(t.y+e/2)}))),this.symbolHeight=e,this.symbolsSpacing=i};e.WheelAnimationConfigVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=i(17),c=i(390),u=i(391),h=i(392),p=i(187),d=i(34),_=r.Names.Layers,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i=this;t.prototype.execute.call(this,e),this.initVars();var n=this.masterLayoutProxy.getWinningsComponents();a.each(n,(function(t){var e=t.data.details;switch(e.name){case u.SlotDTWinningsType.BIG_WIN:i.processBigWin(e);break;case u.SlotDTWinningsType.NEAR_MISS:i.processNearMiss(e);break;case u.SlotDTWinningsType.INCREMENT:i.processIncrement(e)}}))},e.prototype.initVars=function(){a.isUndefined(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(r.Names.Proxies.MASTER_LAYERS,r.Names.Modules.GAME_SETUP)),a.isUndefined(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveGlobalProxy(r.Names.Proxies.NEAR_MISS,r.Names.Modules.WHEELS)),a.isNil(this.viewFactory)&&(this.viewFactory=l.ServiceLocator.instance().get("ViewFactory")),a.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.processBigWin=function(t){this.viewFactory.hasDecorator("WinningsAnimationsView","SpineBigWinAnimationDecorator")||this.viewFactory.addDecorator("WinningsAnimationsView","SpineBigWinAnimationDecorator",c.SpineBigWinAnimationDecorator,_.WINNINGS_ANIMATIONS_BIG_WIN);var e=a.omit(t,["type","name"]);this.slotGameConfig.addProperty("WINNINGS_ANIMATIONS_DECORATORS","SpineBigWinAnimationDecorator",e,!1)},e.prototype.processNearMiss=function(t){this.addSpineNearMissDecorator();var e=a.omit(t,["type","name"]);a.extend(e,{decoratorSymbols:"1",duration:2,fixDuration:!0,transitionInDuration:.1,transitionOutDuration:.1,minimumSymbolsForNearMiss:2,maximumSymbolsForNearMiss:5,layer:_.NEAR_MISS,offset:"0,175",scale:"0.5,0.5"}),this.slotGameConfig.addProperty("WHEEL_DECORATORS","nearMissWheelDecorator",e,!1),this.nearMissProxy.masterLayoutSettingsReceived()},e.prototype.addSpineNearMissDecorator=function(){var t=this.slotGameConfig.getProperties("WHEEL_DECORATORS").decorators;a.each(t,(function(t){"nearMissWheelDecorator"==t.decoratorName&&t.decoratorDefinition==p.NearMissWheelDecorator&&(t.decoratorDefinition=h.NearMissSpineWheelDecorator)}))},e.prototype.processIncrement=function(t){var e=[];a.forEach(t,(function(t,i){if(i.indexOf("WIN_BIG_WIN_DIGIT")>-1){for(var n=t.split(""),o=n.length-1;o>=0;o--)isNaN(parseInt(n[o]))||n.pop();e.push(n.join(""))}}));for(var i=!0,n=0;n<e.length-1;n++)if(e[n]!=e[n+1])throw i=!1,new Error("DIGIT NAMES AREN'T ALL THE SAME");var o=l.ServiceLocator.instance().get("VisualAssetsMap");i&&(o.visualAssets[d.VisualAssetsNames.WIN_BIG_WIN_DOT]=e[0]),t.WIN_BIG_WIN_DOT&&(o.visualAssets[d.VisualAssetsNames.WIN_BIG_WIN_DOT]=t.WIN_BIG_WIN_DOT),t.WIN_BIG_WIN_COMMA&&(o.visualAssets[d.VisualAssetsNames.WIN_BIG_WIN_COMMA]=t.WIN_BIG_WIN_COMMA),t.WIN_VALUE_BACKGROUND_LEFT&&(o.visualAssets[d.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE]=t.WIN_VALUE_BACKGROUND_LEFT),t.WIN_VALUE_BACKGROUND_MIDDLE&&(o.visualAssets[d.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE]=t.WIN_VALUE_BACKGROUND_MIDDLE),t.WIN_VALUE_BACKGROUND_RIGHT&&(o.visualAssets[d.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE]=t.WIN_VALUE_BACKGROUND_RIGHT)},e}(s.Controller);e.SendWinningsConfigurationCommand=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.name="",this.startNotification="",this.endNotification="",this.sendImmediatelyEndGameEnableUI=!1,this.startChangeState=!1,this.isComplete=!1,this.oneTimeOnly=!1};e.EndGameActionDetailsVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(414),a=i(33),r=i(44),l=i(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._maxValueWidth=7e3,e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings.hasOwnProperty("backgroundContainerScaleX")&&(this._backgroundContainerScaleX=this.decoratorSettings.backgroundContainerScaleX),this.decoratorSettings.hasOwnProperty("backgroundContainerScaleY")&&(this._backgroundContainerScaleY=this.decoratorSettings.backgroundContainerScaleY)},e.prototype.updateWinValueBackground=function(){this._backgroundContainer.x=this._bitmapIncrementContainer.x,this._backgroundContainer.y=this._bitmapIncrementContainer.y},e.prototype.doTransitionInIncrement=function(){this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this.skipIncrement?(this._bitmapIncrementContainer.alpha=1,this._backgroundContainer.alpha=1,this._bitmapIncrementContainer.scale.set(this._transitionInScale)):(this._bitmapIncrementContainer.alpha=0,this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._transitionInDuration,{delay:this._startDelay,pixi:{scaleX:this._transitionInScale,scaleY:this._transitionInScale},alpha:this._transitionInAlpha,ease:this.getEaseFunction(this._transitionInEaseFunction)})),this._hasWinValueBackground&&!a.includes(this._display.children,this._backgroundContainer)&&(this._backgroundContainer.scale.x=this._backgroundContainerScaleX,this._backgroundContainer.scale.y=this._backgroundContainerScaleY,this._backgroundContainer.pivot.x=this._backgroundContainer.width/this._backgroundContainerScaleX/2.1,this._backgroundContainer.pivot.y=this._backgroundContainer.height/this._backgroundContainerScaleY/2,this._display.addChildAt(this._backgroundContainer,0),this.skipIncrement||(this._backgroundContainer.alpha=0,TweenMax.to(this._backgroundContainer,1,{alpha:1})),this._valueBackgroundTween=TweenMax.to(this._backgroundContainer.scale,this._celebrationMoney.duration,{x:1.1,y:2}))},e.prototype.onCelebrationStart=function(t){var i=this;a.isNil(t.body)||a.isNil(t.body.duration)||0!==t.body.duration?(this._celebrationInProgress=!0,this._incrementStarted=!0,this._celebrationSkipped=!1,this._celebrationMoney=t.body,this._celebrationMoney.value=this._celebrationMoney.startV,this.skipIncrement=this._celebrationMoney.endV<=e.MIN_WIN_FOR_COUNTUP,this.skipIncrement?(this._celebrationSkipped=!0,this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:l.SlotSoundNames.INCREMENT_STOP,loop:!1}),this._celebrationTween=TweenLite.to(this._celebrationMoney,this._celebrationMoney.duration,{value:this._celebrationMoney.endV,onComplete:this.onCelebrationEnd.bind(this)})):(this._celebrationTween=TweenLite.to(this._celebrationMoney,this._celebrationMoney.duration,{value:this._celebrationMoney.endV,onUpdate:this.onCelebrationUpdate.bind(this),onComplete:function(){i.onCelebrationEnd(),i.playIncrementStopSound(),i._celebrationSkipped=!0}}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:l.SlotSoundNames.INCREMENT,loop:!0})),this._display.addChild(this._bitmapIncrementContainer),this.updateBitmapIncrement(this._celebrationMoney.startV),this.setDigitScale(this._celebrationMoney.endV),this.skipIncrement&&this.onIncrementComplete(this._celebrationMoney.endV),this.doTransitionInIncrement(),this.transitionOutOverride=-1):this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.CELEBRATION_END)},e.prototype.playIncrementStopSound=function(){this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:l.SlotSoundNames.INCREMENT}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:l.SlotSoundNames.INCREMENT_STOP})},e.MIN_WIN_FOR_COUNTUP=100,e}(s.MegawaysIncrementLineWinAnimationDecorator);e.NgsMwIncrementLineWinAnimationDecorator=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NO_CONNECTIVITY=100,t.GENERAL_NETWORKING_ERROR=101,t.ASSET_DOWNLOAD_ERROR=102,t.UNCAUGHT_ERROR=103,t.PARSING_ERROR=104,t}();e.Errors=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(441),s=function(){function t(t){this.files=[],this.isUrgent=!1,this.isComplete=!1,this.isLoading=!1,this.id=t}return t.prototype.addFile=function(t,e,i,s){var a=new o.GroupFileDetails;a.id=t,a.path=e,a.type=i,n.isNil(s)?a.loaderOptions.xhrType=a.type:a.loaderOptions=s,this.files.push(a)},t}();e.GroupFileVO=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i(8),r=i(31),l=i(45),c=i(118),u=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this,e)||this;return n.buttonDetails={},n._state=-1,n._skin=new PIXI.Container,n._skin.name="skin",n.addChild(n._skin),n.interactive=!0,n.buttonMode=!0,n.buttonName=e,i?n.on(l.PointerStates.DOWN,n.handleMouseDownGesture,n):n.on(l.PointerStates.UP,n.handleMouseDownGesture,n),s.Device.instance().desktop&&(n.on(l.PointerStates.OVER,n.handleMouseOverGesture,n),n.on(l.PointerStates.OUT,n.handleMouseOutGesture,n)),n}return o(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSkin",{get:function(){return this._onSkin},set:function(t){this._onSkin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offSkin",{get:function(){return this._offSkin},set:function(t){this._offSkin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSkinOver",{get:function(){return this._onSkinOver},set:function(t){this._onSkinOver=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offSkinOver",{get:function(){return this._offSkinOver},set:function(t){this._offSkinOver=t},enumerable:!0,configurable:!0}),e.prototype.changeState=function(t){t==c.ToggleButtonState.OFF?this._state=0:this._state=1;var e=this.getStateSkin(t);if(e instanceof PIXI.DisplayObject){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(e)}},e.prototype.toggleState=function(t){0===t?this.changeState(c.ToggleButtonState.OFF):this.changeState(c.ToggleButtonState.ON)},e.prototype.enable=function(t){this.interactive=t,this.buttonMode=t},e.prototype.updateStateOnChange=function(t){t?0!==this.state&&this.toggleState(0):1!=this.state&&this.toggleState(1)},e.prototype.handleMouseDownGesture=function(t){0===this._state?this.changeState(c.ToggleButtonState.ON):this.changeState(c.ToggleButtonState.OFF),this.onClickHandler&&(this.buttonDetails.state=1==this._state,this.onClickHandler.call(this,this.buttonName,t,this.buttonDetails)),this.stopClickPropagation&&t.stopPropagation(),s.Device.instance().desktop&&!s.Device.instance().touch&&this.handleMouseOverGesture(t)},e.prototype.handleMouseOutGesture=function(t){if(1==this.state){if(this.onSkin){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(this.onSkin)}}else if(0===this.state&&this.offSkin){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(this.offSkin)}a.SceneManager.renderer.view.style.cursor="default"},e.prototype.handleMouseOverGesture=function(t){if(1==this.state){if(this.onSkinOver){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(this.onSkinOver)}}else if(0===this.state&&this.offSkinOver){for(;this._skin.children.length>0;)this._skin.removeChildAt(0);this._skin.addChild(this.offSkinOver)}a.SceneManager.renderer.view.style.cursor="pointer"},e.prototype.getStateSkin=function(t){switch(t){case c.ToggleButtonState.ON:return this._onSkin;case c.ToggleButtonState.OFF:return this._offSkin;default:return null}},e}(r.BaseComponent);e.ToggleButton=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=PIXI.Graphics,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._elements=[],e}return o(e,t),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),e.prototype.createContainer=function(){var t=this;s.each(s.sortBy(this.elements,"depth"),(function(e){t.addChild(e)}))},e.prototype.createMask=function(t,e,i,n,o){if(void 0===n&&(n=.04),void 0===o&&(o=""),"false"!=t){var s=void 0;if("canvas"==t){var a=document.createElement("canvas");a.width=e,a.height=i;var l=a.getContext("2d"),c=l.createLinearGradient(0,0,0,i);c.addColorStop(0,"black"),c.addColorStop(n,"white"),c.addColorStop(1-n,"white"),c.addColorStop(1,"black"),l.fillStyle=c,l.fillRect(0,0,e,i);var u=PIXI.Texture.fromCanvas(a);s=new PIXI.Sprite(u)}else(s=new r).beginFill(16777215),s.drawRect(0,0,e,i),s.endFill(),o.length>0&&(s.name=o+"Mask");this.addChild(s),this.mask=s}},e.prototype.updateMaskParam=function(t,e){-1!=t&&(this.mask.width=t),-1!=e&&(this.mask.height=e)},e.prototype.addMouseDown=function(t){this.on("pointerdown",t,this)},e.prototype.addMouseUp=function(t){this.on("pointerup",t,this)},e.prototype.addMouseOut=function(t){this.on("pointerout",t,this)},e}(a.BaseComponent);e.PIXIContainer=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(127),r=i(6),l=i(31),c=i(21),u=PIXI.Container,h=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this,e)||this;return n.vAlign="center",n._labelText="",n._glowColors=[],n._isSingleLine=!1,n.needToGrowBy=null,n.elementsHolder=new u,n.addChild(n.elementsHolder),n.text=new PIXI.Text,n.elementsHolder.addChild(n.text),n.objectDebugBounds=n.elementsHolder,n._isScalable=i,n}return o(e,t),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.text.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.text.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._textFieldWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._textFieldHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this.text.style.fontSize=this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("labelWidth").value)*c.TextField.FONT_MULTIPLIER,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("labelHeight").value)*c.TextField.FONT_MULTIPLIER,this._fontSize=parseFloat(this._layout.attributes.getNamedItem("labelFontSize").value),this._fontSize=this._fontSize*c.TextField.FONT_MULTIPLIER,this._initialFontSize=this._fontSize,this.textStyle=new PIXI.TextStyle(null),this.textStyle.fontSize=this._fontSize,this.textStyle.fill=parseInt(this._layout.attributes.getNamedItem("labelFontColor").value),s.isNil(this._layout.attributes.getNamedItem("labelFont"))?this.textStyle.fontFamily="noto_sansregular":this.textStyle.fontFamily=this._layout.attributes.getNamedItem("labelFont").value,s.isNil(this._layout.attributes.getNamedItem("align"))||(this.textStyle.align=this._layout.attributes.getNamedItem("align").value),s.isNil(this._layout.attributes.getNamedItem("vAlign"))||(this.vAlign=this._layout.attributes.getNamedItem("vAlign").value),s.isNil(this._layout.attributes.getNamedItem("autoSize"))||(this._autoSize="false"!=this._layout.attributes.getNamedItem("autoSize").value),s.isNil(this._layout.attributes.getNamedItem("keyTranslate"))||(this.keyTranslate=this._layout.attributes.getNamedItem("keyTranslate").value),s.isNil(this._layout.attributes.getNamedItem("fontWeight"))||(this.textStyle.fontWeight=this._layout.attributes.getNamedItem("fontWeight").value),s.isNil(this._layout.attributes.getNamedItem("strokeThickness"))||(this.textStyle.strokeThickness=parseInt(this._layout.attributes.getNamedItem("strokeThickness").value)),s.isNil(this._layout.attributes.getNamedItem("stroke"))||(this.textStyle.stroke=parseInt(this._layout.attributes.getNamedItem("stroke").value)),this.checkForIE()||s.isNil(this._layout.attributes.getNamedItem("filters"))||(this._styleFilters=this._layout.attributes.getNamedItem("filters").value),s.isNil(this._layout.attributes.getNamedItem("paddingX"))?this.paddingX=0:this.paddingX=parseFloat(this._layout.attributes.getNamedItem("paddingX").value),s.isNil(this._layout.attributes.getNamedItem("paddingY"))?this.paddingY=0:this.paddingY=parseFloat(this._layout.attributes.getNamedItem("paddingY").value),this.initFromNode(),this.initTextField()},enumerable:!0,configurable:!0}),e.prototype.setLayoutAndStyle=function(t,e){this._layout=t,this.checkForIE()||s.isNil(this._layout.attributes.getNamedItem("filters"))||(this._styleFilters=this._layout.attributes.getNamedItem("filters").value),this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("labelWidth").value)*c.TextField.FONT_MULTIPLIER,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("labelHeight").value)*c.TextField.FONT_MULTIPLIER,e.fontFamily||(e.fontFamily="noto_sansregular"),this._initialFontSize=this._fontSize=e.fontSize,this.vAlign=e.vAlign,this.textStyle=new PIXI.TextStyle(e),this.initFromNode(),this.initTextField()},e.prototype.initFromNode=function(){s.isNil(this._layout.attributes.getNamedItem("label"))||(this._labelText=this._layout.attributes.getNamedItem("label").value),s.isNil(this._layout.attributes.getNamedItem("singleLine"))||(this._isSingleLine="true"==this._layout.attributes.getNamedItem("singleLine").value),s.isNil(this._layout.attributes.getNamedItem("customFont"))||this.checkFontForLanguage(this._layout.attributes.getNamedItem("customFont").value),this.position.x=parseFloat(this._layout.attributes.getNamedItem("labelX").value),this.position.y=parseFloat(this._layout.attributes.getNamedItem("labelY").value)},e.prototype.checkFontForLanguage=function(t){this.checkFontForLanguageFromObject(JSON.parse(t))},e.prototype.checkFontForLanguageFromObject=function(t){var e=this,i=this.settings.getValue("lang");s.each(["growth","fontFamily","fontWeight","fill","fillGradientType","stroke","strokeThickness"],(function(n){s.each(t,(function(t,o){s.isNil(t[n])||s.isNaN(t[n])||"undefined"==t[n]||s.isNil(t.lang)?r.Log.warning("TextField.checkFontForLanguageFromObject() : "+e.text.text+" : "+t.lang+" and "+t[n]):i.toLowerCase()!=t.lang.toLowerCase()&&"all"!=t.lang.toLowerCase()||("growth"==n?e.needToGrowBy=t[n]:e.textStyle[n]=t[n])}))}))},e.prototype.setUp=function(t,e,i,n,o,s){void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=0),this._textFieldWidth=t*c.TextField.FONT_MULTIPLIER,this._textFieldHeight=e*c.TextField.FONT_MULTIPLIER,!this.checkForIE()&&i.filters&&(this._styleFilters=i.filters),i.fontFamily||(i.fontFamily="noto_sansregular"),i.fontSize||(i.fontSize=i.fontSize=20),this._initialFontSize=this._fontSize=i.fontSize*c.TextField.FONT_MULTIPLIER,this.vAlign=i.vAlign,this.textStyle=new PIXI.TextStyle(i),n&&n.length>0&&(this._labelText=n),this._isSingleLine=i.singleLine,this.position.set(o,s),this.initTextField()},e.prototype.initTextField=function(){var t=this;this._styleFilters&&this.checkFilters(this._styleFilters),this.elementsHolder.scale.set(c.TextField.FONT_SCALE),this.setAlign(this.textStyle.align,this.vAlign),this.text.style=this.textStyle,a.FontObserver.instance().isFontReady(this.textStyle.fontFamily)?this.updateLabel(this._labelText):a.FontObserver.instance().loadFont(this.textStyle.fontFamily,(function(){t.updateLabel(t._labelText)}))},e.prototype.setAlign=function(t,e){"left"==t?(this.text.anchor.x=0,this.text.x=0):"right"==t?(this.text.anchor.x=1,this.text.x=this._textFieldWidth):(this.text.anchor.x=.5,this.text.x=this._textFieldWidth/2),"top"==e?(this.text.anchor.y=0,this.text.y=0):"bottom"==e?(this.text.anchor.y=1,this.text.y=this._textFieldHeight):(this.text.anchor.y=.5,this.text.y=this._textFieldHeight/2)},e.prototype.changeDimensions=function(t,e){this._textFieldWidth=t,this._textFieldHeight=e,this.setAlign(this.textStyle.align,this.vAlign)},e.prototype.startUpdate=function(t,e){this.text.text!=t&&(this.text.text=t,this._isScalable?(null!=this.needToGrowBy&&(this.text.style.fontSize=this._fontSize+this.needToGrowBy),this.text.width<this._textFieldWidth?this.setAlign(this.textStyle.align,this.vAlign):(this.setAlign("left",this.vAlign),this.text.x=this.paddingX)):e&&!this._autoSize?this.checkTextFit():this._autoSize&&(this.text.style.wordWrap=!0,this.text.style.wordWrapWidth=this._textFieldWidth))},e.prototype.updateLabel=function(t,e){void 0===e&&(e=!0),this.startUpdate(t,e)},e.prototype.checkTextFit=function(){if(this.text.style.fontSize=this._initialFontSize,this._fontSize=this._initialFontSize,this._isSingleLine||this.text.width>this._textFieldWidth&&(this.text.style.wordWrap=!0,this.text.style.wordWrapWidth=this._textFieldWidth),this.text.height>this._textFieldHeight||this.text.width>this._textFieldWidth)for(;this.text.height>this._textFieldHeight||this.text.width>this._textFieldWidth;)this.text.style.fontSize=this._fontSize=this._fontSize-1},e.prototype.addGlowFilter=function(t){var e=this;s.each(s.range(this._glowColors.length),(function(i){(s.isNil(e._glowTexts)||s.isNil(e._glowTexts))&&(e._glowTexts=[]),e._glowTexts.length<e._glowColors.length?(e._glowTexts.push(new PIXI.Text(t)),e.elementsHolder.addChildAt(e._glowTexts[i],0)):e._glowTexts[i].text=t,e._glowTexts[i].style.fontFamily=e.text.style.fontFamily,e._glowTexts[i].style.align=e.text.style.align,e._glowTexts[i].style.fill=e._glowColors[i],e._glowTexts[i].style.fontWeight=e.text.style.fontWeight,e._glowTexts[i].style.fontStyle=e.text.style.fontStyle,e._glowTexts[i].style.fontSize=e.text.style.fontSize,e._glowTexts[i].style.wordWrap=e.text.style.wordWrap,e._glowTexts[i].style.wordWrapWidth=e.text.style.wordWrapWidth,e._glowTexts[i].filters=[e._glowFilters[i]],e._glowTexts[i].x=e.text.x,e._glowTexts[i].y=e.text.y}))},e.prototype.checkForIE=function(){var t=!1;return/MSIE 10/i.test(navigator.userAgent)&&(t=!0),(/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(t=!0),/Edge\/\d./i.test(navigator.userAgent)&&(t=!0),t},e.prototype.checkFilters=function(t){var e,i=this,n=t;try{e=JSON.parse(n)}catch(t){}s.forOwn(e,(function(t,e){if("glowFilter"==t.name)return i._glowFilters=[new PIXI.filters.BlurFilter],i._glowColors=[parseInt(t.color)],!1}))},e.prototype.setIntervalDrawBounds=function(){var t=this;setInterval((function(){t.drawBounds(t.width,t.height)}),1e3)},e}(l.BaseComponent);e.ToolTipLabel=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(503),s=i(504),a=i(20),r=function(){function t(){this._view={},this._viewsWithoutMediator={}}return t.instance=function(){return t._utility||(t._utility=new t),t._utility},t.prototype.addView=function(t,e,i){this._view[t]=new o.ViewDetailsVO(t,e,i)},t.prototype.addDecorator=function(t,e,i,n){var o=this._view[t];o.decoratorClasses.push({id:e,classDefinition:i}),o.decoratorLayers.push(n)},t.prototype.hasDecorator=function(t,e){var i=!1,o=n.filter(this._view[t].decoratorClasses,{id:e});return!n.isNil(o)&&o.length>0&&(i=!0),i},t.prototype.replaceDecorator=function(t,e,i){var o=this._view[t];n.each(o.decoratorClasses,(function(t,n){t.id==e&&(o.decoratorClasses[n].classDefinition=i)}))},t.prototype.removeDecorator=function(t,e){var i=this._view[t],o=n.findIndex(i.decoratorClasses,(function(t){return t.id==e}));o>-1&&(i.decoratorClasses.splice(o,1),i.decoratorLayers.splice(o,1))},t.prototype.storeViewWithoutMediator=function(t,e){this._viewsWithoutMediator[t]=e},t.prototype.removeViewWithoutMediator=function(t){this._viewsWithoutMediator[t]&&(this._viewsWithoutMediator[t]=null)},t.prototype.getViewWithoutMediator=function(t){return this._viewsWithoutMediator[t]},t.prototype.replaceView=function(t,e,i){var n=this._view[t].classesArray;n&&n.length>=i&&(this._view[t].classesArray[i]=e)},t.prototype.deleteView=function(t,e){var i=this._view[t].classesArray;i&&i.length>=e&&(this._view[t][e]=null)},t.prototype.getView=function(t,e){var i=null;return n.has(this._view,t)&&(i=this._view[t][e]),i},t.prototype.getAllViews=function(){return this._view},t.prototype.destroy=function(){t._utility=null,this._view={}},t.prototype.isDOMElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},t}();e.ViewFactory=r;var l=function(){function t(){this._mediator={}}return t.instance=function(){return t._utility||(t._utility=new t),t._utility},t.prototype.addMediator=function(t,e,i){n.isArray(t)||(t=[t,t,t]),this._mediator[e]=new s.MediatorDetailsVO(e,t,i)},t.prototype.replaceMediator=function(t,e,i){var n=this._mediator[t].classesArray;n&&n.length>=i&&(this._mediator[t].classesArray[i]=e)},t.prototype.deleteMediator=function(t,e){var i=this._mediator[t];i&&i.length>=e&&(this._mediator[t][e]=void 0)},t.prototype.getMediator=function(t){var e=null,i=a.StringUtil.getName(t);return n.has(this._mediator,i)&&(e=this._mediator[i]),e},t.prototype.getAllMediators=function(){return this._mediator},t}();e.MediatorFactory=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(14),r=i(2),l=i(12),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.sendATCallBack=function(t,e){void 0===e&&(e=500),l.ATCallBack.onEvent(new a.ATOnEventVO(this.PAGE_EVENT_NAME,t,e))},e.prototype.sendCallHookListener=function(t,e){this.sendGlobalNotification(r.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:t,hookDetails:e})},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookAbstractPageCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.scrollable=!1}return t.prototype.scroll=function(){throw new Error("Error: scroll() method is not overridden")},t.prototype.close=function(){throw new Error("Error: close() method is not overridden")},t}();e.Page=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.SPIN_HOOK="AT_SPIN_HOOK",e.ADD_SPIN_CONFIGURATIONS_HOOK="AT_ADD_SPIN_CONFIGURATION_HOOK",e.ADD_SPECIAL_COMMAND_CONFIGURATIONS_HOOK="AT_ADD_SPECIAL_COMMAND_CONFIGURATIONS_HOOK",e.RESET_SPIN_CONFIGURATIONS_HOOK="AT_RESET_SPIN_CONFIGURATIONS_HOOK",e.GET_PROGRESSIVE_HOOK="AT_GET_PROGRESSIVE_HOOK",e.GET_COIN_VALUE_HOOK="AT_GET_COIN_VALUE_HOOK",e.SET_COIN_VALUE_HOOK="AT_SET_COIN_VALUE_HOOK",e.GET_LINES_HOOK="AT_GET_LINES_HOOK",e.SET_LINES_HOOK="AT_SET_LINES_HOOK",e.GET_BET_PER_LINE_HOOK="AT_GET_BET_PER_LINE_HOOK",e.SET_BET_PER_LINE_HOOK="AT_SET_BET_PER_LINE_HOOK",e.SKIP_INTRO_HOOK="AT_SKIP_INTRO_HOOK",e.AUTO_SPIN_HOOK="AT_AUTO_SPIN_HOOK",e.CLOSE_FEATURE_POP_UP="AT_CLOSE_FEATURE_POP_UP",e.GET_CURRENT_SYMBOLS="AT_GET_CURRENT_SYMBOLS",e.CLICK_BONUS_CHOICE="AT_CLICK_BONUS_CHOICE",e.SET_SPECIAL_DEBUG_COMMAND="AT_SET_SPECIAL_DEBUG_COMMAND",e}(i(12).ATNotifications);e.SlotATNotifications=s;var a=function(){function t(){}return t.SLOT_ATM_PROXY="slot_automated_test_proxy",t}();e.SlotATMProxiesNames=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),s=i(21),a=i(4),r=i(53),l=i(20),c=function(){function t(t){this.asset=t,this.assetDefaultHeight=this.asset.height}return t.prototype.setMessageFields=function(t){this.messageField=t,this.messageDefaultHeight=[2*this.messageField.componentLandscape.height,n.isNil(this.messageField.componentPortrait)?0:2*this.messageField.componentPortrait.height]},t.prototype.getButtons=function(){return this.buttons},t.prototype.setButtons=function(t){this.buttons=t},t.prototype.setBackground=function(t){this.background=t},t.prototype.setVisible=function(t){this.asset.visible=t},t.prototype.showDialogWindow=function(t){var e=this;try{this.resetMessageHeight(this.messageField),this.messageField.updateLabel(t.message,!0),l.StringUtil.containsAnchorTag(t.message)?(n.isNil(this.messageMST)?(this.messageMST=r.PixiUtils.duplicateTextAsMST(this.messageField),r.PixiUtils.addMSTInteractivityForAnchors(this.messageMST.currentComponent),a.Device.instance().desktop||n.isNil(this.messageMST.nonCurrentComponent)||r.PixiUtils.addMSTInteractivityForAnchors(this.messageMST.nonCurrentComponent)):this.messageMST.visible=!0,this.messageField.visible=!1,this.resetMessageHeight(this.messageMST),this.messageMST.updateLabel(t.message,!0)):(n.isNil(this.messageMST)||(this.messageMST.visible=!1),this.messageField.visible=!0),n.times(t.buttonLabels.length,(function(i){e.buttons[i].updateLabel(t.buttonLabels[i]),e.buttons[i].buttonDetails={target:e.buttons[i]},e.buttons[i].onClickHandler=t.buttonCallbacks[i]})),this.stepperValues(t),this.positionButtons(t.buttonLabels.length)}catch(t){}},t.prototype.stepperValues=function(t){},t.prototype.positionButtons=function(t){var e=this;if(this.previousAssetHeight=this.asset.height,a.Device.instance().minigame){var i=o.SceneManager.SCENE_WIDTH;n.times(this.buttons.length,(function(n){e.buttons[n].buttonLandscape.x=(i-Math.min(e.buttons[n].buttonLandscape.width,i-40))/2,e.buttons[n].buttonLandscape.visible=n<t}))}else if(a.Device.instance().mobile){var s=o.SceneManager.sceneTemplate,r=260,l=((u=o.SceneManager.SCENE_WIDTH)-(r*t+20*(t-1)))/2;!n.isNil(this.messageMST)&&this.messageMST.visible?this.changeMessageHeight(this.messageMST.componentLandscape,!0):this.changeMessageHeight(this.messageField.componentLandscape,!0),n.times(this.buttons.length,(function(i){e.buttons[i].buttonLandscape.x=l+(20+r)*i,e.buttons[i].buttonLandscape.visible=i<t}));var c=Math.min(350,s.MOBILE_PORTRAIT_RATIO.width/t-20);r=Math.min(c,(u-40)/t),l=(u-(r*t+20*(t-1)))/2,!n.isNil(this.messageMST)&&this.messageMST.visible?this.changeMessageHeight(this.messageMST.componentPortrait,!1):this.changeMessageHeight(this.messageField.componentPortrait,!1),n.times(this.buttons.length,(function(i){e.buttons[i].buttonPortrait.scale.set(r/350),e.buttons[i].buttonPortrait.x=l+(20+r)*i,e.buttons[i].buttonPortrait.visible=i<t}))}else{var u,h=((u=350)-(92*t+10*(t-1)))/2;!n.isNil(this.messageMST)&&this.messageMST.visible?this.changeMessageHeight(this.messageMST.currentComponent,!0):this.changeMessageHeight(this.messageField.currentComponent,!0),n.times(this.buttons.length,(function(i){e.buttons[i].x=h+102*i,e.buttons[i].visible=i<t}))}},t.prototype.resetMessageHeight=function(t){this.messageDefaultHeight[0]!==2*t.componentLandscape.height&&t.componentLandscape.changeDimensions(2*t.componentLandscape.width,this.messageDefaultHeight[0]),a.Device.instance().mobile&&this.messageDefaultHeight[1]!==2*t.componentPortrait.height&&t.componentPortrait.changeDimensions(2*t.componentPortrait.width,this.messageDefaultHeight[1])},t.prototype.changeMessageHeight=function(t,e){var i=this;void 0===e&&(e=!0);var o=t.textHeight<=t.height,r=a.Device.instance().mobile?12:6;if(o)t.changeDimensions(2*t.width,t.height);else{if(t.changeDimensions(2*t.width,t.textHeight),!n.isNil(this.steppers)&&this.steppers.visible){var l=e?this.steppers.componentLandscape:this.steppers.componentPortrait;l.y=t.y+t.height*s.TextField.FONT_SCALE*2+r,n.times(this.buttons.length,(function(t){e?i.buttons[t].buttonLandscape.y=l.y+l.height+r:i.buttons[t].buttonPortrait.y=l.y+l.height+r}))}else n.times(this.buttons.length,(function(n){e?i.buttons[n].buttonLandscape.y=t.y+t.height*s.TextField.FONT_SCALE*2+r:i.buttons[n].buttonPortrait.y=t.y+t.height*s.TextField.FONT_SCALE*2+r}));n.isNil(this.background.currentComponent)||(this.background.height=this.assetDefaultHeight,this.background.height=this.asset.height+17,this.asset.y-=(this.asset.height-this.previousAssetHeight)/2)}},t.prototype.deviceScreenResized=function(){try{if(a.Device.instance().mobile){var t=this.asset.componentPortrait;if(t.y=o.SceneManager.getVMargin-t.height*o.SceneManager.ratio/2,a.Device.instance().iOS)this.asset.componentLandscape.y=o.SceneManager.getVMargin}}catch(t){}},t}();e.AbstractDialogController=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.isRunning=!1,this.fadeOut=.5,this.fadeIn=.5,this.startNotifications=[],this.startNotificationScopes=[],this.stopNotifications=[],this.stopNotificationScopes=[],this.soundName=t};e.AmbianceVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(6),r=i(15),l=i(42),c=i(34),u=i(77),h=i(69),p=i(64),d=PIXI.Point,_=function(t){function e(e){var i=t.call(this,e)||this;return i._hideSymbols=!0,i._symbolImageAnimationFinished={},i._announceAnimationsPool={},i._wheelDisplayObject={},i._initialScales={},i._transitionInEaseFunction="Linear.easeInOut",i._transitionOutEaseFunction="Linear.easeInOut",i._transitionInDuration=.1,i._transitionOutDuration=.1,i._transitionInScale=1.2,i._transitionOutScale=1,i._transitionInAlpha=1,i._transitionOutAlpha=1,i._transitionInDelay=0,i._transitionOutDelay=.2,i._symbolScaleCorrection=1,i._skipRequested=!1,i._keepAnnounceWhileNearMiss=!1,i._spinHasNearMiss=!1,i}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.decoratorSettings)||(s.has(this.decoratorSettings,"decoratorSymbols")?this._decoratorSymbols=this.decoratorSettings.decoratorSymbols.split(","):this._decoratorSymbols=[]),this._announceAnimationsPool={}},e.prototype.onStop=function(e){t.prototype.onStop.call(this,e),this._skipRequested=!0,this.decoratorAnimationFinished||(s.isNil(this._transitionInTween)||(this._transitionInTween.kill(),this._transitionInTween=void 0),s.isNil(this._transitionOutTween)||(this._transitionOutTween.kill(),this._transitionOutTween=void 0),this._keepAnnounceWhileNearMiss&&this._spinHasNearMiss||this.emptyWheel(this.wheel_id),this.decoratorAnimationFinished=!0,this.broadcastAction(h.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE)),this.decoratorAnimationFinished=!0},e.prototype.onPlayAnnounceSymbols=function(t){var e=this,i=t.wheelId,n=t.announceSymbols;i!=this.wheel_id||this._skipRequested||s.each(n,(function(t){if(-1!=e._decoratorSymbols.map(Number).indexOf(t)){e.decoratorAnimationFinished=!1;var n=e.getAnnounceSymbolPosition(i,t);s.each(n,(function(n){e.animateAnnounceSymbols(t,n,i)}))}}))},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.PLAY_ANNOUNCE_SYMBOLS_ANIMATION,this.onPlayAnnounceSymbols.bind(this)),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.NEAR_MISS,this.onNearMissDetected.bind(this)),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.ALL_WHEELS_COMPLETED,this.onAllWheelsCompleted.bind(this)),this.addInjectActionHandler(h.WheelDecoratorBroadcastActionNames.KEEP_ANNOUNCES_WHILE_NEAR_MISS,this.onKeepAnnouncesWhileNearMiss.bind(this))},e.prototype.onKeepAnnouncesWhileNearMiss=function(t){this._keepAnnounceWhileNearMiss=!0},e.prototype.onNearMissDetected=function(t){this._spinHasNearMiss=!0},e.prototype.onSpin=function(e){t.prototype.onSpin.call(this,e),this._skipRequested=!1},e.prototype.onAllWheelsCompleted=function(t){this._keepAnnounceWhileNearMiss&&this._spinHasNearMiss&&(this.emptyWheel(this.wheel_id),this._spinHasNearMiss=!1)},e.prototype.onResetAnimation=function(i){t.prototype.onResetAnimation.call(this,i),this.decoratorAnimationFinished=!0,e.playedAnnounces=0},e.prototype.onUpdateDisplaySymbols=function(e){t.prototype.onUpdateDisplaySymbols.call(this,e),this._displaySymbols=e},e.prototype.getAnnounceSymbolPosition=function(t,e){var i=this,n=[];return s.each(this._displaySymbols,(function(o,s){if(e==o&&s%i.slotGameConfig.wheelsCnt==t){var r=new d;r.x=0;var l=Math.floor(s/i.slotGameConfig.wheelsCnt);r.y=l*(i.wheelAnimationConfig.symbolHeight+i.wheelAnimationConfig.symbolsSpacing),n.push(r),a.Log.info("getAnnounceSymbolPosition() - Wheel Id: "+t+" Position: "+r.x+", "+r.y)}})),n},e.prototype.animateAnnounceSymbols=function(t,e,i){if(this.doSymbolTransitionIn(t,e,i),this._hideSymbols){var n=this.getAnnounceSymbolsToHide(t,i);this.broadcastAction(h.WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS,{symbolsToHide:n,wheelId:i})}},e.prototype.getAnnounceSymbolsToHide=function(t,e){var i=this;void 0===t&&(t=-1),void 0===e&&(e=-1);var n=[];return s.each(s.range(this.slotGameConfig.rowsCnt),(function(o){s.each(s.range(i.slotGameConfig.wheelsCnt),(function(s){n.push(0);var a=i.slotGameConfig.wheelsCnt*o+s;-1==t?s==e&&(n[a]=0):i._displaySymbols[a]==t&&s==e&&(n[a]=1)}))})),n},e.prototype.doSymbolTransitionIn=function(t,i,n){if(!this._skipRequested){var o=this.getAnnounceSymbolFromPool(t);o.name=l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t,o.scale.x=this._initialScales[o.name],o.scale.y=this._initialScales[o.name],o.alpha=1,this._symbolImageAnimationFinished[o.name]=!1,o.anchor.x=.5,o.anchor.y=.5,o.position=i,this.display.addChild(o),s.isNil(this._wheelDisplayObject[o.name])&&(this._wheelDisplayObject[o.name]=[]),this._wheelDisplayObject[o.name].push(o),this._transitionInTween=TweenLite.to(o,this._transitionInDuration,{delay:this._transitionInDelay,pixi:{scaleX:this._transitionInScale*this._initialScales[o.name],scaleY:this._transitionInScale*this._initialScales[o.name]},alpha:this._transitionInAlpha,ease:this.getEaseFunction(this._transitionInEaseFunction),onComplete:this.doTransitionOut.bind(this),onCompleteParams:[o,n,i]}),e.playedAnnounces+=1,this.broadcastAction(h.WheelDecoratorBroadcastActionNames.PLAY_ANNOUNCE_SOUND,{wheelID:n,symbolID:t,occurrence:e.playedAnnounces})}},e.prototype.doTransitionOut=function(t,e){0!=this._transitionOutDuration?this._transitionOutTween=TweenLite.to(t,this._transitionOutDuration,{delay:this._transitionOutDelay,pixi:{scaleX:this._transitionOutScale*this._initialScales[t.name],scaleY:this._transitionOutScale*this._initialScales[t.name]},alpha:this._transitionOutAlpha,onComplete:this.symbolAnimationComplete.bind(this),ease:this.getEaseFunction(this._transitionOutEaseFunction),onCompleteParams:[t,e]}):this.symbolAnimationComplete(t,e)},e.prototype.symbolAnimationComplete=function(t,e){this._symbolImageAnimationFinished[t.name]=!0,this.completeAnnounceForWheel(e,t.name)},e.prototype.completeAnnounceForWheel=function(t,e){!this.decoratorAnimationFinished&&this._symbolImageAnimationFinished[e]&&(this._keepAnnounceWhileNearMiss&&this._spinHasNearMiss||this.emptyWheel(this.wheel_id),this.checkIfAnnounceAnimationComplete(),this._transitionInTween=void 0,this._transitionOutTween=void 0)},e.prototype.checkIfAnnounceAnimationComplete=function(){var t=!0;s.each(this._symbolImageAnimationFinished,(function(e){e||(t=!1)})),t&&(this.decoratorAnimationFinished=!0,this.broadcastAction(h.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE))},e.prototype.emptyWheel=function(t){var e=this;if(this._hideSymbols){var i=this.getAnnounceSymbolsToHide(-1,t);this.broadcastAction(h.WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS,{symbolsToHide:i,wheelId:t})}s.each(this._wheelDisplayObject,(function(t){s.each(t,(function(t){var i=e.display.removeChild(t);e.recycleDisplayObject(i)}))})),this._wheelDisplayObject={}},e.prototype.getAnnounceSymbolFromPool=function(t){if(this._announceAnimationsPool[l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t]&&this._announceAnimationsPool[l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t].length>0)return this._announceAnimationsPool[l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t].pop();var e=r.TextureUtil.instance().createImageFromTexture(l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t);return this._initialScales[l.VisualAssetsMap.instance().getVisualAsset(c.VisualAssetsNames.SYMBOL_NAME)+t]=e.scale.x*this._symbolScaleCorrection,e},e.prototype.recycleDisplayObject=function(t){this.addDisplayObjectToPool(t,t.name)},e.prototype.addDisplayObjectToPool=function(t,e){this._announceAnimationsPool[e]||(this._announceAnimationsPool[e]=[]),this._announceAnimationsPool[e].push(t)},e.playedAnnounces=0,e}(u.AbstractWheelDecorator);e.AnnounceSpecialSymbolWheelDecorator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(38),h=i(63),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.handleUserInteraction()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this.getWinIncrementStatus(this.isIncrementing.bind(this))},e.prototype.handleUserInteraction=function(){this.sendGlobalNotification(l.Notifications.Global.CHANGE_COIN_VALUES_FROM_SERVER),this._incrementStatus==h.IncrementStatusNames.INCREMENTING?this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.END_GAME_ENABLE_UI_WIN):this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.END_GAME_ENABLE_UI_NO_WIN),this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.getWinIncrementStatus=function(t){var e=u.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.sendGlobalNotification(l.Notifications.Increment.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this._incrementStatus=t},e}(c.Controller);e.EndGameEnableUiCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(19),r=i(1),l=i(272),c=i(2),u=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.SYMBOLS_BACKGROUND},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decorativeBackgroundView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.Global.CHANGE_BACKGROUND,this.changeBackground.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(l.BackgroundModuleActions.BACKGROUND_COMPLETE_ANIMATION,this.onBackgroundCompleteAnimation,this)},e.prototype.changeBackground=function(t){e.completeBackgroundCounter++,t.body.hasOwnProperty("callBackFunction")&&(this._callBackCompleteAnimation=t.body.callBackFunction);var i=!1;s.has(t.body,"immediate")&&(i=t.body.immediate),this.backgroundView.switchFrame(t.body.frame,i)},e.prototype.onBackgroundCompleteAnimation=function(){e.completeBackgroundCounter==e.BACKGROUNDS_TO_COMPLETE&&(this.sendGlobalNotification(c.Notifications.Global.CHANGE_BACKGROUND_COMPLETE,{layer:this.layer}),this._callBackCompleteAnimation&&(this._callBackCompleteAnimation.call(null),this._callBackCompleteAnimation=null),e.completeBackgroundCounter=0)},e.completeBackgroundCounter=0,e.BACKGROUNDS_TO_COMPLETE=3,e}(a.AbstractMediator);e.AbstractBackgroundMediator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(107),r=i(53),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.introClosed=!1,e}return o(e,t),e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this),this.bgs=[],s.each(this.display.children,(function(t){var i=r.PixiUtils.findChildByName(t,"bg");i&&e.bgs.push(i)})),this.switchFrame(0,!0),this.deviceScreenResized()},e.prototype.onIntroClosed=function(){this.introClosed=!0,this.deviceScreenResized()},e}(a.AbstractBackgroundView);e.BackgroundViewPixi=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(54),l=i(47),c=i(18),u=i(21),h=i(136),p=i(109),d=i(15),_=i(30),f=i(57),y=i(55),m=i(4),N=PIXI.Sprite,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggledOff=!0,e}return o(e,t),e.prototype.activeButton=function(){},e.prototype.disableButton=function(){},e.prototype.enableButton=function(){},e.prototype.toggleCheatToolButton=function(){this.UICheatToolButton.alpha=Math.abs(this.UICheatToolButton.alpha-1)},e.prototype.moveSliderOnToggleSound=function(t){},e.prototype.onUpdateUserInterfaceButtons=function(){},e.prototype.processSoundCategories=function(){},e.prototype.onStartShowLayer=function(t,e){this.onCompleteShowLayer(t,e),this.menuPanel.visible=!0,this.toggledOff=!1},e.prototype.onStartHideLayer=function(t,e){this.onCompleteHideLayer(t,e),this.menuPanel.visible=!1,this.toggledOff=!0},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.positionElements()},e.prototype.hideDisplay=function(){},e.prototype.postRegister=function(){this.hasAutoTranslate=!0,t.prototype.postRegister.call(this),this.init(),this.registerToHook("toggleSounds",this.toggleSoundButton.bind(this))},e.prototype.toggleSoundButton=function(t){},e.prototype.init=function(){this.menuButton=new l.ControllerButton(y.MenuStaticNames.TOGGLE_MENU,this.findMultipleChild(y.MenuStaticNames.TOGGLE_MENU),this.clickButton.bind(this)),this.menuPanel=new c.ControllerContainer("menuContainer",this.findMultipleChild("menuContainer")),this.menuPanel.visible=!1,this.originalPanelRatio={landscape:this.menuPanel.componentLandscape.width/this.menuPanel.componentLandscape.height},s.isNil(this.menuPanel.componentPortrait)||(this.originalPanelRatio.portrait=this.menuPanel.componentPortrait.width/this.menuPanel.componentPortrait.height);var t=this.settings.getValue("ALLOW_CHEAT_TOOL");this.UICheatToolButton=new l.ControllerButton("UICheatToolButton",this.findMultipleChild("UICheatToolButton"),this.clickCheatToolButton.bind(this)),this.UICheatToolButton.visible=1==t,this.positionElements()},e.prototype.clickCheatToolButton=function(){this.dispatchSignal("UICheatToolButton")},e.prototype.setToggle=function(t){switch(t.buttonName){case y.MenuStaticNames.SOUND_NAME:if(m.Device.instance().minigame)t.toggleState(1),this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND,!1);else{var e=this.settings.getCookie(y.MenuStaticNames.MENU_COOKIE_SOUND_CATEGORY_PREFIX+y.MenuStaticNames.SOUND_SWITCH);e?"true"==e?(t.toggleState(0),this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND,!0)):(t.toggleState(1),this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND,!1)):this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND,!t.state)}break;case y.MenuStaticNames.TURBO_NAME:var i=this.settings.getValue("TURBO_MODE");t.toggleState(i.activeByDefault?1:0),this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_TURBO,i.activeByDefault);break;case y.MenuStaticNames.FULLSCREEN_NAME:this.fullScreenToggle=t}},e.prototype.getButton=function(t,e,i,n,o,s){var a=r.Button.createButton(t,["genericbuttonup","genericbuttonover","genericbuttondown","genericbuttondisable"],o,s);a.x=i,a.y=n,a.buttonName=t,a.onClickHandler=this.clickButton.bind(this),e.setAttribute("label",this.translations.getValue(t));var l=new u.TextField(t+"Label");return l.layout=e,a.addChild(l),a},e.prototype.getButtonWithStates=function(t,e,i,n,o,s){var a=r.Button.createButton(t,e,o,s);return a.x=i,a.y=n,a.buttonName=t,a.onClickHandler=this.clickButton.bind(this),a},e.prototype.getToggleButton=function(t,e,i,n,o){var a=new h.ToggleButton(t);return s.each({onSkin:"on",offSkin:"off"},(function(t,e){a[e]=new N(d.TextureUtil.instance().getTextureFromCache("togglebutton"+t)),a[e].width=n,a[e].height=o})),a.x=e,a.y=i,a.toggleState(0),a.buttonName=t,a.onClickHandler=this.clickButton.bind(this),a},e.prototype.getToggleWithStatesButton=function(t,e,i,n,o,a,r){void 0===r&&(r=!0);var l=new h.ToggleButton(t,r);return s.each(e,(function(t,e){l[e]=new N(d.TextureUtil.instance().getTextureFromCache(t)),l[e].width=o,l[e].height=a})),l.x=i,l.y=n,l.toggleState(0),l.buttonName=t,l.onClickHandler=this.clickButton.bind(this),l},e.prototype.clickButton=function(t){switch(this.playSound(f.SoundNames.GENERIC_BUTTON_CLICK),t){case y.MenuStaticNames.TOGGLE_MENU:this.toggledOff?this.dispatchSignal(y.MenuActionNames.MENU_LAYER_START_SHOWING):this.dispatchSignal(y.MenuActionNames.MENU_LAYER_START_HIDING);break;case y.MenuStaticNames.FULLSCREEN_NAME:this.dispatchSignal(y.MenuActionNames.MENU_LAYER_START_HIDING),p.HardwareEvents.toggleFullscreen();break;case y.MenuStaticNames.BUY_NAME:case y.MenuStaticNames.HISTORY_NAME:_.WindowUtil.onHistoryButton();break;case y.MenuStaticNames.SOUND_NAME:this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.buttons[t].state);break;case"menuLeftHandedToggleButton":this.dispatchSignal(y.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.soundToggle.state);break;case y.MenuStaticNames.RULES_NAME:_.WindowUtil.onRulesButton();break;case y.MenuStaticNames.HOME_NAME:_.WindowUtil.onLobbyHomeButton()}},e.prototype.positionElements=function(){},e}(a.PixiView);e.AbstractMenuPixiView=S},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(1),l=i(72),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fullPixiSpaceSeparator=" - ",e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.initializeContext=function(t){var e=this,i=this.settings.getSpecificKey("GameConfig","symbolsIds");if(this.symbolsBasePayouts=[],t.hasOwnProperty("totalBetMultipliedSymbols")&&(this.totalBetMultipliedSymbols=t.totalBetMultipliedSymbols.split(",")),t.hasOwnProperty("NoMultiplicationSymbol")&&(this.noMultiplicationSymbols=t.NoMultiplicationSymbol.split(",")),t.hasOwnProperty("fullPixiSpaceSeparator")&&(this.fullPixiSpaceSeparator=t.fullPixiSpaceSeparator),s.each(t,(function(t,n){var o=s.trim(n,"s");s.includes(i,parseInt(o))&&(e.symbolsBasePayouts[parseInt(o)-1]=t.split(","))})),this.translationPayoutsID=[],t.hasOwnProperty("extraPayoutsWithTranslations")){var n=t.extraPayoutsWithTranslations.split(",");s.each(n,(function(i){var n=parseInt(s.trim(i,"s"))-1;e.translationPayoutsID.push(n),e.symbolsBasePayouts[n]=t[i].split(","),s.each(e.symbolsBasePayouts[n],(function(t,i){var o=t.indexOf("{"),s=t.indexOf("}");if(-1!=o&&-1!=s){var a=t.substring(o+1,s);e.symbolsBasePayouts[n][i]=t.replace("{"+a+"}",e.translations.getValue(a))}}))}))}},e.prototype.updatePayouts=function(){var t=this;this.updatedPayouts=[],s.each(this.symbolsBasePayouts,(function(e,i){t.updatedPayouts[i]=[],s.each(e,(function(e,n){var o=e,a="";if(o.indexOf(":")>-1){var r=o.split(":");a=r[0]+" "+t.fullPixiSpaceSeparator+" ",o=r[1]}isNaN(parseInt(o))||-1!=s.findIndex(t.translationPayoutsID,(function(t){return t==i}))||t.noMultiplicationSymbols&&t.noMultiplicationSymbols.indexOf((Number(i)+1).toString())>=0?t.updatedPayouts[i][n]=a+e:t.totalBetMultipliedSymbols&&t.totalBetMultipliedSymbols.indexOf((Number(i)+1).toString())>=0?t.updatedPayouts[i][n]=a+t.moneyProxy.getStringValueFrom(parseFloat(o)*t.moneyProxy.getTotalBetInCoins()):t.slotGameConfig.payoutsFixed?t.updatedPayouts[i][n]=a+t.moneyProxy.getStringValueFrom(parseInt(o)):t.updatedPayouts[i][n]=a+t.moneyProxy.getStringValueFrom(parseFloat(o)*t.moneyProxy.getCurrentCoin())}))})),this.sendNotification(l.PaytableNotifications.UPDATE_PAY_TABLE_ACTION,this.updatedPayouts)},e.prototype.getPayoutGroup=function(t){return this.updatePayouts(),this.updatedPayouts[t]},e}(a.Proxy);e.PayoutsProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(18),l=i(214),c=i(21),u=i(6),h=i(27),p=i(47),d=i(72),_=i(57),f=i(30),y=i(4),m=i(11),N=i(54),S=i(14),g=PIXI.Point,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atmScrollDelay=500,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.paytableGroupLayout=[],this.componentsToMove=[],this.components={},this.paytableTranslate(),this.paytableViews=new r.ControllerContainer("paytableViews",this.findMultipleChild("ptMainContainer")),this.getComponentsToMove(),this.setDesclaimer(),this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS")&&1==this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS").hasValueInPaytable&&this.initProgressive(),this.getRulesButton(),(s.isNil(this.settings.getValue("rulesUrl"))||""==this.settings.getValue("rulesUrl"))&&(this.rulesButton.visible=!1),this.registerToHook("openPaytable",this.onOpenPaytable.bind(this)),this.registerToHook("scrollPaytable",this.onScrollPaytable.bind(this)),this.registerToHook("closePaytable",this.hidePaytable.bind(this))},e.prototype.getRulesButton=function(){this.rulesButton=new p.ControllerButton(d.PaytableButtonsNames.RULES,this.findMultipleChild(d.PaytableButtonsNames.RULES)),s.isNil(this.rulesButton.currentComponent)||(this.rulesButton.buttonName=d.PaytableButtonsNames.RULES,this.rulesButton.buttonDetails={buttonName:d.PaytableButtonsNames.RULES,target:this.rulesButton},this.rulesButton.onClickHandler=this.onRulesButtonClick.bind(this))},e.prototype.onOpenPaytable=function(){var t=this.paytableViews.currentComponent;this.scrollHeight=-1*(t.maskScroll.height-t.minScroll),t.manualScroll(t.minScroll)},e.prototype.onScrollPaytable=function(t){var e=this.paytableViews.currentComponent;if(e.contents.y>e.maxScroll){e.manualScroll(this.scrollHeight);var i=e.contents.y>e.maxScroll,n=new S.ATPageScroll(t.hookDetails.id,i),o=new S.ATOnEventVO(S.ATEventNames.PAGE_SCROLL,n,this.atmScrollDelay);this.dispatchSignal(this.ON_EVENT,o),t.hookDetails.hookResult=i}},e.prototype.hidePaytable=function(t){var e=this;setTimeout((function(){e.dispatchSignal(d.PaytableNotifications.HIDE_PAY_TABLE_CLOSED)}),this.atmScrollDelay)},e.prototype.onRulesButtonClick=function(t,e){s.isNil(this.paytableViews.componentPortrait)||(this.paytableViews.componentPortrait.dragged=!1),s.isNil(this.paytableViews.componentLandscape)||(this.paytableViews.componentLandscape.dragged=!1),e.stopPropagation(),this.playSound(_.SoundNames.GENERIC_BUTTON_CLICK),u.Log.infoch("PaytableView -> onButtonClick()","rules button clicked. Redirect to external resource"),f.WindowUtil.onRulesButton()},e.prototype.setDesclaimer=function(){this.textDisclaimer=new c.TextField(d.PaytableDisclaimerParams.DISCLAIMER_NAME);var t=this.paytableViews.componentLandscape.width,e=d.PaytableDisclaimerParams.DESKTOP.TEXT_HEIGHT,i=d.PaytableDisclaimerParams.DESKTOP.STYLES;if(y.Device.instance().mobile?(e=d.PaytableDisclaimerParams.MOBILE_LANDSCAPE.TEXT_HEIGHT,i=d.PaytableDisclaimerParams.MOBILE_LANDSCAPE.STYLES):y.Device.instance().minigame&&(e=d.PaytableDisclaimerParams.MINIGAME.TEXT_HEIGHT,i=d.PaytableDisclaimerParams.MINIGAME.STYLES),this.textDisclaimer.setUp(t-t/4,e,i,"",t/8,0),this.textDisclaimer.updateLabel(this.translations.getValue(d.PaytableDisclaimerParams.DISCLAIMER_TRANSLATION)),this.paytableViews.componentLandscape.addContent(this.textDisclaimer),y.Device.instance().mobile){this.textDisclaimerPortrait=new c.TextField(d.PaytableDisclaimerParams.DISCLAIMER_NAME);var n=this.paytableViews.componentPortrait.contents.width;this.textDisclaimerPortrait.setUp(n-n/4,1.5*e,d.PaytableDisclaimerParams.MOBILE_PORTRAIT.STYLES,"",n/8,0),this.textDisclaimerPortrait.updateLabel(this.translations.getValue(d.PaytableDisclaimerParams.DISCLAIMER_TRANSLATION)),this.paytableViews.componentPortrait.addContent(this.textDisclaimerPortrait)}requestAnimationFrame(function(){this.positionElements(),this.textDisclaimer.y=this.paytableViews.componentLandscape.contents.height+e,y.Device.instance().mobile&&(this.textDisclaimerPortrait.y=this.paytableViews.componentPortrait.contents.height+e),this.paytableViews.recalculateScrolling()}.bind(this))},e.prototype.setGameVersion=function(){var t=this.paytableViews.componentLandscape.width,e=d.PaytableGameVersionParams.DESKTOP.TEXT_HEIGHT,i=d.PaytableGameVersionParams.DESKTOP.STYLES;y.Device.instance().mobile?(e=d.PaytableGameVersionParams.MOBILE.TEXT_HEIGHT,i=d.PaytableGameVersionParams.MOBILE.STYLES):y.Device.instance().minigame&&(e=d.PaytableGameVersionParams.MINIGAME.TEXT_HEIGHT,i=d.PaytableGameVersionParams.MINIGAME.STYLES);var n,o=this.getGameVersionNumber(),s=new c.TextField(d.PaytableGameVersionParams.GAME_VERSION_NAME);if(this.gameVersion=s,s.setUp(t-t/4,e,i,"",t/8,0),s.updateLabel(o,!1),this.paytableViews.componentLandscape.addContent(s),y.Device.instance().mobile){n=new c.TextField(d.PaytableGameVersionParams.GAME_VERSION_NAME),this.gameVersionPortrait=n;var a=this.paytableViews.componentPortrait.contents.width;n.setUp(a-a/4,1.5*e,i,"",a/8,0),n.updateLabel(o,!1),this.paytableViews.componentPortrait.addContent(n)}requestAnimationFrame(function(){this.positionElements(),y.Device.instance().minigame?s.y=this.textDisclaimer.y+2*this.textDisclaimer.height:s.y=this.textDisclaimer.y+4*this.textDisclaimer.height,y.Device.instance().mobile&&(n.y=this.textDisclaimerPortrait.y+4*this.textDisclaimerPortrait.height),this.paytableViews.recalculateScrolling()}.bind(this))},e.prototype.getGameVersionNumber=function(){var t="Game Version:"+this.settings.getValue("gameVersion");return s.isNil(this.settings.getValue("versionServer"))||(t=t+"\nGame Server:"+this.settings.getValue("versionServer")),s.isNil(this.settings.getValue("versionGMAPI"))||(t=t+"\nGMAPI:"+this.settings.getValue("versionGMAPI")),s.isNil(this.settings.getValue("versionMinBet"))||(t=t+"\n"+this.settings.getValue("versionMinBet")),s.isNil(this.settings.getValue("versionMaxBet"))||(t=t+"\n"+this.settings.getValue("versionMaxBet")),t},e.prototype.onClickButton=function(t){this.playSound(m.SlotSoundNames.GENERIC_BUTTON_CLICK)},e.prototype.paytableTranslate=function(){var t=this;s.each(this.display.children,(function(e){t.paytableTraverseChild(e,0)}))},e.prototype.paytableTraverseChild=function(t,e){var i=this,n="";t instanceof c.TextField&&null!=(n=this.translations.getValue(t.keyTranslate))?t.updateLabel(n):t instanceof l.Payout?this.paytableGroupLayout.push(t):t.hasOwnProperty("children")&&t.children.length>0&&s.each(t.children,(function(t){i.paytableTraverseChild(t,e+1)})),this.components[t.name]=t,t.hasOwnProperty("positionDynamic")&&(s.isNil(this.componentsToMove[e])&&(this.componentsToMove[e]=[]),this.componentsToMove[e].push({name:t.name,element:t,reference:{},isReferenceOf:[]})),t instanceof N.Button&&(t.onClickHandler=this.onClickButton.bind(this))},e.prototype.initProgressive=function(){var t=this,e=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS");if(e.hasOwnProperty("ids")){var i=e.ids.split(",");this.progressiveDisplays=[],s.each(i,(function(e){t.progressiveDisplays[e]=new h.ControllerTextField("progressiveTextValue"+e,t.findMultipleChild("progressiveTextValue"+e))}))}},e.prototype.updateProgressive=function(t,e){this.progressiveDisplays[t]&&this.progressiveDisplays[t].updateLabel(e)},e.prototype.onPaytableUpdate=function(t){s.each(this.paytableGroupLayout,(function(e){var i=e.indexFGM;s.each(e.payoutsValues,(function(n,o){if(s.isEmpty(e.payoutsPrefix)||e.payoutsPrefix[o].updateLabel(e.payoutsPrefix[o].text.text),t[i]){var a=t[i][t[i].length-1-o];n.updateLabel(a)}else n.updateLabel("X",!1)}))}))},e.prototype.getComponentsToMove=function(){var t=this;s.each(this.componentsToMove,(function(e,i){s.each(e,(function(t){s.each(t.element.positionDynamic,(function(i){var n=s.findIndex(e,(function(t){return t.name==i.idReferenceObject}));-1!=n&&e[n].isReferenceOf.push(t.name)}))})),t.componentsToMove[i]=s.sortBy(e,(function(t){return-t.isReferenceOf.length}))})),s.each(this.componentsToMove,(function(t){for(var e=!1,i=function(){e=!0;var i=!1;s.each(t,(function(n,o){s.each(n.isReferenceOf,(function(e){var n=s.findIndex(t,(function(t){return t.name==e}));n<o&&(t.splice(n,0,t[o]),t.splice(o+1,1),i=!0)})),1==i&&(e=!1)}))};0==e;)i()}))},e.prototype.positionElements=function(){var t=this;s.eachRight(this.componentsToMove,(function(e){s.each(e,(function(e){t.doAnchor(e.element)}))})),this.paytableViews.recalculateScrolling()},e.prototype.doAnchor=function(t){var e=this;t.positionDynamic&&s.each(t.positionDynamic,(function(i){var n=e.components[i.idReferenceObject];if(n){var o=e.getComponent(n,"height"),s=n.y;if(n instanceof c.TextField){o=n.text.height/c.TextField.FONT_MULTIPLIER;var a=n.text.anchor.y;0!=a&&(s=n.y+n.text.y*c.TextField.FONT_SCALE-o*a)}var r=new g(t.x,t.y);switch(i.positionTo){case"top":t.y=s-e.getComponent(t,"height")+i.marginBetween;break;case"sameTop":t.y=s+i.marginBetween;break;case"bottom":t.y=s+o+i.marginBetween;break;case"sameBottom":t.y=n.y+o-e.getComponent(t,"height")+i.marginBetween;break;case"left":t.x=n.x-e.getComponent(t,"width")+i.marginBetween;break;case"sameLeft":t.x=n.x+i.marginBetween;break;case"right":t.x=n.x+e.getComponent(n,"width")+i.marginBetween;break;case"sameRight":t.x=n.x+e.getComponent(n,"width")-e.getComponent(t,"width")+i.marginBetween;break;case"middleV":t.x=n.x+(e.getComponent(n,"width")-e.getComponent(t,"width"))/2+i.marginBetween;break;case"middleH":t.y=s+(o-e.getComponent(t,"height"))/2+i.marginBetween}if((r.x!=t.x||r.y!=t.y)&&r.y!=t.y&&t instanceof c.TextField){var l=t.text.anchor.y;0!=l&&(t.y=t.y-t.text.y*c.TextField.FONT_SCALE+t.text.height/c.TextField.FONT_MULTIPLIER*l)}}else u.Log.warning("Object "+i.idReferenceObject+" for reference anchor "+t.name+" not found")}))},e.prototype.getComponent=function(t,e){var i=0;return t instanceof c.TextField?("width"==e&&(i=2*t.width/c.TextField.FONT_MULTIPLIER),"height"==e&&(i=2*t.height/c.TextField.FONT_MULTIPLIER)):("width"==e&&(i=t.width),"height"==e&&(i=t.height)),i},e}(a.PixiView);e.AbstractPaytableViewPixi=A},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(47),l=i(18),c=i(40),u=i(106),h=i(27),p=i(93),d=i(17),_=i(34),f=i(4),y=i(8),m=i(123),N=i(95),S=i(21),g=i(54),A=i(6),E=i(137),I=i(80),O=i(97),T=i(90),P=i(15),b=i(45),C=i(76),v=i(118),M=PIXI.Container,L=PIXI.Graphics,R=PIXI.Sprite,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ALL_SPINS_HISTORY_STRING="AS_",e.MODE_PICKER=0,e.MODE_STRIP=1,e.MODE_SCENARIO=2,e.MODE_HISTORY=3,e.MODE_SPECIAL_CMD=4,e.MODE_LANGUAGES=5,e.MODE_BUILD_SPE_CMD=6,e.PICKER_ALPHA_INACTIVE=.3,e.shouldResetPicker=!1,e.currentPickerID=-1,e.HEIGHT_BUTTON_REMOVE=20,e.HEIGHT_BUTTON_SCENARIO_ADD=20,e.WIDTH_SCENARIO_PICKER=100,e.HEIGHT_SCENARIO_PICKER=65,e.BETWEEN_SCENARIO_PICKER=25,e.MODE_NAME=["ctPickerMode","ctStripMode","ctScenarios"],e.MODE_LIST_NAME=["ctPickerModeList","ctStripModeList","ctScenariosList","ctHistoryList","ctSpeCmdList","ctLanguageList","All Possible commands"],e.clickDownList=!1,e.STRIPS_INDEX_MAP=[],e.isScenarioEditing=!1,e.INDEX_SPE_CLEAR=0,e.INDEX_SPE_CUSTOM=1,e.INDEX_SPE_BUILD=2,e.TOOLS_SPE_COMMAND=["[CLEAR]","[CUSTOM]","[BUILD]"],e.symbolsTextures=[],e.PARAM_SYMBOL_ID="symbolID",e.PARAM_REEL_ID="reelID",e.PARAM_TEXTURE_ID="textureID",e}return o(e,t),e.prototype.onStartShowLayer=function(t,e){this.display.visible=!0,this.STRIPS_INDEX_MAP.length<=0&&(this.modeToggles[this.MODE_STRIP].visible=!1)},e.prototype.onStartHideLayer=function(t,e){this.display.visible=!1},e.prototype.onShowCheatToolButton=function(){},e.prototype.onHideCheatToolButton=function(){},e.prototype.toggleExtraTool=function(){this.extraToolsContainer.visible=!this.extraToolsContainer.visible},e.prototype.hideListDisplay=function(){this.listDisplay.visible=!1,this.listDisplay.interactive=!1,this.extraToolsContainer.visible=!1},e.prototype.getCheatToolsWheelsSize=function(){this.slotGameConfig.ctRowsCnt||(this.slotGameConfig.ctRowsCnt=this.slotGameConfig.rowsCnt),this.slotGameConfig.ctWheelsCnt||(this.slotGameConfig.ctWheelsCnt=this.slotGameConfig.wheelsCnt),this.slotGameConfig.ctColumnsCnt||(this.slotGameConfig.ctColumnsCnt=this.slotGameConfig.columnsCnt),this.slotGameConfig.ctSymbolsIds||(this.slotGameConfig.ctSymbolsIds=this.slotGameConfig.symbolsIds)},e.prototype.initVars=function(){var t=this;this.arrListDisplayContent=[],this.toHideWhenEdit=[],this.slotGameConfig=this.settings.getValue("GameConfig"),this.getCheatToolsWheelsSize();var e=d.ServiceLocator.instance().get("VisualAssetsMap");this.PREFIX_SYMBOL_NAME=e.visualAssets[_.VisualAssetsNames.SYMBOL_NAME],this.wheelDetails=this.slotGameConfig.getProperties("WHEEL_COLUMNS_DETAILS");f.Device.instance().mobile&&(this.mobileLayoutPortrait=this.findChild("Main_portrait"),this.mobileLayoutLandscape=this.findChild("Main_landscape"),this.mobileLayoutPortrait&&this.mobileLayoutLandscape&&this.switchMobileLayout(),Math.max(y.SceneManager.SCENE_Y_OFFSET.landscape/y.SceneManager.ratio,y.SceneManager.SCENE_Y_OFFSET.portrait/y.SceneManager.ratio)),f.Device.instance().minigame&&(this.HEIGHT_BUTTON_REMOVE=0,this.WIDTH_SCENARIO_PICKER=30,this.HEIGHT_SCENARIO_PICKER=20,this.BETWEEN_SCENARIO_PICKER=14,this.HEIGHT_BUTTON_SCENARIO_ADD=10),this.bgOverlay=new L,this.bgOverlay.beginFill(0,1);var i=Math.max(y.SceneManager.SCENE_WIDTH+y.SceneManager.getVMargin,y.SceneManager.getScreenHeight+y.SceneManager.getHMargin);this.bgOverlay.drawRect(0,0,i,i),this.bgOverlay.x=0,this.bgOverlay.y=0,this.display.addChildAt(this.bgOverlay,0),0==f.Device.instance().mobile&&(this.bgOverlay.on(b.PointerStates.OVER,this.catchClick,this),this.bgOverlay.on(b.PointerStates.OUT,this.catchClick,this)),this.bgOverlay.on(b.PointerStates.DOWN,this.onClickBgDown.bind(this)),this.bgOverlay.on(b.PointerStates.UP,this.onClickBgUp.bind(this)),this.bgOverlay.interactive=!0,this.bgExtraLayer=new L,this.bgExtraLayer.beginFill(0,1),this.bgExtraLayer.drawRect(0,0,i,i),this.bgExtraLayer.x=0,this.bgExtraLayer.y=0,this.bgExtraLayer.on(b.PointerStates.UP,this.hideExtraLayer.bind(this)),this.bgExtraLayer.interactive=!0,this.bgExtraLayer.visible=!1,this.toHideWhenEdit.push(new r.ControllerButton("ctBackButton",this.findMultipleChild("ctBackButton"),this.hideCheatTool.bind(this))),this.toHideWhenEdit.push(new r.ControllerButton("ctExtraButton",this.findMultipleChild("ctExtraButton"),this.toggleExtraTool.bind(this))),this.listDisplay=new l.ControllerContainer("ctListDisplay",this.findMultipleChild("ctListDisplay")),this.listDisplay.visible=!1,this.listDisplay.interactive=!1,this.listDisplay.handleMouseDownGesture(this.clickDownListDisplay.bind(this)),this.listDisplayLabel=new h.ControllerTextField("ctListDisplayLabel",this.findMultipleChild("ctListDisplayLabel")),this.listDisplayContent=new l.ControllerContainer("ctListDisplayContent",this.findMultipleChild("ctListDisplayContent")),this.listDisplayContent.componentLandscape.offsetHeight=0,this.extraToolsContainer=new l.ControllerContainer("ctExtraContainer",this.findMultipleChild("ctExtraContainer")),this.extraToolsContainer.visible=!1,this.extraToolsContainer.interactive=!0,this.initReels().then((function(){t.initArea().then((function(){t.initToggles(),t.initExtra(),t.initSpeCmd(),t.changeGroup(t.groupsIndexMap[0]),t.modeListLabel[t.MODE_PICKER].updateLabel(t.modeListsContentLabel[t.MODE_PICKER][0]),t.modeListLabel[t.MODE_STRIP].updateLabel(t.modeListsContentLabel[t.MODE_STRIP][0])}))})),this.initContentLists()},e.prototype.initStrips=function(t){var e=this;this.modeListsContentLabel[this.MODE_STRIP]=[],this.STRIPS_INDEX_MAP=[],s.each(t,(function(t,i){e.modeListsContentLabel[e.MODE_STRIP][i]=t.stripsName,e.STRIPS_INDEX_MAP[i]=t.stripsIndexMap})),this.currentStripIndex=0},e.prototype.initScenarios=function(t){var e=this;s.isNil(t.BUILD_SPECIAL_CMD)||(this.modeListsContentLabel[this.MODE_BUILD_SPE_CMD]=[],s.each(t.BUILD_SPECIAL_CMD,(function(t,i){-1!=i.indexOf("_")&&(i=i.substr(0,i.indexOf("_"))),e.modeListsContentLabel[e.MODE_BUILD_SPE_CMD]=e.modeListsContentLabel[e.MODE_BUILD_SPE_CMD].concat(e.cartesian(i,t))})),delete t.BUILD_SPECIAL_CMD),this.modeListsContentLabel[this.MODE_SCENARIO]=[],this.scenariosIndexMap=t;var i=localStorage.getItem(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_SCENARIO);i&&(this.scenariosIndexMap.Custom=[],s.times(Number(i),(function(t){var i=localStorage.getItem(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_SCENARIO+t.toString());if(i){var n=atob(i),o=JSON.parse(n);e.scenariosIndexMap.Custom.push({name:"Custom_"+t.toString(),original:!0,spinGroup:o,spinButtons:void 0})}}))),this.scenarioCategories=[],this.scenariosGroupByCategories=[],s.each(this.scenariosIndexMap,(function(t,i){e.modeListsContentLabel[e.MODE_SCENARIO].push(i),e.scenarioCategories.push(i),e.scenariosGroupByCategories[i]=[],e.currentScenario=t[t.length-1],s.each(t,(function(t){var n=t.name+" ("+t.spinGroup.length.toString()+")";e.modeListsContentLabel[e.MODE_SCENARIO].push(n),e.scenariosGroupByCategories[i].push(n)}))}))},e.prototype.changeLanguages=function(){var t=this;s.each(y.SceneManager.currentScene.children,(function(e){t.traverseChild(e)}))},e.prototype.traverseChild=function(t){var e,i=this;t instanceof S.TextField&&(null!=(e=this.translations.getValue(t.name))||t.keyTranslate&&null!=(e=this.translations.getValue(t.keyTranslate)))?t.updateLabel(e):t instanceof g.Button&&!s.isNil(t.label)&&(null!=(e=this.translations.getValue(t.name))||t.label.keyTranslate&&null!=(e=this.translations.getValue(t.label.keyTranslate)))&&!s.isNil(t.label)?t.label.updateLabel(e):s.has(t,"children")&&t.children.length>0&&s.each(t.children,(function(t){i.traverseChild(t)}))},e.prototype.isEditing=function(){return this.isScenarioEditing},e.prototype.changeMode=function(t){var e=this;s.each(this.modeToggles,(function(e,i){i==t?e.toggleState(1):e.toggleState(0)})),t!=this.currentMode&&(this.hideListDisplay(),s.times(this.MODE_NAME.length,(function(i){e.modeAreas[i].visible=t==i,e.modeLists[i].visible=t==i,i>=1&&(e.modeContainers[i].componentLandscape.y=e.modeContainers[i-1].componentLandscape.y+e.modeContainers[i-1].componentLandscape.height+5,s.isNil(e.modeContainers[i].componentPortrait)||(e.modeContainers[i].componentPortrait.y=e.modeContainers[i-1].componentPortrait.y+e.modeContainers[i-1].componentPortrait.height+5))})),this.modeLists[this.MODE_HISTORY].visible=!0,this.resetPicker(),t==this.MODE_PICKER?this.scenarioAreasUI.visible=!1:t==this.MODE_STRIP?(this.scenarioAreasUI.visible=!1,this.changeStripGroup(this.currentStripIndex),this.modeLists[this.MODE_HISTORY].visible=!1):t==this.MODE_SCENARIO?(0==this.scenarioAreasUI.visible&&(this.changeScenario(this.currentScenario),this.modeListLabel[this.MODE_SCENARIO].updateLabel(this.currentScenario.name)),this.scenarioAreasUI.visible=!0):A.Log.error("CHEAT TOOL: onToggleMode: Impossible MODE: "+t),this.currentMode=t)},e.prototype.changeGroupFromKeyboard=function(t,e){var i=Number(e)-1;if(!(s.isNil(e)||""==e||s.isNaN(i)||i<0)){var n=[];switch(t){case"p":case"P":i<this.groupsIndexMap.length&&(this.changeGroup(this.groupsIndexMap[i]),this.modeListLabel[this.MODE_PICKER].updateLabel(this.modeListsContentLabel[this.MODE_PICKER][i]),n=[this.MODE_SCENARIO,this.MODE_HISTORY]);break;case"t":case"T":this.STRIPS_INDEX_MAP.length>0&&i<this.STRIPS_INDEX_MAP.length&&(this.changeStripGroup(i),this.modeListLabel[this.MODE_STRIP].updateLabel(this.modeListsContentLabel[this.MODE_STRIP][i]),n=[this.MODE_PICKER,this.MODE_SCENARIO,this.MODE_HISTORY]);break;case"s":case"S":if(e.length>1){var o=Number(e.charAt(0))-1,a=Number(e.slice(1,e.length))-1;if(o<0||a<0)return;o<this.scenarioCategories.length&&a<this.scenariosIndexMap[this.scenarioCategories[o]].length&&(this.changeScenario(this.scenariosIndexMap[this.scenarioCategories[o]][a]),this.modeListLabel[this.MODE_SCENARIO].updateLabel(this.scenariosGroupByCategories[this.scenarioCategories[o]][a]),n=[this.MODE_PICKER,this.MODE_HISTORY])}break;case"h":case"H":if(i<this.modeListsContentLabel[this.MODE_HISTORY].length){var r=this.modeListsContentLabel[this.MODE_HISTORY][i];this.changeGroupModeHistory(r),this.modeListLabel[this.MODE_HISTORY].updateLabel(r),n=[this.MODE_PICKER,this.MODE_SCENARIO]}break;case"c":case"C":if(i<this.speCmdIndexMap.length+this.TOOLS_SPE_COMMAND.length-1)switch(i){case this.INDEX_SPE_CLEAR:this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(""),this.currentSpeCommand=null,this.speCmdPlayAlone.visible=!1;break;case this.INDEX_SPE_CUSTOM:this.showEditSpeCommand();break;case this.INDEX_SPE_BUILD:this.clickDownList=!0,this.onClickUpList(this.MODE_BUILD_SPE_CMD,null);break;default:this.currentSpeCommand=this.speCmdIndexMap[i],this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(this.modeListsContentLabel[this.MODE_SPECIAL_CMD][i]),0!=this.scenarioAreasUI.visible&&this.currentMode!=this.MODE_SCENARIO||(this.speCmdPlayAlone.visible=!0)}break;case"b":case"B":i<this.modeListsContentLabel[this.MODE_BUILD_SPE_CMD].length&&(this.currentSpeCommand=this.modeListsContentLabel[this.MODE_BUILD_SPE_CMD][i].split("|"),this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(this.modeListsContentLabel[this.MODE_BUILD_SPE_CMD][i]),0!=this.scenarioAreasUI.visible&&this.currentMode!=this.MODE_SCENARIO||(this.speCmdPlayAlone.visible=!0));break;case"l":case"L":i<this.modeListsContentLabel[this.MODE_LANGUAGES].length&&(this.languageChange.visible=!0,this.languageChange.buttonDetails={nameLanguage:this.modeListsContentLabel[this.MODE_LANGUAGES][i]},this.modeListLabel[this.MODE_LANGUAGES].updateLabel(this.modeListsContentLabel[this.MODE_LANGUAGES][i]));break;case"r":case"R":if(e.length>1&&this.currentMode==this.MODE_STRIP){var l=void 0,c=void 0;if(this.slotGameConfig.ctColumnsCnt>9?(l=Number(e.slice(0,2))-1,c=Number(e.slice(2,e.length))):(l=Number(e.charAt(0))-1,c=Number(e.slice(1,e.length))),l<0||l>this.STRIPS_INDEX_MAP[this.currentStripIndex].length)return;c>this.STRIPS_INDEX_MAP[this.currentStripIndex][l].length&&(c=this.STRIPS_INDEX_MAP[this.currentStripIndex][l].length-1),this.stripEditValue[l].updateLabel(c.toString()),this.changeStripReel(l,c)}break;default:A.Log.error("CHEAT TOOL: changeGroupFromKeyboard: Mode "+t+" not existant")}this.resetListDisplay(n),this.hideListDisplay()}},e.prototype.changeGroupModeHistory=function(t){this.changeGroup(this.historyIndexMap[t].group),s.isNil(this.historyIndexMap[t].speCmd)||(this.currentSpeCommand=this.historyIndexMap[t].speCmd,this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(this.historyIndexMap[t].speCmd.toString())),s.isNil(this.historyIndexMap[t].allSpinsChecked)||(this.checkAllSpins=this.historyIndexMap[t].allSpinsChecked,this.allSpinsToggle.changeState(this.historyIndexMap[t].allSpinsChecked?v.ToggleButtonState.ON:v.ToggleButtonState.OFF))},e.prototype.sendCmdFromKeyboard=function(){this.currentMode==this.MODE_SCENARIO?this.useScenarioCheatTool():this.useCheatTool()},e.prototype.openListFromKeyboard=function(t){if(1!=this.clickDownList)switch(this.clickDownList=!0,t){case"p":case"P":this.onClickUpList(this.MODE_PICKER,null);break;case"s":case"S":this.onClickUpList(this.MODE_SCENARIO,null);break;case"t":case"T":this.STRIPS_INDEX_MAP.length>0&&this.onClickUpList(this.MODE_STRIP,null);break;case"h":case"H":this.onClickUpList(this.MODE_HISTORY,null);break;case"c":case"C":this.onClickUpList(this.MODE_SPECIAL_CMD,null);break;case"b":case"B":this.onClickUpList(this.MODE_BUILD_SPE_CMD,null);break;case"l":case"L":this.onClickUpList(this.MODE_LANGUAGES,null);break;default:A.Log.error("CHEAT TOOL: openListFromKeyboard: Mode "+t+" not existant"),this.clickDownList=!1}},e.prototype.openScenarioCategoriesFromKeyboard=function(t){var e=Number(t.charAt(0))-1;if(!(e<0)&&!s.isNil(this.arrListDisplayContent[this.MODE_SCENARIO])&&e<this.scenarioCategories.length){var i=this.arrListDisplayContent[this.MODE_SCENARIO].currentComponent.children[2*e],n=this.arrListDisplayContent[this.MODE_SCENARIO].currentComponent.children[2*e+1];s.isNil(n)||s.isNil(i)||0!=n.visible||this.clickTitleButtonList(i.name,null,i.buttonDetails)}},e.prototype.pasteTextFromClipboard=function(t){var e=t.split("|");if(e.length>1){if("770"==e[0]&&(this.modeListLabel[this.MODE_PICKER].updateLabel(e[1]),this.modeListLabel[this.MODE_HISTORY].updateLabel(""),this.changeGroup(e[1].split(",").map(Number)),e.splice(0,2),e.length<2))return this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(""),this.speCmdPlayAlone.visible=!1,void(this.currentSpeCommand=null);"772"!=e[0]&&"773"!=e[0]&&"774"!=e[0]&&"B772"!=e[0]&&"B773"!=e[0]&&"B774"!=e[0]||(this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(e.join("|")),this.speCmdPlayAlone.visible=!0,this.currentSpeCommand=e)}else e.length>0&&(this.modeListLabel[this.MODE_PICKER].updateLabel(e[1]),this.modeListLabel[this.MODE_HISTORY].updateLabel(""),this.changeGroup(e[0].split(",").map(Number)))},e.prototype.showEditSpeCommand=function(){this.bgExtraLayer.visible=!0,this.divEditSpeCmd.style.display="block",this.inputEditSpeCmd.value=this.modeListLabel[this.MODE_SPECIAL_CMD].text.text,"772"!=this.inputEditSpeCmd.value.substr(0,3)&&"773"!=this.inputEditSpeCmd.value.substr(0,3)&&"774"!=this.inputEditSpeCmd.value.substr(0,3)&&"B772"!=this.inputEditSpeCmd.value.substr(0,4)&&"B773"!=this.inputEditSpeCmd.value.substr(0,4)&&"B774"!=this.inputEditSpeCmd.value.substr(0,4)?this.inputEditSpeCmd.value="":this.inputEditSpeCmd.value=this.inputEditSpeCmd.value.replace(/\ |\-/g,"|"),this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_REMOVE_KEY_LISTENER)},e.prototype.validateEditSpeCommand=function(){this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(this.inputEditSpeCmd.value),this.speCmdPlayAlone.visible=!0,this.currentSpeCommand=this.inputEditSpeCmd.value.split("|"),this.hideListDisplay(),this.hideEditSpeCommand()},e.prototype.hideEditSpeCommand=function(){this.bgExtraLayer.visible=!1,this.divEditSpeCmd.style.display="none",this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_ADD_KEY_LISTENER)},e.prototype.initReels=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.mobileLayoutPortrait=t.findChild("Main_portrait"),t.mobileLayoutLandscape=t.findChild("Main_landscape"),t.mobileLayoutPortrait&&t.mobileLayoutLandscape&&t.switchMobileLayout(),t.containerReel=new l.ControllerContainer("ctReels",t.findMultipleChild("ctReels")),t.currentSymbols=[],s.each([t.containerReel.componentLandscape,t.containerReel.componentPortrait],(function(e){s.isNil(e)||s.each(e.children,(function(e){if(-1!=e.name.indexOf("ctReel_")){var i=Number(e.name.replace("ctReel_","")),n=i-1;i>t.slotGameConfig.ctWheelsCnt&&A.Log.error("CHEAT TOOL: initReels:"+e.name+" - reel index too high compare to slotGameConfig.wheelsCnt "+t.slotGameConfig.ctWheelsCnt),t.currentSymbols[n]=[],s.each(e.children,(function(e){var o=e.name.replace("ctSymbol_","").split("-").map(Number),a=o[1]-1;o[0]!=i&&A.Log.error("CHEAT TOOL: initReels:"+e.name+" - reel Index ("+o[0]+") doesn't correspond to the reel it is in "+i),e.reelID=n,e.symbolID=a,t.currentSymbols[n][a]=new c.ControllerImage(e.name,t.findMultipleChild(e.name)),s.isNil(t.WIDTH_SYMBOL)&&(t.WIDTH_SYMBOL=[],t.WIDTH_SYMBOL[0]=t.currentSymbols[n][a].componentLandscape.width,s.isNil(t.currentSymbols[n][a].componentPortrait)||(t.WIDTH_SYMBOL[1]=t.currentSymbols[n][a].componentPortrait.width)),s.isNil(t.HEIGHT_SYMBOL)&&(t.HEIGHT_SYMBOL=[],t.HEIGHT_SYMBOL[0]=t.currentSymbols[n][a].componentLandscape.height,s.isNil(t.currentSymbols[n][a].componentPortrait)||(t.HEIGHT_SYMBOL[1]=t.currentSymbols[n][a].componentPortrait.height)),t.changeSymbolTo(t.currentSymbols[n][a],t.slotGameConfig.ctSymbolsIds[0].toString()),t.currentSymbols[n][a].interactive=!0,t.currentSymbols[n][a].addClickAction(b.PointerStates.DOWN,t.onClickSymbolDown.bind(t)),t.currentSymbols[n][a].addClickAction(b.PointerStates.UP,t.endMoveListener.bind(t)),1!=f.Device.instance().mobile&&1!=f.Device.instance().tablet||t.currentSymbols[n][a].addClickAction(b.PointerStates.MOVE,t.onMoveOverSymbol.bind(t))}))}}))})),e()}))}catch(t){i(t)}}))},e.prototype.initArea=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.modeAreas=[],t.modeLists=[],t.modeListLabel=[],t.modeContainers=[],s.each(t.MODE_NAME,(function(e,i){t.modeAreas[i]=new l.ControllerContainer(e+"Area",t.findMultipleChild(e+"Area")),t.modeContainers[i]=new l.ControllerContainer(e+"Container",t.findMultipleChild(e+"Container"))})),s.each(t.MODE_LIST_NAME,(function(e,i){t.modeLists[i]=new l.ControllerContainer(e,t.findMultipleChild(e)),s.isNil(t.modeLists[i].componentLandscape)?i==t.MODE_BUILD_SPE_CMD&&(t.modeListLabel[i]=t.modeListLabel[t.MODE_SPECIAL_CMD]):(t.modeLists[i].interactive=!0,t.modeLists[i].handleMouseDownGesture(t.onClickDownList.bind(t,i)),t.modeLists[i].handleMouseUpGesture(t.onClickUpList.bind(t,i)),t.modeListLabel[i]=new h.ControllerTextField(e+"Label",t.findMultipleChild(e+"Label")))})),t.initPickerArea(),t.initStripArea(),t.initScenarioArea(),t.toHideWhenEdit.push(t.modeLists[t.MODE_LANGUAGES]),t.toHideWhenEdit.push(t.modeLists[t.MODE_STRIP]),t.toHideWhenEdit.push(t.modeLists[t.MODE_SCENARIO]),e()}))}catch(t){i(t)}}))},e.prototype.initContentLists=function(){var t=this;this.modeListsContentLabel=[],new r.ControllerButton("ctListDisplayBack",this.findMultipleChild("ctListDisplayBack"),this.hideListDisplay.bind(this)),new r.ControllerButton("ctListExtraBack",this.findMultipleChild("ctListExtraBack"),this.hideListDisplay.bind(this)),this.modeListsContentLabel[this.MODE_PICKER]=[];var e=this.settings.getValue("CHEAT_TOOL_GROUPS");this.groupsIndexMap=[],s.each(e,(function(e,i){t.modeListsContentLabel[t.MODE_PICKER].push(i),t.groupsIndexMap.push(e.split("-").map(Number))})),this.modeListsContentLabel[this.MODE_STRIP]=[],this.modeListsContentLabel[this.MODE_HISTORY]=[],this.historyIndexMap=[],new r.ControllerButton("ctScenariosExport",this.findMultipleChild("ctScenariosExport"),this.exportCurrentScenario.bind(this)),new r.ControllerButton("ctHistoryListClear",this.findMultipleChild("ctHistoryListClear"),this.clearHistory.bind(this));var i=this.settings.getCookie(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_HISTORY);i&&s.each(i.split("|"),(function(e){var i=-1!==e.indexOf(t.ALL_SPINS_HISTORY_STRING),n=(e=e.replace(t.ALL_SPINS_HISTORY_STRING,"")).split(":");if(t.modeListsContentLabel[t.MODE_HISTORY].push(n[0]),!s.isNil(n[1])){var o=n[1].split("-");t.historyIndexMap[n[0]]={group:o[0].split(",").map(Number),speCmd:o[1]?o[1].split("="):[],allSpinsChecked:i}}})),this.modeListsContentLabel[this.MODE_SPECIAL_CMD]=[],this.currentSpeCommand=[],this.speCmdIndexMap=[],this.speCmdPlayAlone=new r.ControllerButton("ctSpeCmdSend",this.findMultipleChild("ctSpeCmdSend"),this.onPlaySpeCmdOnly.bind(this)),this.toHideWhenEdit.push(this.speCmdPlayAlone),this.speCmdPlayAlone.visible=!1;var n=this.settings.getValue("CHEAT_TOOL_SPECIAL_COMMANDS");s.isNil(n)||n.hasOwnProperty("Empty")||(this.speCmdIndexMap=[[]],s.each(this.TOOLS_SPE_COMMAND,(function(e,i){t.modeListsContentLabel[t.MODE_SPECIAL_CMD][i]=e,t.speCmdIndexMap[i]=[]})),s.each(n,(function(e,i){t.modeListsContentLabel[t.MODE_SPECIAL_CMD].push(i),t.speCmdIndexMap.push(e.split("|"))}))),this.modeListsContentLabel[this.MODE_LANGUAGES]=[],this.toHideWhenEdit.push(this.languageChange=new r.ControllerButton("ctLanguageSend",this.findMultipleChild("ctLanguageSend"),this.onChangeLanguage.bind(this))),this.languageChange.visible=!1,s.each(Object.getOwnPropertyNames(I.Language),(function(e,i){i>4&&-1==e.indexOf("_ID")&&-1==e.indexOf("_EXT")&&t.modeListsContentLabel[t.MODE_LANGUAGES].push(e.replace("_"," "))}))},e.prototype.initPickerArea=function(){var t=this;this.pickers=[],s.each([this.modeAreas[this.MODE_PICKER].componentLandscape,this.modeAreas[this.MODE_PICKER].componentPortrait],(function(e){if(!s.isNil(e)){var i=0;s.each(e.children,(function(e){if(-1!=e.name.indexOf("ctPickSymbol_")&&t.checkIfMSSymbols(i))if(i++,e[t.PARAM_TEXTURE_ID]=e.name.replace("ctPickSymbol_",""),-1!=t.slotGameConfig.ctSymbolsIds.indexOf(Number(e[t.PARAM_TEXTURE_ID]))){var n=Number(e[t.PARAM_TEXTURE_ID]);t.pickers[n]=new c.ControllerImage(e.name,t.findMultipleChild(e.name)),t.pickers[n].interactive=!0;var o=t.pickers[n].componentLandscape.width,a=t.pickers[n].componentLandscape.height,r=void 0,l=void 0;s.isNil(t.pickers[n].componentPortrait)||(r=t.pickers[n].componentPortrait.width,l=t.pickers[n].componentPortrait.height),t.pickers[n].setTexture(t.getTextureForSymbol(e[t.PARAM_TEXTURE_ID])),t.pickers[n].componentLandscape.width=o,t.pickers[n].componentLandscape.height=a,s.isNil(t.pickers[n].componentPortrait)||(t.pickers[n].componentPortrait.width=r,t.pickers[n].componentPortrait.height=l),t.pickers[n].addClickAction(b.PointerStates.DOWN,t.onClickPickerDown.bind(t)),t.pickers[n].addClickAction(b.PointerStates.UP,t.endMoveListener.bind(t))}else{A.Log.warning("CHEAT TOOL: initPicker: symbolPicker id "+e.name+" not allowed from slotGameConfig"),new c.ControllerImage(e.name,t.findMultipleChild(e.name)).visible=!1}}))}})),this.resetPicker()},e.prototype.checkIfMSSymbols=function(t){return this.slotGameConfig.msNumberOfSymbols>-1&&t<this.slotGameConfig.msNumberOfSymbols||-1==this.slotGameConfig.msNumberOfSymbols},e.prototype.initStripArea=function(){var t=this;this.stripEditValue=[],s.each([this.modeAreas[this.MODE_STRIP].componentLandscape,this.modeAreas[this.MODE_STRIP].componentPortrait],(function(e){s.isNil(e)||(e.children.length!=t.slotGameConfig.ctWheelsCnt&&A.Log.error("CHEAT TOOL: ctStripModeArea size different compare to slotGameConfig.ctWheelsCnt "+t.slotGameConfig.ctWheelsCnt),s.each(e.children,(function(e){var i=Number(e.name.replace("ctStripReelContainer_",""))-1;s.each(e.children,(function(n){var o,s=n.name.split("_"),a=Number(s[1])-1;i!=a&&A.Log.warning("CHEAT TOOL: initStripArea: button index "+n.name+" different from index of the container "+e.name),"ctStripReelPlus"==s[0]?(o=new r.ControllerButton(n.name,t.findMultipleChild(n.name),t.onStripButtonPlus.bind(t))).buttonDetails.reelIndex=a:"ctStripReelEdit"==s[0]?((o=new r.ControllerButton(n.name,t.findMultipleChild(n.name))).updateLabel("0"),o.buttonDetails.reelIndex=a,t.stripEditValue[a]=o):"ctStripReelMinus"==s[0]?(o=new r.ControllerButton(n.name,t.findMultipleChild(n.name),t.onStripButtonMinus.bind(t))).buttonDetails.reelIndex=a:A.Log.error("CHEAT TOOL: initStripArea: button id "+n.name+" different from +,- or edit button (ctStripReelPlus,ctStripReelEdit,ctStripReelMinus)")}))})))}))},e.prototype.initToggles=function(){this.checkAllSpins=!1,this.allSpinsToggle=new p.ControllerToggleButton("ctAllSpinsToggle",this.findMultipleChild("ctAllSpinsToggle"),this.onToggleAllSpins.bind(this)),this.changeMode(this.MODE_PICKER),this.modeToggles=[],this.modeToggles[this.MODE_PICKER]=new p.ControllerToggleButton(this.MODE_NAME[this.MODE_PICKER]+"Toggle",this.findMultipleChild(this.MODE_NAME[this.MODE_PICKER]+"Toggle"),this.onToggleMode.bind(this)),this.modeToggles[this.MODE_STRIP]=new p.ControllerToggleButton(this.MODE_NAME[this.MODE_STRIP]+"Toggle",this.findMultipleChild(this.MODE_NAME[this.MODE_STRIP]+"Toggle"),this.onToggleMode.bind(this)),this.modeToggles[this.MODE_SCENARIO]=new p.ControllerToggleButton(this.MODE_NAME[this.MODE_SCENARIO]+"Toggle",this.findMultipleChild(this.MODE_NAME[this.MODE_SCENARIO]+"Toggle"),this.onToggleMode.bind(this)),this.toHideWhenEdit.push(this.modeToggles[this.MODE_STRIP]),this.toHideWhenEdit.push(this.modeToggles[this.MODE_SCENARIO])},e.prototype.initExtra=function(){var t=this;new p.ControllerToggleButton("ctButtonVisibleToggle",this.findMultipleChild("ctButtonVisibleToggle"),this.onToggleVisibleButton.bind(this)),new p.ControllerToggleButton("ctConsoleLogsToggle",this.findMultipleChild("ctConsoleLogsToggle"),this.onToggleConsoleLogs.bind(this)).changeState(A.Log.disableConsole?v.ToggleButtonState.OFF:v.ToggleButtonState.ON),new p.ControllerToggleButton("ctSlowTimeToggle",this.findMultipleChild("ctSlowTimeToggle"),this.onSlowTimeVisible.bind(this));var e=new l.ControllerContainer("ctExtraShowButtonContainer",this.findMultipleChild("ctExtraShowButtonContainer"));s.each(e.currentComponent.children,(function(e){new r.ControllerButton(e.buttonName,t.findMultipleChild(e.buttonName),t.showExtraLayer.bind(t))})),this.slowTimeContainer=new l.ControllerContainer("ctSlowTime",this.findMultipleChild("ctSlowTime")),this.slowTimeContainer.visible=!1,this.slowTimeStepper=new u.ControllerNumberStepper("ctSlowTimeStepper",this.findMultipleChild("ctSlowTimeStepper"),this.clickStepper.bind(this)),this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_MOVE_SLOW_TIME,this.slowTimeContainer),this.functionSlowTime=this.waitForSlowTime.bind(this)},e.prototype.initSpeCmd=function(){var t=this,e=this.settings.getValue("CHEAT_TOOL_SPECIAL_COMMANDS");(s.isNil(e)||e.hasOwnProperty("Empty"))&&(this.modeLists[this.MODE_SPECIAL_CMD].visible=!1),this.toHideWhenEdit.push(new r.ControllerButton("ctSendCmd",this.findMultipleChild("ctSendCmd"),this.useCheatTool.bind(this))),this.display.addChild(this.bgExtraLayer),this.speCmdLabel=new h.ControllerTextField("ctSpeCmdListLabel",this.findMultipleChild("ctSpeCmdListLabel")),this.speCmdLabel.interactive=!0,this.speCmdLabel.componentLandscape.on(b.PointerStates.UP,this.showEditSpeCommand.bind(this)),s.isNil(this.speCmdLabel.componentPortrait)||this.speCmdLabel.componentPortrait.on(b.PointerStates.UP,this.showEditSpeCommand.bind(this)),this.divEditSpeCmd=document.createElement("div"),this.divEditSpeCmd.id="EditSpeCmd",this.divEditSpeCmd.style.position="absolute",this.divEditSpeCmd.style.top="10%",this.divEditSpeCmd.style.left="50%",this.divEditSpeCmd.style.width="90%",this.divEditSpeCmd.style.height="100px",this.divEditSpeCmd.style.zIndex="100000",this.divEditSpeCmd.style.backgroundColor="#212121",this.divEditSpeCmd.style.transform="translate(-50%,0)",this.divEditSpeCmd.style.borderRadius="0.4em",document.body.appendChild(this.divEditSpeCmd),this.inputEditSpeCmd=document.createElement("input"),this.inputEditSpeCmd.value="",this.inputEditSpeCmd.type="text",this.inputEditSpeCmd.style.position="absolute",this.inputEditSpeCmd.style.top="5px",this.inputEditSpeCmd.style.left="50%",this.inputEditSpeCmd.style.width="90%",this.inputEditSpeCmd.style.height="40px",this.inputEditSpeCmd.style.transform="translate(-50%,0%)",this.inputEditSpeCmd.onkeyup=function(e){return t.inputEditSpeCmd.value=t.inputEditSpeCmd.value.replace(/[c-z]|[C-Z]|\a|\A/g,""),t.inputEditSpeCmd.value=t.inputEditSpeCmd.value.replace(/\ |\-/g,"|"),e.keyCode===m.KeyboardMap.KEYMAP_INDEX_ENTER&&t.validateEditSpeCommand(),!0},this.divEditSpeCmd.appendChild(this.inputEditSpeCmd);var i=document.createElement("button"),n=document.createTextNode("OK");i.appendChild(n),i.value="OK",i.type="number",i.style.position="absolute",i.style.top="60px",i.style.left="50%",i.style.width="20%",i.style.height="30px",i.style.transform="translate(-110%,0%)",i.addEventListener(b.PointerStates.UP,this.validateEditSpeCommand.bind(this)),this.divEditSpeCmd.appendChild(i);var o=document.createElement("button"),a=document.createTextNode("Cancel");o.appendChild(a),o.value="Cancel",o.type="number",o.style.position="absolute",o.style.top="60px",o.style.left="50%",o.style.width="20%",o.style.height="30px",o.style.transform="translate(10%,0%)",o.addEventListener(b.PointerStates.UP,this.hideEditSpeCommand.bind(this)),this.divEditSpeCmd.appendChild(o),this.divEditSpeCmd.style.display="none"},e.prototype.initScenarioArea=function(){this.toHideWhenEdit.push(new r.ControllerButton("ctSendScenarioCmd",this.findMultipleChild("ctSendScenarioCmd"),this.useScenarioCheatTool.bind(this))),this.scenarioAreasUI=new l.ControllerContainer("ctStripModeAreaUI",this.findMultipleChild("ctStripModeAreaUI")),this.scenarioAreasUI.visible=!1,this.editScenarioSpinButton=new r.ControllerButton("ctScenarioSpinEdit",this.findMultipleChild("ctScenarioSpinEdit"),this.onEditScenarioSpin.bind(this)),this.editScenarioSpinButton.enable(!1),this.deleteScenarioSpinButton=new r.ControllerButton("ctScenarioSpinDelete",this.findMultipleChild("ctScenarioSpinDelete"),this.onDeleteScenarioSpin.bind(this)),this.deleteScenarioSpinButton.enable(!1),this.autoSpinScenario=!1,this.toHideWhenEdit.push(new r.ControllerButton("ctAutoSpinsContainer",this.findMultipleChild("ctAutoSpinsContainer"))),new p.ControllerToggleButton("ctAutoSpinsLabel",this.findMultipleChild("ctAutoSpinsToggle"),this.onToggleAutoSpinScenario.bind(this)),this.editScenarioSpinImage=new c.ControllerImage("ctScenarioSpinEditImage",this.findMultipleChild("ctScenarioSpinEditImage"))},e.prototype.hideCheatTool=function(){this.dispatchSignal(N.SlotCheatToolAction.HIDE_CHEAT_TOOL)},e.prototype.clickStepper=function(){this.delaySlowTime=this.slowTimeStepper.current},e.prototype.onClickSymbolDown=function(t){var e=this;if(s.each([this.MODE_PICKER,this.MODE_SCENARIO,this.MODE_HISTORY],(function(t){e.modeListLabel[t].updateLabel("")})),this.hideListDisplay(),-1!=this.currentPickerID)this.onClickBgDown(),this.changeSymbolTo(this.currentSymbols[t.target[this.PARAM_REEL_ID]][t.target[this.PARAM_SYMBOL_ID]],this.currentPickerID.toString());else if(this.currentMode!==this.MODE_STRIP){for(var i=this.wheelDetails[Number(t.target.reelID+1)].allowedSymbols.split(",").map(Number),n=this.slotGameConfig.ctSymbolsIds[(this.slotGameConfig.ctSymbolsIds.indexOf(Number(t.target.textureID))+1)%this.slotGameConfig.ctSymbolsIds.length],o=2;-1==i.indexOf(n)&&o<this.slotGameConfig.ctSymbolsIds.length;)n=this.slotGameConfig.ctSymbolsIds[(this.slotGameConfig.ctSymbolsIds.indexOf(Number(t.target.textureID))+o)%this.slotGameConfig.ctSymbolsIds.length],o++;this.changeSymbolTo(this.currentSymbols[t.target.reelID][t.target.symbolID],n.toString())}},e.prototype.onClickPickerDown=function(t){this.currentPickerID!=Number(t.target[this.PARAM_TEXTURE_ID])&&(-1!=this.currentPickerID&&this.resetPicker(),this.currentPickerID=Number(t.target[this.PARAM_TEXTURE_ID]),this.pickers[this.currentPickerID].alpha=1,this.onClickBgDown())},e.prototype.onClickBgDown=function(){var t=this;this.shouldHideList=!0,this.delayShouldHideList=TweenLite.delayedCall(.25,(function(){t.shouldHideList=!1})),-1!=this.currentPickerID&&(this.shouldResetPicker=!0,this.endMoveListener(),this.functionMoveListener=this.onMoveCursorBg.bind(this),1==f.Device.instance().mobile||1==f.Device.instance().tablet||this.bgOverlay.on("mousemove",this.functionMoveListener))},e.prototype.onClickBgUp=function(){this.delayShouldHideList&&TweenLite.killDelayedCallsTo(this.delayShouldHideList.target),1==this.shouldHideList&&this.hideListDisplay(),1==this.shouldResetPicker&&this.resetPicker(),this.endMoveListener()},e.prototype.onMoveOverSymbol=function(t){if(!s.isNil(this.functionMoveListener)&&-1!=this.currentPickerID&&!s.isNil(t.currentTarget[this.PARAM_REEL_ID])&&!s.isUndefined(t.currentTarget.symbolID)){var e=t.data.getLocalPosition(t.currentTarget),i=t.currentTarget.getLocalBounds();e.x>20&&e.y>20&&e.x<i.width-20&&e.y<i.height-20&&(this.changeSymbolTo(this.currentSymbols[t.currentTarget[this.PARAM_REEL_ID]][t.currentTarget.symbolID],this.currentPickerID.toString()),this.shouldResetPicker=!1)}},e.prototype.onMoveCursorBg=function(t){s.isNil(t.target)||s.isNil(t.target[this.PARAM_REEL_ID])||s.isNil(t.target[this.PARAM_SYMBOL_ID])||(this.changeSymbolTo(this.currentSymbols[t.target[this.PARAM_REEL_ID]][t.target[this.PARAM_SYMBOL_ID]],this.currentPickerID.toString()),this.shouldResetPicker=!1)},e.prototype.endMoveListener=function(){this.functionMoveListener&&(1==f.Device.instance().mobile||1==f.Device.instance().tablet?this.bgOverlay.off("touchmove",this.functionMoveListener):this.bgOverlay.off("mousemove",this.functionMoveListener),this.functionMoveListener=null)},e.prototype.useCheatTool=function(){this.updateCheatToolCommand(),this.hideListDisplay(),this.dispatchSignal(N.SlotCheatToolAction.HIDE_CHEAT_TOOL)},e.prototype.useScenarioCheatTool=function(){this.updateCheatToolScenarioCommand(),this.hideListDisplay(),this.dispatchSignal(N.SlotCheatToolAction.HIDE_CHEAT_TOOL)},e.prototype.onPlaySpeCmdOnly=function(){this.hideListDisplay();var t={command:null,clean:!this.checkAllSpins,specialCommand:this.currentSpeCommand};this.dispatchSignal(N.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,t),this.dispatchSignal(N.SlotCheatToolAction.HIDE_CHEAT_TOOL)},e.prototype.catchClick=function(t){t.stopPropagation()},e.prototype.onToggleAutoSpinScenario=function(t,e,i){this.autoSpinScenario=i.state},e.prototype.onToggleAllSpins=function(t,e,i){this.checkAllSpins=i.state},e.prototype.onToggleVisibleButton=function(){this.dispatchSignal(N.SlotCheatToolAction.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON)},e.prototype.onSlowTimeVisible=function(){this.slowTimeContainer.visible=!this.slowTimeContainer.visible,1==this.slowTimeContainer.visible?PIXI.ticker.shared.add(this.functionSlowTime,this):PIXI.ticker.shared.remove(this.functionSlowTime)},e.prototype.onToggleConsoleLogs=function(t,e,i){A.Log.disableConsole=!Boolean(i.state)},e.prototype.onToggleMode=function(t,e,i){var n=-1;s.each(this.modeToggles,(function(e,o){if(e.name==t&&1==i.state)return n=o,!0})),-1==n&&(n=this.MODE_PICKER,this.modeToggles[this.MODE_PICKER].toggleState(1)),this.changeMode(n)},e.prototype.onStripButtonPlus=function(t,e,i){var n=Number(i.reelIndex),o=(Number(this.stripEditValue[n].getLabelText())+1)%this.STRIPS_INDEX_MAP[this.currentStripIndex][n].length;this.stripEditValue[n].updateLabel(o.toString()),this.changeStripReel(n,o)},e.prototype.onStripButtonMinus=function(t,e,i){var n=Number(i.reelIndex),o=Number(this.stripEditValue[n].getLabelText())-1;o<0&&(o=this.STRIPS_INDEX_MAP[this.currentStripIndex][n].length-1),this.stripEditValue[n].updateLabel(o.toString()),this.changeStripReel(n,o)},e.prototype.onClickDownList=function(){this.clickDownList=!0},e.prototype.onClickUpList=function(t,e){var i=this;if(1==this.clickDownList){if(this.clickDownList=!1,this.listDisplay.visible=!0,this.listDisplay.interactive=!0,this.listDisplayLabel.updateLabel(this.MODE_LIST_NAME[t]),s.isNil(this.listDisplayContent)||this.listDisplayContent.removeAllChild(),s.isNil(this.arrListDisplayContent[t])||t==this.MODE_HISTORY){if(this.arrListDisplayContent[t]=new l.ControllerContainer("List"+t,[new E.PIXIContainer("List"+t),new E.PIXIContainer("List"+t)]),this.listDisplayContent.indexList!=t&&t==this.MODE_SCENARIO){this.arrListDisplayContent[t].removeAllChild();var n,o=5,a=5,r=0,c=0;s.each(this.modeListsContentLabel[t],(function(e,u){if(s.isNil(i.scenariosIndexMap[e])){p=i.createButtonForList(t,e,r,i.listDisplayLabel.componentLandscape.width,i.listDisplayLabel.componentLandscape.height-i.HEIGHT_BUTTON_REMOVE,o);var h=n.name.replace("Content","");p.buttonDetails.indexScenario=h,o=p.y+p.height+5;d=void 0;s.isNil(i.listDisplay.componentPortrait)||((d=i.createButtonForList(t,e,r,i.listDisplayLabel.componentPortrait.width,i.listDisplayLabel.componentPortrait.height-i.HEIGHT_BUTTON_REMOVE,a)).buttonDetails.indexScenario=h,a=d.y+d.height+5),n.addChild([p,d]),r++}else{var p;o=0==u?5:i.arrListDisplayContent[t].componentLandscape.height+10,(p=i.createButtonForList(t,e,c,i.listDisplayLabel.componentLandscape.width,i.listDisplayLabel.componentLandscape.height,o)).onClickHandler=i.clickTitleButtonList.bind(i),(n=new l.ControllerContainer(e+"Content",[new E.PIXIContainer(e+"Content"),new E.PIXIContainer(e+"Content")])).componentLandscape.y=p.y+p.height+5,p.buttonDetails.subButtons=n,o=0;var d=void 0;s.isNil(i.listDisplay.componentPortrait)||(a=0==u?5:i.arrListDisplayContent[t].componentPortrait.height+10,(d=i.createButtonForList(t,e,c,i.listDisplayLabel.componentPortrait.width,i.listDisplayLabel.componentPortrait.height,a)).onClickHandler=i.clickTitleButtonList.bind(i),n.componentPortrait.y=d.y+d.height+5,d.buttonDetails.subButtons=n,a=0),i.arrListDisplayContent[t].addChild([p,d]),i.arrListDisplayContent[t].addChild([n.componentLandscape,n.componentPortrait]),r=0,c++}})),s.each(this.arrListDisplayContent[t].children,(function(t){s.isNil(i.scenariosIndexMap[t.name.replace("Button","")])||t.onClickHandler.call(t,t.buttonName,e,t.buttonDetails)}))}else if(this.listDisplayContent.indexList!=t||t==this.MODE_HISTORY){this.arrListDisplayContent[t].removeAllChild();var u=5,h=5;s.each(this.modeListsContentLabel[t],(function(e,n){var o=i.listDisplayLabel.componentLandscape.height-i.HEIGHT_BUTTON_REMOVE;t==i.MODE_SPECIAL_CMD&&n<3&&(o=i.listDisplayLabel.componentLandscape.height);var a,r=i.createButtonForList(t,e,n,i.listDisplayLabel.componentLandscape.width,o,u);if(u=r.y+r.height+5,!s.isNil(i.listDisplay.componentPortrait)){var l=i.listDisplayLabel.componentPortrait.height-i.HEIGHT_BUTTON_REMOVE;t==i.MODE_SPECIAL_CMD&&n<3&&(l=i.listDisplayLabel.componentPortrait.height),a=i.createButtonForList(t,e,n,i.listDisplayLabel.componentPortrait.width,l,h),h=a.y+a.height+5}i.arrListDisplayContent[t].addChild([r,a])}))}this.listDisplayContent.addChild([this.arrListDisplayContent[t].componentLandscape,this.arrListDisplayContent[t].componentPortrait]),this.arrListDisplayContent[t].visible=!0}else this.listDisplayContent.addChild([this.arrListDisplayContent[t].componentLandscape,this.arrListDisplayContent[t].componentPortrait]);this.listDisplayContent.indexList=t}},e.prototype.clickDownListDisplay=function(){var t=this;this.allowClickButtonList=!0,this.delayAllowClickButtonList=TweenLite.delayedCall(.25,(function(){t.allowClickButtonList=!1}))},e.prototype.clickButtonList=function(t,e,i){if(this.delayAllowClickButtonList&&TweenLite.killDelayedCallsTo(this.delayAllowClickButtonList.target),0!=this.allowClickButtonList){this.hideListDisplay(),this.modeListLabel[i.indexList].updateLabel(t);var n=[];switch(this.speCmdPlayAlone.visible=!1,i.indexList){case this.MODE_PICKER:this.changeGroup(this.groupsIndexMap[i.indexButton]),n=[this.MODE_SCENARIO,this.MODE_HISTORY];break;case this.MODE_STRIP:this.changeStripGroup(i.indexButton),n=[this.MODE_PICKER,this.MODE_SCENARIO,this.MODE_HISTORY];break;case this.MODE_HISTORY:this.changeGroupModeHistory(t),n=[this.MODE_PICKER,this.MODE_SCENARIO];break;case this.MODE_SCENARIO:this.changeScenario(this.scenariosIndexMap[i.indexScenario][i.indexButton]),n=[this.MODE_PICKER,this.MODE_HISTORY];break;case this.MODE_SPECIAL_CMD:switch(i.indexButton){case this.INDEX_SPE_CLEAR:this.modeListLabel[i.indexList].updateLabel(""),this.currentSpeCommand=null,this.speCmdPlayAlone.visible=!1;break;case this.INDEX_SPE_CUSTOM:this.showEditSpeCommand();break;case this.INDEX_SPE_BUILD:return this.clickDownList=!0,void this.onClickUpList(this.MODE_BUILD_SPE_CMD,null);default:this.currentSpeCommand=this.speCmdIndexMap[i.indexButton],0!=this.scenarioAreasUI.visible&&this.currentMode!=this.MODE_SCENARIO||(this.speCmdPlayAlone.visible=!0)}break;case this.MODE_LANGUAGES:this.languageChange.visible=!0,this.languageChange.buttonDetails={nameLanguage:t};break;case this.MODE_BUILD_SPE_CMD:this.currentSpeCommand=this.modeListsContentLabel[this.MODE_BUILD_SPE_CMD][i.indexButton].split("|"),0!=this.scenarioAreasUI.visible&&this.currentMode!=this.MODE_SCENARIO||(this.speCmdPlayAlone.visible=!0)}this.resetListDisplay(n)}},e.prototype.clickTitleButtonList=function(t,e,i){s.isNil(e)||e.stopPropagation(),i.subButtons.visible=!i.subButtons.visible;var n=i.subButtons.componentLandscape.height;if(i.subButtons.visible||(n*=-1),s.each(this.arrListDisplayContent[this.MODE_SCENARIO].componentLandscape.children,(function(e){e.name!=t&&e.y>i.subButtons.componentLandscape.y&&(e.y+=n)})),!s.isNil(this.listDisplay.componentPortrait)){var o=i.subButtons.componentPortrait.height;i.subButtons.visible||(o*=-1),s.each(this.arrListDisplayContent[this.MODE_SCENARIO].componentPortrait.children,(function(e){e.name!=t&&e.y>i.subButtons.componentPortrait.y&&(e.y+=o)}))}this.listDisplayContent.recalculateScrolling()},e.prototype.onChangeLanguage=function(t,e,i){this.listDisplayContent.removeAllChild(),this.languageChange.visible=!1,this.settings.map("lang",O.LanguageUtil.getLanguageExtension(i.nameLanguage)),this.settings.map("langue",O.LanguageUtil.getLanguageId(i.nameLanguage)),this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_CHANGE_LANGUAGE,i.nameLanguage)},e.prototype.showExtraLayer=function(t){this.bgExtraLayer.visible=!0,this.currentExtraLayerName=t.replace("ctShowButton_",""),this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_SHOW_LAYER,this.currentExtraLayerName)},e.prototype.hideExtraLayer=function(){s.isNil(this.currentExtraLayerName)||""==this.currentExtraLayerName||(this.bgExtraLayer.visible=!1,this.dispatchSignal(N.SlotCheatToolAction.CHEAT_TOOL_HIDE_LAYER,this.currentExtraLayerName),this.currentExtraLayerName="")},e.prototype.clickScenarioPickerButton=function(t,e,i){this.changeCurrentSpin(i.spin),this.resetScenarioButtons(),i.graphicSelect.visible=!0,this.editScenarioSpinButton.enable(!0),this.deleteScenarioSpinButton.enable(!0),this.currentScenarioSpinSelected=i.spin,this.currentScenarioSpinSelected.indexSpin=i.indexSpin},e.prototype.clickScenarioPickerAddButton=function(t,e,i){var n={name:"",group:this.getCurrentGroup(),speCmd:this.currentSpeCommand,texture:null,indexSpin:-1};this.currentScenario.spinGroup.splice(i.indexSpin,0,n),this.currentScenario.spinButtons.splice(i.indexSpin,0,void 0),this.changeScenario(this.currentScenario),this.currentScenario.original=!1},e.prototype.onDeleteScenarioSpin=function(){this.currentScenario.spinGroup.splice(this.currentScenarioSpinSelected.indexSpin,1),this.currentScenario.spinButtons.splice(this.currentScenarioSpinSelected.indexSpin,1),this.changeScenario(this.currentScenario),this.currentScenario.original=!1},e.prototype.onEditScenarioSpin=function(){if(this.currentMode==this.MODE_PICKER){this.isScenarioEditing=!1,this.updateScenarioSpin(),s.each(this.toHideWhenEdit,(function(t){t.visible=t.originVisible})),this.changeMode(this.MODE_SCENARIO);var t=this.editScenarioSpinImage.width,e=this.editScenarioSpinImage.height;this.editScenarioSpinImage.setTexture(null),this.editScenarioSpinImage.width=t,this.editScenarioSpinImage.height=e}else if(this.currentMode==this.MODE_SCENARIO){this.isScenarioEditing=!0,this.changeMode(this.MODE_PICKER),this.scenarioAreasUI.visible=!0;t=this.editScenarioSpinImage.width,e=this.editScenarioSpinImage.height;this.editScenarioSpinImage.setTexture(this.currentScenarioSpinSelected.texture),this.editScenarioSpinImage.width=t,this.editScenarioSpinImage.height=e,s.each(this.toHideWhenEdit,(function(t){t.originVisible=t.visible,t.visible=!1}))}},e.prototype.getTextureForSymbol=function(t){var e,i=Number(t);if(s.isUndefined(this.symbolsTextures[i])){var n=d.ServiceLocator.instance().get("VisualAssetsMap");if(e=P.TextureUtil.instance().getTextureFromCache(n.visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+t),!0===this.slotGameConfig.useMasterLayout){var o=new R(e),a=new M;o.anchor.set(.25),a.addChild(o);var r=PIXI.RenderTexture.create(a.width/2,a.height/2,2);y.SceneManager.renderer.render(a,r),e=r.clone()}this.symbolsTextures[i]=e}else e=this.symbolsTextures[i];return e},e.prototype.changeSymbolTo=function(t,e){s.isNil(t)||-1==this.slotGameConfig.ctSymbolsIds.indexOf(Number(e))?(t.setTexture(this.getTextureForSymbol("1")),t.componentLandscape[this.PARAM_TEXTURE_ID]="1",t.componentLandscape.width=this.WIDTH_SYMBOL[0],t.componentLandscape.height=this.HEIGHT_SYMBOL[0],s.isNil(t.componentPortrait)||(t.componentPortrait[this.PARAM_TEXTURE_ID]="1",t.componentPortrait.width=this.WIDTH_SYMBOL[1],t.componentPortrait.height=this.HEIGHT_SYMBOL[1]),A.Log.error("CHEAT TOOL: changeSymbolTo: "+t.name+" - is undefined ")):(t.setTexture(this.getTextureForSymbol(e)),t.componentLandscape[this.PARAM_TEXTURE_ID]=e,t.componentLandscape.width=this.WIDTH_SYMBOL[0],t.componentLandscape.height=this.HEIGHT_SYMBOL[0],s.isNil(t.componentPortrait)||(t.componentPortrait[this.PARAM_TEXTURE_ID]=e,t.componentPortrait.width=this.WIDTH_SYMBOL[1],t.componentPortrait.height=this.HEIGHT_SYMBOL[1]))},e.prototype.changeGroup=function(t){var e=this,i=0,n=0;s.forEach(t,(function(t,o){i=o%e.slotGameConfig.ctWheelsCnt,n=Math.floor(o/e.slotGameConfig.ctWheelsCnt),s.isNil(e.currentSymbols[i])||s.isNil(e.currentSymbols[i][n])||e.changeSymbolTo(e.currentSymbols[i][n],t.toString())}))},e.prototype.changeCurrentSpin=function(t){if(!s.isNil(t)){var e=this.modeListsContentLabel[this.MODE_PICKER].indexOf(t.name);-1!=e&&(t.group=this.groupsIndexMap[e]),this.changeGroup(t.group),this.currentSpeCommand=t.speCmd,this.modeListLabel[this.MODE_SPECIAL_CMD].updateLabel(s.isNil(t.speCmd)?"":t.speCmd.toString())}},e.prototype.changeScenario=function(t){var e=this;s.isNil(t.spinButtons)&&(t.spinButtons=[]),this.modeAreas[this.MODE_SCENARIO].removeAllChild(),s.each(t.spinGroup,(function(i,n){var o,a=e.createButtonAddScenarioPicker(n);s.isNil(e.containerReel.componentPortrait)||(o=e.createButtonAddScenarioPicker(n)),new r.ControllerButton("spinAdd"+n,[a,o],e.clickScenarioPickerAddButton.bind(e)),e.modeAreas[e.MODE_SCENARIO].addChild([a,o]),e.changeCurrentSpin(i);var l,c=e.createButtonForScenarioPicker(n,e.containerReel.componentLandscape,i);s.isNil(e.containerReel.componentPortrait)||(l=e.createButtonForScenarioPicker(n,e.containerReel.componentPortrait,i)),t.spinButtons[n]=new r.ControllerButton("spin"+n,[c,l],e.clickScenarioPickerButton.bind(e)),e.modeAreas[e.MODE_SCENARIO].addChild([t.spinButtons[n].componentLandscape,t.spinButtons[n].componentPortrait])}));var i,n=this.createButtonAddScenarioPicker(t.spinButtons.length);s.isNil(this.containerReel.componentPortrait)||(i=this.createButtonAddScenarioPicker(t.spinButtons.length)),new r.ControllerButton("spinAdd"+t.spinButtons.length,[n,i],this.clickScenarioPickerAddButton.bind(this)),this.modeAreas[this.MODE_SCENARIO].addChild([n,i]),this.modeAreas[this.MODE_SCENARIO].recalculateScrolling(),this.changeCurrentSpin(t.spinGroup[0]),this.currentScenario=t},e.prototype.convertContainerToSprite=function(t){var e=PIXI.RenderTexture.create(t.width,t.height);return y.SceneManager.renderer.render(t,e),e},e.prototype.changeStripGroup=function(t){var e=this;t<this.STRIPS_INDEX_MAP.length?(this.currentStripIndex=t,s.times(this.slotGameConfig.ctWheelsCnt,(function(t){e.changeStripReel(t,0),e.stripEditValue[t].updateLabel("0")}))):A.Log.error("CHEAT TOOL: changeStripGroup: Index "+t+" not existant in the strips received")},e.prototype.changeStripReel=function(t,e){var i=this;s.each(this.currentSymbols[t],(function(n,o){var s=(e+o)%i.STRIPS_INDEX_MAP[i.currentStripIndex][t].length;i.changeSymbolTo(n,i.STRIPS_INDEX_MAP[i.currentStripIndex][t][s].toString())}))},e.prototype.getCurrentGroup=function(){var t=this,e=[];return s.times(this.slotGameConfig.ctRowsCnt,(function(i){s.times(t.slotGameConfig.ctColumnsCnt,(function(n){s.isNil(t.currentSymbols[n][i])?e.push(1):e.push(Number(t.currentSymbols[n][i].componentLandscape.textureID))}))})),e},e.prototype.compareGroupToGpmGroups=function(t){var e=this,i="";return s.each(this.groupsIndexMap,(function(n,o){s.isEqual(t,n)&&(i=e.modeListsContentLabel[e.MODE_PICKER][o])})),i},e.prototype.updateScenarioSpin=function(){var t=this.getCurrentGroup();this.currentScenarioSpinSelected.name=this.compareGroupToGpmGroups(t),this.currentScenario.original=s.isEqual(t,this.currentScenarioSpinSelected.group),this.currentScenarioSpinSelected.group=t,this.currentScenario.original=s.isEqual(this.currentSpeCommand,this.currentScenarioSpinSelected.speCmd)&&this.currentScenario.original,this.currentScenarioSpinSelected.speCmd=this.currentSpeCommand,0==this.currentScenario.original&&(this.currentScenarioSpinSelected.texture=this.convertContainerToSprite(this.containerReel.componentLandscape),this.updateButtonWithTexture(this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].componentLandscape,this.currentScenarioSpinSelected.texture),s.isNil(this.containerReel.componentPortrait)||this.updateButtonWithTexture(this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].componentPortrait,this.currentScenarioSpinSelected.texture),this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].enable(!1),this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].enable(!0))},e.prototype.updateCheatToolCommand=function(){var t=this,e="";s.times(this.slotGameConfig.ctRowsCnt,(function(i){s.times(t.slotGameConfig.ctColumnsCnt,(function(n){if(s.isNil(t.currentSymbols[n][i]))e+=t.slotGameConfig.ctSymbolsIds[0]+",";else{var o=t.currentSymbols[n][i].componentLandscape;s.isNil(o[t.PARAM_TEXTURE_ID])?e+=t.slotGameConfig.ctSymbolsIds[0]+",":e+=o[t.PARAM_TEXTURE_ID]+","}}))}));var i=""+e.substring(0,e.length-1);this.insertHistory(i,this.currentSpeCommand);var n={command:i,clean:!this.checkAllSpins,specialCommand:this.currentSpeCommand};this.dispatchSignal(N.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,n),A.Log.info("CHEAT TOOL: Using symbols: "+i+"\nSpecial Command: "+this.currentSpeCommand)},e.prototype.originalScenarioToCookie=function(){this.currentScenario.original=!0;var t,e=localStorage.getItem(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_SCENARIO),i=0;for(t in localStorage){var n=(2*localStorage[t].length+2*t.length)/1024;s.isNaN(n)||(i+=n)}i>8e3&&alert("Warning\nlocalStorage is getting close to the limit\n\nExport scenarios in the JSON and clear localStorage of your browser");var o=0;e&&(o=Number(e)),localStorage.setItem(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_SCENARIO,(o+1).toString()),localStorage.setItem(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_SCENARIO+o,this.convertScenarioToCookie(this.currentScenario))},e.prototype.convertScenarioToCookie=function(t){var e=this;s.each(t.spinGroup,(function(t){delete t.texture,delete t.indexSpin,t.name=e.compareGroupToGpmGroups(t.group),""!=t.name&&(t.group=[])}));var i=JSON.stringify(t.spinGroup);return A.Log.info("EXPORT SCENARIO: "+i),btoa(i)},e.prototype.updateCheatToolScenarioCommand=function(){var t=this,e=[],i=[];0==this.currentScenario.original?this.originalScenarioToCookie():this.convertScenarioToCookie(this.currentScenario),s.each(this.currentScenario.spinGroup,(function(n){if(0==n.group.length){var o=t.modeListsContentLabel[t.MODE_PICKER].indexOf(n.name);-1!=o&&(n.group=t.groupsIndexMap[o])}e.push(n.group.toString()),i.push(n.speCmd)}));var n={command:e,clean:!1,specialCommand:i};this.dispatchSignal(N.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,n),A.Log.info("CHEAT TOOL: Using Scenario : "+this.currentScenario.name+" symbols: "+e.toString()),1==this.autoSpinScenario&&window.setTimeout((function(){t.dispatchSignal(N.SlotCheatToolAction.START_AUTOSPIN_CHEAT_TOOL,e.length)}),1e3)},e.prototype.insertHistory=function(t,e){var i=t;""!=this.modeListLabel[this.MODE_PICKER].text.text&&" "!=this.modeListLabel[this.MODE_PICKER].text.text&&(i=this.modeListLabel[this.MODE_PICKER].text.text),""!=this.modeListLabel[this.MODE_HISTORY].text.text&&" "!=this.modeListLabel[this.MODE_HISTORY].text.text&&(i=this.modeListLabel[this.MODE_HISTORY].text.text),-1!==(i=i.replace(this.ALL_SPINS_HISTORY_STRING,"")).indexOf("_")&&(i=i.substring(0,i.lastIndexOf("_"))),!s.isNull(e)&&e.length>0&&(i+="_"+e.toString()),!0===this.checkAllSpins&&(i=this.ALL_SPINS_HISTORY_STRING+i);var n=s.indexOf(this.modeListsContentLabel[this.MODE_HISTORY],i);this.modeListsContentLabel[this.MODE_HISTORY].splice(0,0,i),s.isNil(this.historyIndexMap[i])&&(this.historyIndexMap[i]={group:t.split(",").map(Number),speCmd:e,allSpinsChecked:this.checkAllSpins}),0!=++n?this.modeListsContentLabel[this.MODE_HISTORY].splice(n,1):this.modeListsContentLabel[this.MODE_HISTORY].length>12&&(delete this.historyIndexMap[this.modeListsContentLabel[this.MODE_HISTORY][this.modeListsContentLabel[this.MODE_HISTORY].length-1]],this.modeListsContentLabel[this.MODE_HISTORY].splice(-1,1)),this.setHistoryCookie()},e.prototype.setHistoryCookie=function(){var t=this,e="";s.each(this.modeListsContentLabel[this.MODE_HISTORY],(function(i,n){s.isNil(t.historyIndexMap[i])||(s.isNil(t.historyIndexMap[i].group)||(e+=i+":"+t.historyIndexMap[i].group.toString()),s.isNil(t.historyIndexMap[i].speCmd)||(e+="-"+t.historyIndexMap[i].speCmd.join("="))),n!=t.modeListsContentLabel[t.MODE_HISTORY].length-1&&(e+="|")})),this.settings.setCookie(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_HISTORY,e)},e.prototype.exportCurrentScenario=function(){var t=this,e=[];s.each(this.currentScenario.spinGroup,(function(i){var n={name:i.name,group:i.group,speCmd:i.speCmd,texture:null,indexSpin:null};delete n.texture,delete n.indexSpin,n.name=t.compareGroupToGpmGroups(n.group),""!=n.name&&(n.group=[]),e.push(n)}));var i=JSON.stringify(e);alert("EXPORT SCENARIO: "+i)},e.prototype.clearHistory=function(){this.modeListsContentLabel[this.MODE_HISTORY]=[],this.historyIndexMap=[],this.resetListDisplay([this.MODE_HISTORY]),this.settings.setCookie(N.SlotCheatToolAction.CHEAT_TOOL_COOKIE_HISTORY,"")},e.prototype.createButtonForList=function(t,e,i,n,o,s){void 0===o&&(o=50),void 0===s&&(s=0);var a=g.Button.createButton(e+"Button",["SlotCheatToolComandsBackground","CardCheatToolDebugGenericButtonOver","CardCheatToolDebugGenericButtonDown",""],n,o);a.buttonName=e,a.onClickHandler=this.clickButtonList.bind(this),a.y=s,a.buttonDetails={indexList:t,indexButton:i};var r=new T.ButtonLabel(e+"Label",{labelWidth:a.width,labelHeight:a.height,labelFontSize:15,labelFontColor:"0xFFFFFF",align:"center",vAlign:"center"});a.label=r,a.addChild(r),a.updateLabel(e);var l=new T.ButtonLabel(e+"Index",{labelWidth:a.width,labelHeight:a.height,labelFontSize:8,labelFontColor:"0xa6a6a6",align:"left",vAlign:"center"});return a.addChild(l),l.updateLabel((i+1).toString()+"."),a},e.prototype.updateButtonWithTexture=function(t,e){var i=this,n=1;s.each(["overSkin","upSkin","downSkin"],(function(o){var s=new PIXI.Sprite(e);s.alpha=n,t[o]=s,t[o].width=i.WIDTH_SCENARIO_PICKER,t[o].height=i.HEIGHT_SCENARIO_PICKER,n-=.3}))},e.prototype.createButtonAddScenarioPicker=function(t){var e=g.Button.createButton("spinAdd"+t,["CardCheatToolAddButtonUp","CardCheatToolAddButtonDown","CardCheatToolAddButtonOver","CardCheatToolAddButtonDisable"],this.HEIGHT_BUTTON_SCENARIO_ADD,this.HEIGHT_BUTTON_SCENARIO_ADD);return e.buttonName="spinAdd"+t,e.x=t%5*(this.WIDTH_SCENARIO_PICKER+this.BETWEEN_SCENARIO_PICKER)+this.BETWEEN_SCENARIO_PICKER-e.width,e.y=Math.floor(t/5)*(this.HEIGHT_SCENARIO_PICKER+this.BETWEEN_SCENARIO_PICKER)+this.HEIGHT_SCENARIO_PICKER/2-e.height/2,e.buttonDetails={indexSpin:t},e},e.prototype.createButtonForScenarioPicker=function(t,e,i){var n=g.Button.createButton("spin"+t,"",this.WIDTH_SCENARIO_PICKER,this.HEIGHT_SCENARIO_PICKER);n.buttonName="spin"+t,n.x=t%5*(this.WIDTH_SCENARIO_PICKER+this.BETWEEN_SCENARIO_PICKER)+this.BETWEEN_SCENARIO_PICKER,n.y=Math.floor(t/5)*(this.HEIGHT_SCENARIO_PICKER+this.BETWEEN_SCENARIO_PICKER);var o=this.convertContainerToSprite(e);i.texture=o,this.updateButtonWithTexture(n,o),n.buttonDetails={indexSpin:t,spin:i},n.changeState(C.ButtonState.UP);var s=new L;return s.lineStyle(1,16777215),s.beginFill(16750848,0),s.drawRect(0,0,this.WIDTH_SCENARIO_PICKER,this.HEIGHT_SCENARIO_PICKER),s.endFill(),s.visible=!1,n.addChild(s),n.buttonDetails.graphicSelect=s,n},e.prototype.resetPicker=function(){var t=this;s.each(this.pickers,(function(e){s.isNil(e)||(e.alpha=t.PICKER_ALPHA_INACTIVE)})),this.currentPickerID=-1},e.prototype.resetListDisplay=function(t){var e=this;s.each(t,(function(t){e.modeListLabel[t]&&e.modeListLabel[t].updateLabel("")}))},e.prototype.resetScenarioButtons=function(){s.each(this.currentScenario.spinButtons,(function(t){t.componentLandscape.buttonDetails.graphicSelect.visible=!1,s.isNil(t.componentPortrait)||(t.componentPortrait.buttonDetails.graphicSelect.visible=!1)})),this.editScenarioSpinButton.enable(!1),this.deleteScenarioSpinButton.enable(!1)},e.prototype.waitForSlowTime=function(){for(var t=(new Date).getTime(),e=0;e-t<this.delaySlowTime;)e=(new Date).getTime()},e.prototype.cartesian=function(t,e){var i=[],n=e.length-1;return function o(a,r){s.times(e[r].length,(function(s){var l=a.slice(0);l.push(e[r][s]),r==n?i.push(t+"|"+l.toString()):o(l,r+1)}))}([],0),i},e}(a.PixiView);e.SlotCheatToolAbstractViewPixi=D},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(55),r=i(16),l=i(47),c=i(18),u=i(40),h=i(106),p=i(27),d=i(93),_=i(11),f=i(108),y=i(14),m=i(41),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyData={},e.clickAdvSettingDown=!0,e.keyPadButtons=[],e}return o(e,t),e.prototype.initVar=function(){if(this.settingsAutoplayFGM=this.settings.getValue("AUTOPLAY_SETTINGS"),this.minimumNbAutospin=this.settingsAutoplayFGM.minimumCycleValue,this.maximumNbAutospin=this.settingsAutoplayFGM.maximumCycleValue,this.cycleValues=this.settingsAutoplayFGM.cycleValues.split(","),this.lossLimitDisplay=new p.ControllerTextField(f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON+"Label",this.findMultipleChild(f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON+"Label")),this.lossLimitButton=new l.ControllerButton(f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON,this.findMultipleChild(f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON),this.clickButton.bind(this)),this.winLimitDisplay=new p.ControllerTextField(f.AutoPlayNames.AP_WIN_LIMIT_BUTTON+"Label",this.findMultipleChild(f.AutoPlayNames.AP_WIN_LIMIT_BUTTON+"Label")),this.winLimitButton=new l.ControllerButton(f.AutoPlayNames.AP_WIN_LIMIT_BUTTON,this.findMultipleChild(f.AutoPlayNames.AP_WIN_LIMIT_BUTTON),this.clickButton.bind(this)),this.stepper=new h.ControllerNumberStepper("apNumberSpinsStepper",this.findMultipleChild("apNumberSpinsStepper"),this.clickButton.bind(this)),this.stepper.setValues(this.cycleValues),this.keyboardInput=new c.ControllerContainer("keyboardSlide",this.findMultipleChild("keyboardSlide")),this.keyboardTitle=new p.ControllerTextField("autoplaySettingsKeypadTitle",this.findMultipleChild("autoplaySettingsKeypadTitle")),this.keyboardAmount=new p.ControllerTextField("autoplaySettingsKeypadAmountField",this.findMultipleChild("autoplaySettingsKeypadAmountField")),this.activateButton=new l.ControllerButton(f.AutoPlayNames.AP_ACTIVATE_BUTTON,this.findMultipleChild(f.AutoPlayNames.AP_ACTIVATE_BUTTON),this.clickButton.bind(this)),this.settingsAutoplayFGM.jackpotPresent)this.jackpotToggleButton=new d.ControllerToggleButton("autoplaySettingsWindowJackpotButton",this.findMultipleChild("autoplaySettingsWindowJackpotButton"),this.clickButton.bind(this));else{var t=this.findMultipleChild("apJackpotContainer");s.each(t,(function(t){t.parent.removeChild(t)}))}this.turboMode=this.settings.getValue("TURBO_MODE"),this.turboMode.enabled&&1==this.turboMode.enabled?(this.turboToggleButton=new d.ControllerToggleButton("spinSettingsTurboButton",this.findMultipleChild("spinSettingsTurboButton"),this.toggleTurbo.bind(this)),this.turboToggleButton.toggleState(Number(this.turboMode.activeByDefault))):(this.turboToggleButton=null,this.autoplayPanel.removeChild(this.findMultipleChild("apTurboContainer"))),this.advSettingsTitleContainer=new c.ControllerContainer("apContainerAdvSettingsTitle",this.findMultipleChild("apContainerAdvSettingsTitle")),this.advSettingsTitleContainer.interactive=!0,this.advSettingsTitleContainer.handleMouseUpGesture(this.clickToggleAdvSetting.bind(this)),this.advSettingsTitleContainer.handleMouseDownGesture(this.clickAdvSettingPropagation.bind(this)),this.advSettingsArrow=new u.ControllerImage("autoplayAdvSettingsArrow",this.findMultipleChild("autoplayAdvSettingsArrow")),this.advSettingsArrow.setAnchor(.5,.5),this.advSettingsContent=new c.ControllerContainer("apContainerAdvSettingsContent",this.findMultipleChild("apContainerAdvSettingsContent")),this.addKeypad(),this.keyboardInput.visible=!1,this.registerToHook("openAutoplay",this.onOpenAutoplay.bind(this)),this.registerToHook("scrollAutoplay",this.onScrollAutoplay.bind(this))},e.prototype.receiveMoneyDisplay=function(t){this.moneyData={},this.moneyData.totalBetInCoins=t.currentTotalBet,this.moneyData.balanceInCoins=t.balance},e.prototype.onStartShowLayer=function(e,i){t.prototype.onStartShowLayer.call(this,e,i),this.showAsset(),this.onCompleteShowLayer(e,i),this.resetSettings()},e.prototype.onStartHideLayer=function(t,e){this.hideKeyboard(),this.onCompleteHideLayer(t,e),this.hideAsset()},e.prototype.resetSettings=function(){this.lossLimitDisplay.updateLabel(m.SlotMoneyUtils.getCoinsAsString(this.getLossLimitValue())),this.winLimitDisplay.updateLabel(m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.defaultValueWin)),s.isNil(this.jackpotToggleButton)||this.jackpotToggleButton.toggleState(0),this.stepper.current=Number(this.settingsAutoplayFGM.defaultCycleValue)},e.prototype.postRegister=function(){this.hasAutoTranslate=!0,t.prototype.postRegister.call(this),this.registerToHook("clickButton",this.onHookClickButton.bind(this))},e.prototype.onHookClickButton=function(t){},e.prototype.onOpenAutoplay=function(t){this.hookCounter=1},e.prototype.onScrollAutoplay=function(t){var e=this.hookCounter<2;e?this.showKeyboard(f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON):this.showKeyboard(f.AutoPlayNames.AP_WIN_LIMIT_BUTTON);var i=new y.ATPageScroll(t.hookDetails.id,e),n=new y.ATOnEventVO(y.ATEventNames.PAGE_SCROLL,i,500);this.dispatchSignal(this.ON_EVENT,n),t.hookDetails.hookResult=e,this.hookCounter++},e.prototype.clickAdvSettingPropagation=function(t){this.clickAdvSettingDown=!0},e.prototype.clickToggleAdvSetting=function(t){this.clickAdvSettingDown&&(this.playSound(_.SlotSoundNames.GENERIC_BUTTON_CLICK),this.toggleAdvSetting(),this.clickAdvSettingDown=!1)},e.prototype.toggleAdvSetting=function(t){void 0===t&&(t=null),s.isNil(t)?this.advSettingsContent.visible=!this.advSettingsContent.visible:this.advSettingsContent.visible=t,this.advSettingsContent.visible?this.advSettingsArrow.rotation=90*Math.PI/180:this.advSettingsArrow.rotation=0},e.prototype.toggleTurbo=function(){this.playSound(_.SlotSoundNames.GENERIC_BUTTON_CLICK),this.dispatchSignal(a.MenuActionNames.MENU_SWITCH_TURBO,Boolean(this.turboToggleButton.state))},e.prototype.addKeypad=function(){var t=this;s.times(10,(function(e){t.keyPadButtons.push(new l.ControllerButton("KeyPad"+e,t.findMultipleChild("KeyPad"+e),t.clickKeypad.bind(t)))})),this.keyPadButtons.push(new l.ControllerButton("KeyPadBack",this.findMultipleChild("KeyPadBack"),this.clickKeypad.bind(this))),this.keyPadButtons.push(new l.ControllerButton("KeyPadDone",this.findMultipleChild("KeyPadDone"),this.clickKeypad.bind(this))),this.keyPadButtons.push(new l.ControllerButton("autoplaySettingsKeypadClearButton",this.findMultipleChild("autoplaySettingsKeypadClearButton"),this.clickKeypad.bind(this)))},e.prototype.showAsset=function(){},e.prototype.hideAutoPlay=function(){this.dispatchSignal(f.AutoPlayActions.CANCEL_AUTO_PLAY)},e.prototype.startAutoPlay=function(){var t=this.getAutoPlayDetails();t.uiAutoPlayComponent>0?this.dispatchSignal(f.AutoPlayActions.START_AUTO_PLAY,t):this.dispatchSignal(f.AutoPlayActions.CANCEL_AUTO_PLAY)},e.prototype.hideAsset=function(){},e.prototype.clickButton=function(t){switch(this.playSound(_.SlotSoundNames.GENERIC_BUTTON_CLICK),t){case f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON:case f.AutoPlayNames.AP_WIN_LIMIT_BUTTON:this.showKeyboard(t);break;case f.AutoPlayNames.AP_CANCEL_BUTTON:this.hideAutoPlay();break;case f.AutoPlayNames.AP_ACTIVATE_BUTTON:this.startAutoPlay();break;case f.AutoPlayNames.AP_STEPPER_BUTTON:this.updateStepper()}},e.prototype.updateStepper=function(){},e.prototype.updateKeyPadToInitial=function(){s.each(this.keyPadButtons,(function(t){t.changeState("button_state_up")}))},e.prototype.clickKeypad=function(t){switch(t){case"KeyPadBack":this.hideKeyboard(!0);break;case"KeyPadDone":this.applyKeyboardValue(),this.hideKeyboard(!0);break;case"autoplaySettingsKeypadClearButton":this.keyboardAmount.updateLabel("");break;default:this.addKeyValue(t.replace(/[^\d]/g,""))}this.updateKeyPadToInitial(),this.playSound(_.SlotSoundNames.GENERIC_BUTTON_CLICK)},e.prototype.addKeyValue=function(t){var e=this.keyboardAmount.text.text,i=e;""===e&&(i="0"),i=""+e+t,i=m.SlotMoneyUtils.getCoinsAsString(parseFloat(i.replace(/[^\d]/g,""))),this.currentKeyboardDisplay===f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON?parseInt(i.replace(/[^\d]/g,""))>=this.settingsAutoplayFGM.maxValueLoss&&(i=m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueLoss)):this.currentKeyboardDisplay===f.AutoPlayNames.AP_WIN_LIMIT_BUTTON&&parseInt(i.replace(/[^\d]/g,""))>=this.settingsAutoplayFGM.maxValueWin&&(i=m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueWin)),i!==e&&this.keyboardAmount.updateLabel(i)},e.prototype.applyKeyboardValue=function(){var t=parseFloat(this.keyboardAmount.text.text.replace(/[^\d]/g,""));if(!s.isNaN(t)){var e="";switch(this.currentKeyboardDisplay){case f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON:e=t>this.settingsAutoplayFGM.maxValueLoss?m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueLoss):t<this.moneyData.totalBetInCoins?m.SlotMoneyUtils.getCoinsAsString(this.moneyData.totalBetInCoins):m.SlotMoneyUtils.getCoinsAsString(t),this.lossLimitDisplay.updateLabel(e);break;case f.AutoPlayNames.AP_WIN_LIMIT_BUTTON:e=t>=this.settingsAutoplayFGM.maxValueWin?m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueWin):t<this.settingsAutoplayFGM.minValueWin?m.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.minValueWin):m.SlotMoneyUtils.getCoinsAsString(t),this.winLimitDisplay.updateLabel(e)}}},e.prototype.showKeyboard=function(t){this.currentKeyboardDisplay=t;var e="";switch(t){case f.AutoPlayNames.AP_LOSS_LIMIT_BUTTON:e=this.translations.getValue("autoplaySettingsConditionCreditDescription");break;case f.AutoPlayNames.AP_WIN_LIMIT_BUTTON:e=this.translations.getValue("autoplaySettingsConditionWinDescription")}this.keyboardTitle.updateLabel(e),this.keyboardAmount.updateLabel(""),this.keyboardInput.visible=!0,this.autoplayPanel.visible=!1},e.prototype.hideKeyboard=function(t){void 0===t&&(t=!1),this.keyboardInput.visible=!1,this.autoplayPanel.visible=!0},e.prototype.getAutoPlayDetails=function(){var t={};return s.isNil(this.jackpotToggleButton)||(t.uiAutoPlayStopJackpotToggle=1==this.jackpotToggleButton.state),t.uiAutoPlayStopWinToggle=this.winLimitDisplay.text&&this.winLimitDisplay.text.text.length>0&&"0"!=this.winLimitDisplay.text.text,t.uiAutoSpinNumberComponent=Number(this.cycleValues[this.stepper.index]),t.uiAutoPlayStopCreditComponent=parseInt(this.lossLimitDisplay.text.text.replace(/[^\d]/g,"")),t.uiAutoPlayStopWinComponent=parseInt(this.winLimitDisplay.text.text.replace(/[^\d]/g,"")),t.uiAutoPlayComponent=Number(this.cycleValues[this.stepper.index]),t},e.prototype.getLossLimitValue=function(){return this.moneyData.balanceInCoins>this.moneyData.totalBetInCoins?this.moneyData.balanceInCoins:this.moneyData.totalBetInCoins},e}(r.PixiView);e.AbstractAutoPlayPopUpPixiView=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(19),r=i(109),l=i(6),c=i(123),u=i(7),h=i(4),p=i(1),d=i(2),_=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.userActions={},n.activeShortcuts={},n.eventKeyDownRemoved=!1,n.KEY_UP="keyup",n.KEY_DOWN="keydown",n.TAP="tap",n}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.registerDisplay(),this.onKeyUpBind=this.onKeyUp.bind(this),this.onKeyDownBind=this.onKeyDown.bind(this),h.Device.instance().desktop&&(document.addEventListener(this.KEY_UP,this.onKeyUpBind),document.addEventListener(this.KEY_DOWN,this.onKeyDownBind)),h.Device.hammer.on(this.TAP,this.skipActionOnTapAnyWhereOnScreen.bind(this)),s.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(p.Names.Proxies.STATE_MACHINE,p.Names.Modules.GAME_SETUP))},e.prototype.addNotifications=function(){this.addNotification(u.UINotifications.USER_ACTION_TRIGGERED,this.onUserAction.bind(this)),this.addNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,this.onActivateUserShortcut.bind(this)),this.addNotification(u.UINotifications.ADD_USER_ACTIONS,this.addUserActions.bind(this)),this.addNotification(d.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,this.enableAllUserShortcuts.bind(this)),this.addNotification(d.Notifications.Global.ENABLE_USER_SHORTCUT,this.onEnableAllUserShortcut.bind(this)),this.addNotification(d.Notifications.Global.STATE_CHANGED,this.onStateChanged.bind(this))},e.prototype.onUserAction=function(t){var e=this.userActions[t.body];e?this.handleUserAction(e):l.Log.error("No ActionVO found for this action "+t.body)},e.prototype.onKeyUp=function(t){var e=this;t.preventDefault();var i=c.KeyboardMap.getString(t.keyCode);s.each(this.activeShortcuts,(function(t){if(t.isEnabled&&e.matchKey(t.shortcuts,i)&&(t.isAvailableOnAllStates||e.isActiveOnCurrentState(t.availableStates,e.stateMachineProxy.state)))return t.isOnlyOnce&&(document.removeEventListener(e.KEY_UP,e.onKeyUpBind),e.eventKeyDownRemoved=!0),e.handleUserAction(t),!1}))},e.prototype.onKeyDown=function(t){32==t.keyCode&&t.target==document.body&&t.preventDefault(),122==t.keyCode&&(t.preventDefault(),r.HardwareEvents.toggleFullscreen())},e.prototype.onStateChanged=function(){h.Device.instance().desktop&&this.eventKeyDownRemoved&&(document.addEventListener(this.KEY_UP,this.onKeyUpBind),this.eventKeyDownRemoved=!1)},e.prototype.handleUserAction=function(t){l.Log.debug("SENT UI_ACTION / UI_NOTIFICATION "+t.actionName),this.sendGlobalNotification(t.notificationName,t.actionName)},e.prototype.enableAllUserShortcuts=function(t){var e=this,i=t.body;s.each(this.activeShortcuts,(function(t,n){e.enableUserShortcut(n,i)}))},e.prototype.onEnableAllUserShortcut=function(t){var e=t.body;this.enableUserShortcut(e.key,e.enable)},e.prototype.enableUserShortcut=function(t,e){if(this.activeShortcuts[t]){var i=this.activeShortcuts[t];i.isAvailableOnAllStates||(i.isEnabled=e)}},e.prototype.onActivateUserShortcut=function(t){var e=t.body.userAction;t.body.activate?this.activeShortcuts[e]=this.userActions[e]:delete this.activeShortcuts[e]},e.prototype.matchKey=function(t,e){if(!s.isNil(e))return t.indexOf(e.toLocaleLowerCase())>-1},e.prototype.isActiveOnCurrentState=function(t,e){return t.indexOf(e)>-1},e.prototype.addUserActions=function(t){var e=this,i=t.body;s.each(i,(function(t){e.userActions[t.actionName]=t,t.shortcuts.length&&(e.activeShortcuts[t.actionName]=t)}))},e.prototype.skipActionOnTapAnyWhereOnScreen=function(){var t=this,e=this.TAP;s.each(this.activeShortcuts,(function(i){if(i&&i.isEnabled&&t.matchKey(i.shortcuts,e)&&(i.isAvailableOnAllStates||t.isActiveOnCurrentState(i.availableStates,t.stateMachineProxy.state)))return t.handleUserAction(i),!1}))},e}(a.AbstractMediator);e.UserActionsHandlerMediator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(28),c=i(19),u=i(156),h=i(9),p=i(65),d=i(903),_=i(8),f=i(6),y=i(4),m=i(10),N=i(43),S=i(104),g=PIXI.Point,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skipWheelCompleteUIAction=!1,e.leftNearMiss=!1,e}return o(e,t),e.prototype.addNotifications=function(){this.initVars(),t.prototype.addNotifications.call(this),this.addNotification(r.Notifications.Wheels.SPIN_WHEEL_ANIMATION,this.onStartWheelAnimation.bind(this)),this.addNotification(N.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,this.onWinningAnimationsStart.bind(this)),this.addNotification(r.Notifications.Wheels.STOP_WHEEL_ANIMATION,this.onStopWheelAnimation.bind(this)),this.addNotification(l.MegawaysNotifications.UPDATE_DISPLAY_SYMBOLS,this.onUpdateDisplaySymbols.bind(this)),this.addNotification(l.MegawaysNotifications.UPDATE_NEAR_MISS,this.onUpdateNearMiss.bind(this)),this.addNotification(r.Notifications.Global.HIDE_SYMBOLS,this.onHideSymbols.bind(this)),this.addNotification(r.Notifications.Wheels.LOCK_WHEEL,this.onLockWheel.bind(this)),this.addNotification(r.Notifications.Wheels.UNLOCK_WHEEL,this.onUnlockWheel.bind(this)),this.addNotification(l.MegawaysNotifications.DO_CASCADE_SPIN,this.onCascadeSpin.bind(this)),this.addNotification(r.Notifications.Wheels.HIDE_WHEELS,this.onHideWheels.bind(this)),this.addNotification(r.Notifications.Wheels.SHOW_WHEELS,this.onShowWheels.bind(this)),this.addNotification(r.Notifications.Global.TURBO_MODE_TOGGLED,this.onTurboModeToggle.bind(this)),this.addNotification(r.Notifications.Global.GMAPI_SHOW_POPUP,this.onGMAPIPopup.bind(this))},e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this),this.initWheelSettings(),this.cascadeNearMissSettings=this.megawaysProxy.wheelSettings.cascadeNearMissSettings.settings,y.Device.instance().mobile?(this.landscapeConfiguration=s.filter(this.masterLayoutProxy.wheelsConfiguration,{layoutType:S.LayoutType.LANDSCAPE})[0],this.portraitConfiguration=s.filter(this.masterLayoutProxy.wheelsConfiguration,{layoutType:S.LayoutType.PORTRAIT})[0]):this.landscapeConfiguration=s.filter(this.masterLayoutProxy.wheelsConfiguration,{layoutType:S.LayoutType.DESKTOP})[0],1!=this.cascadeNearMissSettings.zoom&&(this.arrayLayers=_.SceneManager.currentScene.children,this.arrayLayersToMove=[a.Names.Layers.BACKGROUND,a.Names.Layers.SYMBOLS_BACKGROUND,a.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,a.Names.Layers.WHEELS,a.Names.Layers.SYMBOLS,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,a.Names.Layers.SYMBOLS_FRAME,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,a.Names.Layers.EXTENDED_WILD,a.Names.Layers.LOGO],this.cascadeNearMissSettings.layerToZoom&&this.cascadeNearMissSettings.layerToZoom.forEach((function(t){-1==e.arrayLayersToMove.indexOf(t)&&e.arrayLayersToMove.push(t)})),this.cascadeNearMissSettings.defaultZoomOffsets=new Map,this.setUpNonWheelDefaults(),this.setUpWheelDefaults()),this.announceSettings=this.slotGameConfig.getProperty(h.MegawaysNames.MEGAWAYS_WHEELS,h.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE),this.initCascadeImpactAnimation(),this.resizeMobileReels()},e.prototype.setUpNonWheelDefaults=function(){var t=this;this.arrayLayersToMove.forEach((function(e){var i=t.getLayerById(e);i&&t.cascadeNearMissSettings.defaultZoomOffsets.set(e,new g(i.x,i.y))}))},e.prototype.setUpWheelDefaults=function(){var t=this,i=this.landscapeConfiguration.reelsArea.x/2,n=this.landscapeConfiguration.reelsArea.y/2,o=this.landscapeConfiguration.reelsArea.width/2,s=this.landscapeConfiguration.reelsArea.height/2,a=this.landscapeConfiguration.reelsArea.scaleX,r=new g(Math.floor(i-o*a/2),Math.floor(n-s*a/2));e.masterLayoutWheelLayersToResize().forEach((function(e){t.cascadeNearMissSettings.defaultZoomOffsets.set(e,r)}))},e.prototype.initCascadeImpactAnimation=function(){if(this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactAnimationAtlas){var t={json:this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactAnimationAtlas,atlasData:null};this.sendGlobalNotification(r.Notifications.Winning.GET_SPINE_DATA,{spineInfo:t}),this.view.impactSpineLoaded(t.atlasData[0],this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactAnimation),isNaN(this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactOffsetY)&&(this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactOffsetY=0),isNaN(this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactTimeScale)&&(this.megawaysProxy.wheelSettings.eplSettings.cascadeSettings.impactTimeScale=1)}},e.prototype.initWheelSettings=function(){var t=this.getMegawaysWheelsSettings();if(t.eplSettings=this.slotGameConfig.getProperty(h.MegawaysNames.MEGAWAYS_WHEELS,h.MegawaysNames.MEGAWAYS_WHEELS_SETTING),t.parseSymbolsSettings(this.slotGameConfig),t.parseReelStartSettings(this.slotGameConfig),t.createRandomWeights(this.slotGameConfig),t.parseWheelBehaviour(),t.parseReelCascadeSettings(),t.parseNearMissSettings(this.slotGameConfig),this.getGPMSettings(t),this.megawaysProxy.wheelSettings=t,this.view.setUp(t),t.cascadeNearMissSettings&&t.cascadeNearMissSettings.settings.spineJSON){var e={json:t.cascadeNearMissSettings.settings.spineJSON,atlasData:null};this.sendGlobalNotification(r.Notifications.Winning.GET_SPINE_DATA,{spineInfo:e}),this.view.createNearMissDisplay(e.atlasData[0])}},e.prototype.getGPMSettings=function(t){var e,i=!1;this.settings.getValue(h.MegawaysNames.WHEEL_DECORATORS)&&((e=this.settings.getValue(h.MegawaysNames.WHEEL_DECORATORS)).id&&e.id==h.MegawaysNames.TWEEN_WHEEL_DECORATOR&&(t.setGPMValue(e),i=!0));(this.settings.getValue(h.MegawaysNames.WHEELS_DECORATORS)&&(t.ignoreStop=this.settings.getSpecificKey(h.MegawaysNames.WHEELS_DECORATORS,"ignoreStop")),!i&&this.slotGameConfig.hasProperties(h.MegawaysNames.WHEEL_DECORATORS))&&((e=this.slotGameConfig.getProperties(h.MegawaysNames.WHEEL_DECORATORS))[h.MegawaysNames.TWEEN_WHEEL_DECORATOR]&&t.setGPMValue(e[h.MegawaysNames.TWEEN_WHEEL_DECORATOR]))},e.prototype.getMegawaysWheelsSettings=function(){return new d.MegawaysWheelsSettings},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.MegawaysBroadcastActions.ALL_WHEELS_COMPLETE,this.onAllWheelsComplete.bind(this)),this.addListenerToSignal(u.MegawaysBroadcastActions.WHEEL_COMPLETE,this.onAWheelComplete.bind(this)),this.addListenerToSignal(u.MegawaysBroadcastActions.CASCADE_SYMBOL_FALLEN,this.cascadeSymbolFallen.bind(this))},e.prototype.initVars=function(){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(h.MegawaysNames.GAME_CONFIG)),s.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(a.Names.Proxies.TURBO_MODE,a.Names.Modules.CERTIFICATION)),s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(a.Names.Proxies.MASTER_LAYERS,a.Names.Modules.GAME_SETUP)),s.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(h.MegawaysNames.MEGAWAYS_PROXY,h.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveGlobalProxy(a.Names.Proxies.WINNINGS_ANIMATIONS,a.Names.Modules.WINNINGS)),this.initTurboSettings(),this.turboModeSettings=this.settings.getValue("TURBO_MODE")},e.prototype.initTurboSettings=function(){if(this.turboModeProxy.getTurboModeActive())r.Notifications.Global.TURBO_MODE_TOGGLED,this.turboModeProxy.getTurboModeActive()},e.prototype.onTurboModeToggle=function(t){var e=!1;s.has(t.body,"isTurboActive")&&(e=t.body.isTurboActive),this.turboModeProxy.changeTurboModeState(e),this.validationProxy.toggleValidation(m.ValidationProperties.TURBO_MODE_INACTIVE,!e),this.view.setTurboMode(this.turboModeProxy.getTurboWheelDecoratorSettings()),e&&!this.turboToggleLockout&&(this.turboToggleLockout=!0,this.view.stopAnticipation(),this.view.stopWheelSpin(),this.view.updateNearMiss({nearMissAtStart:!1,nearMissAtEnd:!1}))},e.prototype.onStartWheelAnimation=function(t){this.view.startWheelSpin(),this.announceOccurence=0},e.prototype.onWinningAnimationsStart=function(t){this.view.stopSpecialSymbolAnimations()},e.prototype.onGMAPIPopup=function(t){this.view.GMAPIShown=!0},e.prototype.onCascadeSpin=function(t){var e=[];s.each(this.megawaysProxy.currentSymbolsMatrix,(function(t){e=e.concat(t)})),this.view.startCascadeSpin(e,this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage-1].symbolsRemoved),this.sendGlobalNotification(r.Notifications.Global.UPDATE_USER_INTERFACE,p.MegawaysUiBehavior.CASCADE_DROP),this.leftNearMiss=!1},e.prototype.onStopWheelAnimation=function(t){s.isNil(t)||s.isNil(t.body)||s.isNil(t.body.skipUIAction)||!0===t.body.skipUIAction&&(this.skipWheelCompleteUIAction=!0),this.view.stopWheelSpin()},e.prototype.onUpdateDisplaySymbols=function(t){this.view.updateDisplaySymbols(t.body),this.turboToggleLockout=!1},e.prototype.onUpdateNearMiss=function(t){this.view.updateNearMiss(t.body)},e.prototype.onHideWheels=function(t){this.view.display.visible=!1},e.prototype.onShowWheels=function(t){this.view.display.visible=!0},e.prototype.onHideSymbols=function(t){var e=this,i=t.body,n=[];i.forEach((function(t,i){var o=i%e.slotGameConfig.wheelsCnt,s=Math.floor(i/e.slotGameConfig.wheelsCnt);0==s&&n.push([]),s<e.megawaysProxy.rowsPerWheel[o]&&n[o].push(t)})),this.view.hideSymbols(n)},e.prototype.onLockWheel=function(t){this.view.lockWheel(t.body,!0)},e.prototype.onUnlockWheel=function(t){this.view.lockWheel(t.body,!1)},e.prototype.onAllWheelsComplete=function(){var t=this;this.sendGlobalNotification(r.Notifications.Wheels.WHEELS_ANIMATIONS_COMPLETE,{skipUIAction:this.winningsAnimationsProxy.isCascadeWin}),this.sendGlobalNotification(r.Notifications.Wheels.WHEELS_COMPLETE_SOUNDS),this.megawaysProxy.nearMissData.nearMissAtEnd?this.zoomInDelayedCall=TweenMax.delayedCall(this.cascadeNearMissSettings.zoomInDelay,(function(){t.megawaysProxy.isInNearMiss||(t.sendGlobalNotification(l.MegawaysNotifications.NEAR_MISS_BEGINS),t.megawaysProxy.isInNearMiss=!0),t.view.startAnticipation(t.megawaysProxy.currentSymbolsMatrix,t.megawaysProxy.rowsPerWheel),t.zoomIn()})):this.megawaysProxy.isInNearMiss&&(this.sendGlobalNotification(l.MegawaysNotifications.NEAR_MISS_ENDS),this.megawaysProxy.isInNearMiss=!1,this.zoomInDelayedCall.kill(),this.zoomBackOut())},e.prototype.onAWheelComplete=function(t){var e=this,i=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage];if(0==this.megawaysProxy.cascadeStage)this.megawaysProxy.megaways=this.megawaysProxy.rowsPerWheel.reduce((function(t,i,n){return e.view.getWheelCompleted(n)&&(t*=i),t}),1);else{var n=i.symbolsRemovedLastSpin[t].reduce((function(t,e){return Math.max(t,e)}),0);this.view.playImpactAnimation(t,n)}if(i)for(var o=0;o<this.megawaysProxy.maxRowsPerWheel;o++)if(1==i.announceSymbols[t+o*this.slotGameConfig.wheelsCnt]){var s=i.symbolsMatrix[o][t];this.playAnnounce(t,o,s)}this.sendGlobalNotification(r.Notifications.Wheels.WHEEL_COMPLETE,t)},e.prototype.playAnnounce=function(t,e,i){this.view.playAnnounce(t,e,i,this.megawaysProxy.rowsPerWheel),this.playAnnounceSound(t,e,i)},e.prototype.playAnnounceSound=function(t,e,i){var n=s.find(this.announceSettings.symbols,{symbolId:i});if(this.announceOccurence++,n&&n.announceSound){var o=n.announceSound;if(n.announceSoundIncrements){var a=this.announceOccurence;s.isNil(n.announceSoundMaxIncrements)||(a=Math.min(a,n.announceSoundMaxIncrements)),o+=a}this.onPlaySound({soundName:o,loop:!1,fadeIn:0,callBackFunction:null,startTime:0})}},e.prototype.cascadeSymbolFallen=function(t){},Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.WHEELS},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.zoomIn=function(){if(this.zoomedIn=!0,!y.Device.isPortrait()||!y.Device.instance().mobile){var t=this.cascadeNearMissSettings.zoom,e=this.cascadeNearMissSettings.layerZoomOffsets,i=this.cascadeNearMissSettings.genericZoomOffset,n=this.cascadeNearMissSettings.layerZoomPivots;this.zoomLayers(t,this.cascadeNearMissSettings.zoomTime,e,i,n)}},e.prototype.zoomBackOut=function(){this.zoomedIn=!1,y.Device.isPortrait()&&y.Device.instance().mobile||this.zoomLayers(this.getWheelConfig().reelsArea.scaleX,this.cascadeNearMissSettings.zoomOutTime)},e.prototype.zoomLayers=function(t,e,i,n,o){var a=this;this.arrayLayersToMove.forEach((function(r){var l=s.find(a.arrayLayers,(function(t){return t.name==r}));if(s.isNil(l))f.Log.warning("Layer "+r+" doesn't exist");else{var c=a.cascadeNearMissSettings.defaultZoomOffsets.get(r).clone();i&&i.has(r)?(c.x+=i.get(r).x,c.y+=i.get(r).y):n&&(c.x+=n.x,c.y+=n.y),o&&o.has(r)&&(l.pivot.x=o.get(r).x,l.pivot.y=o.get(r).y),TweenLite.killTweensOf(l),TweenLite.to(l,e,{pixi:{scaleX:t,scaleY:t,x:c.x,y:c.y}})}}))},e.prototype.getLayerById=function(t){return s.find(this.arrayLayers,(function(e){return e.name==t}))},e.masterLayoutWheelLayersToResize=function(){return[a.Names.Layers.WHEELS,a.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,a.Names.Layers.WHEELS_OVERLAY,a.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,a.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN,a.Names.Layers.RESPINS,a.Names.Layers.BONUS]},e.prototype.onDeviceScreenResized=function(e){t.prototype.onDeviceScreenResized.call(this,e),y.Device.instance().mobile&&this.zoomedIn&&(this.zoomedIn=!1,this.zoomLayers(this.getWheelConfig(!0).reelsArea.scaleX,0)),this.resizeMobileReels()},e.prototype.resizeMobileReels=function(){var t=this;if(y.Device.instance().mobile){if(this.arrayLayersToMove.forEach((function(e){var i=s.find(t.arrayLayers,(function(t){return t.name==e}));s.isNil(i)||TweenLite.killTweensOf(i)})),s.isNil(this.landscapeConfiguration)||s.isNil(this.portraitConfiguration))return;var i,n=e.masterLayoutWheelLayersToResize(),o=this.getWheelConfig(),a=void 0,r=void 0;y.Device.isLandscape()?(a=o,r=0,i=o.reelsArea.scaleX):(a=this.landscapeConfiguration,r=this.masterLayoutProxy.PORTRAIT_X_OFFSET,i=Number((o.reelsArea.width*o.reelsArea.scaleX/a.reelsArea.width).toFixed(2)));var l=o.reelsArea.x/2+r,c=o.reelsArea.y/2,u=a.reelsArea.width/2,h=a.reelsArea.height/2,p=Math.floor(l-u*i/2),d=Math.floor(c-h*i/2);s.each(n,(function(e){var n=t.layersProxy.retrieveLayer(e).container;n.scale.set(i,i),n.position.set(p,d)}))}},e.prototype.getWheelConfig=function(t){return void 0===t&&(t=!1),y.Device.instance().mobile?y.Device.isLandscape()||t?this.landscapeConfiguration:this.portraitConfiguration:this.landscapeConfiguration},e}(c.AbstractMediator);e.MegawaysWheelsMediator=A},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.WHEEL_COMPLETE="wheel_complete",t.ALL_WHEELS_COMPLETE="all_wheels_complete",t.CASCADE_SYMBOL_FALLEN="CASCADE_SYMBOL_FALLEN",t}();e.MegawaysBroadcastActions=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Sprite,a=i(15),r=i(101),l=function(t){function e(){var e=t.call(this)||this;return e.image=new s,e.addChild(e.image),e.image.anchor.set(.5),e}return o(e,t),e.prototype.setSymbol=function(t,e,i,n){void 0===n&&(n=!1);var o=r.MegawaysWheelsUtils.getSymbolAssetReference(t,e,n);this.image.texture=a.TextureUtil.instance().getTextureFromCache(o),this.priority=i,this.symbolId=t,this.size=e,this.blurred=n},e.prototype.setStopped=function(){if(this.blurred){this.blurred=!1;var t=r.MegawaysWheelsUtils.getSymbolAssetReference(this.symbolId,this.size,!1);this.image.texture=a.TextureUtil.instance().getTextureFromCache(t)}},e.prototype.clear=function(){this.image.texture=null,this.symbolId=-1},Object.defineProperty(e.prototype,"top",{get:function(){return this.y-this.halfHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.symbolHeight},enumerable:!0,configurable:!0}),e}(s);e.MegawaysSymbolDisplay=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(5),r=i(2),l=i(960),c=i(61),u=i(961),h=i(159),p=i(347),d=i(964),_=i(24),f=i(349),y=i(965),m=i(966),N=i(967),S=i(968),g=i(969),A=i(970),E=i(971),I=i(4),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e,"RESPIN_ASSET_SIZE",{get:function(){return I.Device.instance().mobile?.5:1},enumerable:!0,configurable:!0}),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.Notifications.Global.INITIALIZE_MODULE,l.MegawaysCashRespinsInitializeModuleCommand),this.addCommand(r.Notifications.Global.PRELOADER_REMOVED,E.MegawaysCashRespinsInitUserActionCommand),this.addCommand(a.States.END_GAME_PREPARE,u.MegawaysCashRespinsEndGamePrepare),this.addCommand(a.States.REROUTE_GAME_PREPARE,u.MegawaysCashRespinsEndGamePrepare),this.addCommand(_.MegawaysCashRespinsNotifications.FEATURE_TRANSITION_IN,d.MegawaysCashRespinsTransitionInCommand),this.addCommand(_.MegawaysCashRespinsNotifications.END_FEATURE_RESPINS,A.MegawaysCashRespinsEndFeatureCommand)},e.prototype.registerProxies=function(){this.addProxy(c.MegawaysCashRespinsProxy.NAME,c.MegawaysCashRespinsProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView(p.MegawaysCashRespinsWheelView.NAME,[p.MegawaysCashRespinsWheelView,p.MegawaysCashRespinsWheelView,null]),this.addView(f.MegawaysCashRespinsPopupStartView.NAME,[f.MegawaysCashRespinsPopupStartView,f.MegawaysCashRespinsPopupStartView,null]),this.addView(N.MegawaysCashRespinsUiView.NAME,[N.MegawaysCashRespinsUiView,N.MegawaysCashRespinsUiView,null]),this.addView(S.MegawaysCashRespinsPopupEndView.NAME,[S.MegawaysCashRespinsPopupEndView,S.MegawaysCashRespinsPopupEndView,null])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(h.MegawaysCashRespinsWheelMediator,p.MegawaysCashRespinsWheelView.NAME),this.addMediator(y.MegawaysCashRespinsPopupStartMediator,f.MegawaysCashRespinsPopupStartView.NAME),this.addMediator(m.MegawaysCashRespinsUiMediator,N.MegawaysCashRespinsUiView.NAME),this.addMediator(g.MegawaysCashRespinsPopupEndMediator,S.MegawaysCashRespinsPopupEndView.NAME)},e.NAME="MegawaysCashRespinsModule",e}(s.AbstractModule);e.MegawaysCashRespinsModule=O},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(2),r=i(24),l=i(1),c=i(9),u=i(61),h=i(29),p=i(17),d=i(68),_=i(4),f=i(10),y=l.Names.Layers,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spinReceived=!1,e}return o(e,t),Object.defineProperty(e,"WHEEL_SPINE_FILE_NAME",{get:function(){return _.Device.instance().mobile?"wheelAnimation-Mobile.json":"wheelAnimation.json"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return y.RESPINS},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.MegawaysCashRespinsServerData.SETUP_RESPIN_WHEELS,this.setupRespins.bind(this)),this.addNotification(r.MegawaysCashRespinsServerData.START_RESPIN_WHEELS,this.startRespins.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.SPIN_RESULT_RECEIVED,this.onSpinResultReceived.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.CLEAN_RESPIN_WHEELS,this.cleanUpRespins.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.SKIP_RESPINS_COLLECT,this.respinCollectSkipped.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.SEND_CHOICE_TO_SERVER,this.onSendChoiceToServer,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_ALL_WHEEL_COMPLETED,this.onSpinEnded,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_START_WIN_INCREMENT,this.onStartIncrement,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_PLAY_PARTICLE_COLLECT,this.playParticleCollect,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.ON_START_NEXT_COLLECT_STEP,this.onStartNextCollectStep,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_COLLECT_START,this.onCollectStart,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_COLLECT_END,this.onCollectEnd,this)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.slotGameConfig=this.settings.getValue(c.MegawaysNames.GAME_CONFIG),this.megawaysProxy=this.retrieveGlobalProxy(c.MegawaysNames.MEGAWAYS_PROXY,c.MegawaysNames.MEGAWAYS_WHEELS_MODULE),this.cashRespinsProxy=this.retrieveGlobalProxy(u.MegawaysCashRespinsProxy.NAME,h.AztecModules.RESPINS_MODULE),p.ServiceLocator.instance().get("VisualAssetsMap").visualAssets[r.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX+"DIGIT"]=r.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX,this.bonusLayer=this.layersProxy.retrieveLayer(y.BONUS),this.preloadProxy=this.retrieveGlobalProxy(d.PreloadProxy.NAME,d.PreloadProxy.SCOPE),this.viewComponent.initMultipliers(this.bonusLayer.container,this.preloadProxy.getSpineData(e.MULTIPLIERS_SPINE_FILE_NAME));var i=null;_.Device.deviceLevel()!=_.DeviceLevel.obsolete&&(i=this.preloadProxy.getSpineData(e.WHEEL_SPINE_FILE_NAME)),this.viewComponent.initWheels(this.preloadProxy.getSpineData(e.SYMBOLS_SPINE_FILE_NAME),i)},e.prototype.setupRespins=function(){var t=this;this.cashRespinsProxy.isInRespinsCountup=!1,this.initMultipliers().then((function(){t.initWheels().then((function(){t.layerTransitionInStart()}))}))},e.prototype.initMultipliers=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.viewComponent.setupMultipliers(t.megawaysProxy.rowsPerWheel,t.cashRespinsProxy.cashRespinsData),e()}))}catch(t){i(t)}}))},e.prototype.initWheels=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){var i={controller:null};t.sendGlobalNotification(r.MegawaysCashRespinsNotifications.GET_TOTAL_WIN_TEXTFIELD,i),t.sendGlobalNotification(r.MegawaysCashRespinsNotifications.INIT_SPIN_LEFT,i),t.bonusLayer.container.visible=!0,t.viewComponent.setupWheels(t.megawaysProxy.rowsPerWheel,t.megawaysProxy.wheelSettings.rowHeights,t.cashRespinsProxy.cashRespinsData,i.controller),e()}))}catch(t){i(t)}}))},e.prototype.startRespins=function(){this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,r.MegawaysCashRespinsStates.CASH_RESPINS),this.onSendChoiceToServer()},e.prototype.onSpinEnded=function(){this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.RESPINS_ALL_SPIN_COMPLETED)},e.prototype.onSendChoiceToServer=function(){this._spinReceived=!1,this.sendGlobalNotification(a.Notifications.Connection.SERVER_ACTION,{actionName:r.MegawaysCashRespinsServerData.SERVER_ACTION_SEND_RESPINS,actionData:{}}),this.cashRespinsProxy.hasCashRespin()&&(this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.SPIN),this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.GAT_SCREENSHOT),this.validationProxy.toggleValidation(f.ValidationProperties.ATM_GAMEROUND_ENDED_TO_BE_SEND,!0))},e.prototype.onSpinResultReceived=function(){var t=this;this.sendGlobalNotification(a.Notifications.Global.HIDE_SETTINGS_MENU),!1===this._spinReceived&&0!=this.cashRespinsProxy.cashRespinsData.bonusGameSpinsUsed&&(this._spinReceived=!0,TweenMax.delayedCall(e.DELAY_BEFORE_SPIN,(function(){t.viewComponent.setupSpin(t.cashRespinsProxy.cashRespinsData),t.sendGlobalNotification(r.MegawaysCashRespinsNotifications.START_NEXT_RESPIN)})))},e.prototype.onStartIncrement=function(){this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_WIN_INCREMENT)},e.prototype.onCollectStart=function(){this.cashRespinsProxy.isInRespinsCountup=!0,this.sendNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_WIN_COLLECT)},e.prototype.onCollectEnd=function(){this.cashRespinsProxy.isInRespinsCountup=!1},e.prototype.respinCollectSkipped=function(){this.viewComponent.respinCollectSkipped()},e.prototype.cleanUpRespins=function(){var t=this;this.bonusLayer.container.visible=!1,this.cleanUpMultipliers().then((function(){t.cleanUpWheels().then((function(){t.layerTransitionOutStart()}))}))},e.prototype.cleanUpMultipliers=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.viewComponent.cleanMultipliers(),e()}))}catch(t){i(t)}}))},e.prototype.cleanUpWheels=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.viewComponent.cleanWheels(),e()}))}catch(t){i(t)}}))},e.prototype.onStartNextCollectStep=function(t){this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.UPDATE_TOTAL_WIN_FIELD,t)},e.prototype.playParticleCollect=function(){this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_PARTICLE_COLLECT)},e.MULTIPLIERS_SPINE_FILE_NAME="FeaturesAnimations.json",e.SYMBOLS_SPINE_FILE_NAME="All-Symbols-Animation.json",e.DELAY_BEFORE_SPIN=1,e}(s.AbstractMediator);e.MegawaysCashRespinsWheelMediator=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i(994),r=i(341),l=i(1),c=i(995),u=i(996),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("PaytableView",u.NgsMwAztecGoldDesktopPaytableView,s.Device.CLASS_INDEX_DESKTOP),this.replaceView("PaytableView",a.NgsMwAztecGoldMobilePaytableView,s.Device.CLASS_INDEX_MOBILE)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(l.Names.Proxies.PAYTABLE,c.NgsMwAztecGoldPayoutsProxy)},e.MEGAWAYS_LICENSE_TF="Megaways_Description3",e}(r.MegawaysPaytable);e.NgsMwAztecGoldPaytable=h},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","mouseover","mouseenter","mousedown","mousemove","mouseup","mousecancel","mouseout","mouseleave","touchover","touchenter","touchdown","touchmove","touchup","touchcancel","touchout","touchleave"],a=function(t){function e(e,i){var n=t.call(this,e)||this;return n.styles=i,s.forEach((function(t){n.on(t,(function(t){return n.handleInteraction(t)}))})),n}return o(e,t),e.prototype.handleInteraction=function(t){var e=t,i=t.data.getLocalPosition(this);this.anchor&&(i.x+=this.anchor.x*this.width,i.y+=this.anchor.y*this.height);var n=this.hitboxes.reduce((function(t,e){return void 0!==t?t:e.hitbox.contains(i.x,i.y)?e:void 0}),void 0);e.targetTag=void 0===n?void 0:n.tag},Object.defineProperty(e.prototype,"styles",{set:function(t){for(var i in this.textStyles={},this.textStyles.default=this.assign({},e.DEFAULT_TAG_STYLE),t)"default"===i?this.assign(this.textStyles.default,t[i]):this.textStyles[i]=this.assign({},t[i]);this._style=new PIXI.TextStyle(this.textStyles.default),this.dirty=!0},enumerable:!0,configurable:!0}),e.prototype.setTagStyle=function(t,e){t in this.textStyles?this.assign(this.textStyles[t],e):this.textStyles[t]=this.assign({},e),this._style=new PIXI.TextStyle(this.textStyles.default),this.dirty=!0},e.prototype.deleteTagStyle=function(t){"default"===t?this.textStyles.default=this.assign({},e.DEFAULT_TAG_STYLE):delete this.textStyles[t],this._style=new PIXI.TextStyle(this.textStyles.default),this.dirty=!0},e.prototype.getTagRegex=function(t,e){var i=Object.keys(this.textStyles).join("|"),n="<"+(i=t?"("+i+")":"(?:"+i+")")+"(?:\\s+[A-Za-z0-9_\\-]+=(?:\"(?:[^\"]+|\\\\\")*\"|'(?:[^']+|\\\\')*'))*\\s*>|</"+i+"\\s*>";return e&&(n="("+n+")"),new RegExp(n,"g")},e.prototype.getPropertyRegex=function(){return new RegExp("([A-Za-z0-9_\\-]+)=(?:\"((?:[^\"]+|\\\\\")*)\"|'((?:[^']+|\\\\')*)')","g")},e.prototype._getTextDataPerLine=function(t){for(var e=[],i=this.getTagRegex(!0,!1),n=[this.assign({},this.textStyles.default)],o=[{name:"default",properties:{}}],s=0;s<t.length;s++){for(var a=[],r=[],l=void 0;l=i.exec(t[s]);)r.push(l);if(0===r.length)a.push(this.createTextData(t[s],n[n.length-1],o[o.length-1]));else{for(var c=0,u=0;u<r.length;u++){if(r[u].index>c&&a.push(this.createTextData(t[s].substring(c,r[u].index),n[n.length-1],o[o.length-1])),"/"===r[u][0][1])n.length>1&&(n.pop(),o.pop());else{n.push(this.assign({},n[n.length-1],this.textStyles[r[u][1]]));for(var h={},p=this.getPropertyRegex(),d=void 0;d=p.exec(r[u][0]);)h[d[1]]=d[2]||d[3];o.push({name:r[u][1],properties:h})}c=r[u].index+r[u][0].length}c<t[s].length&&a.push(this.createTextData(t[s].substring(c),n[n.length-1],o[o.length-1]))}e.push(a)}return e},e.prototype.getFontString=function(t){return new PIXI.TextStyle(t).toFontString()},e.prototype.createTextData=function(t,e,i){return{text:t,style:e,width:0,height:0,fontProperties:void 0,tag:i}},e.prototype.getDropShadowPadding=function(){var t=this,e=0,i=0;return Object.keys(this.textStyles).forEach((function(n){var o=t.textStyles[n],s=o.dropShadowDistance,a=o.dropShadowBlur;e=Math.max(e,s||0),i=Math.max(i,a||0)})),e+i},e.prototype.updateText=function(){var t=this;if(this.dirty){this.hitboxes=[],this.texture.baseTexture.resolution=this.resolution;var i=this.textStyles,n=this.text;this._style.wordWrap&&(n=this.wordWrap(this.text));for(var o=n.split(/(?:\r\n|\r|\n)/),s=this._getTextDataPerLine(o),a=[],r=[],l=[],c=0,u=0;u<o.length;u++){for(var h=0,p=0,d=0,_=0;_<s[u].length;_++){var f=s[u][_].style;this.context.font=this.getFontString(f),s[u][_].width=this.context.measureText(s[u][_].text).width,0!==s[u][_].text.length&&(s[u][_].width+=(s[u][_].text.length-1)*f.letterSpacing,_>0&&(h+=f.letterSpacing/2),_<s[u].length-1&&(h+=f.letterSpacing/2)),h+=s[u][_].width,s[u][_].fontProperties=PIXI.TextMetrics.measureFont(this.context.font),s[u][_].height=s[u][_].fontProperties.fontSize,"number"==typeof f.valign?(p=Math.min(p,f.valign-s[u][_].fontProperties.descent),d=Math.max(d,f.valign+s[u][_].fontProperties.ascent)):(p=Math.min(p,-s[u][_].fontProperties.descent),d=Math.max(d,s[u][_].fontProperties.ascent))}a[u]=h,r[u]=p,l[u]=d,c=Math.max(c,h)}var y=Object.keys(i).map((function(t){return i[t]})).reduce((function(t,e){return Math.max(t,e.strokeThickness||0)}),0),m=this.getDropShadowPadding(),N=c+2*y+2*m,S=l.reduce((function(t,e){return t+e}),0)-r.reduce((function(t,e){return t+e}),0)+2*y+2*m;this.canvas.width=N*this.resolution,this.canvas.height=S*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.textBaseline="alphabetic",this.context.lineJoin="round";var g=m+y,A=[];for(u=0;u<s.length;u++){var E=s[u],I=void 0;switch(this._style.align){case"left":I=m+y;break;case"center":I=m+y+(c-a[u])/2;break;case"right":I=m+y+c-a[u]}for(_=0;_<E.length;_++){var O=E[_],T=O.style,P=O.text,b=O.fontProperties,C=O.width,v=(O.height,O.tag),M=g+b.ascent;switch(T.valign){case"top":break;case"baseline":M+=l[u]-b.ascent;break;case"middle":M+=(l[u]-r[u]-b.ascent-b.descent)/2;break;case"bottom":M+=l[u]-r[u]-b.ascent-b.descent;break;default:M+=l[u]-b.ascent-T.valign}if(0===T.letterSpacing)A.push({text:P,style:T,x:I,y:M,width:C,ascent:b.ascent,descent:b.descent,tag:v}),I+=E[_].width;else{this.context.font=this.getFontString(E[_].style);for(var L=0;L<P.length;L++){(L>0||_>0)&&(I+=T.letterSpacing/2);var R=this.context.measureText(P.charAt(L)).width;A.push({text:P.charAt(L),style:T,x:I,y:M,width:R,ascent:b.ascent,descent:b.descent,tag:v}),I+=R,(L<P.length-1||_<E.length-1)&&(I+=T.letterSpacing/2)}}}g+=l[u]-r[u]}this.context.save(),A.forEach((function(e){var i=e.style,n=e.text,o=e.x,s=e.y;if(i.dropShadow){t.context.font=t.getFontString(i);var a=i.dropShadowColor;"number"==typeof a&&(a=PIXI.utils.hex2string(a)),t.context.shadowColor=a,t.context.shadowBlur=i.dropShadowBlur,t.context.shadowOffsetX=Math.cos(i.dropShadowAngle)*i.dropShadowDistance*t.resolution,t.context.shadowOffsetY=Math.sin(i.dropShadowAngle)*i.dropShadowDistance*t.resolution,t.context.fillText(n,o,s)}})),this.context.restore(),A.forEach((function(e){var i=e.style,n=e.text,o=e.x,s=e.y;e.width,e.ascent,e.descent,e.tag;if(void 0!==i.stroke&&i.strokeThickness){t.context.font=t.getFontString(i);var a=i.stroke;"number"==typeof a&&(a=PIXI.utils.hex2string(a)),t.context.strokeStyle=a,t.context.lineWidth=i.strokeThickness,t.context.strokeText(n,o,s)}})),A.forEach((function(e){var i=e.style,n=e.text,o=e.x,s=e.y;e.width,e.ascent,e.descent,e.tag;if(void 0!==i.fill){t.context.font=t.getFontString(i);var a=i.fill;if("number"==typeof a)a=PIXI.utils.hex2string(a);else if(Array.isArray(a))for(var r=0;r<a.length;r++){var l=a[r];"number"==typeof l&&(a[r]=PIXI.utils.hex2string(l))}t.context.fillStyle=t._generateFillStyle(new PIXI.TextStyle(i),[n]),t.context.fillText(n,o,s)}})),A.forEach((function(i){var n=i.style,o=(i.text,i.x),s=i.y,a=i.width,r=i.ascent,l=i.descent,c=i.tag,u=-t._style.padding-t.getDropShadowPadding();t.hitboxes.push({tag:c,hitbox:new PIXI.Rectangle(o+u,s-r+u,a,r+l)}),(void 0===n.debug?e.debugOptions.spans.enabled:n.debug)&&(t.context.lineWidth=1,e.debugOptions.spans.bounding&&(t.context.fillStyle=e.debugOptions.spans.bounding,t.context.strokeStyle=e.debugOptions.spans.bounding,t.context.beginPath(),t.context.rect(o,s-r,a,r+l),t.context.fill(),t.context.stroke(),t.context.stroke()),e.debugOptions.spans.baseline&&(t.context.strokeStyle=e.debugOptions.spans.baseline,t.context.beginPath(),t.context.moveTo(o,s),t.context.lineTo(o+a,s),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.top&&(t.context.strokeStyle=e.debugOptions.spans.top,t.context.beginPath(),t.context.moveTo(o,s-r),t.context.lineTo(o+a,s-r),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.bottom&&(t.context.strokeStyle=e.debugOptions.spans.bottom,t.context.beginPath(),t.context.moveTo(o,s+l),t.context.lineTo(o+a,s+l),t.context.closePath(),t.context.stroke()),e.debugOptions.spans.text&&(t.context.fillStyle="#ffffff",t.context.strokeStyle="#000000",t.context.lineWidth=2,t.context.font="8px monospace",t.context.strokeText(c.name,o,s-r+8),t.context.fillText(c.name,o,s-r+8),t.context.strokeText(a.toFixed(2)+"x"+(r+l).toFixed(2),o,s-r+16),t.context.fillText(a.toFixed(2)+"x"+(r+l).toFixed(2),o,s-r+16)))})),e.debugOptions.objects.enabled&&(e.debugOptions.objects.bounding&&(this.context.fillStyle=e.debugOptions.objects.bounding,this.context.beginPath(),this.context.rect(0,0,N,S),this.context.fill()),e.debugOptions.objects.text&&(this.context.fillStyle="#ffffff",this.context.strokeStyle="#000000",this.context.lineWidth=2,this.context.font="8px monospace",this.context.strokeText(N.toFixed(2)+"x"+S.toFixed(2),0,8,N),this.context.fillText(N.toFixed(2)+"x"+S.toFixed(2),0,8,N))),this.updateTexture()}},e.prototype.wordWrap=function(t){var e="",i=this.getTagRegex(!0,!0),n=t.split("\n"),o=this._style.wordWrapWidth,s=[this.assign({},this.textStyles.default)];this.context.font=this.getFontString(this.textStyles.default);for(var a=0;a<n.length;a++){for(var r=o,l=n[a].split(i),c=!0,u=0;u<l.length;u++)if(i.test(l[u]))e+=l[u],"/"===l[u][1]?(u+=2,s.pop()):(u++,s.push(this.assign({},s[s.length-1],this.textStyles[l[u]])),u++),this.context.font=this.getFontString(s[s.length-1]);else for(var h=l[u].split(" "),p=0;p<h.length;p++){var d=this.context.measureText(h[p]).width;if(this._style.breakWords&&d>r){var _=h[p].split("");p>0&&(e+=" ",r-=this.context.measureText(" ").width);for(var f=0;f<_.length;f++){var y=this.context.measureText(_[f]).width;y>r?(e+="\n"+_[f],r=o-y):(e+=_[f],r-=y)}}else if(this._style.breakWords)e+=h[p],r-=d;else{var m=d+(p>0?this.context.measureText(" ").width:0);m>r?(c||(e+="\n"),e+=h[p],r=o-d):(r-=m,p>0&&(e+=" "),e+=h[p])}c=!1}a<n.length-1&&(e+="\n")}return e},e.prototype.updateTexture=function(){var t=this._texture,e=this.getDropShadowPadding();t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.realWidth=this.canvas.width,t.baseTexture.realHeight=this.canvas.height,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.trim.width=t.frame.width=this.canvas.width/this.resolution,t.trim.height=t.frame.height=this.canvas.height/this.resolution,t.trim.x=-this._style.padding-e,t.trim.y=-this._style.padding-e,t.orig.width=t.frame.width-2*(this._style.padding+e),t.orig.height=t.frame.height-2*(this._style.padding+e),this._onTextureUpdate(),t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},e.prototype.assign=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,o=e;n<o.length;n++){var s=o[n];for(var a in s)t[a.replace("_","")]=s[a]}return t},e.DEFAULT_TAG_STYLE={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:PIXI.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",valign:"baseline",wordWrap:!1,wordWrapWidth:100},e.debugOptions={spans:{enabled:!1,baseline:"#44BB44",top:"#BB4444",bottom:"#4444BB",bounding:"rgba(255, 255, 255, 0.1)",text:!0},objects:{enabled:!1,bounding:"rgba(255, 255, 255, 0.05)",text:!0}},e}(PIXI.Text);e.default=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(164),a=i(1),r=i(393),l=i(43),c=i(394),u=i(395),h=i(129),p=i(188),d=i(396),_=i(2),f=i(397),y=i(28),m=i(398),N=i(399),S=i(9),g=i(400),A=i(49),E=i(401),I=i(402),O=i(404),T=i(405),P=i(407),b=i(191),C=i(193),v=i(194),M=i(410),L=i(5),R=i(411),D=i(195),w=i(412),x=i(413),U=a.Names.Layers,B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(a.Names.Proxies.WINNINGS_ANIMATIONS,r.MegawaysWinningsAnimationProxy),this.replaceProxy(a.Names.Proxies.SYMBOL_ANIMATION,d.MegawaysSymbolAnimationProxy)},e.prototype.registerDecorators=function(){this.addDecorator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,A.MegawaysWinningsAnimationNames.ANIMATE_SYMBOL_OPTIONAL_STATIC_WINNING_DECORATOR,h.AnimateSymbolOptionalStaticWinningDecorator,U.WINNINGS_ANIMATIONS_OVERGROUND),this.addDecorator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,A.MegawaysWinningsAnimationNames.STATIC_LINE_WIN,I.MegawaysStaticLineWinAnimationDecorator,U.WINNINGS_ANIMATIONS_INCREMENT),this.addDecorator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,A.MegawaysWinningsAnimationNames.MEGAWAYS_WAY_VALUE_WINNINGS_DECORATOR,P.MegawaysWayValueWinningsDecorator,U.WINNINGS_ANIMATIONS_INCREMENT),this.addDecorator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,A.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR,b.MegawaysBigWinAnimationDecorator,U.WINNINGS_ANIMATIONS_BIG_WIN)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(_.Notifications.Global.INITIALIZING_MODULE,O.MegawaysInitializeWinningsAnimationModuleCommand),this.replaceCommand(l.WinningsAnimationsNotifications.CREATE_WINNINGS_LINES,c.MegawaysCreateWinningLinesCommand),this.replaceCommand(l.WinningsAnimationsNotifications.CREATE_ANIMATION_STEPS,u.MegawaysCreateAnimationStepsCommand),this.replaceCommand(_.Notifications.Winning.GET_SYMBOL_ANIMATION,f.MegawaysGetSymbolAnimationCommand),this.replaceCommand(l.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,N.MegawaysStopAnimateStepWinningsAnimationCommand),this.replaceCommand(_.Notifications.MasterLayout.SEND_SPINE_WIN_CONFIGURATION,T.MegawaysSendSpineWinConfigurationCommand),this.replaceCommand(_.Notifications.Winning.CELEBRATION_CHECK,C.MegawaysCelebrationCheckCommand),this.replaceCommand(L.States.END_GAME_PREPARE,R.MegawaysWinningsEndgameCommand),this.replaceCommand(L.States.REROUTE_GAME_PREPARE,w.MegawaysCascadeSummaryRerouteCommand),this.replaceCommand(_.Notifications.MasterLayout.CONFIGURE_WINNINGS_DECORATORS,x.MegawaysSendWinningsConfigurationCommand),this.addCommand(_.Notifications.Winning.START_WINNINGS_ANIMATIONS,E.MegawaysStartWinningsAnimationsCommand),this.addCommand(y.MegawaysNotifications.SYMBOLS_REMOVE_FINISHED,m.MegawaysSymbolsRemoveDoneCommand),this.addCommand(S.MegawaysNames.CASCADE_OVER_STATE,g.MegawaysEndCascadesCommand),this.addCommand(y.MegawaysNotifications.START_CASCADE_SUMMARY,D.MegawaysStartCascadeSummaryCommand),this.addCommand(y.MegawaysNotifications.FINISH_CASCADE_SUMMARY,M.MegawaysFinishCascadeSummaryCommand)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,p.MegawaysWinningsAnimationsMediator,0),this.replaceMediator(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,p.MegawaysWinningsAnimationsMediator,1)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,v.MegawaysWinningsAnimationView,0),this.replaceView(A.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,v.MegawaysWinningsAnimationView,1)},e}(s.WinningsAnimations);e.MegawaysWinningsAnimationModule=B},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(2),r=i(22),l=i(5),c=i(361),u=i(363),h=i(364),p=i(365),d=i(366),_=i(367),f=i(368),y=i(166),m=i(369),N=i(167),S=i(168),g=i(170),A=i(171),E=i(371),I=i(372),O=i(173),T=i(374),P=i(375),b=i(376),C=i(179),v=i(380),M=i(180),L=i(381),R=i(382),D=i(383),w=i(43),x=i(181),U=i(386),B=i(183),G=i(129),V=i(184),W=i(185),F=i(131),k=s.Names.Layers,H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(a.Notifications.Global.INITIALIZING_MODULE,O.InitializeWinningsAnimationsModuleCommand),this.addCommand(w.WinningsAnimationsNotifications.CREATE_WINNINGS_LINES,A.CreateWinningLinesCommand),this.addCommand(w.WinningsAnimationsNotifications.WINNINGS_LINES_CREATED,D.WinningLinesCreatedCommand),this.addCommand(w.WinningsAnimationsNotifications.CREATE_ANIMATION_STEPS,g.CreateAnimationStepsCommand),this.addCommand(w.WinningsAnimationsNotifications.FULL_CYCLE_COMPLETE,E.FullCycleCompleteCommand),this.addCommand(w.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,C.StartAnimateStepWinningsAnimationsCommand),this.addCommand(w.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,M.StopAnimateStepWinningsAnimationsCommand),this.addCommand(w.WinningsAnimationsNotifications.START_ANIMATE_NEXT_STEP,v.StartNextStepWinningsAnimationsCommand),this.addCommand(w.WinningsAnimationsNotifications.MANAGE_BIG_WIN_ANIMATION,T.ManageBigWinAnimationCommand),this.addCommand(w.WinningsAnimationsNotifications.MANAGE_FIVE_OF_A_KIND_ANIMATION,P.ManageFiveOfAKindAnimationCommand),this.addCommand(a.Notifications.Winning.BIG_WIN_INCREMENT_ENDED,p.BigWinIncrementEndedCommand),this.addCommand(a.Notifications.Winning.BIG_WIN_ANIMATION_CANCELED,h.BigWinAnimationCanceledCommand),this.addCommand(a.Notifications.Winning.START_WINNINGS_ANIMATIONS,y.StartWinningsAnimationsCommand),this.addCommand(a.Notifications.Winning.ADD_LINES_WINNINGS,c.AddLinesWinningsCommand),this.addCommand(a.Notifications.Winning.STOP_WINNINGS_ANIMATIONS,m.StopWinningsAnimationsCommand),this.addCommand(l.States.END_GAME_PREPARE,N.WinningsEndgameCommand),this.addCommand(l.States.REROUTE_GAME_PREPARE,S.WinningsRerouteCommand),this.addCommand(a.Notifications.Winning.UPDATE_SHOW_ONE_CYCLE,R.UpdateShowOnlyOneCycleCommand),this.addCommand(a.Notifications.Winning.GET_SYMBOL_ANIMATION,_.GetSymbolAnimationCommand),this.addCommand(a.Notifications.Winning.GET_SPINE_DATA,I.GetSpineDataCommand),this.addCommand(a.Notifications.Winning.ADD_SYMBOL_ANIMATION_TO_POOL,u.AddSymbolAnimationToPoolCommand),this.addCommand(a.Notifications.Winning.RESET_SYMBOL_ANIMATION_TO_POOL,f.ResetSymbolAnimationToPoolCommand),this.addCommand(a.Notifications.Winning.CELEBRATION_CHECK,d.CelebrationCheckCommand),this.addCommand(w.WinningsAnimationsNotifications.UPDATE_ONLY_SHOW_ALL,L.UpdateOnlyShowAllCommand),this.useMasterLayout&&(this.addCommand(a.Notifications.MasterLayout.SEND_SPINE_WIN_CONFIGURATION,b.SendSpineWinConfigurationCommand),this.addCommand(a.Notifications.MasterLayout.CONFIGURE_WINNINGS_DECORATORS,F.SendWinningsConfigurationCommand))},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(s.Names.Proxies.WINNINGS_ANIMATIONS,B.WinningsAnimationsProxy),this.addProxy(s.Names.Proxies.SYMBOL_ANIMATION,U.SymbolAnimationProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("WinningsAnimationsView",[W.WinningsAnimationsView,W.WinningsAnimationsView,W.WinningsAnimationsView]),this.registerDecorators()},e.prototype.registerDecorators=function(){t.prototype.registerDecorators.call(this),this.addDecorator("WinningsAnimationsView","animateSymbolStaticWinningDecorator",V.AnimateSymbolStaticWinningDecorator,k.WINNINGS_ANIMATIONS_OVERGROUND),this.addDecorator("WinningsAnimationsView","animateSymbolOptionalStaticWinningDecorator",G.AnimateSymbolOptionalStaticWinningDecorator,k.WINNINGS_ANIMATIONS_OVERGROUND)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(x.WinningsAnimationsMediator,"WinningsAnimationsView")},e}(r.AbstractModule);e.WinningsAnimations=H},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.id=-1,this.smallHighlight="",this.direction=0,this.winValue=0,this.winValueMoney=0,this.initialWinValue=0,this.initialWinValueMoney=0,this.multiplier=1,this.soundName="",this.infoBoxMessage="",this.showAllMessage="",this.onlyShowAll=!1,this.hasSymbolsInInfobox=!1,this.showSingleSymbol=!1,this.skipIncrement=!1,this.skipWinnings=!1,this.showOnlyThisWin=!1,this.allowSkipIncrement=!0,this.incrementHasMaxDuration=!1,this.incrementDelay=-1,this.excludeThisWin=!1,this.fromFeature=!1};e.WinLineVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(43),u=i(62),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.sendNotification(c.WinningsAnimationsNotifications.CREATE_ANIMATION_STEPS),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.startIncrement(),this.sendNotification(c.WinningsAnimationsNotifications.MANAGE_BIG_WIN_ANIMATION),this.sendNotification(c.WinningsAnimationsNotifications.MANAGE_FIVE_OF_A_KIND_ANIMATION),this.winningsAnimationsProxy.startAnimations()},e.prototype.initVars=function(){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY))},e.prototype.startIncrement=function(){var t=this,e=this.winningsAnimationsProxy.animationsSteps[0],i=0,n=0,o=-1,a=-1,r=!1,c=-1;if(!s.isNil(e)){var h=!1;s.each(e.lines,(function(e){e.skipIncrement?h=!0:(e.excludeThisWin||e.type===u.WinningTypes.PROGRESSIVE&&!e.showOnlyThisWin?(i+=e.winValue,n+=t.moneyProxy.getClientValue(e.winValueMoney,!1)):e.previousLine&&e.previousLine.excludeThisWin&&(i+=e.previousLine.winValue,n+=t.moneyProxy.getClientValue(e.previousLine.winValueMoney,!1)),e.showOnlyThisWin&&(o=e.winValue,a=t.moneyProxy.getClientValue(e.winValueMoney,!1)),e.incrementHasMaxDuration&&(r=!0),e.incrementDelay&&(c=e.incrementDelay))})),h||(this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Increment.START_WINNINGS_INCREMENT,{startWinningsIncrementCoins:i,startWinningsIncrementMoney:n,endWinningsIncrementCoins:o,endWinningsIncrementMoney:a,hasMaxDuration:r,duration:-1,incrementDelay:c}))}},e}(a.Controller);e.StartWinningsAnimationsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(56),u=i(5),h=i(43),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.setDisplaySymbolsForWinDecorator(),this.createWinningsLines()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e.prototype.setDisplaySymbolsForWinDecorator=function(){this.sendGlobalNotification(l.Notifications.Winning.SET_DISPLAY_SYMBOLS_FOR_WIN_DECORATORS,{symbolsMatrix:c.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(u.States.END_GAME).symbols)})},e.prototype.createWinningsLines=function(){this.sendNotification(h.WinningsAnimationsNotifications.CREATE_WINNINGS_LINES,{endGame:this.connectionProxy.getServerData(u.States.END_GAME),isFromRestore:!1})},e}(a.Controller);e.WinningsEndgameCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(5),u=i(56),h=i(83),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.sendGlobalNotification(l.Notifications.Winning.SET_DISPLAY_SYMBOLS_FOR_WIN_DECORATORS,{symbolsMatrix:u.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(c.States.END_GAME).symbols)}),this.sendGlobalNotification(l.Notifications.SlotLogic.NO_REROUTE_ACTION,h.SlotEndGameDecisionNames.LINES)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e}(a.Controller);e.WinningsRerouteCommand=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.REROUTE="reroute",t}();e.EndGameDecisionNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(62),l=i(370),c=i(1),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.YOU_WON_MESSAGE="youWonMessage",e.TOKENUSE="tokenuse",e.SHOW_ALL_WAYS="showAllWaysWin",e.SHOW_ALL_WAY="showAllSingleWayWin",e.SHOW_ALL_LINES="showAllLineWin",e.SHOW_ALL_LINE="showAllSingleLineWin",e.COMMA=", ",e.SPACE=" ",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this._animationsSteps=[],this._linesAnimations=this.winningsAnimationsProxy.linesAnimations;var e=this.getExclusiveLine();if(e)this.createStep(e);else{var i=this.checkOnlyShowAll();(i||!s.isNil(this._linesAnimations)&&this._linesAnimations.length>0)&&this.createShowAllStep(),i||this.createOneByOneSteps()}this.winningsAnimationsProxy.animationsSteps=this._animationsSteps},e.prototype.initVars=function(){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(c.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.checkOnlyShowAll=function(){return!!this.winningsAnimationsProxy.onlyShowAll||!!s.some(this._linesAnimations,{onlyShowAll:!0})},e.prototype.getExclusiveLine=function(){return s.find(this._linesAnimations,{showOnlyThisWin:!0})},e.prototype.createShowAllStep=function(){var t=this,e=new l.AnimationStepVO;e.type=r.WinningTypes.SHOW_ALL;var i=0,n=[];s.each(this._linesAnimations,(function(o){e.lines.push(o),n.push(t.getStepSymbols(o)),t.slotGameConfig.allWinValuesInCurrency?i+=t.moneyProxy.getClientValue(o.winValueMoney,!1):i+=o.winValue})),e.message=this.getShowAllMessage(),e.fullHighlight=this.getShowAllFullHighlight(this._linesAnimations),e.symbols=n,e.totalStepWinValue=i,this._animationsSteps.push(e)},e.prototype.getShowAllMessage=function(){var t=this,e=this.translations.getValue(this.YOU_WON_MESSAGE);e+=this.SPACE;var i=0,n="",o=0,a=0;s.each(this._linesAnimations,(function(s,l){s.type==r.WinningTypes.LINE?(t.slotGameConfig.allWinValuesInCurrency?a+=t.moneyProxy.getClientValue(s.winValueMoney,!1):a+=s.winValue,s.id>=0&&(n+=""==n?s.id+1:t.COMMA+(s.id+1),t.slotGameConfig.hasWays&&(o+=s.id))):(i>0&&(e+=t.COMMA),""!=s.showAllMessage&&(e+=s.showAllMessage,i++))}));this.settings.getValue(this.TOKENUSE);var l=this.moneyProxy.displayValues.decimalsCount;this.moneyProxy.decimalsCount=0;var c=this.moneyProxy.getStringValueFrom(a);return this.moneyProxy.decimalsCount=l,a>0&&(i>0&&(e+=this.COMMA),this.slotGameConfig.hasWays?(e+=o+this.SPACE,1!=o||s.isNil(this.translations.getValue(this.SHOW_ALL_WAY))?e+=this.translations.getValue(this.SHOW_ALL_WAYS,c):e+=this.translations.getValue(this.SHOW_ALL_WAY,c)):-1!=n.indexOf(",")?e+=this.translations.getValue(this.SHOW_ALL_LINES,n,c):e+=this.translations.getValue(this.SHOW_ALL_LINE,n,c)),e},e.prototype.createOneByOneSteps=function(){var t=this;s.each(this._linesAnimations,(function(e){var i=new l.AnimationStepVO;i.type=e.type,i.lines.push(e),i.symbols=t.getStepSymbols(e),i.fullHighlight=e.highlight,i.message=e.infoBoxMessage,t.slotGameConfig.allWinValuesInCurrency?i.totalStepWinValue=t.moneyProxy.getClientValue(e.winValueMoney,!1):i.totalStepWinValue=e.winValue,t._animationsSteps.push(i)})),this.winningsAnimationsProxy.orderWinningsByWinningValue&&this.orderWinStepsByWinValue()},e.prototype.createStep=function(t){var e=new l.AnimationStepVO;e.type=t.type,e.lines.push(t),e.symbols=this.getStepSymbols(t),e.fullHighlight=t.highlight,e.message=t.infoBoxMessage,this.slotGameConfig.allWinValuesInCurrency?e.totalStepWinValue=this.moneyProxy.getClientValue(t.winValueMoney,!1):e.totalStepWinValue=t.winValue,this._animationsSteps.push(e)},e.prototype.orderWinStepsByWinValue=function(){this._animationsSteps.length>2&&(this._animationsSteps=s.sortBy(this._animationsSteps,(function(t){return t.totalStepWinValue})),this._animationsSteps.reverse())},e.prototype.getStepSymbols=function(t){if(!t.hasSymbolsInInfobox)return[];var e,i,n,o=[],a=this.winningsAnimationsProxy.symbolsMatrix;if(0==t.direction){for(i=0;i<this.slotGameConfig.wheelsCnt;i++)for(e=0;e<this.slotGameConfig.rowsCnt;e++)if(n=e*this.slotGameConfig.wheelsCnt+i,1==t.highlight[n])if(this.slotGameConfig.hasWays||t.showSingleSymbol){if(s.isNil(this.slotGameConfig.wildSymbol)||!s.isNil(this.slotGameConfig.wildSymbol)&&a[e][i]!=this.slotGameConfig.wildSymbol)return o.push(a[e][i]),o}else o.push(a[e][i])}else for(i=this.slotGameConfig.wheelsCnt-1;i>=0;i--)for(e=this.slotGameConfig.rowsCnt;e>=0;e--)if(n=e*this.slotGameConfig.wheelsCnt+i,1==t.highlight[n])if(this.slotGameConfig.hasWays||t.showSingleSymbol){if(s.isNil(this.slotGameConfig.wildSymbol)||!s.isNil(this.slotGameConfig.wildSymbol)&&a[e][i]!=this.slotGameConfig.wildSymbol)return o.push(a[e][i]),o}else o.push(a[e][i]);return o},e.prototype.getShowAllFullHighlight=function(t){var e=s.times(this.slotGameConfig.wheelsCnt*this.slotGameConfig.rowsCnt,s.constant(0));return s.each(t,(function(t){t.excludeThisWin||s.each(t.highlight,(function(t,i){1==t&&(e[i]=1)}))})),e},e}(a.Controller);e.CreateAnimationStepsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(62),l=i(165),c=i(1),u=i(5),h=i(43),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LINES="lines",e.LINE_DIRECTION="dir",e.LINE_HIGHLIGHT="hl",e.LINE_POSITION="pos",e.WAYS="ways",e.LINE_WIN_MONEY="valueMoney",e.LINE_WIN_COINS="value",e.LINE_MULTIPLIER="multiplier",e.LINE_INITIAL_WIN_COINS="initialValue",e.LINE_INITIAL_WIN_MONEY="initialValueMoney",e.SYMBOL_ID="symbolId",e.MULTIPLIER=" X ",e.ONE_BY_ONE_WAYS="oneByOneWaysWin",e.ONE_BY_ONE_WAYS_SINGLE="oneByOneWaysWinSingle",e.ONE_BY_ONE_LINE="oneByOneLineWin",e.SHOW_ALL_SCATTER="showAllScatter",e.ONE_BY_ONE_SCATTER="oneByOneScatterWin",e}return o(e,t),e.prototype.execute=function(t){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(c.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.has(t.body,"endGame")?this._endGameData=t.body.endGame:this._endGameData=this.connectionProxy.getServerData(u.States.END_GAME),this._linesAnimations=new Array,this.getWinLinesAnimations(),this.getScatterLinesAnimations(),this.getSpecialWinning(),this.winningsAnimationsProxy.linesAnimations=this._linesAnimations,this.winningsAnimationsProxy.symbolsToSkip=null;var e=t.body.isFromRestore;1!=t.body.skipLineWinCreated&&this.sendNotification(h.WinningsAnimationsNotifications.WINNINGS_LINES_CREATED,e)},e.prototype.getWinLinesAnimations=function(){var t=this,e=this._endGameData[this.LINES];if(""!=e&&e&&e.hasOwnProperty(r.WinningTypes.LINE)){var i=e[r.WinningTypes.LINE];s.isArray(i)||(i=[i]),s.each(i,(function(e){var i=t.getWinLineAnimation(e);t._linesAnimations.push(i)}))}},e.prototype.getScatterLinesAnimations=function(){var t=this._endGameData[r.WinningTypes.SCATTERS];if(t){var e=this.getScatterWinLineAnimation(t);e.winValue>0&&this._linesAnimations.push(e)}},e.prototype.getWinLineAnimation=function(t){var e=new l.WinLineVO,i=Number(t[this.SYMBOL_ID]),n=t[this.LINE_WIN_COINS];if(this.slotGameConfig.allWinValuesInCurrency&&0==n){var o=parseInt(t[this.LINE_WIN_MONEY]),a=this.moneyProxy.useServerCoins;this.moneyProxy.useServerCoins=!1,this.moneyProxy.updateWinningIdAppend(i,o),this.moneyProxy.useServerCoins=a}else this.moneyProxy.updateWinningIdAppend(i,t[this.LINE_WIN_COINS]);return 1==this.slotGameConfig.hasWays?(e.id=Number(t[this.WAYS]),e.highlight=this.getFullHighlightFromFullString(t[this.LINE_HIGHLIGHT])):(e.id=Number(t[this.LINE_POSITION]),e.highlight=this.getFullLineHighlight(t[this.LINE_HIGHLIGHT]),e.smallHighlight=t[this.LINE_HIGHLIGHT]),e.direction=Number(t[this.LINE_DIRECTION]),s.isNaN(e.direction)&&(e.direction=0),e.winValue=Number(t[this.LINE_WIN_COINS]),e.winValueMoney=Number(t[this.LINE_WIN_MONEY]),e.initialWinValue=null!=t[this.LINE_INITIAL_WIN_COINS]?Number(t[this.LINE_INITIAL_WIN_COINS]):Number(t[this.LINE_WIN_COINS]),e.initialWinValueMoney=null!=t[this.LINE_INITIAL_WIN_MONEY]?Number(t[this.LINE_INITIAL_WIN_MONEY]):Number(t[this.LINE_WIN_MONEY]),e.multiplier=null!=t[this.LINE_MULTIPLIER]?Number(t[this.LINE_MULTIPLIER]):1,e.type=r.WinningTypes.LINE,e.infoBoxMessage=this.getLineInfoBoxMessage(e),e.hasSymbolsInInfobox=!0,null!=t.feature&&(e.fromFeature=1==t.feature),e},e.prototype.getScatterWinLineAnimation=function(t){var e=new l.WinLineVO;return e.highlight=this.getFullHighlightFromFullString(t[this.LINE_HIGHLIGHT]),e.type=r.WinningTypes.SCATTERS,t[this.LINE_WIN_COINS]?(this.moneyProxy.updateWinningId(r.WinningTypes.WIN_SCATTER_ID,t[this.LINE_WIN_COINS]),e.winValue=parseFloat(t[this.LINE_WIN_COINS]),e.winValueMoney=parseFloat(t[this.LINE_WIN_MONEY])):(e.winValue=0,e.winValueMoney=0),e.infoBoxMessage=this.getScatterInfoBoxMessage(e),e.showAllMessage=this.getScatterShowAllMessage(e),e.hasSymbolsInInfobox=!0,e},e.prototype.getLineInfoBoxMessage=function(t){var e=this.moneyProxy.getStringValueFrom(t.winValue);if(this.slotGameConfig.allWinValuesInCurrency){var i=this.settings.getValue("tokenuse")>0;e=this.moneyProxy.getStringValueFrom(this.moneyProxy.getClientValue(t.winValueMoney,!1),i)}return this.slotGameConfig.hasWays?1!=t.id||s.isNil(this.translations.getValue(this.ONE_BY_ONE_WAYS_SINGLE))?this.translations.getValue(this.ONE_BY_ONE_WAYS,t.id,e):this.translations.getValue(this.ONE_BY_ONE_WAYS_SINGLE,t.id,e):this.translations.getValue(this.ONE_BY_ONE_LINE,t.id+1,e)},e.prototype.getScatterInfoBoxMessage=function(t){var e=this.moneyProxy.getStringValueFrom(t.winValue);if(this.slotGameConfig.allWinValuesInCurrency){var i=this.settings.getValue("tokenuse")>0;e=this.moneyProxy.getStringValueFrom(this.moneyProxy.getClientValue(t.winValueMoney,!1),i)}return this.translations.getValue(this.ONE_BY_ONE_SCATTER,e)},e.prototype.getFullLineHighlight=function(t){var e=[],i=this.slotGameConfig.columnsCnt,n=this.slotGameConfig.rowsCnt;s.each(s.range(n*i),(function(){e.push(0)}));var o=t.split("").map(Number);return s.each(o,(function(t,n){0!=t&&(e[(t-1)*i+n]=1)})),e},e.prototype.getFullHighlightFromFullString=function(t){return t.split("").map(Number)},e.prototype.getScatterShowAllMessage=function(t){var e="";return e=1==t.multiplier?this.moneyProxy.getStringValueFrom(t.winValue):t.multiplier.toString()+this.MULTIPLIER+this.moneyProxy.getStringValueFrom(t.initialWinValue),this.translations.getValue(this.SHOW_ALL_SCATTER,e)},e.prototype.getSpecialWinning=function(){},e}(a.Controller);e.CreateWinningLinesCommand=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="_loading_notifications_",t.LOADING_COMPLETE=t.NAME+"_loading_complete",t.UPDATE_LOADING_PROGRESS=t.NAME+"_update_loading_progress",t}();e.LoadingNotifications=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(373),r=i(3),l=i(62),c=i(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.initializeMoneyProxy(),this.initializeSettings()},e.prototype.initVars=function(){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(c.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY))},e.prototype.initializeMoneyProxy=function(){var t=this;this.slotGameConfig.gameWinnings&&(s.each(this.slotGameConfig.gameWinnings,(function(e){t.moneyProxy.addWinning(new a.MoneyWinning(e.serverId,0))})),this.moneyProxy.addWinning(new a.MoneyWinning(l.WinningTypes.WIN_SCATTER_ID,0)))},e.prototype.initializeSettings=function(){var t=this,e=this.slotGameConfig.getProperties("WINNINGS_ANIMATIONS_SETTINGS");s.each(e,(function(e,i){t.winningsAnimationsProxy.hasOwnProperty(i)&&(t.winningsAnimationsProxy[i]=e)}))},e}(r.Controller);e.InitializeWinningsAnimationsModuleCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(377),r=i(176),l=i(44),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decoratorSoundNames={},e._animationScale=.5,e._offsetY=0,e._offsetX=0,e._timeScale=1,e._isUpdateAdded=!1,e._useRepeating=!1,e._loop=!0,e.loopStartTime={},e.onEventRepeatCount=0,e.isEventsPresent=!1,e.numberOfRepeating=3,e.numberOfEventAnimationCompleted=0,e}return o(e,t),e.prototype.initVars=function(){var e=this;if(t.prototype.initVars.call(this),this.decoratorSettings){if(this.decoratorSettings.hasOwnProperty("symbolAtlas")&&(this._symbolAtlas=[],s.each(this.decoratorSettings.symbolAtlas,(function(t){e._symbolAtlas[t.symbol]=t}))),this.decoratorSettings.hasOwnProperty("scale")?(this._animationScale=this.decoratorSettings.scale,s.each(this.decoratorSettings.scale,(function(t){e._symbolAtlas[t.symbol].scale=e.decoratorSettings.scale}))):s.each(this.decoratorSettings.scale,(function(t){e._symbolAtlas[t.symbol].scale=e._animationScale})),this.decoratorSettings.hasOwnProperty("offsetY")&&(this._offsetY=this.decoratorSettings.offsetY),this.decoratorSettings.hasOwnProperty("offsetX")&&(this._offsetX=this.decoratorSettings.offsetX),this.decoratorSettings.hasOwnProperty("timeScale")&&(this._timeScale=this.decoratorSettings.timeScale),this.decoratorSettings.hasOwnProperty("useRepeating")&&(this._useRepeating=this.decoratorSettings.useRepeating),this._useRepeating&&this.decoratorSettings.hasOwnProperty("numberOfRepeating")&&(this.numberOfRepeating=this.decoratorSettings.numberOfRepeating),this.decoratorSettings.hasOwnProperty("soundMode")&&"string"==typeof this.decoratorSettings.soundMode)switch(this.decoratorSettings.soundMode){case"oneForAll":s.each(this.slotGameConfig.symbolsIds,(function(t,i){e.decoratorSoundNames[t]=e.decoratorSettings.soundName}));break;case"individual":s.each(this.slotGameConfig.symbolsIds,(function(t,i){e.decoratorSoundNames[t]=e.decoratorSettings.soundNames[t]}))}this.decoratorSettings.hasOwnProperty("loop")&&(this._loop=this.decoratorSettings.loop)}this._boundSpineUpdateFunction=this.update.bind(this)},e.prototype.destroyDecorator=function(){var e=this;t.prototype.destroyDecorator.call(this),s.each(this._symbolsToAnimate,(function(t){e.broadcastAction(l.WinningsDecoratorBroadcastActionNames.RESET_SYMBOL_ANIMATION_TO_POOL,{symbolID:t})}))},e.prototype.getSymbolAnimation=function(t){var e=this;if(-1==this._symbolsToAnimate.indexOf(t))return null;this._symbolAtlas[t].atlasData||this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:this._symbolAtlas[t]});var i=[];"string"==typeof this._symbolAtlas[t].animation?s.times(this._symbolAtlas[t].atlasData.length,(function(n){i.push(e._symbolAtlas[t].animation)})):i=this._symbolAtlas[t].animation;var n=this.getAnimateSymbolSpineContainer("spineContainer_"+t,this._symbolAtlas[t].atlasData,i,this._timeScale,this._loop);return s.isNil(this._symbolAtlas[t].scale)?(n.scale.x*=this._animationScale,n.scale.y*=this._animationScale):(n.scale.x*=this._symbolAtlas[t].scale,n.scale.y*=this._symbolAtlas[t].scale),!s.isNil(this._symbolAtlas[t].scaleX)&&this._symbolAtlas[t].scaleX.length>1?n.scale.x=this._symbolAtlas[t].scaleX[0]/2:this._symbolAtlas[t].scaleX&&(n.scale.x=this._symbolAtlas[t].scaleX/2),!s.isNil(this._symbolAtlas[t].scaleY)&&this._symbolAtlas[t].scaleY.length>1?n.scale.y=this._symbolAtlas[t].scaleY[0]/2:this._symbolAtlas[t].scaleY&&(n.scale.y=this._symbolAtlas[t].scaleY/2),!s.isNil(this._symbolAtlas[t].rotation)&&this._symbolAtlas[t].rotation.length>1?n.rotation=this._symbolAtlas[t].rotation[0]/2:this._symbolAtlas[t].rotation&&(n.rotation=this._symbolAtlas[t].rotation),n},e.prototype.update=function(){for(var t=.001*PIXI.ticker.shared.elapsedMS,e=0;e<this._runningAnimations.length;e++)this._runningAnimations[e].displayObject.update(t)},e.prototype.onStartAnimation=function(e){this._numberOfAnimationsCompleted=0,this._isUpdateAdded||PIXI.ticker.shared.add(this._boundSpineUpdateFunction),this._isUpdateAdded=!0,t.prototype.onStartAnimation.call(this,e)},e.prototype.onStopAnimation=function(e){t.prototype.onStopAnimation.call(this,e),this._isUpdateAdded&&(PIXI.ticker.shared.remove(this._boundSpineUpdateFunction),this._isUpdateAdded=!1),this._useRepeating&&(this.isEventsPresent=!1,this.onEventRepeatCount=0,this.numberOfEventAnimationCompleted=0,this.loopStartTime={})},e.prototype.onLoopEvent=function(t,e){this.loopStartTime[t]||(this.loopStartTime[t]=e.time)},e.prototype.repeatAnimations=function(){for(var t=0;t<this._runningAnimations.length;t++)if(this.isEventAnimation(this._runningAnimations[t])){var e=this._runningAnimations[t].symbolId,i=this._runningAnimations[t].displayObject,n=0;this.loopStartTime[e]&&(n=this.loopStartTime[e]),i.resetAnimations(),i.update(n)}},e.prototype.animateNextStep=function(e){var i=this;requestAnimationFrame((function(){t.prototype.animateNextStep.call(i,e)}))},e.prototype.stopSymbolAnimation=function(e){t.prototype.stopSymbolAnimation.call(this,e);var i=e.symbolId;this.decoratorSoundNames[i]&&this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:this.decoratorSoundNames[i]}),0===this._runningAnimations.length&&(PIXI.ticker.shared.remove(this._boundSpineUpdateFunction),this._isUpdateAdded=!1)},e.prototype.playSymbolAnimation=function(t,e,i){this.decoratorAnimationFinished=!1,t.loop=this._loop,t.x=e.x,t.y=e.y,t.resetAnimations(),s.isNil(this._symbolAtlas[i].offsetX)||s.isNil(this._symbolAtlas[i].offsetX[0])?t.x+=this._offsetX:t.x+=this._symbolAtlas[i].offsetX[0],s.isNil(this._symbolAtlas[i].offsetY)||s.isNil(this._symbolAtlas[i].offsetY[0])?t.y+=this._offsetY:t.y+=this._symbolAtlas[i].offsetY[0],t.symbolId=i,this.updateSymbolPosition(t,i),this.decoratorSoundNames[i]&&this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:this.decoratorSoundNames[i]});var n=!1;if(s.some(this._runningAnimations,{displayObject:t})&&(n=!0),n){var o=void 0;(o=this._symbolAtlas[i].duration?this._symbolAtlas[i].duration:t.getDuration(this._symbolAtlas[i].animation))>this._longestMovieDuration&&(this._longestMovie=t.name,this._longestMovieDuration=o,this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.LONGEST_ANIMATION_DURATION,{duration:this._longestMovieDuration}))}},e.prototype.updateSymbolPosition=function(t,e){},e.prototype.playAnimationForSymbolAnimation=function(e,i){e&&(t.prototype.playAnimationForSymbolAnimation.call(this,e,i),s.isNil(e.displayObject)||(e.displayObject.onComplete=this.announceMovieCompletion.bind(this),this._useRepeating&&this.isEventAnimation(e)&&(this.isEventsPresent=!0,e.displayObject.addListeners={complete:this.onEventCompletion.bind(this),event:this.onLoopEvent.bind(this,e.symbolId)})))},e.prototype.isEventAnimation=function(t){return s.get(t,"displayObject.events.length")>0},e.prototype.allEventAnimationCompleted=function(){var t=this;return this.numberOfEventAnimationCompleted++,this.numberOfEventAnimationCompleted==this._runningAnimations.filter((function(e){return t.isEventAnimation(e)})).length},e.prototype.onEventCompletion=function(){this.allEventAnimationCompleted()&&(this.onEventRepeatCount++,this.onEventRepeatCount==this.numberOfRepeating?(this.animateNextStep({}),this.onEventRepeatCount=0):this.repeatAnimations(),this.numberOfEventAnimationCompleted=0)},e.prototype.announceMovieCompletion=function(t,e){this.isEventsPresent&&this._useRepeating||(this._numberOfAnimationsCompleted++,this._numberOfAnimationsCompleted==this._runningAnimations.length&&this.animateNextStep({}))},e.prototype.getAnimateSymbolSpineContainer=function(t,e,i,n,o){return new a.AnimateSymbolSpineContainer(t,e,i,n,o)},e}(r.AbstractAnimateSymbolWinningsDecorator);e.AnimateSymbolSpineWinningsDecorator=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.start="start",t.end="end",t.dispose="dispose",t.interrupt="interrupt",t.complete="complete",t.event="event",t}();e.SpineEvent=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(44),r=i(110),l=i(85),c=i(52),u=PIXI.Point,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._symbolsToAnimate=[],e._symbolsHeight15x=[],e._symbolsHeight3x=[],e._addedSymbol3x=[],e._largeSymbols=[],e._largeSymbolsSpans={},e._addedLargeSymbols=[],e._runningAnimations=new Array,e._symbolsOnTop=[],e._symbolsInMiddle=[],e.topSymbolName="",e._highSymbolCounter=0,e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings&&this.decoratorSettings.symbolsToAnimate&&"string"==typeof this.decoratorSettings.symbolsToAnimate&&(this._symbolsToAnimate=this.decoratorSettings.symbolsToAnimate.split(",").map(Number))},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(c.WinningsDecoratorInjectActionNames.GET_SYMBOL_ANIMATION_FROM_DECORATOR,this.getSymbolAnimationFromDecorator.bind(this)),this._optionalDecorator&&this.initSymbolAnimations()},e.prototype.getSymbolAnimationFromDecorator=function(t){var e=t.symbolId,i=new r.SymbolAnimationVO(e,this.getSymbolAnimation(e),this.playSymbolAnimation.bind(this),this.stopSymbolAnimation.bind(this));s.isNil(i.displayObject)||s.isNil(i.displayObject)||t.callback.call(null,i)},e.prototype.getSymbolAnimation=function(t){return null},e.prototype.playSymbolAnimation=function(t,e,i){this.decoratorAnimationFinished=!1,t.x=e.x-t.width/2,t.y=e.y-t.height/2,this._symbolsHeight15x.length>0&&-1!=this._symbolsHeight15x.indexOf(i)&&(t.y-=t.height/2)},e.prototype.stopSymbolAnimation=function(t){},e.prototype.onDisplayReceived=function(e){t.prototype.onDisplayReceived.call(this,e),this._optionalDecorator||this.initSymbolAnimations()},e.prototype.initSymbolAnimations=function(){this._symbolsToAnimate.length>0&&this.initBatchOfSymbols(this._symbolsToAnimate[0]).then(this.symbolInitializationCompleted.bind(this))},e.prototype.symbolInitializationCompleted=function(t){var e=this._symbolsToAnimate.indexOf(t);e<this._symbolsToAnimate.length-1&&this.initBatchOfSymbols(this._symbolsToAnimate[e+1]).then(this.symbolInitializationCompleted.bind(this))},e.prototype.initBatchOfSymbols=function(t){var e=this;return new Promise((function(i,n){requestAnimationFrame((function(){e.createSymbolAnimationVO(t).then((function(n){e.broadcastAction(a.WinningsDecoratorBroadcastActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,{symbolAnimationVO:n}),i(t)})).catch((function(t){throw n(),new Error(t.message)}))}))}))},e.prototype.createSymbolAnimationVO=function(t){var e=this;return new Promise((function(i,n){try{i(new r.SymbolAnimationVO(t,e.getSymbolAnimation(t),e.playSymbolAnimation.bind(e),e.stopSymbolAnimation.bind(e)))}catch(t){n(t)}}))},e.prototype.onStartAnimation=function(e){var i=this;t.prototype.onStartAnimation.call(this,e),this._longestMovieDuration=0;var n=e.animationStep;s.isNil(n)||s.each(n.fullHighlight,(function(t,e){1==t&&i.animateSymbol(e)}))},e.prototype.onStopAnimation=function(e){var i=this;s.each(this._runningAnimations,(function(t){t.stop(),i.broadcastAction(a.WinningsDecoratorBroadcastActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,{symbolAnimationVO:t})})),this._runningAnimations=[],this._addedSymbol3x=[],this.decoratorAnimationFinished=!0,this.topSymbolName="",this._highSymbolCounter=0,t.prototype.onStopAnimation.call(this,e)},e.prototype.animateSymbol=function(t){if(1!=this._symbolsToSkipHL[t]){var e=t%this.slotGameConfig.wheelsCnt,i=(t-e)/this.slotGameConfig.wheelsCnt,n=this._serverIdSymbolsMatrix[i][e];if(-1!=this._symbolsToAnimate.indexOf(n)){if(-1!=this._symbolsHeight3x.indexOf(n)){for(var o={symbolId:n,symbolPosition:t%=this.slotGameConfig.wheelsCnt},s=0;s<this._addedSymbol3x.length;s++)if(o.symbolId==this._addedSymbol3x[s].symbolId&&o.symbolPosition==this._addedSymbol3x[s].symbolPosition)return;this._addedSymbol3x.push(o)}if(-1!=this._largeSymbols.indexOf(n)){for(var a={symbolId:n,symbolPosition:t=this.getSymbolStartingPosition(t)},r=0;r<this._addedLargeSymbols.length;r++)if(this._addedLargeSymbols.symbolId==this._addedLargeSymbols[r].symbolId&&this._addedLargeSymbols.symbolPosition==this._addedLargeSymbols[r].symbolPosition)return;this._addedLargeSymbols.push(a)}var l=this.getPositionForSymbol(t);this.getSymbolAnimationFromPool(n,l)}}},e.prototype.getSymbolStartingPosition=function(t){for(var e=t%this.slotGameConfig.wheelsCnt,i=(t-e)/this.slotGameConfig.wheelsCnt,n=this._serverIdSymbolsMatrix[i][e],o=i-1;o>=0&&(this._serverIdSymbolsMatrix[o][e]==n&&!this.isLastRowOfSymbol(e,o,n));o--)t-=this.slotGameConfig.wheelsCnt;return t},e.prototype.isLastRowOfSymbol=function(t,e,i){var n,o=0;if(this._serverIdSymbolsMatrix[0][t]!=i)for(n=0;n<this.slotGameConfig.rowsCnt;n++)if(this._serverIdSymbolsMatrix[n][t]==i){if(++o>this._largeSymbolsSpans[i]&&(o=0,n==e+1))return!0}else o=0;else for(n=this.slotGameConfig.rowsCnt-1;n>=0;n--)if(this._serverIdSymbolsMatrix[n][t]==i){if(++o>this._largeSymbolsSpans[i]&&(o=0,n==e))return!0}else o=0;return!1},e.prototype.getPositionForSymbol=function(t){var e=new u;e.x=this.slotGameConfig.symbolsPositions[t].x+this._offset.x,e.y=this.slotGameConfig.symbolsPositions[t].y+this._offset.y;var i=t%this.slotGameConfig.wheelsCnt,n=(t-i)/this.slotGameConfig.wheelsCnt,o=this._serverIdSymbolsMatrix[n][i];if(-1!=this._largeSymbols.indexOf(o)&&0==n){for(var s=0;this._serverIdSymbolsMatrix[n][i]==o&&!this.isLastRowOfSymbol(i,n-1,o)&&(n++,++s!=this._largeSymbolsSpans[o]););var a=this.slotGameConfig.symbolsPositions[this.slotGameConfig.wheelsCnt+i].y-this.slotGameConfig.symbolsPositions[i].y;e.y-=(this._largeSymbolsSpans[o]-s)*a}return e},e.prototype.getSymbolAnimationFromPool=function(t,e){this.broadcastAction(a.WinningsDecoratorBroadcastActionNames.GET_SYMBOL_ANIMATION_FROM_POOL,{symbolId:t,callback:this.playAnimationForSymbolAnimation.bind(this),callbackParams:e})},e.prototype.playAnimationForSymbolAnimation=function(t,e){s.isNil(t)||(s.includes(this._symbolsOnTop,t.symbolId)?(this._display.addChild(t.displayObject),this.topSymbolName=t.displayObject.name,this._highSymbolCounter++):s.includes(this._symbolsInMiddle,t.symbolId)?0==this._display.children.length||1==this._display.children.length&&this._display.children[0].name==this.topSymbolName?this._display.addChildAt(t.displayObject,0):""===this.topSymbolName?this._display.addChild(t.displayObject):this._display.addChildAt(t.displayObject,this._display.children.length-this._highSymbolCounter):this._display.addChildAt(t.displayObject,0),this._runningAnimations.push(t),t.play(e))},e.prototype.animateNextStep=function(t){this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this._highSymbolCounter=0,this.broadcastAction(a.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP),this.topSymbolName="")},e}(l.AbstractWinningsDecorator);e.AbstractAnimateSymbolWinningsDecorator=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.DecoratorBroadcastActionNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(17),s=i(111),a=function(){function t(t,e){void 0===e&&(e=""),this.easeFunctions={},this._optionalDecorator=!1,this.decoratorAnimationFinished=!0,this._name=t,this._layer=e,this.preRegister()}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),t.prototype.preRegister=function(){this._serviceLocator=o.ServiceLocator.instance(),this.settings=this._serviceLocator.get("Settings"),this.translations=this._serviceLocator.get("Translations"),this.signalsManager=this._serviceLocator.get("SignalsManager"),n.isNil(this.gameConfig)&&(this.gameConfig=this.settings.getValue("GameConfig"))},t.prototype.postConstructor=function(t){void 0===t&&(t=!1),t||(this.initVars(),this.registerInjectActionHandlersMandatory()),this._optionalDecorator&&!t||this.registerInjectActionHandlers()},t.prototype.registerInjectActionHandlersMandatory=function(){},t.prototype.destroyDecorator=function(){},t.prototype.registerInjectActionHandlers=function(){},t.prototype.everythingIsLoaded=function(){},t.prototype.initVars=function(){var t=this;this.decoratorSettings=this.getDecoratorSettings(),n.isNil(this.decoratorSettings)||n.each(this.decoratorSettings,(function(e,i){n.has(t,"_"+i)&&!n.isNil(e)&&(typeof e==typeof t["_"+i]?t["_"+i]=e:"string"==typeof e&&("number"!=typeof t["_"+i]||n.isNaN(Number(e))?"boolean"!=typeof t["_"+i]||"true"!=e&&"false"!=e||(t["_"+i]="true"==e):t["_"+i]=Number(e)))}))},t.prototype.getDecoratorSettings=function(){return{}},t.prototype.addInjectActionHandler=function(t,e){this._injectActionHandlers||(this._injectActionHandlers={}),this._injectActionHandlers[t]=e},t.prototype.broadcastAction=function(t,e){void 0===e&&(e=null),this._injectActionHandlers[s.DecoratorInjectActionNames.BROADCAST].call(null,t,e)},t.prototype.inject=function(t,e){this._injectActionHandlers&&n.has(this._injectActionHandlers,t)&&this._injectActionHandlers[t].call(null,e)},t.prototype.setBroadcastHandler=function(t){this.addInjectActionHandler(s.DecoratorInjectActionNames.BROADCAST,t)},t.prototype.getEaseFunction=function(t){return n.has(this.easeFunctions,t)||(this.easeFunctions[t]=EaseLookup.find(t)),this.easeFunctions[t]},t}();e.AbstractDecorator=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS));var e=t.body.animationStep;s.isNil(e)||(this.winningsAnimationsProxy.fullCycleComplete||this.playStepAnimationSound(e),this.updateSymbolsForWheels(e),this.updateInfoboxMessage(e))},e.prototype.updateSymbolsForWheels=function(t){if(!this.winningsAnimationsProxy.dontHideSymbols){var e=t.fullHighlight,i=this.getFullHLWithoutSkippingSymbols(e);this.sendGlobalNotification(l.Notifications.Global.HIDE_SYMBOLS,i)}},e.prototype.getFullHLWithoutSkippingSymbols=function(t){var e=[];return s.each(t,(function(t){e.push(t)})),this.winningsAnimationsProxy.hideLosingSymbols&&s.each(e,(function(t,i){e[i]=1})),this.winningsAnimationsProxy.keepSymbolsHidden&&s.each(this.winningsAnimationsProxy.keepSymbolsHidden,(function(t,i){1==t&&(e[i]=1)})),s.isNil(this.winningsAnimationsProxy.symbolsToSkip)||s.each(this.winningsAnimationsProxy.symbolsToSkip,(function(t,i){1==t&&(e[i]=0)})),e},e.prototype.updateInfoboxMessage=function(t){var e=t.message,i=t.symbols;"showAll"==t.type&&(i=[]),this.sendGlobalNotification(l.Notifications.Global.UPDATE_INFOBOX,{message:e,symbols:i})},e.prototype.playStepAnimationSound=function(t){this.sendGlobalNotification(l.Notifications.Global.PLAY_WINNINGS_ANIMATIONS_SOUNDS,{animationStep:t})},e}(a.Controller);e.StartAnimateStepWinningsAnimationsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),!this.winningsAnimationsProxy.dontHideSymbols){var e=this.getSymbolsToHide();this.sendGlobalNotification(l.Notifications.Global.HIDE_SYMBOLS,e)}},e.prototype.initVars=function(){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.getSymbolsToHide=function(){var t=s.times(this.slotGameConfig.rowsCnt*this.slotGameConfig.columnsCnt,s.constant(0));return this.winningsAnimationsProxy.keepSymbolsHidden&&s.each(this.winningsAnimationsProxy.keepSymbolsHidden,(function(e,i){1==e&&(t[i]=1)})),t},e}(a.Controller);e.StopAnimateStepWinningsAnimationsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(19),l=i(5),c=i(52),u=i(112),h=i(2),p=i(43),d=i(7),_=a.Names.Layers,f=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.isPaytableOpenOnSkipCelebration=!1,n}return o(e,t),Object.defineProperty(e.prototype,"winningsAnimationsProxy",{get:function(){return s.isNil(this._winningsAnimationsProxy)&&(this._winningsAnimationsProxy=this.retrieveProxy(a.Names.Proxies.WINNINGS_ANIMATIONS)),this._winningsAnimationsProxy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return _.WINNINGS_ANIMATIONS_INCREMENT},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this)},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.WAActionNames.ANIMATE_NEXT_STEP,this.animateNextStep.bind(this)),this.addListenerToSignal(u.WAActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,this.addSymbolAnimationToPool.bind(this)),this.addListenerToSignal(u.WAActionNames.RESET_SYMBOL_ANIMATION_TO_POOL,this.resetSymbolAnimationToPool.bind(this)),this.addListenerToSignal(u.WAActionNames.GET_SYMBOL_ANIMATION_FROM_POOL,this.getSymbolAnimationFromPool.bind(this)),this.addListenerToSignal(u.WAActionNames.GET_SPINE_ANIMATION_DATA,this.getSpineAnimationData.bind(this)),this.addListenerToSignal(u.WAActionNames.BIG_WIN_ANIMATION_STARTED,this.bigWinAnimationStarted.bind(this)),this.addListenerToSignal(u.WAActionNames.BIG_WIN_INCREMENT_ENDED,this.bigWinIncrementEnded.bind(this)),this.addListenerToSignal(u.WAActionNames.BIG_WIN_ANIMATION_CANCELED,this.bigWinAnimationCanceled.bind(this)),this.addListenerToSignal(u.WAActionNames.FANTASTIC_WIN_ANIMATION_STARTED,this.fantasticWinAnimationStarted.bind(this)),this.addListenerToSignal(u.WAActionNames.PLAY_BIG_WIN_VOICE,this.playBigWinVoice.bind(this)),this.addListenerToSignal(u.WAActionNames.STOP_BIG_WIN_VOICE,this.stopBigWinVoice.bind(this)),this.addListenerToSignal(u.WAActionNames.ULTRA_WIN_ANIMATION_STARTED,this.ultraWinAnimationStarted.bind(this)),this.addListenerToSignal(u.WAActionNames.BIG_WIN_ANIMATION_COMPLETED,this.bigWinAnimationCompleted.bind(this)),this.addListenerToSignal(u.WAActionNames.FIVE_OF_A_KIND_ANIMATION_COMPLETED,this.fiveOfAKindAnimationCompleted.bind(this)),this.addListenerToSignal(u.WAActionNames.GET_INCREMENT_STATUS,this.getIncrementStatus.bind(this)),this.addListenerToSignal(u.WAActionNames.STOP_ALL_INCREMENTS,this.stopAllIncrements.bind(this)),this.addListenerToSignal(u.WAActionNames.ADD_ON_UPDATE_FUNCTION,this.addOnUpdateFunction.bind(this)),this.addListenerToSignal(u.WAActionNames.ADD_ON_COMPLETE_FUNCTION,this.addOnCompleteFunction.bind(this)),this.addListenerToSignal(u.WAActionNames.REMOVE_ON_UPDATE_FUNCTION,this.removeOnUpdateFunction.bind(this)),this.addListenerToSignal(u.WAActionNames.REMOVE_ON_COMPLETE_FUNCTION,this.removeOnCompleteFunction.bind(this)),this.addListenerToSignal(u.WAActionNames.WHEEL_COMPLETE_WIN,this.onWheelCompleteWin.bind(this)),this.addListenerToSignal(u.WAActionNames.GET_INCREMENT_END_VALUE,this.onGetIncrementEndValue.bind(this)),this.addListenerToSignal(u.WAActionNames.PLAY_SOUND,this.onPlaySoundFromDecorator.bind(this)),this.addListenerToSignal(u.WAActionNames.STOP_SOUND,this.onStopSoundFromDecorator.bind(this)),this.addListenerToSignal(u.WAActionNames.CELEBRATION_END,this.onCelebrationEnd.bind(this)),this.addListenerToSignal(u.WAActionNames.SKIP_BIG_WIN_ANIMATION,this.onSkipBigWinAnimation.bind(this)),this.addListenerToSignal(u.WAActionNames.PLAY_SOUND_MASTER_LAYOUT,this.onPlaySoundFromMasterLayout.bind(this))},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),this.initializeLayers()},e.prototype.initializeLayers=function(){this.view.addNewLayer(this.layersProxy.retrieveLayer(_.WINNINGS_ANIMATIONS_BACKGROUND),_.WINNINGS_ANIMATIONS_BACKGROUND),this.view.addNewLayer(this.layersProxy.retrieveLayer(_.WINNINGS_ANIMATIONS_OVERGROUND),_.WINNINGS_ANIMATIONS_OVERGROUND),this.view.addNewLayer(this.layersProxy.retrieveLayer(_.WINNINGS_ANIMATIONS_OVERGROUND_FRAME),_.WINNINGS_ANIMATIONS_OVERGROUND_FRAME),this.view.addNewLayer(this.layersProxy.retrieveLayer(_.WINNINGS_ANIMATIONS_BIG_WIN),_.WINNINGS_ANIMATIONS_BIG_WIN),this.view.addNewLayer(this.layersProxy.retrieveLayer(_.WINNINGS_ANIMATIONS_INCREMENT),_.WINNINGS_ANIMATIONS_INCREMENT)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(a.Names.Proxies.STATE_MACHINE,a.Names.Modules.GAME_SETUP))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(h.Notifications.Winning.SET_DISPLAY_SYMBOLS_FOR_WIN_DECORATORS,this.injectSymbolsToDecorators.bind(this)),this.addNotification(h.Notifications.Winning.SET_SYMBOLS_TO_SKIP_FOR_WIN_DECORATORS,this.injectSymbolsToSkipForDecorators.bind(this)),this.addNotification(h.Notifications.Winning.PREPARE_BIG_WIN_ANIMATION,this.onPrepareBigWinAnimation.bind(this)),this.addNotification(h.Notifications.Winning.PLAY_FIVE_OF_A_KIND_ANIMATION,this.onPlayFiveOfAKindAnimation.bind(this)),this.addNotification(h.Notifications.Wheels.WHEEL_COMPLETE,this.onWheelCompleteReceived.bind(this)),this.addNotification(h.Notifications.Wheels.LOCK_WHEEL,this.onLockeWheel.bind(this)),this.addNotification(h.Notifications.Wheels.UNLOCK_WHEEL,this.onUnlockWheel.bind(this)),this.addNotification(h.Notifications.Global.SPIN,this.onSpin.bind(this)),this.addNotification(h.Notifications.Global.STOP_SPIN,this.onStopSpin.bind(this)),this.addNotification(h.Notifications.Global.SKIP_WINNINGS,this.onSkipWinnings.bind(this)),this.addNotification(h.Notifications.Winning.UPDATE_WINNINGS_SHOW_ALL,this.onUpdateWinningsShowAll.bind(this)),this.addNotification(h.Notifications.Global.START_PROGRESSIVE_POPUP,this.startProgressivePopup.bind(this)),this.addNotification(h.Notifications.Global.END_PROGRESSIVE_POPUP,this.endProgressivePopup.bind(this)),this.addNotification(p.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,this.animateStep.bind(this)),this.addNotification(p.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,this.stopStep.bind(this)),this.addNotification(p.WinningsAnimationsNotifications.GET_SYMBOL_ANIMATION_FROM_DECORATOR,this.getSymbolFromDecorator.bind(this)),this.addNotification(p.WinningsAnimationsNotifications.FULL_CYCLE_COMPLETE,this.fullCycleComplete.bind(this)),this.addNotification(h.Notifications.GameSetup.ALL_MODULES_INITIALIZED,this.onAllModulesInitialized.bind(this)),this.addNotification(h.Notifications.Winning.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addNotification(h.Notifications.Global.SKIP,this.onCelebrationSkip.bind(this)),this.addNotification(h.Notifications.Global.CHANGE_COIN_VALUE,this.onCelebrationSkip.bind(this)),this.addNotification(h.Notifications.Global.CHANGE_LINE_BET,this.onCelebrationSkip.bind(this)),this.addNotification(h.Notifications.Global.CHANGE_LINES,this.onCelebrationSkip.bind(this)),this.addNotification(h.Notifications.Winning.OPTIONAL_ASSETS_LOADED,this.onOptionalAssetsLoaded.bind(this)),this.addNotification(h.Notifications.Global.PAY_TABLE_OPENING,this.onShowPaytable.bind(this)),this.addNotification(h.Notifications.Global.PAY_TABLE_CLOSING,this.onHidePaytable.bind(this))},e.prototype.injectSymbolsToDecorators=function(t){this.winningsAnimationsProxy.symbolsMatrix=t.body.symbolsMatrix,this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.SYMBOLS_MATRIX,t.body)},e.prototype.injectSymbolsToSkipForDecorators=function(t){this.winningsAnimationsProxy.symbolsToSkip=t.body.symbolsToSkip,this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.SYMBOLS_TO_SKIP,t.body)},e.prototype.onPrepareBigWinAnimation=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.PREPARE_BIG_WIN_ANIMATION,t)},e.prototype.onPlayFiveOfAKindAnimation=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.ANIMATE_FIVE_OF_A_KIND,t)},e.prototype.onWheelCompleteReceived=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.WHEEL_COMPLETE,{wheelId:t,linesAnimations:this.winningsAnimationsProxy.linesAnimations})},e.prototype.onLockeWheel=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.LOCK_WHEEL,t.body)},e.prototype.onUnlockWheel=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.UNLOCK_WHEEL,t.body)},e.prototype.onSpin=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.SPIN,t)},e.prototype.onStopSpin=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.STOP_SPIN,t)},e.prototype.onUpdateWinningsShowAll=function(t){this.winningsAnimationsProxy.onlyShowAll=t.body,this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.SHOW_ALL,t)},e.prototype.onOptionalAssetsLoaded=function(t){var e=this.view.decorators;s.isNil(e)||e.length<1||(this.winningsAnimationsProxy.optionalDecoratorsToDisable=t.body.optionalDecoratorsToDisable,this.winningsAnimationsProxy.optionalDecoratorsToEnable=t.body.optionalDecoratorsToEnable,this.swapOptionalDecorators())},e.prototype.swapOptionalDecorators=function(){var t=this;this.doingDecoratorSwap=!0;var e=this.view.decorators;if(!s.isNil(this.winningsAnimationsProxy.optionalDecoratorsToDisable)&&this.winningsAnimationsProxy.optionalDecoratorsToDisable.length){if(e.reduce((function(e,i){return e||s.indexOf(t.winningsAnimationsProxy.optionalDecoratorsToDisable,i.name)>-1&&!i.decoratorAnimationFinished}),!1))return void(this.doingDecoratorSwap=!1);s.remove(e,(function(e){return!s.isNil(e)&&(s.indexOf(t.winningsAnimationsProxy.optionalDecoratorsToDisable,e.name)>-1&&(e.destroyDecorator(),!0))})),this.winningsAnimationsProxy.optionalDecoratorsToDisable=void 0}!s.isNil(this.winningsAnimationsProxy.optionalDecoratorsToEnable)&&this.winningsAnimationsProxy.optionalDecoratorsToEnable.length&&(s.each(e,(function(e){s.isNil(e)||s.indexOf(t.winningsAnimationsProxy.optionalDecoratorsToEnable,e.name)>-1&&e.postConstructor(!0)})),this.winningsAnimationsProxy.optionalDecoratorsToEnable=void 0),this.doingDecoratorSwap=!1},e.prototype.startProgressivePopup=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.PROGRESSIVE_ANIMATION_STARTED,t)},e.prototype.endProgressivePopup=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.PROGRESSIVE_ANIMATION_COMPLETED,t)},e.prototype.animateStep=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.START_ANIMATION,t.body)},e.prototype.stopStep=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.STOP_ANIMATION,t.body)},e.prototype.getSymbolFromDecorator=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.GET_SYMBOL_ANIMATION_FROM_DECORATOR,t.body)},e.prototype.fullCycleComplete=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.FULL_CYCLE_COMPLETE,t.body)},e.prototype.onAllModulesInitialized=function(){this.viewComponent.onAllModulesInitialized(),this.sendGlobalNotification(h.Notifications.Global.LOAD_OPTIONAL_GROUP,a.Names.Modules.WINNINGS)},e.prototype.onCelebrationStart=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.CELEBRATION_START,t)},e.prototype.onCelebrationSkip=function(t){this.winningsAnimationsProxy.celebrationInProgress&&(this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,t),this.stateMachineProxy.state!=l.States.START_FREE_SPINS&&this.updateUIActionOnSkipCelebration())},e.prototype.onShowPaytable=function(){this.isPaytableOpenOnSkipCelebration=this.winningsAnimationsProxy.celebrationInProgress},e.prototype.onHidePaytable=function(){!this.winningsAnimationsProxy.celebrationInProgress&&this.isPaytableOpenOnSkipCelebration&&(this.isPaytableOpenOnSkipCelebration=!1,this.updateUIActionOnSkipCelebration()),this.isPaytableOpenOnSkipCelebration=!1},e.prototype.updateUIActionOnSkipCelebration=function(){this.isPaytableOpenOnSkipCelebration||this.sendGlobalNotification(h.Notifications.Global.UPDATE_USER_INTERFACE,d.UpdateUIAction.SKIP_CELEBRATION)},e.prototype.onSkipWinnings=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.FIVE_OF_A_KIND_ANIMATION_ENDED,t)},e.prototype.getSymbolAnimationFromPool=function(t){this.sendGlobalNotification(h.Notifications.Winning.GET_SYMBOL_ANIMATION,t)},e.prototype.getSpineAnimationData=function(t){this.sendGlobalNotification(h.Notifications.Winning.GET_SPINE_DATA,t)},e.prototype.onCelebrationEnd=function(){this.winningsAnimationsProxy.celebrationInProgress&&(this.winningsAnimationsProxy.celebrationInProgress=!1,this.updateUIActionOnSkipCelebration(),this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.STOP_ANIMATION,{resetAnimation:!0}))},e.prototype.animateNextStep=function(t){this.winningsAnimationsProxy.optionalDecoratorsToEnable&&!this.doingDecoratorSwap&&this.swapOptionalDecorators(),this.sendNotification(p.WinningsAnimationsNotifications.START_ANIMATE_NEXT_STEP)},e.prototype.addSymbolAnimationToPool=function(t){this.sendGlobalNotification(h.Notifications.Winning.ADD_SYMBOL_ANIMATION_TO_POOL,t)},e.prototype.resetSymbolAnimationToPool=function(t){this.sendGlobalNotification(h.Notifications.Winning.RESET_SYMBOL_ANIMATION_TO_POOL,t)},e.prototype.bigWinAnimationStarted=function(t){this.sendGlobalNotification(h.Notifications.Winning.BIG_WIN_ANIMATION_STARTED)},e.prototype.bigWinIncrementEnded=function(t){this.sendGlobalNotification(h.Notifications.Winning.BIG_WIN_INCREMENT_ENDED)},e.prototype.bigWinAnimationCanceled=function(t){this.sendGlobalNotification(h.Notifications.Winning.BIG_WIN_ANIMATION_CANCELED)},e.prototype.fantasticWinAnimationStarted=function(t){this.sendGlobalNotification(h.Notifications.Winning.FANTASTIC_WIN_ANIMATION_STARTED)},e.prototype.playBigWinVoice=function(t){this.sendGlobalNotification(h.Notifications.Winning.PLAY_BIG_WIN_VOICE,t)},e.prototype.stopBigWinVoice=function(t){this.sendGlobalNotification(h.Notifications.Winning.STOP_BIG_WIN_VOICE,t)},e.prototype.ultraWinAnimationStarted=function(t){this.sendGlobalNotification(h.Notifications.Winning.ULTRA_WIN_ANIMATION_STARTED)},e.prototype.bigWinAnimationCompleted=function(t){this.sendGlobalNotification(h.Notifications.Winning.BIG_WIN_ANIMATION_STOPPED)},e.prototype.fiveOfAKindAnimationCompleted=function(t){this.sendGlobalNotification(h.Notifications.Winning.FIVE_OF_A_KIND_ANIMATION_COMPLETED)},e.prototype.getIncrementStatus=function(t){this.sendGlobalNotification(h.Notifications.Increment.GET_INCREMENT_STATUS,t)},e.prototype.stopAllIncrements=function(t){this.sendGlobalNotification(h.Notifications.Increment.STOP_ALL_INCREMENTS,t)},e.prototype.addOnUpdateFunction=function(t){this.sendGlobalNotification(h.Notifications.Increment.ADD_ON_UPDATE_TO_INCREMENT,t)},e.prototype.addOnCompleteFunction=function(t){this.sendGlobalNotification(h.Notifications.Increment.ADD_ON_COMPLETE_TO_INCREMENT,t)},e.prototype.removeOnUpdateFunction=function(t){this.sendGlobalNotification(h.Notifications.Increment.REMOVE_ON_UPDATE_FROM_INCREMENT,t)},e.prototype.removeOnCompleteFunction=function(t){this.sendGlobalNotification(h.Notifications.Increment.REMOVE_ON_COMPLETE_FROM_INCREMENT,t)},e.prototype.onWheelCompleteWin=function(t){this.sendGlobalNotification(h.Notifications.Winning.WHEEL_COMPLETE_WIN_ANIMATION)},e.prototype.onGetIncrementEndValue=function(t){this.sendGlobalNotification(h.Notifications.Increment.GET_INCREMENT_TOTAL,t)},e.prototype.onPlaySoundFromDecorator=function(t){this.sendGlobalNotification(h.Notifications.Global.PLAY_SOUND,t)},e.prototype.onStopSoundFromDecorator=function(t){this.sendGlobalNotification(h.Notifications.Global.STOP_SOUND,t)},e.prototype.onSkipBigWinAnimation=function(t){this.sendGlobalNotification(h.Notifications.Global.SKIP)},e.prototype.onPlaySoundFromMasterLayout=function(t){this.sendGlobalNotification(h.Notifications.Global.PLAY_SOUND_MASTER_LAYOUT,t)},e}(r.AbstractMediator);e.WinningsAnimationsMediator=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(2),s=i(6),a=i(385),r=function(){function t(e){if(this.cores={},this._executionPaused=!1,this._notificationsAllowedThroughFatality=[],t._instance)throw new Error("Error: Instantiation failed: Use Mvc.getInstance()");t._instance=this,this.signalsManager=e,this.registerCore(t._defaultCore),this.initVars()}return t.getInstance=function(){return t._instance},t.prototype.initVars=function(){this._notificationsAllowedThroughFatality.push(o.Notifications.Global.DEVICE_SCREEN_RESIZED),this._notificationsAllowedThroughFatality.push(o.Notifications.Global.DEVICE_SCREEN_RESIZING)},t.prototype.executionPaused=function(t){s.Log.infoch("MVC","Execution of commands: "+!t),this._executionPaused=t},t.prototype.registerCore=function(t){this.cores[t]=new l(t)},t.prototype.removeCore=function(t){delete this.cores[t]},t.prototype.registerNotification=function(e,i){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].registerNotification(e):s.Log.errorch("MVC","registerNotification - missing scope : "+i)},t.prototype.unregisterNotification=function(e,i){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].unregisterNotification(e):s.Log.errorch("MVC","unregisterNotification - missing scope : "+i)},t.prototype.registerCommand=function(e,i,o){void 0===o&&(o=t._defaultCore),n.has(this.cores,o)?this.cores[o].registerCommand(e,i):s.Log.errorch("MVC","registerCommand - missing scope : "+o)},t.prototype.isRegisteredCommand=function(e,i){void 0===i&&(i=t._defaultCore);var o=!1;return n.has(this.cores,i)?o=this.cores[i].isRegisteredCommand(e):s.Log.errorch("MVC","isRegisteredCommand - missing scope : "+i),o},t.prototype.unregisterCommand=function(e,i){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].unregisterCommand(e):s.Log.errorch("MVC","unregisterCommand - missing scope : "+i)},t.prototype.registerProxy=function(e,i,o){void 0===o&&(o=t._defaultCore),n.has(this.cores,o)?this.cores[o].registerProxy(e,i):s.Log.errorch("MVC","registerProxy - missing scope : "+o)},t.prototype.isRegisteredProxy=function(e,i){void 0===i&&(i=t._defaultCore);var o=!1;return n.has(this.cores,i)?o=this.cores[i].isRegisteredProxy(e):s.Log.errorch("MVC","isRegisteredProxy - missing scope : "+i),o},t.prototype.retrieveProxy=function(e,i){void 0===i&&(i=t._defaultCore);var o=null;return n.has(this.cores,i)?o=this.cores[i].retrieveProxy(e):s.Log.errorch("MVC","retrieveProxy - missing scope : "+i),o},t.prototype.unregisterProxy=function(e,i){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].unregisterProxy(e):s.Log.errorch("MVC","unregisterProxy - missing scope : "+i)},t.prototype.registerMediator=function(e,i,o){void 0===o&&(o=t._defaultCore),n.has(this.cores,o)?this.cores[o].registerMediator(e,i):s.Log.errorch("MVC","registerMediator - missing scope : "+o)},t.prototype.unregisterMediator=function(e,i){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].unregisterMediator(e):s.Log.errorch("MVC","unregisterMediator - missing scope : "+i)},t.prototype.sendNotification=function(e,i,o,a){void 0===o&&(o=t._defaultCore),(!this._executionPaused||this._notificationsAllowedThroughFatality.indexOf(e)>-1)&&(n.has(this.cores,o)?this.cores[o].sendNotification(e,i,a):s.Log.errorch("MVC","sendNotification - missing scope : "+o))},t.prototype.sendGlobalNotification=function(t,e,i){(!this._executionPaused||this._notificationsAllowedThroughFatality.indexOf(t)>-1)&&n.each(this.cores,(function(n){n.sendNotification(t,e,i)}))},t.prototype.addNotification=function(e,i,o){void 0===i&&(i=t._defaultCore),n.has(this.cores,i)?this.cores[i].addNotification(e,o):s.Log.errorch("MVC","addNotification - missing scope : "+i)},t._defaultCore="__defaultCore__",t}();e.Mvc=r;var l=function(){function t(t){this.commands={},this.notifications={},this.proxies={},this.mediators={},this.name=t}return t.prototype.registerNotification=function(t){this.notifications[t]||(this.notifications[t]=new Array)},t.prototype.unregisterNotification=function(t){delete this.notifications[t]},t.prototype.registerCommand=function(t,e){if(this.commands[t]){var i=n.findIndex(this.commands[t],(function(t){return t.name===e.name}));-1===i?this.commands[t].push(e):this.commands[t][i]=e}else this.commands[t]=[],this.commands[t].push(e);e.currentScope=this.name,e.onRegister()},t.prototype.isRegisteredCommand=function(t){return!n.isNil(this.commands[t])},t.prototype.unregisterCommand=function(t){this.commands[t]&&(n.each(this.commands[t],(function(t){t.onUnregister()})),delete this.commands[t])},t.prototype.registerProxy=function(t,e){this.proxies[t]||(this.proxies[t]=e),e.currentScope=this.name,e.onRegister()},t.prototype.isRegisteredProxy=function(t){return!n.isNil(this.proxies[t])},t.prototype.retrieveProxy=function(t){return this.proxies[t]},t.prototype.unregisterProxy=function(t){this.isRegisteredProxy(t)&&(this.proxies[t].onUnregister(),delete this.proxies[t])},t.prototype.registerMediator=function(t,e){var i=this;this.mediators[t]||(e.hasRegister=!1,this.mediators[t]=e,e.currentScope=this.name,e.onRegister(),n.each(e.listNotificationInterests(),(function(t){i.registerNotification(t),i.notifications[t].push(e)})),e.hasRegister=!0)},t.prototype.unregisterMediator=function(t){var e=this,i=this.mediators[t],o=i.listNotificationInterests();n.each(o,(function(t){var o=e.notifications[t];n.remove(o,(function(t){return t===i}))})),i.onUnregister(),delete this.mediators[t]},t.prototype.sendNotification=function(t,e,i){if(this.commands[t]){var o=new a.Notification;o.body=e,o.name=t,n.each(this.commands[t],(function(n){i?requestAnimationFrame((function(){n.execute({name:t,body:e})})):n.execute({name:t,body:e})}))}this.notifyMediators(t,e,i)},t.prototype.notifyMediators=function(t,e,i){if(this.notifications[t]){var o=this.notifications[t];n.each(o,(function(n){i?requestAnimationFrame((function(){n.handleNotification({body:e,name:t})})):n.handleNotification({body:e,name:t})}))}},t.prototype.addNotification=function(t,e){e.hasRegister&&(n.has(this.notifications,t)||(this.registerNotification(t),n.some(this.notifications[t],e)||this.notifications[t].push(e)))},t}();e.MvcCore=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(13),l=i(43),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fullCycleComplete=!1,e.onlyShowAll=!1,e.showOneCycle=!1,e.onlyShowAllAfterCycleComplete=!1,e.orderWinningsByWinningValue=!1,e.showWinningsAtRestore=!1,e.hasFiveOfAKind=!1,e.hasToPlayBigWinAnimation=!1,e.bigWinLimit=1,e.fantasticWinLimit=1,e.ultraWinLimit=1,e.hideLosingSymbols=!1,e.dontHideSymbols=!1,e.celebrationInProgress=!1,e._currentAnimationStepIndex=0,e._shouldNotPlaySymbolAnimations=!1,e}return o(e,t),e.prototype.addOrReplaceLineAnimation=function(t){var e=!1;this.linesAnimations||(this.linesAnimations=new Array);var i=s.findIndex(this.linesAnimations,(function(e){return e.type==t.type&&e.id==t.id}));if(i>-1){var n=this.linesAnimations[i];this.linesAnimations[i]=t,t.previousLine=n,e=!0}e||this.linesAnimations.push(t)},e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this._shouldNotPlaySymbolAnimations=!1;var e=this.settings.getValue("BIG_WIN_SETTINGS");this.bigWinLimit=e.bigWinLimit,e.fantasticWinLimit&&(this.fantasticWinLimit=e.fantasticWinLimit),e.ultraWinLimit&&(this.ultraWinLimit=e.ultraWinLimit)},e.prototype.animateNextStep=function(){if(!s.isNil(this.animationsSteps)){this._currentAnimationStepIndex++;var t=!1;this._currentAnimationStepIndex>=this.animationsSteps.length&&(this._currentAnimationStepIndex=0,this.fullCycleComplete||(this.fullCycleComplete=!0,t=!0)),this.sendGlobalNotification(l.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,{resetAnimation:this.showOneCycle&&t}),!0===t&&this.sendNotification(l.WinningsAnimationsNotifications.FULL_CYCLE_COMPLETE),this.showOneCycle&&t?this.sendGlobalNotification(a.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS):(this.sendGlobalNotification(l.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,{animationStep:this.animationsSteps[this._currentAnimationStepIndex]}),t&&this.sendGlobalNotification(a.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS))}},e.prototype.startAnimations=function(){this._currentAnimationStepIndex=0,this.fullCycleComplete=!1,this.sendGlobalNotification(l.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,{animationStep:this.animationsSteps[this._currentAnimationStepIndex],shouldNotPlaySpines:this._shouldNotPlaySymbolAnimations});var t=!1,e=!1;s.each(this.linesAnimations,(function(i){i.showOnlyThisWin&&(i.showOnlyThisWin=!1,t=!0),i.skipIncrement&&(e=!0)})),t||e||s.each(this.linesAnimations,(function(t){t.excludeThisWin=!0}))},e.prototype.stopAnimations=function(){this.animationsSteps=void 0,this.celebrationInProgress=!1,this.sendGlobalNotification(l.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,{resetAnimation:!0})},e.prototype.pauseAnimations=function(){this.sendGlobalNotification(l.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,{resetAnimation:!1})},e.prototype.resumeAnimations=function(){this.animateNextStep()},e}(r.Proxy);e.WinningsAnimationsProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(110),r=i(176),l=i(44),c=i(34),u=i(42),h=i(15),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._transitionInEaseFunction="Linear.easeInOut",e._transitionOutEaseFunction="Linear.easeInOut",e._transitionInDuration=.75,e._transitionOutDuration=.75,e._transitionInScale=1.2,e._transitionOutScale=1,e._transitionInAlpha=.5,e._transitionOutAlpha=1,e._transitionInDelay=0,e._transitionOutDelay=0,e._initialScales={},e._animationDuration=2,e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings&&this.decoratorSettings.transitionInDuration&&(this._transitionInDuration=this.decoratorSettings.transitionInDuration)},e.prototype.destroyDecorator=function(){var e=this;t.prototype.destroyDecorator.call(this),s.each(this._symbolsToAnimate,(function(t){e.broadcastAction(l.WinningsDecoratorBroadcastActionNames.RESET_SYMBOL_ANIMATION_TO_POOL,{symbolID:t})}))},e.prototype.initSymbolAnimations=function(){var t=this;s.each(this._symbolsToAnimate,(function(e){s.each(s.range(t.slotGameConfig.wheelsCnt),(function(i,n){var o=new a.SymbolAnimationVO(e,t.getSymbolAnimation(e),t.playSymbolAnimation.bind(t),t.stopSymbolAnimation.bind(t));o.hasMovieAnimation=!1,t.broadcastAction(l.WinningsDecoratorBroadcastActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,{symbolAnimationVO:o})}))}))},e.prototype.stopSymbolAnimation=function(e){t.prototype.stopSymbolAnimation.call(this,e),TweenLite.killTweensOf(e),e.x=0,e.y=0,e.scale.x=this._initialScales[e.name],e.scale.y=this._initialScales[e.name],e.alpha=1},e.prototype.playSymbolAnimation=function(e,i,n){t.prototype.playSymbolAnimation.call(this,e,i,n),this.decoratorAnimationFinished=!1,this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.LONGEST_ANIMATION_DURATION,{duration:this._animationDuration}),this.doTransitionIn(e)},e.prototype.onStartAnimation=function(e){this._numberOfAnimationsCompleted=0,t.prototype.onStartAnimation.call(this,e)},e.prototype.getSymbolAnimationFromDecorator=function(t){var e=t.symbolId,i=new a.SymbolAnimationVO(e,this.getSymbolAnimation(e),this.playSymbolAnimation.bind(this),this.stopSymbolAnimation.bind(this));i.hasMovieAnimation=!1,i.displayObject&&t.callback.call(null,i)},e.prototype.getSymbolAnimation=function(t){if(-1==this._symbolsToAnimate.indexOf(t))return null;var e=u.VisualAssetsMap.instance().visualAssets[c.VisualAssetsNames.SYMBOL_NAME]+t,i=h.TextureUtil.instance().createImageFromTexture(e);return i.scale.x=i.scale.y=this.slotGameConfig.getProperty("WHEEL_DECORATORS","tweenWheelDecorator").symbolScaleCorrection/(1/i.scale.x),i.name=e,this._initialScales[e]=i.scale.x,i},e.prototype.doTransitionIn=function(t){this._display.addChild(t),t.scale.x=this._initialScales[t.name],t.scale.y=this._initialScales[t.name],t.alpha=1;var e=this.getNewPosition(t.x,t.y,t.width,t.height,this._transitionInScale),i=new PIXI.Point(t.x,t.y);TweenLite.to(t,this._transitionInDuration,{x:e.x,y:e.y,delay:this._transitionInDelay,pixi:{scaleX:this._transitionInScale*this._initialScales[t.name],scaleY:this._transitionInScale*this._initialScales[t.name]},alpha:this._transitionInAlpha,ease:this.getEaseFunction(this._transitionInEaseFunction),onComplete:this.doTransitionOut.bind(this),onCompleteParams:[t,i]})},e.prototype.getNewPosition=function(t,e,i,n,o){var s=new PIXI.Point;return s.x=t+(i-o*i)/2,s.y=e+(n-o*n)/2,s},e.prototype.doTransitionOut=function(t,e){0!=this._transitionOutDuration?TweenLite.to(t,this._transitionOutDuration,{x:e.x,y:e.y,delay:this._transitionOutDelay,pixi:{scaleX:this._transitionOutScale*this._initialScales[t.name],scaleY:this._transitionOutScale*this._initialScales[t.name]},alpha:this._transitionOutAlpha,onComplete:this.announceAnimationCompleted.bind(this),ease:this.getEaseFunction(this._transitionOutEaseFunction)}):this.symbolAnimationComplete()},e.prototype.symbolAnimationComplete=function(){this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(l.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP))},e.prototype.announceAnimationCompleted=function(){this._numberOfAnimationsCompleted++,this._numberOfAnimationsCompleted==this._runningAnimations.length&&this.symbolAnimationComplete()},e}(r.AbstractAnimateSymbolWinningsDecorator);e.AnimateSymbolStaticWinningDecorator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(20),l=i(130),c=i(112),u=i(44),h=i(52),p=i(4),d=i(45),_=PIXI.Graphics,f=function(t){function e(e){var i=t.call(this,e)||this;return i._layers={},i}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this)},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this)},e.prototype.initClickCaptureDisplay=function(){var t=this;this._clickCaptureDisplay=new _;var e=s.reduce(this.wheelAnimationConfig.wheelsBounds,(function(e,i,n){var o=t.wheelAnimationConfig.wheelsBounds[n-1];return o&&(e+=i.x-(o.x+o.width)),e+i.width}),0),i=this.wheelAnimationConfig.wheelsBounds[0].height;this._clickCaptureDisplay.beginFill(16711680),this._clickCaptureDisplay.drawRect(this.wheelAnimationConfig.wheelsBounds[0].x,this.wheelAnimationConfig.wheelsBounds[0].y,e,i),this._clickCaptureDisplay.alpha=0,this._clickCaptureDisplay.endFill(),p.Device.instance().mobile||p.Device.instance().table||this.display.on(d.PointerStates.DOWN,this.onClickCaptureDisplay,this)},e.prototype.onClickCaptureDisplay=function(t){this.removeClickCaptureDisplay(),this.dispatchSignal(c.WAActionNames.SKIP_BIG_WIN_ANIMATION)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.initDecorators=function(t){var e=this;this.settings.getValue("GameConfig");this.wheelAnimationConfig=this.initWheelsDetails(),s.each(t.decoratorClasses,(function(i,n){var o;(o=new i.classDefinition(i.id,t.decoratorLayers[n])).postConstructor(),e.decorators.push(o),o.setBroadcastHandler(e.callBroadcastHandler.bind(e));var s=new PIXI.Container;s.name=r.StringUtil.getName(i),o.inject(h.WinningsDecoratorInjectActionNames.DISPLAY,{display:s,layers:e._layers}),o.inject(h.WinningsDecoratorInjectActionNames.ANIMATION_CONFIG,e.wheelAnimationConfig),""!=t.decoratorLayers[n]?e._layers[t.decoratorLayers[n]].container.addChild(s):e.display.addChild(s)})),this.initClickCaptureDisplay()},e.prototype.initWheelsDetails=function(){for(var t,e,i=this.settings.getValue("GameConfig"),n=new l.WheelAnimationConfigVO,o=i.getProperties("WHEEL_COLUMNS_DETAILS"),a=0;a<i.wheelsCnt;a++){t=o[a+1];var c=void 0;c=s.isNil(t.numberOfSymbols)?i.rowsCnt:t.numberOfSymbols,e=r.StringUtil.stringToRectangle(t.columnBounds),n.wheelsBounds.push(new PIXI.Rectangle(e.x,e.y,e.width,e.height)),n.xAxis.push(e.x+e.width/2),s.isNaN(n.symbolHeight)&&(n.symbolHeight=(e.height-(c-1)*t.symbolRowSpacing)/c,n.symbolWidth=e.width),n.yAxis.push(e.y+n.symbolHeight/2),s.isNaN(n.symbolsSpacing)&&(n.symbolsSpacing=t.symbolRowSpacing)}return n},e.prototype.addNewLayer=function(t,e){this._layers[e]=t},e.prototype.registerBroadcastActions=function(){t.prototype.registerBroadcastActions.call(this),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP,this.onAnimateNextStep.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,this.addSymbolAnimationToPool.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.RESET_SYMBOL_ANIMATION_TO_POOL,this.resetSymbolAnimationToPool.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.GET_SYMBOL_ANIMATION_FROM_POOL,this.getSymbolAnimationFromPool.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_COMPLETED,this.onBigWinAnimationCompleted.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_STARTED,this.onBigWinAnimationStarted.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_CANCELED,this.onBigWinAnimationCanceled.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.BIG_WIN_INCREMENT_ENDED,this.onBigWinIncrementEnded.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.FANTASTIC_WIN_ANIMATION_STARTED,this.onFantasticWinAnimationStarted.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.PLAY_BIG_WIN_VOICE,this.onPlayBigWinVoice.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ULTRA_WIN_ANIMATION_STARTED,this.onUltraWinAnimationStarted.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_STATUS,this.onGetIncrementStatus.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.STOP_ALL_INCREMENTS,this.onStopAllIncrements.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ADD_ON_UPDATE_FUNCTION,this.onAddOnUpdateFunction.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ADD_ON_COMPLETE_FUNCTION,this.onAddOnCompleteFunction.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.REMOVE_ON_UPDATE_FUNCTION,this.onRemoveOnUpdateFunction.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.REMOVE_ON_COMPLETE_FUNCTION,this.onRemoveOnCompleteFunction.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.WHEEL_COMPLETE_WIN,this.onWheelCompleteWin.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_END_VALUE,this.getIncrementEndValue.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,this.playSoundFromDecorator.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.STOP_SOUND,this.stopSoundFromDecorator.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.ANIMATE_CUSTOM_SYMBOL,this.animateCustomSymbol.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.LONGEST_ANIMATION_DURATION,this.longestAnimationDuration.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.WINNINGS_INCREMENT_ENDED,this.winningsIncrementEnded.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.START_HIDE_INCREMENT,this.startHideIncrement.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.SKIP_INCREMENT_EFFECTS,this.skipIncrementEffects.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.FIVE_OF_A_KIND_ANIMATION_STARTED,this.onFiveOfAKindAnimationStarted.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.FIVE_OF_A_KIND_ANIMATION_ENDED,this.onFiveOfAKindAnimationEnded.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.CELEBRATION_END,this.onCelebrationEnd.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,this.getSpineAnimationData.bind(this)),this.addBroadcastActionHandler(u.WinningsDecoratorBroadcastActionNames.PLAY_SOUND_MASTER_LAYOUT,this.onPlaySoundFromMasterLayout.bind(this))},e.prototype.onAllModulesInitialized=function(){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.ALL_MODULES_INITIALIZED)},e.prototype.onAnimateNextStep=function(t,e){!s.some(this.decorators,(function(t){return 0==t.decoratorAnimationFinished}))&&this.dispatchSignal(c.WAActionNames.ANIMATE_NEXT_STEP)},e.prototype.addSymbolAnimationToPool=function(t,e){this.dispatchSignal(c.WAActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,e)},e.prototype.resetSymbolAnimationToPool=function(t,e){this.dispatchSignal(c.WAActionNames.RESET_SYMBOL_ANIMATION_TO_POOL,e)},e.prototype.getSymbolAnimationFromPool=function(t,e){this.dispatchSignal(c.WAActionNames.GET_SYMBOL_ANIMATION_FROM_POOL,e)},e.prototype.getSpineAnimationData=function(t,e){this.dispatchSignal(c.WAActionNames.GET_SPINE_ANIMATION_DATA,e)},e.prototype.onPlaySoundFromMasterLayout=function(t,e){this.dispatchSignal(c.WAActionNames.PLAY_SOUND_MASTER_LAYOUT,e)},e.prototype.onBigWinAnimationCompleted=function(t,e){this.dispatchSignal(c.WAActionNames.BIG_WIN_ANIMATION_COMPLETED),this.removeClickCaptureDisplay()},e.prototype.onBigWinAnimationStarted=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.BIG_WIN_ANIMATION_STARTED,e),this.dispatchSignal(c.WAActionNames.BIG_WIN_ANIMATION_STARTED),this.addClickCaptureDisplay()},e.prototype.onBigWinAnimationCanceled=function(t,e){this.dispatchSignal(c.WAActionNames.BIG_WIN_ANIMATION_CANCELED)},e.prototype.onBigWinIncrementEnded=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.BIG_WIN_INCREMENT_ENDED,e),this.dispatchSignal(c.WAActionNames.BIG_WIN_INCREMENT_ENDED)},e.prototype.onFantasticWinAnimationStarted=function(t,e){this.dispatchSignal(c.WAActionNames.FANTASTIC_WIN_ANIMATION_STARTED)},e.prototype.onPlayBigWinVoice=function(t,e){this.dispatchSignal(c.WAActionNames.PLAY_BIG_WIN_VOICE,e)},e.prototype.onUltraWinAnimationStarted=function(t,e){this.dispatchSignal(c.WAActionNames.ULTRA_WIN_ANIMATION_STARTED)},e.prototype.onGetIncrementStatus=function(t,e){this.dispatchSignal(c.WAActionNames.GET_INCREMENT_STATUS,e)},e.prototype.onStopAllIncrements=function(t,e){this.dispatchSignal(c.WAActionNames.STOP_ALL_INCREMENTS,e)},e.prototype.onAddOnUpdateFunction=function(t,e){this.dispatchSignal(c.WAActionNames.ADD_ON_UPDATE_FUNCTION,e)},e.prototype.onAddOnCompleteFunction=function(t,e){this.dispatchSignal(c.WAActionNames.ADD_ON_COMPLETE_FUNCTION,e)},e.prototype.onRemoveOnUpdateFunction=function(t,e){this.dispatchSignal(c.WAActionNames.REMOVE_ON_UPDATE_FUNCTION,e)},e.prototype.onRemoveOnCompleteFunction=function(t,e){this.dispatchSignal(c.WAActionNames.REMOVE_ON_COMPLETE_FUNCTION,e)},e.prototype.onWheelCompleteWin=function(t,e){this.dispatchSignal(c.WAActionNames.WHEEL_COMPLETE_WIN,e)},e.prototype.getIncrementEndValue=function(t,e){this.dispatchSignal(c.WAActionNames.GET_INCREMENT_END_VALUE,e)},e.prototype.playSoundFromDecorator=function(t,e){this.dispatchSignal(c.WAActionNames.PLAY_SOUND,e)},e.prototype.stopSoundFromDecorator=function(t,e){this.dispatchSignal(c.WAActionNames.STOP_SOUND,e)},e.prototype.longestAnimationDuration=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.LONGEST_ANIMATION_DURATION,e)},e.prototype.winningsIncrementEnded=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.WINNINGS_INCREMENT_ENDED,e)},e.prototype.startHideIncrement=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.START_HIDE_INCREMENT,e)},e.prototype.skipIncrementEffects=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.SKIP_INCREMENT_EFFECTS,e)},e.prototype.onFiveOfAKindAnimationStarted=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.FIVE_OF_A_KIND_ANIMATION_STARTED,e)},e.prototype.onFiveOfAKindAnimationEnded=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.FIVE_OF_A_KIND_ANIMATION_ENDED,e),this.dispatchSignal(c.WAActionNames.FIVE_OF_A_KIND_ANIMATION_COMPLETED,e)},e.prototype.animateCustomSymbol=function(t,e){this.injectDecoratorsProperty(h.WinningsDecoratorInjectActionNames.ANIMATE_CUSTOM_SYMBOL,e)},e.prototype.onCelebrationEnd=function(t){this.dispatchSignal(c.WAActionNames.CELEBRATION_END)},e.prototype.addClickCaptureDisplay=function(){s.includes(this.display.children,this._clickCaptureDisplay)||(this.display.interactive=!0,this.display.addChild(this._clickCaptureDisplay))},e.prototype.removeClickCaptureDisplay=function(){s.includes(this.display.children,this._clickCaptureDisplay)&&(this.display.interactive=!1,this.display.removeChild(this._clickCaptureDisplay))},e}(a.PixiView);e.WinningsAnimationsView=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=function(){function t(){}return t.xmlToJson=function(t){var e={};if(1==t.nodeType){if(t.attributes.length>0)for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e[n.nodeName]=n.nodeValue}}else 3==t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes.item(o),a=s.nodeName;if(void 0===e[a])e[a]=this.xmlToJson(s);else{if(void 0===e[a].push){var r=e[a];e[a]=[],e[a].push(r)}e[a].push(this.xmlToJson(s))}}return e},t.findKey=function(t,e){var i;if(t)if(n.isArray(t))for(var o=0;o<t.length;o++){var s=t[o];if(i=this.findKey(s,e))return i}else n.has(t,e)&&(i=t[e]);return i},t.parseObject=function(t){return this.parseNode(t.var)},t.parseValue=function(t){switch(t.type){case"Boolean":return this.getBoolean(t["#text"]);case"Int":case"Number":return Number(t["#text"]);case"String":case"Point":return t["#text"];default:o.Log.errorch("Settings","A value has an unknown type: "+t)}},t.parseNode=function(t){var e,i=this;return this.isComplexNode(t)?this.nodeHasSimpleValues(t.var)?"Array"==t.type?(e=[],n.each(t.var,(function(t){e.push(i.parseValue(t))})),e):(e={},n.each(t.var,(function(t){e[t.name]=i.parseValue(t)})),e):((e={})[t.var.name]=this.parseValue(t.var),e):n.isArray(t)?(e=[],n.each(t,(function(t){e.push(i.parseNode(t))})),e):this.isSimpleValue(t)?this.parseValue(t):void 0},t.isComplexNode=function(t){return t.type&&t.var},t.isSimpleValue=function(t){return t.type},t.isNamedValue=function(t){return t.type&&t.name},t.nodeHasSimpleValues=function(t){var e=this,i=!0;return n.each(t,(function(t){e.isSimpleValue(t)||e.isNamedValue(t)||(i=!1)})),i},t.getBoolean=function(t){return t&&"string"==typeof t?"true"==t.toLowerCase()||"1"==t:1==t},t.parseKeyValue=function(t){var e;return t.key&&t.val&&((e={}).key=t.key["#text"],e.value=t.val["#text"]),e},t.stringToXML=function(t){if(window.DOMParser)return(new window.DOMParser).parseFromString(t,"text/xml");if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}return null},t}();e.XMLParser=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(6),l=i(15),c=i(42),u=i(34),h=i(77),p=i(64),d=i(69),_=PIXI.Point,f=function(t){function e(e,i){void 0===i&&(i="");var n=t.call(this,e,i)||this;return n._hasMovieAnimation=!1,n._duration=2,n._offset=new _(0,0),n._scale=new _(1,1),n._nearMissTransitionInDuration=.3,n._nearMissTransitionOutDuration=.3,n._animationRunning=!1,n._movieFPS=24,n.nearMiss=!1,n._blendMode=0,n}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.decoratorSettings)||(s.has(this.decoratorSettings,"decoratorSymbols")?this._decoratorSymbols=this.decoratorSettings.decoratorSymbols.split(","):this._decoratorSymbols=[],s.has(this.decoratorSettings,"duration")?this._duration=this.decoratorSettings.duration:this._duration+=.2,s.has(this.decoratorSettings,"offset")&&(this._offset.x=this.decoratorSettings.offset.split(",").map(Number)[0],this._offset.y=this.decoratorSettings.offset.split(",").map(Number)[1]),s.has(this.decoratorSettings,"scale")&&(this._scale.x=this.decoratorSettings.scale.split(",").map(Number)[0],this._scale.y=this.decoratorSettings.scale.split(",").map(Number)[1]),s.has(this.decoratorSettings,"transitionInDuration")&&(this._nearMissTransitionInDuration=this.decoratorSettings.transitionInDuration),s.has(this.decoratorSettings,"transitionOutDuration")&&(this._nearMissTransitionOutDuration=this.decoratorSettings.transitionOutDuration),s.has(this.decoratorSettings,"hasMovieAnimation")&&(this._hasMovieAnimation=this.decoratorSettings.hasMovieAnimation),s.has(this.decoratorSettings,"movieFPS")&&(this._movieFPS=this.decoratorSettings.movieFPS)),e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0))},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.NEAR_MISS,this.onNearMiss.bind(this)),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.PLAY_NEAR_MISS_ANIMATION,this.onPlayNearMissAnimation.bind(this)),this.addInjectActionHandler(p.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,this.onStopNearMissAnimation.bind(this))},e.prototype.onAnimationConfig=function(e){t.prototype.onAnimationConfig.call(this,e),this.initNearMissAnimation(),this.decoratorAnimationFinished=!0},e.prototype.onSpin=function(e){t.prototype.onSpin.call(this,e),this.nearMiss=!1,this.resetNearMiss(),this._stopAnimationTween&&this._stopAnimationTween.kill(),this.onStopNearMissAnimation(e)},e.prototype.onStop=function(e){t.prototype.onStop.call(this,e),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(d.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE)),this.decoratorAnimationFinished=!0},e.prototype.resetNearMiss=function(){e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0)),r.Log.info("resetNearMiss() - this.nearMissDelays : "+e.nearMissDelays),this.broadcastAction(d.WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS,e.nearMissDelays)},e.prototype.onResetAnimation=function(e){t.prototype.onResetAnimation.call(this,e),this.decoratorAnimationFinished=!0},e.prototype.initNearMissAnimation=function(){var t=this;if(this._hasMovieAnimation){var e=c.VisualAssetsMap.instance().visualAssets[u.VisualAssetsNames.WHEELS_NEAR_MISS_ANIMATION];this._nearMissAnimation=l.TextureUtil.instance().createAnimatedSprite(e),s.isNil(this._nearMissAnimation)||(this._nearMissAnimation.animationSpeed=this._movieFPS/60,0!=this._blendMode&&(this._nearMissAnimation.blendMode=this._blendMode),this._nearMissAnimation.anchor.set(.5,.5),this._nearMissAnimation.scale.x=this._scale.x,this._nearMissAnimation.scale.y=this._scale.y,this._nearMissAnimation.y=a.SceneManager.getScreenHeight+this._nearMissAnimation.height,this._nearMissAnimation.loop=!1,this.display.addChild(this._nearMissAnimation),this._nearMissAnimation.play(),this._nearMissAnimation.onComplete=function(){t._nearMissAnimation.visible=!1,t._nearMissAnimation.onComplete=null,t.display.removeChild(t._nearMissAnimation)})}},e.prototype.onNearMiss=function(t){var i=this.slotGameConfig.wheelsCnt,n=Number(t.wheelID);this.wheel_id==n&&(this.nearMiss=!0,s.each(s.range(n,i),(function(i,n){e.nearMissDelays[i]+=t.delay})),r.Log.info("onNearMiss() - this.nearMissDelays : "+e.nearMissDelays),this.broadcastAction(d.WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS,e.nearMissDelays))},e.prototype.onPlayNearMissAnimation=function(t){if(s.has(t,"completeNearMiss"))this.doTransitionOut();else{var e=t.nearMissSymbol;if(-1==this._decoratorSymbols.indexOf(e.toString()))return;var i=t.wheelId;if(i==this.wheel_id){var n=this.getNearMissPosition(i);this.addAnimation(n),this._animationRunning=!0,this.decoratorAnimationFinished=!1}}},e.prototype.addAnimation=function(t){this.doTransitionIn(t),this._stopAnimationTween&&this._stopAnimationTween.kill()},e.prototype.getNearMissPosition=function(t){var e=new _;return e.x+=this._offset.x,e.y+=this._offset.y,r.Log.info("getNearMissPosition() - Wheel Id: "+t+" Position: "+e.x+", "+e.y),e},e.prototype.onStopNearMissAnimation=function(t){this._animationRunning?(this._stopAnimationTween&&this._stopAnimationTween.kill(),this.doTransitionOut(),this.decoratorAnimationFinished=!0):this.decoratorAnimationFinished=!0},e.prototype.doTransitionIn=function(t){this._hasMovieAnimation&&(this._animationRunning||this.display.addChild(this._nearMissAnimation),this._nearMissAnimation.visible=!0,this._nearMissAnimation.gotoAndPlay(0),this._nearMissAnimation.alpha=0,this._nearMissAnimation.loop=!0,this._nearMissAnimation.x=t.x,this._nearMissAnimation.y=t.y,this._nearMissTween&&this._nearMissTween.kill(),this._nearMissTween=TweenLite.to(this._nearMissAnimation,this._nearMissTransitionInDuration,{alpha:1}))},e.prototype.doTransitionOut=function(){this._hasMovieAnimation&&(this._nearMissTween&&this._nearMissTween.kill(),this._nearMissTween=TweenLite.to(this._nearMissAnimation,this._nearMissTransitionOutDuration,{alpha:0,onComplete:this.onTransitionOutComplete.bind(this)})),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0)},e.prototype.onTransitionOutComplete=function(){this.removeAnimation(),this._animationRunning=!1,this._nearMissAnimation.visible=!1},e.prototype.removeAnimation=function(){this._hasMovieAnimation&&(this.display.removeChild(this._nearMissAnimation),this._nearMissAnimation.stop())},e}(h.AbstractWheelDecorator);e.NearMissWheelDecorator=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(181),a=i(9),r=i(5),l=i(115),c=i(52),u=i(2),h=i(28),p=i(1),d=i(65),_=p.Names.Modules,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.States.END_GAME_PREPARE,this.onEndGame.bind(this)),this.addNotification(u.Notifications.Increment.STOP_ALL_INCREMENTS,this.onSkipCascadeSummary.bind(this)),this.addNotification(h.MegawaysNotifications.SKIP_CASCADE_SUMMARY,this.onSkipCascadeSummary.bind(this)),this.addNotification(u.Notifications.Global.STOP_AUTO_PLAY,this.onAutoplayStopped.bind(this))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.megawaysProxy=this.retrieveGlobalProxy(a.MegawaysNames.MEGAWAYS_PROXY,a.MegawaysNames.MEGAWAYS_WHEELS_MODULE),this.stateMachineProxy=this.retrieveGlobalProxy(p.Names.Proxies.STATE_MACHINE,p.Names.Modules.GAME_SETUP),this.autoPlayProxy=this.retrieveGlobalProxy(p.Names.Proxies.AUTO_PLAY,p.Names.Modules.AUTO_PLAY),this.stateMachineProxy=this.retrieveGlobalProxy(p.Names.Proxies.STATE_MACHINE,_.GAME_SETUP)},e.prototype.onEndGame=function(t){this.view.injectDecoratorsProperty(l.MegawaysWinningsDecoratorInjectActionNames.SET_SIZE,this.megawaysProxy.rowsPerWheel)},e.prototype.onAutoplayStopped=function(t){this.stateMachineProxy.state==a.MegawaysNames.CASCADES_SUMMARY_STATE&&this.onSkipCascadeSummary(null)},e.prototype.onSkipCascadeSummary=function(t){this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,{duration:-1}),this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,d.MegawaysUiBehavior.CASCADES_SUMMARY_SKIPPED),this.autoPlayProxy.autoplayInProgress||this.sendNotification(h.MegawaysNotifications.FINISH_CASCADE_SUMMARY)},e.prototype.onCelebrationStart=function(e){t.prototype.onCelebrationStart.call(this,e),this.view.onSummaryStarted()},e.prototype.animateStep=function(t){t.body.isCascadeWin=this.winningsAnimationsProxy.isCascadeWin,this.view.injectDecoratorsProperty(c.WinningsDecoratorInjectActionNames.START_ANIMATION,t.body)},e.prototype.onCelebrationEnd=function(){this.sendGlobalNotification(u.Notifications.Winning.BIG_WIN_ANIMATION_STOPPED),this.sendNotification(h.MegawaysNotifications.FINISH_CASCADE_SUMMARY),t.prototype.onCelebrationEnd.call(this)},e}(s.WinningsAnimationsMediator);e.MegawaysWinningsAnimationsMediator=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){this.backgroundContainer=t,this.leftBackground=e,this.middleBackground=i,this.rightBackground=n,e.y=0,i.y=0,n.y=0,this.updateXPositions(),t.addChild(e),t.addChild(i),t.addChild(n)}return t.prototype.updateXPositions=function(){this.leftBackground.x=0,this.middleBackground.x=this.leftBackground.width,this.rightBackground.x=this.middleBackground.x+this.middleBackground.width},t.prototype.updateWidth=function(t){this.middleBackground.width=t,this.updateXPositions()},t.prototype.updateHeight=function(t){this.leftBackground.height=t,this.middleBackground.height=t,this.rightBackground.height=t},Object.defineProperty(t.prototype,"width",{get:function(){return this.backgroundContainer.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.backgroundContainer.x},set:function(t){this.backgroundContainer.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.backgroundContainer.y},enumerable:!0,configurable:!0}),t}();e.ResizableBackground=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(174),a=i(115),r=i(44),l=i(406),c=i(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings.hasOwnProperty("symbolAtlas")&&(this._symbolAtlas=this.decoratorSettings.symbolAtlas.concat())},e.prototype.onStartAnimation=function(e){t.prototype.onStartAnimation.call(this,e),this.playBreakSound()},e.prototype.playBreakSound=function(){this.symbolAnimationSound&&this.symbolAnimationSound.length>0&&this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:this.symbolAnimationSound})},e.prototype.registerInjectActionHandlers=function(){var e=this;t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(a.MegawaysWinningsDecoratorInjectActionNames.SET_SIZE,(function(t){e.symbolSize=t}))},e.prototype.animateSymbol=function(t){if(1!=this._symbolsToSkipHL[t]){var e=t%this.slotGameConfig.wheelsCnt,i=(t-e)/this.slotGameConfig.wheelsCnt,n=this._serverIdSymbolsMatrix[i][e];if(-1!=this._symbolsToAnimate.indexOf(n)){var o=this.getMegawaysPositionForSymbol(t,this.symbolSize[e]);this.getSymbolAnimationFromPoolMW(n,o,this.symbolSize[e])}}},e.prototype.getSymbolAnimationFromPoolMW=function(t,e,i){this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.GET_SYMBOL_ANIMATION_FROM_POOL,{symbolId:t,size:i,callback:this.playAnimationForSymbolAnimation.bind(this),callbackParams:e})},e.prototype.initSymbolAnimations=function(){this.symbolAtlas.length>0&&this.initBatchOfSymbols(0).then(this.symbolInitializationCompletedMW.bind(this))},e.prototype.symbolInitializationCompletedMW=function(t){t++<this.symbolAtlas.length-1&&this.initBatchOfSymbols(t).then(this.symbolInitializationCompleted.bind(this))},e.prototype.initBatchOfSymbols=function(t){var e=this;return new Promise((function(i,n){requestAnimationFrame((function(){e.createSymbolAnimationVOMW(e.symbolAtlas[t].symbol,e.symbolAtlas[t].size).then((function(n){e.broadcastAction(r.WinningsDecoratorBroadcastActionNames.ADD_SYMBOL_ANIMATION_TO_POOL,{symbolAnimationVO:n}),i(t)})).catch((function(t){throw n(),new Error(t.message)}))}))}))},e.prototype.createSymbolAnimationVOMW=function(t,e){var i=this;return new Promise((function(n,o){try{var s=new l.MegawaysSymbolAnimationVo(t,i.getSymbolAnimation(t),i.playSymbolAnimation.bind(i),i.stopSymbolAnimation.bind(i));s.size=e,n(s)}catch(t){o(t)}}))},e.prototype.getSymbolAnimationFromDecorator=function(t){var e=new l.MegawaysSymbolAnimationVo(t.symbolId,this.getSymbolAnimationMW(t.symbolId,t.size),this.playSymbolAnimation.bind(this),this.stopSymbolAnimation.bind(this));e.size=t.size,c.isNil(e.displayObject)||c.isNil(e.displayObject)||t.callback.call(null,e)},e.prototype.getSymbolAnimationMW=function(t,e){if(-1==this._symbolsToAnimate.indexOf(t))return null;var i=this.getSymbolInfo(t,e);i.atlasData||this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:i});var n=i.animation,o=this.getAnimateSymbolSpineContainer("spineContainer_"+t+"_"+e,i.atlasData,n,this._timeScale,this._loop);return o.scale.x*=this._animationScale,o.scale.y*=this._animationScale,!c.isNil(i.scaleX)&&i.scaleX.length>1&&(o.scale.x=i.scaleX[0]/2),!c.isNil(i.scaleY)&&i.scaleY.length>1&&(o.scale.y=i.scaleY[0]/2),!c.isNil(i.rotation)&&i.rotation.length>1&&(o.rotation=i.rotation[0]),o},Object.defineProperty(e.prototype,"symbolAtlas",{get:function(){return this._symbolAtlas},enumerable:!0,configurable:!0}),e.prototype.getSymbolInfo=function(t,e){return c.find(this.symbolAtlas,(function(i){return i.symbol==t&&i.size==e}))},e.prototype.getMegawaysPositionForSymbol=function(t,e){var i=this.slotGameConfig.getSymbolPosition(t,e).clone();return i.x+=this._offsetX,i.y+=this._offsetY,i},e}(s.AnimateSymbolSpineWinningsDecorator);e.MegawaysAnimateSymbolsSpineWinningsDecorator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(85),a=i(408),r=i(44),l=i(52),c=i(11),u=i(49),h=i(35),p=i(8),d=PIXI.spine.Spine,_=PIXI.Graphics,f=PIXI.Point,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._transitionOutDelay=1,e.bigWinTitleOffset=new f(0),e}return o(e,t),Object.defineProperty(e.prototype,"bigWinConfig",{get:function(){return this.decoratorSettings},enumerable:!0,configurable:!0}),e.prototype.initVars=function(){t.prototype.initVars.call(this)},e.prototype.getSpine=function(t){if(!this.spines.has(t)){var e=this.createSpine(t);this.spines.set(t,e)}},e.prototype.createSpine=function(t){var e={json:[t]};this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:e});var i=new d(e.atlasData[0].spineData);return i.skeleton.setToSetupPose(),i.autoUpdate=!1,i},e.prototype.onDisplayReceived=function(e){var i=this;if(t.prototype.onDisplayReceived.call(this,e),this.bigWinConfig.particles&&this.initBigWinAnimationParticleSystem(),this.bigWinConfig.backgroundAnimations&&(this.background=this.createSpine(this.bigWinConfig.backgroundAnimations.get(u.MegawaysWinningsAnimationNames.BACKGROUND_LOOP).atlas)),this.bigWinConfig.hasDarkBackground){this.backgroundShadow=new _,this.backgroundShadow.beginFill(0);var n=Math.max(p.SceneManager.SCENE_WIDTH,p.SceneManager.SCENE_HEIGHT);this.backgroundShadow.drawRect(-n/2,-n/2,2*n,2*n),this.backgroundShadow.endFill(),this.backgroundShadow.alpha=0}this.spines=new Map,this.bigWinConfig.states.forEach((function(t){t.animations.forEach((function(t,e){i.getSpine(t.atlas)}))})),this.bigWinConfig.offset&&(this.bigWinTitleOffset=this.bigWinConfig.offset)},e.prototype.initBigWinAnimationParticleSystem=function(){this.particles=new a.MegawaysBigWinParticleSystem(this.bigWinConfig.particles,this.bigWinConfig.particlesConfig),this._display.addChild(this.particles),this.particles.onFinish.add(this.finishCelebrationOut.bind(this))},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(l.WinningsDecoratorInjectActionNames.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addInjectActionHandler(l.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,this.onCelebrationSkip.bind(this))},e.prototype.onCelebrationStart=function(t){var e=this;this.celebrationData=t.body,this.celebrationData.winLimit>=0&&(this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:c.SlotSoundNames.INCREMENT,loop:!0}),this.celebrationState=-1,this.celebrationInProgress=!0,this.celebrationSkipped=!1,this.stateDuration=(this.celebrationData.duration-this.bigWinConfig.celebrationDelay)/(this.celebrationData.winLimit+1),this.celebrationTimer=TweenMax.delayedCall(this.bigWinConfig.celebrationDelay,(function(){e.celebrationState=0,e.activeElements=1,e.backgroundShadow&&e.fadeInDarkBackground(),e.background&&(e.bigWinConfig.backgroundAnimations.has(u.MegawaysWinningsAnimationNames.BACKGROUND_IN)?(e.playSpine(e.background,e.bigWinConfig.backgroundAnimations.get(u.MegawaysWinningsAnimationNames.BACKGROUND_IN),!1),e.background.state.addAnimation(0,e.bigWinConfig.backgroundAnimations.get(u.MegawaysWinningsAnimationNames.BACKGROUND_LOOP).animationName,!0)):e.playSpine(e.background,e.bigWinConfig.backgroundAnimations.get(u.MegawaysWinningsAnimationNames.BACKGROUND_LOOP),!0),e.activeElements++),e.particles&&(e.particles.start(),e._display.addChild(e.particles),e.activeElements++),e.broadcastAction(r.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_STARTED),e.playWinSpine()})))},e.prototype.onCelebrationSkip=function(t){if(this.celebrationInProgress){if(this.celebrationSkipped)this.stopCelebration();else{this.celebrationSkipped=!0;var e=!isNaN(t.duration)&&t.duration>=0?t.duration:0;this.celebrationState<this.celebrationData.winLimit?(this.celebrationTimer.kill(),this.celebrationState=this.celebrationData.winLimit,this.playWinSpine(e,0)):e>0&&(this.celebrationTimer.kill(),this.celebrationTimer=TweenMax.delayedCall(e,this.stopCelebration.bind(this)))}this.playIncrementStopSound()}},e.prototype.playWinSpine=function(t,e){var i=this;void 0===t&&(t=-1),void 0===e&&(e=-1);var n=this.bigWinConfig.states[this.celebrationState];if(n.animations.has(u.MegawaysWinningsAnimationNames.MESSAGE_IN)){var o=this.getSpineInstance(n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_IN).atlas);this.playSpine(o,n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_IN),!1,(function(t){var e=i.getSpineInstance(n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_LOOP).atlas);i.playSpine(e,n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_LOOP),!0)})),this.bigWinAnimationStartSound&&this.bigWinAnimationStartSound.length>0&&this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:this.bigWinAnimationStartSound})}else{var s=this.getSpineInstance(n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_LOOP).atlas);this.playSpine(s,n.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_LOOP),!0)}var a=t>=0?t:this.stateDuration;this.celebrationTimer=TweenMax.delayedCall(a,(function(){if(i.celebrationState++<i.celebrationData.winLimit)i.playWinSpine();else{var t=e>=0?e:i._transitionOutDelay;i.celebrationState--,i.celebrationTimer=TweenMax.delayedCall(t,i.stopCelebration.bind(i))}}))},e.prototype.playSpine=function(t,e,i,n){void 0===n&&(n=null),t.state.setAnimation(0,e.animationName,i),!i&&n&&t.state.addListener({complete:n}),h.SpineManager.getInstance().addSpine(t),t.state.update(0),this._display.addChild(t),t.x=.5*e.x+this.bigWinTitleOffset.x,t.y=.5*e.y+this.bigWinTitleOffset.y,t.scale.x=.5*e.scaleX,t.scale.y=.5*e.scaleY},e.prototype.getSpineInstance=function(t){return this.currentSpineAtlas!=t&&this.currentSpineAtlas&&this.spines.has(this.currentSpineAtlas)&&this.removeSpine(this.spines.get(this.currentSpineAtlas)),this.currentSpineAtlas=t,this.spines.get(t)},e.prototype.removeSpine=function(t){h.SpineManager.getInstance().removeSpine(t),t.state.clearListeners(),this._display.removeChild(t)},e.prototype.stopCelebration=function(){var t=this;if(this.celebrationTimer&&this.celebrationTimer.kill(),this.celebrationInProgress){this.celebrationInProgress=!1,this.particles&&this.particles.fadeOut(),this.backgroundShadow&&this.fadeOutDarkBackground(),this.background&&this.bigWinConfig.backgroundAnimations.has(u.MegawaysWinningsAnimationNames.BACKGROUND_OUT)&&this.playSpine(this.background,this.bigWinConfig.backgroundAnimations.get(u.MegawaysWinningsAnimationNames.BACKGROUND_OUT),!1,(function(){t.removeSpine(t.background),t.finishCelebrationOut()}));var e=this.bigWinConfig.states[Math.min(this.celebrationState,this.bigWinConfig.states.length-1)];if(e.animations.has(u.MegawaysWinningsAnimationNames.MESSAGE_OUT)){var i=this.getSpineInstance(e.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_OUT).atlas);this.playSpine(i,e.animations.get(u.MegawaysWinningsAnimationNames.MESSAGE_OUT),!1,(function(e){t.removeSpine(i),t.finishCelebrationOut()}))}this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:c.SlotSoundNames.INCREMENT}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:c.SlotSoundNames.BIG_WIN}),this.celebrationSkipped||this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:c.SlotSoundNames.BIG_WIN_INCREMENT_ENDED})}},e.prototype.onStopAnimation=function(e){this.stopCelebration(),t.prototype.onStopAnimation.call(this,e)},e.prototype.finishCelebrationOut=function(){0==--this.activeElements&&this.emptyDisplay()},e.prototype.playIncrementStopSound=function(){this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:c.SlotSoundNames.BIG_WIN}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:c.SlotSoundNames.INCREMENT}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:c.SlotSoundNames.INCREMENT_STOP}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:c.SlotSoundNames.BIG_WIN_INCREMENT_ENDED})},e.prototype.fadeInDarkBackground=function(){this.backgroundShadow.alpha=0,this._display.addChildAt(this.backgroundShadow,0),TweenMax.to(this.backgroundShadow,this.bigWinConfig.transitionInDuration,{alpha:this.bigWinConfig.darkBackgroundFinalAlpha})},e.prototype.fadeOutDarkBackground=function(){TweenMax.to(this.backgroundShadow,this.bigWinConfig.transitionOutDuration,{alpha:0})},e}(s.AbstractWinningsDecorator);e.MegawaysBigWinAnimationDecorator=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,o,s){this.active=!0,this.params=null,null==s&&(s=0),this._listener=e,this._isOnce=i,this.context=n,this.dispatcherContext=o,this._signal=t,this.priority=s||0}return t.prototype.execute=function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();e.SignalBinding=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(5),l=i(2),c=i(1),u=i(7),h=i(9),p=i(49),d=i(66),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._totalBetMoney=-1,e._winningsInMoney=-1,e._incrementDuration=10,e._hasCelebration=!0,e.startVCelebration=0,e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.toggleValidation(d.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!1),this.startVCelebration=0,this.endGame=this.connectionProxy.getServerData(r.States.END_GAME);var e=!1;if(t.body?this.celebrationParams=t.body:(this.celebrationParams={totalWinningsCoins:parseInt(this.endGame.freeGames.totalFreeGamesWinnings),totalWinningsMoney:parseInt(this.endGame.freeGames.totalFreeGamesWinningsMoney),serverConditions:["freeGames"]},e=!0),this.checkForServerData()){this._totalBetMoney=this._moneyProxy.displayValues.totalBetInCoins*this._moneyProxy.displayValues.coinValue;var i=this.celebrationParams.totalWinningsMoney/this._totalBetMoney;if(i>=this.megawaysWinningsSettings.winFeedbackMinThreshhold){var n=this.bigWinData.states.reduce((function(t,e,n){return i>=e.threshold?Math.max(t,n):t}),-1);if(n>-1||!e){var o=this.megawaysWinningsSettings.winDurationMax/(this.bigWinData.states.length+1)*(n+2);this._winningsAnimationsProxy.celebrationInProgress=!0,this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.UpdateUIAction.SHOW_CELEBRATION),this.sendGlobalNotification(l.Notifications.Winning.CELEBRATION_START,{startV:this.startVCelebration,endV:this.celebrationParams.totalWinningsCoins,isInstant:!0,duration:o,winLimit:n,valueInMoney:this.celebrationParams.totalWinningsMoney})}}}},e.prototype.checkForServerData=function(){var t=!0;if(this.celebrationParams.serverConditions&&this.celebrationParams.serverConditions.length>0)for(var e=0;e<this.celebrationParams.serverConditions.length;e++)if(!this.endGame[this.celebrationParams.serverConditions[e]]){t=!1;break}return t},e.prototype.initVars=function(){if(s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this._winningsAnimationsProxy)&&(this._winningsAnimationsProxy=this.retrieveProxy(c.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this._freeSpinsProxy)&&(this._freeSpinsProxy=this.retrieveGlobalProxy(c.Names.Proxies.FREESPIN,c.Names.Modules.FREE_SPIN)),this.megawaysWinningsSettings||(this.megawaysWinningsSettings=this.settings.getValue(h.MegawaysNames.GAME_CONFIG).getProperty(h.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,h.MegawaysNames.WINNINGS_CASCADE_SETTINGS)),!this.bigWinData){var t=this.settings.getValue(h.MegawaysNames.GAME_CONFIG);this.bigWinData=t.getProperty(h.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,p.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR)}s.isNil(this._moneyProxy)&&(this._moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER))},e.prototype.canPlayBigWinAnimation=function(){return this._winningsInMoney=this.celebrationParams.totalWinningsMoney,this._winningsInMoney>0},e}(a.Controller);e.MegawaysCelebrationCheckCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(185),a=i(52),r=i(112),l=i(409),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerBroadcastActions=function(){t.prototype.registerBroadcastActions.call(this),this.addBroadcastActionHandler(l.MegawaysWinningsDecoratorBroadcastActionNames.CASCADE_SUMMARY_CELEBRATION_STARTED,this.onCascadeSummaryWinAnimationStarted.bind(this))},e.prototype.onCascadeSummaryWinAnimationStarted=function(t,e){this.injectDecoratorsProperty(a.WinningsDecoratorInjectActionNames.BIG_WIN_ANIMATION_STARTED,e),this.dispatchSignal(r.WAActionNames.BIG_WIN_ANIMATION_STARTED)},e.prototype.onSummaryStarted=function(){this.addClickCaptureDisplay()},e}(s.WinningsAnimationsView);e.MegawaysWinningsAnimationView=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(66),r=i(9),l=i(2),c=i(7),u=i(65),h=i(28),p=i(0),d=i(1),_=i(49),f=l.Notifications.Global,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.toggleValidation(a.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!1);var e=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStates.length-1],i=parseInt(e.totalWinnings)/this.moneyProxy.displayValues.totalBetInCoins;if(this.sendGlobalNotification(f.CHANGE_STATE,r.MegawaysNames.CASCADES_SUMMARY_STATE),i>=this.megawaysWinningsSettings.winFeedbackMinThreshhold){var n=this.bigWinData.states.reduce((function(t,e,n){return i>=e.threshold?Math.max(t,n):t}),-1),o=this.megawaysWinningsSettings.winDurationMax/(this.bigWinData.states.length+1)*(n+2);this.sendGlobalNotification(l.Notifications.Winning.CELEBRATION_START,{startV:0,endV:parseInt(e.totalWinnings),isInstant:!0,duration:o,winLimit:n,valueInMoney:parseInt(e.totalWinningsMoney)}),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.SHOW_CELEBRATION),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.MegawaysUiBehavior.CASCADES_SUMMARY_STATE)}else this.sendGlobalNotification(h.MegawaysNotifications.FINISH_CASCADE_SUMMARY)},e.prototype.initVars=function(){if(p.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),p.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(d.Names.Proxies.COINS_MONEY,d.Names.Modules.MONEY)),this.megawaysWinningsSettings||(this.megawaysWinningsSettings=this.settings.getValue(r.MegawaysNames.GAME_CONFIG).getProperty(r.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,r.MegawaysNames.WINNINGS_CASCADE_SETTINGS)),!this.bigWinData){var t=this.settings.getValue(r.MegawaysNames.GAME_CONFIG);this.bigWinData=t.getProperty(r.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,_.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR)}p.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(d.Names.Proxies.VALIDATION,d.Names.Modules.LOADER))},e}(s.Controller);e.MegawaysStartCascadeSummaryCommand=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(193),a=i(66),r=i(5),l=i(2),c=i(7),u=i(65),h=i(9),p=i(36),d=i(23),_=i(1),f=i(24),y=l.Notifications.Global,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.toggleValidation(a.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!1),this.startVCelebration=0,this.endGame=this.connectionProxy.getServerData(r.States.END_GAME),this.celebrationParams=t.body;var e=this.celebrationParams.fromFeature;if(this.checkForServerData()){var i=this.celebrationParams.totalWinningsCoins/this._moneyProxy.displayValues.totalBetInCoins,n=!1;if(i>=this.megawaysWinningsSettings.winFeedbackMinThreshhold){var o=-1;if((o=e?this.featureBigWinData.reduce((function(t,e,n){return i>=e?Math.max(t,n):t}),-1):this.bigWinData.states.reduce((function(t,e,n){return i>=e.threshold?Math.max(t,n):t}),-1))>=0){var s=this.megawaysWinningsSettings.winDurationMax/(this.bigWinData.states.length+1)*(o+2);this._winningsAnimationsProxy.celebrationInProgress=!0,this.sendGlobalNotification(l.Notifications.Winning.CELEBRATION_START,{startV:this.startVCelebration,endV:this.celebrationParams.totalWinningsCoins,isInstant:!0,duration:s,winLimit:o,valueInMoney:this.celebrationParams.totalWinningsMoney}),this.sendGlobalNotification(y.CHANGE_STATE,h.MegawaysNames.CASCADES_SUMMARY_STATE),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.MegawaysUiBehavior.CASCADES_SUMMARY_STATE),this.sendNotification(c.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:p.UserInterfaceAction.SKIP,activate:!1}),n=!0}}e&&!n&&(this.freeRoundsProxy.hasToFinishFR?this.freeRoundsProxy.hasToStartFreeRoundFeature():this.sendGlobalNotification(f.MegawaysCashRespinsNotifications.FEATURE_COMPLETED))}},e.prototype.initVars=function(){t.prototype.initVars.call(this),this.featureBigWinData||(this.featureBigWinData=this.settings.getValue(e.BIG_WIN_THRESHOLDS_FEATURE)),this.freeRoundsProxy||(this.freeRoundsProxy=this.retrieveGlobalProxy(d.FRProxiesName.FREE_ROUNDS_PROXY,_.Names.Modules.FREE_ROUNDS))},e.BIG_WIN_THRESHOLDS_FEATURE="BIG_WIN_THRESHOLDS_FEATURE",e}(s.MegawaysCelebrationCheckCommand);e.NgsMwAztecGoldCelebrationCheckCommand=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(427),r=i(428),l=i(429),c=i(430),u=i(431),h=i(432),p=i(433),d=i(434),_=i(435),f=i(436),y=i(437),m=i(438),N=i(439),S=i(440),g=i(198),A=i(442),E=i(443),I=i(444),O=i(200),T=i(449),P=i(450),b=i(451),C=i(452),v=i(453),M=i(454),L=i(202),R=i(455),D=i(456),w=i(457),x=i(2),U=i(458),B=i(459),G=i(460),V=i(461),W=i(465),F=i(466),k=i(1),H=i(467),j=i(204),Y=i(212),X=i(498),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerConfigModule=function(){t.prototype.registerConfigModule.call(this)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(x.Notifications.Global.HIDE_PIXI_LAYERS,y.HideLayersCommand),this.addCommand(x.Notifications.Global.SET_CANVAS_VISIBILITY,M.SetCanvasVisibilityCommand),this.addCommand(x.Notifications.Global.REMOVE_PRELOADER,m.InitialSetupCommand),this.addCommand(x.Notifications.GameSetup.CONFIG_XML_ASSETS,d.ConfigAssetsCommand),this.addCommand(x.Notifications.GameSetup.LOAD_XML_ASSETS,A.LoadXmlAssetsCommand),this.addCommand(x.Notifications.Global.START_APPLICATION,D.StartApplicationCommand),this.addCommand(x.Notifications.Global.START_GAME_IS_VALID,C.PostStartValidationCommand),this.addCommand(x.Notifications.Global.START_DISPATCHING_DATA,w.StartDispatchingDataCommand),this.addCommand(x.Notifications.Global.DEVICE_SCREEN_RESIZED,b.ScreenResizedCommand),this.addCommand(x.Notifications.Global.DEVICE_SCREEN_RESIZING,v.ScreenResizeCommand),this.addCommand(x.Notifications.Global.XML_ASSETS_FILE_DOWNLOADED,c.AssetsFileCompletedCommand),this.addCommand(x.Notifications.Global.XML_ASSETS_FILE_DOWNLOAD_ERROR,u.AssetsFileErrorCommand),this.addCommand(x.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOAD_ERROR,a.ModuleAssetDownloadErrorCommand),this.addCommand(x.Notifications.GameSetup.SET_GAME_MODULES,X.SetGameModulesCommand),this.addCommand(x.Notifications.GameSetup.MODULE_INITIALIZED,T.ModuleInitializedCommand),this.addCommand(x.Notifications.GameSetup.LOAD_MODULE,g.LoadModuleCommand),this.addCommand(x.Notifications.GameSetup.MODULE_LOADED,P.ModuleLoadedCommand),this.addCommand(x.Notifications.GameSetup.DESTROY_MODULE,_.DestroyModuleCommand),this.addCommand(x.Notifications.GameSetup.ALL_MODULES_INITIALIZED,r.AllModulesInitializedCommand),this.addCommand(x.Notifications.GameSetup.INITIALIZE_NEXT_MODULE,N.InitializeNextModuleCommand),this.addCommand(x.Notifications.GameSetup.ALL_MODULES_LOADED,l.AllModulesLoadedCommand),this.addCommand(x.Notifications.GameSetup.DRAW_NEXT_LAYER,f.DrawNextLayerCommand),this.addCommand(x.Notifications.Global.SETTINGS_LOADED,L.SettingsLoadedCommand),this.addCommand(x.Notifications.Global.TRANSLATIONS_LOADED,U.TranslationsLoadedCommand),this.addCommand(x.Notifications.Global.SOUND_PARSED,R.SoundParsedCommand),this.addCommand(x.Notifications.Global.AUTOMATION_LIBRARY_INITIALIZED,h.AutomationLibraryInitializedCommand),this.addCommand(x.Notifications.GameSetup.INJECT_FSM,S.InjectFSMCommand),this.addCommand(x.Notifications.Global.CHANGE_STATE,p.ChangeStateCommand),this.useMasterLayout&&(this.addCommand(x.Notifications.MasterLayout.PARSE_MANIFEST_MASTER_LAYOUT,O.ParseManifestMasterLayoutCommand),this.addCommand(x.Notifications.MasterLayout.LOAD_MASTER_LAYOUTS,E.LoadMasterLayoutsCommand),this.addCommand(x.Notifications.MasterLayout.MASTER_LAYOUTS_DOWNLOADED,I.MasterLayoutsDownloadedCommand))},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(k.Names.Proxies.MASTER_LAYERS,j.MasterLayoutLayersProxy),this.addProxy(k.Names.Proxies.LAYERS,Y.LayersProxy),this.addProxy(k.Names.Proxies.MODULES,B.ModulesProxy),this.addProxy(k.Names.Proxies.VALIDATE_START_GAME,W.ValidateStartGameProxy),this.addProxy(k.Names.Proxies.STATE_MACHINE,V.StateMachineProxy),this.addProxy(k.Names.Proxies.VIEWS,F.ViewsInitProxy),this.addProxy(k.Names.Proxies.RELOAD_GAME,G.ReloadGameProxy),this.addProxy(k.Names.Proxies.RESPONSIVE_LAYOUT,H.ResponsiveLayoutProxy)},e}(s.AbstractModule);e.GameSetup=K},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(3),l=i(84),c=i(68),u=i(103),h=i(135),p=i(4),d=i(1),_="_sound_",f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body,i=new h.GroupFileVO(e.moduleId);this.addLayoutFilesToLoadGroup(e,i),this.addSpriteSheetFilesToLoadGroup(e,i),this.addOtherFilesToLoadGroup(e,i),this.addSpineAnimationsToLoadGroup(e,i),this.addOrientationFilesToLoadGroup(e,i),this.addOldSoundsToLoadGroup(e,i),this.addSoundSpritesToLoadGroup(e,i),this.addModuleConfigsToLoadGroup(e,i),this.addSeparateSoundFilestoLoadGroup(e,i),this.addLoadingStatusNotifications(i),this.checkFilesAndDoLoad(i,e)},e.prototype.checkFilesAndDoLoad=function(t,e){t.files.length>0?this.sendGlobalNotification(a.Notifications.Global.LOAD_GROUP,t):this.modulesProxy.hasBeenLoaded(e.moduleId),this.loadOptionalFiles(e)},e.prototype.addLoadingStatusNotifications=function(t){t.completeNotification=a.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOADED,t.errorNotification=a.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOAD_ERROR,t.isUrgent=!1},e.prototype.addSeparateSoundFilestoLoadGroup=function(t,e){if(t.moduleId==d.Names.Modules.SOUND){var i=this.preloadProxy.getSoundManifestJson("soundManifest"),n=p.Device.getGlobalSoundSeparatePath();s.isNil(i)||t.optional&&t.optional.soundSeparate&&!1===t.optional.soundSeparate.hasSeparateSounds||s.forOwn(i,(function(t,i){e.addFile(i,n+t,l.FileTypes.SOUND_FILE)}))}},e.prototype.addModuleConfigsToLoadGroup=function(t,e){s.forOwn(t.configs,(function(t,i){u.FileUtil.isFileExist(t)&&e.addFile(i,t,l.FileTypes.ATLAS_FILE)}))},e.prototype.addSoundSpritesToLoadGroup=function(t,e){s.each(t.soundSprites,(function(i){e.addFile(t.moduleId+_+"audiosheet",i.sound,l.FileTypes.SOUND_FILE),e.addFile(t.moduleId+_+"json",i.json,l.FileTypes.ATLAS_FILE)}))},e.prototype.addOldSoundsToLoadGroup=function(t,e){s.each(t.sounds,(function(i){e.addFile(t.moduleId+_+"audiosheet",i.sound,l.FileTypes.SOUND_FILE),e.addFile(t.moduleId+_+"json",i.json,l.FileTypes.ATLAS_FILE)}))},e.prototype.addOrientationFilesToLoadGroup=function(t,e){s.each(t.orientationPositions,(function(i){e.addFile(t.moduleId+"_json_"+i.fileName,i.pathToFile,l.FileTypes.ATLAS_FILE)}))},e.prototype.addOtherFilesToLoadGroup=function(t,e){var i=t.others;s.isEmpty(i)||s.each(i,(function(i,n){var o;o=i.typeOfFile===l.FileTypes.IMAGE_FILE?u.FileUtil.getFileName(i.pathToFile1)+"_other_"+String(n):t.moduleId+"_other_"+String(n),e.addFile(o,i.pathToFile1,i.typeOfFile)}))},e.prototype.addSpineAnimationsToLoadGroup=function(t,e){var i=this,n=t.spineAnimations;s.isEmpty(n)||s.each(n,(function(t,n){if(!t.checkSpriteToOptional){var o=t.spineFileName;i.storeSpineAnimationToLoad(e,t,o)}}))},e.prototype.addLayoutFilesToLoadGroup=function(t,e){s.each(t.layers,(function(i){i.isHTML?(e.addFile(t.moduleId+"_html_"+i.id,i.pathToFile1,l.FileTypes.HTML_FILE),e.addFile(t.moduleId+"_css_"+i.id,i.pathToFile2,l.FileTypes.CSS_FILE),s.isNil(i.pathToFile3)||e.addFile(t.moduleId+"_json_"+i.id,i.pathToFile3,l.FileTypes.ATLAS_FILE)):e.addFile(t.moduleId+"_"+i.id,i.pathToFile1,l.FileTypes.XML_FILE)}))},e.prototype.addSpriteSheetFilesToLoadGroup=function(t,e){var i=p.Device.instance(),n=t.spriteSheets;i.minigame&&t.spriteSheetsMini.length>0?n=t.spriteSheetsMini:i.tablet&&t.spriteSheetsTablet.length>0?n=t.spriteSheetsTablet:i.mobile&&t.spriteSheetsMobile.length>0&&(n=t.spriteSheetsMobile),s.each(n,(function(i,n){e.addFile(t.moduleId+"_atlas_"+n,i.pathToAtlas,l.FileTypes.ATLAS_FILE)}))},e.prototype.initVars=function(){s.isNil(this.preloadProxy)&&(this.preloadProxy=this.retrieveGlobalProxy(c.PreloadProxy.NAME,c.PreloadProxy.SCOPE)),s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveGlobalProxy(d.Names.Proxies.MODULES,d.Names.Modules.GAME_SETUP))},e.prototype.loadOptionalFiles=function(t){if(!s.isNil(t.optional)){var e,i=t.optional,n=p.Device.instance();n.minigame&&i.spriteSheetsMini?e=i.spriteSheetsMini:n.tablet&&i.spriteSheetsTablet?e=i.spriteSheetsTablet:n.mobile&&i.spriteSheetsMobile?e=i.spriteSheetsMobile:n.desktop&&i.spriteSheets&&(e=i.spriteSheets),e&&e.group&&e.group.length&&this.storeSpriteSheets(t.moduleId,e,t.spineAnimations),i.soundSprites&&i.soundSprites.group&&i.soundSprites.group.length&&this.storeSoundSprite(t.moduleId,i.soundSprites),i.soundSeparate&&i.soundSeparate.hasSeparateSounds&&this.storeSoundSeparate(t.moduleId,i.soundSeparate)}},e.prototype.setUpOptionalFileGroupToLoad=function(t,e){var i=new h.GroupFileVO(t);return i.completeNotification=e.notification,i.errorNotification=a.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOAD_ERROR,i.isUrgent=!1,i},e.prototype.storeSpriteSheets=function(t,e,i){var n=this,o=this.setUpOptionalFileGroupToLoad(t,e);o.optionalDecoratorsToEnable=e.optionalDecoratorsToEnable,o.optionalDecoratorsToDisable=e.optionalDecoratorsToDisable,s.each(i,(function(i,a){if(i.checkSpriteToOptional){var r=t+"_optional_atlas_"+a;n.storeSpineAnimationToLoad(o,i,r),s.remove(e.group,(function(t){return t.pathToAtlas==i.atlasFilePath||t.pathToAtlas==i.skeletonFilePath}))}})),s.each(e.group,(function(e,i){var n=t+"_optional_atlas_"+i;o.addFile(n,e.pathToAtlas,l.FileTypes.ATLAS_FILE)})),this.storeOptionalGroup(o)},e.prototype.storeSoundSprite=function(t,e){var i=this.setUpOptionalFileGroupToLoad(t,e);s.each(e.group,(function(e){i.addFile(t+_+"audiosheet",e.sound,l.FileTypes.SOUND_FILE),i.addFile(t+_+"json",e.json,l.FileTypes.ATLAS_FILE)})),this.storeOptionalGroup(i)},e.prototype.storeSoundSeparate=function(t,e){var i=this.setUpOptionalFileGroupToLoad(t,e),n=this.preloadProxy.getSoundManifestJson("optionalSoundManifest");if(!s.isNil(n)){var o=p.Device.getGlobalSoundOptionalPath();s.forOwn(n,(function(t,e){i.addFile(e,o+t,l.FileTypes.SOUND_FILE)}))}this.storeOptionalGroup(i)},e.prototype.storeSpineAnimationToLoad=function(t,e,i){if(e.hasSkeleton){var n={crossOrigin:!0,xhrType:e.skeletonFileType,metadata:{spineAtlasFile:e.atlasFilePath}};t.addFile(i,e.skeletonFilePath,e.skeletonFileType,n)}else t.addFile(i,e.atlasFilePath,e.atlasFileType)},e.prototype.storeOptionalGroup=function(t){this.sendGlobalNotification(a.Notifications.Global.STORE_OPTIONAL_GROUP,t)},e}(r.Controller);e.LoadModuleCommand=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.ASSETS_FILES="xml_assets_file",t.MANIFEST_MASTER_LAYOUTS="json_master_layouts_",t}();e.GroupFileNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(201),r=i(445),l=i(117),c=i(3),u=i(84),h=i(446),p=i(447),d=i(37),_=i(2),f=i(4),y=i(1),m=i(103),N=i(448),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body.project;this.manifestJSONData=e.body.data;var n=this.generateManifestDataArray(i),o=[];s.each(n,(function(t){var e=t.dependencies;s.each(e,(function(t){"layout"==t.type&&o.push(t)}))})),this.loadMasterLayouts(o,i)},e.prototype.loadMasterLayouts=function(t,e){this.sendNotification(_.Notifications.MasterLayout.LOAD_MASTER_LAYOUTS,{data:t,project:e})},e.prototype.setModuleSpriteSheets=function(t,e,i){var n=i+e;f.Device.instance().minigame&&!s.isNil(t.spriteSheetsMini)?t.spriteSheetsMini.push(new l.SpritesheetVO(n)):f.Device.instance().tablet&&!s.isNil(t.spriteSheetsTablet)?t.spriteSheetsTablet.push(new l.SpritesheetVO(n)):f.Device.instance().mobile&&!s.isNil(t.spriteSheetsMobile)?t.spriteSheetsMobile.push(new l.SpritesheetVO(n)):(s.isNil(t.spriteSheets)&&(t.spriteSheets=[]),t.spriteSheets.push(new l.SpritesheetVO(n)))},e.prototype.setModuleOthers=function(t,e,i){var n=d.MasterLayoutConfig.path+e;s.isNil(t.others)&&(t.others=new Array),t.others.push(new a.OtherVO(n,i))},e.prototype.setModuleSpineAnimations=function(t,e,i,n,o){void 0===o&&(o=!1);var a=i+e;s.isNil(t.spineAnimations)&&(t.spineAnimations=new Array);var l=m.FileUtil.getFileName(a),c=a.split(l).map(String)[0],h=new r.SpineAnimationVO;if(h.spineFileName=l,h.spineFilePath=c,h.checkSpriteToOptional=o,n===u.FileTypes.SPINE_JSON_FILE?h.setSkeleton(a,n):h.setAtlas(a,n),s.isEmpty(t.spineAnimations))t.spineAnimations.push(h);else{var p=s.find(t.spineAnimations,(function(t){return t.spineFileName===h.spineFileName}));s.isNil(p)?t.spineAnimations.push(h):(p.hasSkeleton&&!h.hasSkeleton&&p.setAtlas(h.atlasFilePath,h.atlasFileType),!p.hasSkeleton&&h.hasSkeleton&&p.setSkeleton(h.skeletonFilePath,h.skeletonFileType))}},e.prototype.setModuleSpineWithAtlasAnimations=function(t,e,i,n,o){s.isNil(t.spineAnimations)&&(t.spineAnimations=new Array);var a=e.spine,l=e.atlas,c=i+a.path,h=m.FileUtil.getFileName(c),p=c.split(h).map(String)[0],d=i+l.path,_=new r.SpineAnimationVO;_.spineFileName=h,_.spineFilePath=p,_.checkSpriteToOptional=o,_.setSkeleton(c,u.FileTypes.SPINE_JSON_FILE),_.setAtlas(d,u.FileTypes.SPINE_ATLAS_FILE),t.spineAnimations.push(_)},e.prototype.initVars=function(){s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(y.Names.Proxies.MASTER_LAYERS,y.Names.Modules.GAME_SETUP)),s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(y.Names.Proxies.MODULES))},e.prototype.generateManifestDataArray=function(t){var e=this;return s.map(this.manifestJSONData,(function(i){var n=new h.ManifestData;n.name=i.name,n.dependencies=[];var o,a=d.MasterLayoutConfig.getScene(n.name);if(s.isNil(a)||(o=e.modulesProxy.getModule(a)),!s.isNil(i.dependencies)){var r=e.parseManifestDependencies(i,o,t);n.dependencies=n.dependencies.concat(r)}return n}))},e.prototype.parseManifestDependencies=function(t,e,i){var n=this,o=t.name,a=s.filter(t.dependencies,(function(t){return t.type===N.ManifestDependencyTypes.SPINE_WITH_ATLAS}));return s.isEmpty(a)||s.each(a,(function(e){var i=e.spine,n=e.atlas;t.dependencies=s.filter(t.dependencies,(function(t){return t.path!=i.path&&t.path!=n.path}))})),s.map(t.dependencies,(function(t){var a=new p.ManifestDependencyVO;if(a.path=t.path,a.type=t.type,a.size=t.size,a.module=o,s.isNil(a.path)&&a.type===N.ManifestDependencyTypes.SPINE_WITH_ATLAS){var r=t.spine;a.path=r.path}if(!s.isNil(e)){var l=!1;if(!s.isNil(e.optional)){var c=void 0;f.Device.instance().desktop?c=e.optional.spriteSheets:f.Device.instance().mobile?c=e.optional.spriteSheetsMobile:f.Device.instance().tablet&&(c=e.optional.spriteSheetsTablet),l=s.some(c.group,(function(t){return t.pathToAtlas===i.path+a.path}))}s.isNil(e.noLoad)||(l=s.some(e.noLoad.spriteSheets.group,(function(t){return t.pathToAtlas===i.path+a.path}))),a.type===N.ManifestDependencyTypes.IMAGE&&n.setModuleOthers(e,a.path,u.FileTypes.IMAGE_FILE),a.type!==N.ManifestDependencyTypes.SPRITESHEET||l||n.setModuleSpriteSheets(e,a.path,i.path),a.type===N.ManifestDependencyTypes.SPINE&&n.setModuleSpineAnimations(e,a.path,i.path,u.FileTypes.SPINE_JSON_FILE,l),a.type===N.ManifestDependencyTypes.SPINE_ATLAS&&n.setModuleSpineAnimations(e,a.path,i.path,u.FileTypes.SPINE_ATLAS_FILE),a.type===N.ManifestDependencyTypes.SPINE_WITH_ATLAS&&n.setModuleSpineWithAtlasAnimations(e,t,i.path,u.FileTypes.SPINE_ATLAS_FILE,l),a.type===N.ManifestDependencyTypes.PARTICLES&&n.setModuleOthers(e,a.path,u.FileTypes.JSON_FILE)}return a.projectType=i.projectType,a}))},e}(c.Controller);e.ParseManifestMasterLayoutCommand=S},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.pathToFile1=t,this.typeOfFile=e};e.OtherVO=n},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),extendStatics;Object.defineProperty(exports,"__esModule",{value:!0});var _=__webpack_require__(0),Controller_1=__webpack_require__(3),states_1=__webpack_require__(5),errors_1=__webpack_require__(134),names_1=__webpack_require__(1),at_utils_1=__webpack_require__(12),SettingsLoadedCommand=function(_super){function SettingsLoadedCommand(){var t=null!==_super&&_super.apply(this,arguments)||this;return t.currentTimeOutID=0,t.reqResponse=function(e){clearTimeout(t.currentTimeOutID);var i,n=e.target;if(n&&200==n.status&&4==n.readyState){i=JSON.parse(n.responseText),t.dispatchToLogger("isb_connection_service_success",{requestURL:t.currentConnectionServiceURL,requestResponse:n.responseText});var o=i.maintenance;if(o)Boolean(o.status)&&t.settings.map("maintenanceOn",!0);var s=i.ipCheck;if(s){("number"==typeof s?Boolean(s):Boolean(s.status))&&t.settings.map("ipBlocked",!0)}var a=i.connectionDetails;if(a){if(a.hasOwnProperty("server")){var r=a.server;/\^http:|^https:/g.exec(r)?t.settings.map("host",r):t.ENCRYPTED_COMMUNICATION?t.settings.map("host","/game/AztecGoldMegawaysISB/server?sessionId="+sessionStorage.getItem('sessionId')):t.settings.map("host","/game/AztecGoldMegawaysISB/server?sessionId="+sessionStorage.getItem('sessionId'))}a.hasOwnProperty("port")&&(t.settings.getValue("funmode")?t.settings.map("serverPortFun",a.port):t.settings.map("serverPortReal",a.port)),a.hasOwnProperty("proxy")&&t.settings.map("serverProxy",a.proxy),t.startGame(t.name)}}},t.reqError=function(e){var i="none";clearTimeout(t.currentTimeOutID),t.startConnectionServiceRequest(),_.isEmpty(t.connectionServiceURLs)||(i=t.connectionServiceURLs[0]),t.dispatchToLogger("isb_connection_service_fail",{currentRequestURL:t.currentConnectionServiceURL,nextRequestURL:i})},t}return __extends(SettingsLoadedCommand,_super),SettingsLoadedCommand.prototype.execute=function(t){this.initVars(),this.settings.getValue("ENABLE_CONNECTION_SERVICE")||this.parseConnectionDetails(),this._name=t.name,this.settings.getValue("ENCRYPT_COMMUNICATION")?(this.ENCRYPTED_COMMUNICATION=!0,this.settings.map("host","https://games-qa.isoftbet.com/play_isb_enc")):(this.ENCRYPTED_COMMUNICATION=!1,this.settings.getValue("ENABLE_CONNECTION_SERVICE")&&this.settings.map("host","https://stage-games-lux.isoftbet.com/play_isb")),_.isNil(this.settings.getValue("skinid"))||this.gameConfigVO.skinIDRange.lastIndexOf(parseFloat(this.settings.getValue("skinid")))>=0&&(this.gameConfigVO.skinID=this.settings.getValue("skinid")),this.retrieveNewRelic(),this.settings.getValue("isLocal")?this.startGame(this._name):this.settings.getValue("ENABLE_CONNECTION_SERVICE")?(this.setConnectionServiceURLs(),this.startConnectionServiceRequest()):this.startGame(this._name)},SettingsLoadedCommand.prototype.startConnectionServiceRequest=function(){var t=this;if(!_.isEmpty(this.connectionServiceURLs)){var e=new XMLHttpRequest;e.addEventListener("load",this.reqResponse),e.addEventListener("error",this.reqError),this.currentConnectionServiceURL=this.composeURL(this.connectionServiceURLs.shift()),e.open("GET",this.currentConnectionServiceURL,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(),0!=this.connectionServiceURLs.length&&(this.currentTimeOutID=setTimeout((function(){t.startNextConnectionServiceRequest(e)}),this.settings.getValue("CONNECTION_SERVICE").timeout))}},SettingsLoadedCommand.prototype.startNextConnectionServiceRequest=function(t){t.removeEventListener("load",this.reqResponse),t.removeEventListener("error",this.reqError),t.abort(),this.startConnectionServiceRequest()},SettingsLoadedCommand.prototype.setConnectionServiceURLs=function(){var t=this.settings.getValue("CONNECTION_SERVICE"),e=_.pick(t,"serviceURL");this.connectionServiceURLs=_.values(e)},SettingsLoadedCommand.prototype.initVars=function(){_.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(names_1.Names.Proxies.VALIDATE_START_GAME)),_.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(names_1.Names.Proxies.MODULES)),_.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig")),_.isNil(this.allowCheatTool)&&(this.allowCheatTool=this.settings.getValue("ALLOW_CHEAT_TOOL")),this.setPulseAPIProperties()},SettingsLoadedCommand.prototype.initErrorHandling=function(){window.onerror=this.onUncaughtError.bind(this)},SettingsLoadedCommand.prototype.onUncaughtError=function(t,e,i,n,o){this.sendGlobalNotification(states_1.States.ERROR,{code:errors_1.Errors.UNCAUGHT_ERROR,details:o.stack})},SettingsLoadedCommand.prototype.startGame=function(t){this.initErrorHandling(),this.validateStartGameProxy.validateCondition(t),this.modulesProxy.initializePreloader(),this.allowCheatTool||this.modulesProxy.removeModule(names_1.Names.Modules.CHEAT_TOOL),this.modulesProxy.initializeModules(),this.setOtherSettings()},SettingsLoadedCommand.prototype.setOtherSettings=function(){var t=this.settings.getValue("currency").toString();if(this.settings.map("progressiveCurrency",t),this.settings.getValue("tokenuse")){var e=parseInt(this.settings.getValue("tokenuse"));1==e?(this.settings.map("currency",""),this.settings.map("progressiveCurrency","")):2==e&&this.settings.map("currency","")}},SettingsLoadedCommand.prototype.composeURL=function(t){var e=t;e+="?";var i=this.settings.getValue("name").split(","),n=this.gameConfigVO.skinID.toString(),o=i.length>1?i[0]:"0",s=this.settings.getValue("CONNECTION_SERVICE").casinoID,a=this.settings.getValue("funmode");return e+=n?"skinId="+n:"",e+=o?"&licenseeId="+o:"",e+=s?"&casinoId="+s:"",e+=a?"&isFun="+ +JSON.parse(a):""},SettingsLoadedCommand.prototype.dispatchToLogger=function(t,e){window.hasOwnProperty("isb")&&window.isb.log&&window.isb.log.call(this,t,e)},SettingsLoadedCommand.prototype.retrieveNewRelic=function(){var t=this.settings.getValue("NEW_RELIC");if(t&&t.enable){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t.url),e.setAttribute("async","true"),document.body.appendChild(e)}},SettingsLoadedCommand.prototype.setPulseAPIProperties=function(){var pulseAPIVO=this.settings.getValue("PULSE_API_PROPERTIES");pulseAPIVO&&pulseAPIVO.enabled&&pulseAPIVO.channel&&(pulseAPIVO.jsCode&&eval(pulseAPIVO.jsCode),window[pulseAPIVO.channel].call(this,["GAME_LOADING"]),at_utils_1.ATCallBack.channels.push(pulseAPIVO.channel))},SettingsLoadedCommand.prototype.parseConnectionDetails=function(){var t=this.settings.getValue("CONNECTION_DETAILS_JSON"),e=_.find(t,{name:"serverAddress"});if(!_.isNil(e)){var i=e.value;1==this.settings.getValue("ENABLE_HTTP_CONNECTION")?this.settings.map("host","http://"+i+"/play_isb"):this.settings.map("host","https://"+i+"/play_isb")}var n=_.find(t,{name:"serverPort"});_.isNil(n)||(this.settings.getValue("funmode")?this.settings.map("serverPortFun",n.value):this.settings.map("serverPortReal",n.value));var o=_.find(t,{name:"serverProxy"});_.isNil(o)||this.settings.map("serverProxy",o.value)},SettingsLoadedCommand}(Controller_1.Controller);exports.SettingsLoadedCommand=SettingsLoadedCommand},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return o(e,t),e}(i(468).Scene);e.GameScene=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(68),r=i(470),l=i(76),c=i(205),u=i(113),h=i(206),p=i(207),d=i(51),_=i(21),f=i(136),y=i(103),m=i(6),N=i(209),S=i(210),g=i(75),A=i(37),E=i(477),I=i(116),O=i(13),T=i(1),P=i(8),b=i(104),C=i(208),v=i(118),M=PIXI.Container,L=PIXI.Sprite,R=PIXI.BLEND_MODES,D=PIXI.particles.Emitter,w=PIXI.particles.Particle,x=i(15),U=i(481),B=function(t){function e(e){void 0===e&&(e="MasterLayoutProxy");var i=t.call(this,e)||this;return i.PORTRAIT_X_OFFSET=0,i.masterSkeletonData={},i.layerDrawingQueue={},i._buttonSkins=[l.ButtonSkinName.UP,l.ButtonSkinName.OVER,l.ButtonSkinName.DOWN,l.ButtonSkinName.DISABLED],i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.parseLayouts=function(t,e){t=s.sortBy(t,"layoutType"),t=s.sortBy(t,"order");var i=new E.MasterLayoutParser;this.masterSkeletonData[e.projectType]=i.parseMasterLayoutData(t)},e.prototype.updateLayoutFromMasterLayout=function(t,e,i){s.isNil(this.masterSkeletonData)?i():this.drawLayerFromMasterLayout(t,e,i)},e.prototype.getSoundComponents=function(t){var e=void 0,i=this.masterSkeletonData[g.DTConstants.GAME_CONTENT];return i&&(e=i.findComponentsBySlotName(t)),e},e.prototype.getMaskForParentComponents=function(t){var e=void 0,i=this.masterSkeletonData[g.DTConstants.GAME_CONTENT];return i&&(e=i.findComponentsBySlotName(t)),e},e.prototype.getWinningsComponents=function(){var t=void 0,e=this.masterSkeletonData[g.DTConstants.GAME_CONTENT];return e&&(t=e.findWinningsComponents()),t},e.prototype.initProxy=function(){s.isNil(this.preloadProxy)&&(this.preloadProxy=this.retrieveGlobalProxy(a.PreloadProxy.NAME,a.PreloadProxy.SCOPE)),s.isUndefined(this.responsiveLayoutProxy)&&(this.responsiveLayoutProxy=this.retrieveGlobalProxy(T.Names.Proxies.RESPONSIVE_LAYOUT,T.Names.Modules.GAME_SETUP)),s.isUndefined(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig")),this.gameConfigVO.usesUIv3||(this.PORTRAIT_X_OFFSET=(P.SceneManager.SCENE_WIDTH-P.SceneManager.MOBILE_PORTRAIT_RATIO.width)/2),s.isNil(this.visualAssetsMap)&&(this.visualAssetsMap=this.serviceLocator.get("VisualAssetsMap"))},e.prototype.drawElements=function(t,e){var i=this;s.each(t.children,(function(t){i.drawElement(t,e)}))},e.prototype.drawElement=function(t,e){switch(t.getAttachment.type){case U.AssetTypes.TEXTFIELD:this.drawText(t.getAttachment,e);break;case U.AssetTypes.SPINE:this.drawSpine(t.getAttachment,t.attachmentName,e,t.boneData);break;case U.AssetTypes.IMAGE:this.drawImage(t.attachmentName,t.getAttachment,e);break;case U.AssetTypes.PARTICLES:var i=t.getAttachment;this.drawPixiParticles(t.attachmentName,i,e);break;default:m.Log.warning("drawElement()->Unknown Attachment type : "+t.getAttachment.type)}},e.prototype.setElementVisibility=function(t,e){!1===e.visibleAtInit&&(t.visible=!1)},e.prototype.setMaskForParent=function(t,e,i){var n=this.getMaskForParentComponents(t);if(!s.isNil(n)){var o=new L(P.SceneManager.renderer.generateTexture(e));o.width=e.width,o.height=e.height,o.position=e.position,o.anchor.set(.5),o.scale=e.scale,i.addChild(o),i.removeChild(e),i.mask=o}},e.prototype.drawSpine=function(t,e,i,n){},e.prototype.getSpineData=function(t,e){var i=t.layoutType,n=void 0,o=void 0,a=void 0,r=void 0,l=void 0,c=void 0,u=this.masterSkeletonData[g.DTConstants.GAME_CONTENT];if(u&&(c=u.findSpineComponent(e,i)),m.Log.infoch("getSpineData()","layoutType : "+i),s.isNil(c))o=t.name,m.Log.infoch("getSpineData()","spine animation not altered - jsonFileName : "+o),n=this.preloadProxy.getSpineDataFromJson(o);else{var h=u.findSpineComponentDataByContext(c,i);"SpineAnimation"===h.componentName&&(a=h.localPath,o=y.FileUtil.getFileName(a),m.Log.infoch("getSpineData()","spine animation altered - jsonFileName : "+o),m.Log.infoch("getSpineData()","spine animation altered - jsonFilePath : "+a),n=this.preloadProxy.getSpineDataFromJson(o)),"SpineAtlas"===h.componentName&&(o=t.name,r=h.localPath,l=y.FileUtil.getFileName(r),m.Log.infoch("getSpineData()","spine animation altered - jsonFileName : "+o),m.Log.infoch("getSpineData()","spine animation altered - atlasFileName : "+l),m.Log.infoch("getSpineData()","spine animation altered - atlasFilePath : "+r),n=this.preloadProxy.getSpineDataFromAtlas(o,l))}return n},e.prototype.drawImage=function(t,e,i){var n=this.cleanNames(t),o=A.MasterLayoutConfig.getSymbol(n),a={x:e.x/2,y:e.y/2,width:e.width/2,height:e.height/2,resource:this.cleanNames(e.name)||o||n,depth:0,type:"image",opacity:e.opacity,blendMode:e.blendMode},r=new d.Image(n,a);r.width=e.width/2*e.scaleX,r.height=e.height/2*e.scaleY,r.rotation=e.rotation,this.setElementVisibility(r,e),r.setAnchor(.5,.5),""!=e.blendMode&&(r.image.blendMode=this.getImageBlendMode(e.blendMode)),e.layoutType==b.LayoutType.PORTRAIT&&(r.x+=this.PORTRAIT_X_OFFSET),s.includes(i.children,i.getChildByName(n))&&i.removeChild(i.getChildByName(n)),i.addChild(r),this.setMaskForParent(t,r,i)},e.prototype.drawText=function(t,e){var i=this.cleanNames(t.name),n=new _.TextField(i),o=this.getTextStyleOptions(t.properties),a=I.Translations.instance.getValue(A.MasterLayoutConfig.getTextfield(i));s.isNil(a)?n.setUp(t.width/2,t.height/2,o,I.Translations.instance.getValue(i)):n.setUp(t.width/2,t.height/2,o,a),this.gameConfigVO.usesUIv3?(n.x=(t.x-t.pivotX*t.width)/2*t.scaleX,n.y=(t.y-t.pivotY*t.height)/2*t.scaleY):(n.x=t.x/2-t.width/4*t.scaleX,n.y=t.y/2-t.height/4*t.scaleY),n.rotation=t.rotation,n.scale.x=t.scaleX,n.scale.y=t.scaleY,this.setElementVisibility(n,t);var r=A.MasterLayoutConfig.getTextfieldExtraParams(i);s.isNil(r)||s.has(r,"customFont")&&n.checkFontForLanguageFromObject(JSON.parse(r.customFont)),t.layoutType==b.LayoutType.PORTRAIT&&(n.x+=this.PORTRAIT_X_OFFSET),e.addChild(n)},e.prototype.drawPixiParticles=function(t,e,i){var n,o,a=this.preloadProxy.getJsonData(e.name),r={textures:[]};s.isNil(a)||s.isNil(e.particles)||0===e.particles.length||(s.each(e.particles,(function(t){var e={texture:x.TextureUtil.instance().getTextureFromCache(t),count:1};r.textures.push(e)})),(o=new D(i,r,a.data)).emit=!1,(n=new w(o)).name=t,i.addChild(n))},e.prototype.createPulseLayerContainer=function(t,e,i){var n,o=this.cleanNames(e.name);if(t.getChildByName(o)?n=t.getChildByName(o):((n=new M).name=o,s.has(t,"type")&&"ScrollingContainer"==t.type?t.addContent(n):(t.addChild(n),-1!=i&&i<t.children.length&&t.setChildIndex(n,i))),n.declaredWidth=e.width,n.declaredHeight=e.height,n.scale.set(e.scaleX,e.scaleY),0===e.anchorMinX&&0===e.anchorMinY&&0===e.anchorMaxX&&0===e.anchorMaxY)n.x=e.x/2-e.width*e.scaleX/2*e.pivotX,n.y=e.y/2-e.height*e.scaleY/2*e.pivotY;else{var a=e;this.responsiveLayoutProxy.addResponsiveItem(a,n,t,!0)}return this.setElementVisibility(n,e),n},e.prototype.getTextStyleOptions=function(t){var e={},i=A.MasterLayoutConfig.getFontFamily(t.fontName);s.isNil(i)?e.fontFamily="noto_sansregular":e.fontFamily=i,e.fontSize=Math.floor(t.fontSize/2);var n=[];return s.each(t.colors,(function(t){n.push("#"+t)})),e.fill=n,e.fontStyle=t.fontStyle,e.fontVariant=t.fontVariant,e.fontWeight=t.fontWeight,e.fillGradientStops=t.fillGradientStops,"vertical"==t.gradientType?e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_VERTICAL:e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_HORIZONTAL,e.stroke="#"+t.strokeColor,e.strokeThickness=t.strokeSize,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.miterLimit,e.letterSpacing=t.letterSpacing,e.textBaseline=t.textBaseline,e.dropShadow=t.dropShadow,e.dropShadowColor="#"+t.dropShadowColor,e.dropShadowAlpha=t.dropShadowAlpha,e.dropShadowAngle=t.dropShadowAngle,e.dropShadowBlur=t.dropShadowBlur/2,e.dropShadowDistance=t.dropShadowDistance/2,e.wordWrap=t.wordWrap,e.breakWords=t.breakWords,e.singleLine=!e.wordWrap,e.align=t.align,e.vAlign=t.vAlign,e.wordWrapWidth=t.wordWrapWidth,e.padding=t.padding,e.trim=t.trim,e},e.prototype.drawLayerFromMasterLayout=function(t,e,i){var n=this,o=A.MasterLayoutConfig.getLayout(t);this.layerDrawingQueue[t]={layerName:t,drawingPromises:[],resolve:i},this.layerDrawingResolve=i,s.isNil(o)||s.isEmpty(o)||s.each(o,(function(i){var o=[];s.each(n.masterSkeletonData,(function(t){o=o.concat(t.findBoneDataInScenes(i,!1))})),s.isNil(o)||s.isEmpty(o)||(n.alignLayersAndChildrens(o,e),n.drawLayers(o,e,t))}))},e.prototype.drawLayers=function(t,e,i){var n=this;if(!s.isNil(e)){var o=e.container;if(s.each(t,(function(t){s.isEmpty(t.children)||n.layerDrawingQueue[i].drawingPromises.push(n.drawLayer(t,o,i))})),s.isEmpty(this.layerDrawingQueue[i].drawingPromises))s.isNil(this.layerDrawingQueue[i].resolve)||this.layerDrawingQueue[i].resolve();else this.layerDrawingQueue[i].drawingPromises.shift().then(this.drawNextPromisedLayer.bind(this))}},e.prototype.drawNextPromisedLayer=function(t){!s.isNil(this.layerDrawingQueue[t])&&this.layerDrawingQueue[t].drawingPromises.length>0?this.layerDrawingQueue[t].drawingPromises.shift().then(this.drawNextPromisedLayer.bind(this)):s.isNil(this.layerDrawingQueue[t].resolve)||this.layerDrawingQueue[t].resolve()},e.prototype.drawLayer=function(t,e,i){var n=this;return new Promise((function(o,a){requestAnimationFrame((function(){s.each(t.children,(function(t,o){if(t instanceof N.MasterBoneData){if(s.has(t,"children")&&!s.isEmpty(t.children))switch(t.children[0].constructor){case N.MasterBoneData:if(t.name.indexOf("_button")>-1)n.drawButton(t,e,i);else if(t.name.indexOf("_customList")>-1)n.drawCustomList(t,e,i);else if(t.name.indexOf("_toggleButton")>-1)n.drawToggleButton(t,e);else{var a=n.createPulseLayerContainer(e,t,o);n.layerDrawingQueue[i].drawingPromises.push(n.drawLayer(t,a,i))}break;case S.MasterSlotData:if(t.name.indexOf("_button")>-1)n.drawButton(t,e,i);else{a=n.createPulseLayerContainer(e,t,o);n.drawElements(t,a)}}}else t instanceof S.MasterSlotData&&n.drawElement(t,e)})),o(i)}))}))},e.prototype.drawButton=function(t,e,i){var n=this.cleanNames(t.name),o=this.detectButton(t),s=Object.create(o.prototype);o.apply(s,[n]),s.scale.set(t.scaleX,t.scaleY),s.x=t.x/2-t.width*t.scaleX/2*t.pivotX,s.y=t.y/2-t.height*t.scaleY/2*t.pivotY,s instanceof c.MultiLabelButton?this.setUpMultiLabelButton(s,t):s instanceof r.LabelByStateButton?this.setUpLabelByStateButton(s,t,i):s instanceof u.SimpleButton&&this.setUpSimpleButton(s,t,i),e.addChild(s)},e.prototype.setUpSimpleButton=function(t,e,i,n){var o=this;s.each({upSkin:"up",downSkin:"down",overSkin:"over",disabledSkin:"disable"},(function(a,r){t[r]=new M,t[r].name=r+"Container";var l=s.filter(e.children,(function(t){return t.name.toLowerCase().indexOf(a)>-1}));s.each(l,(function(e){switch(e.constructor){case N.MasterBoneData:o.drawLayer(e,t[r],i).then(n);break;case S.MasterSlotData:o.drawElement(e,t[r])}}))}))},e.prototype.setUpMultiLabelButton=function(t,e){var i=this;s.each(e.children,(function(e,n){if(e instanceof N.MasterBoneData){var o=i.createPulseLayerContainer(t,e,n);if(s.has(e,"children")&&!s.isEmpty(e.children))if("buttonLabels"===i.cleanNames(e.name)){var a=e.children;s.isEmpty(a)||s.each(a,(function(t,e){var n=i.createPulseLayerContainer(o,t,e);i.drawElements(t,n)}))}else i.drawElements(e,o)}})),s.each({upSkin:"up",downSkin:"down",overSkin:"over",disabledSkin:"disabled"},(function(i,n){if(s.filter(e.children,(function(t){return t instanceof N.MasterBoneData&&t.name.toLowerCase().indexOf(i)>-1}))[0]){var o=t.removeChild(t.getChildByName(i));if(o&&!s.isEmpty(o.children)){var a=o.getChildAt(0);switch(i){case l.ButtonSkinName.UP:t.upSkin=a;break;case l.ButtonSkinName.DOWN:t.downSkin=a;break;case l.ButtonSkinName.OVER:t.overSkin=a;break;case l.ButtonSkinName.DISABLED:t.disabledSkin=a}}}})),s.includes(t.children,t.getChildByName("buttonIncrementLabel"))&&(t.buttonIncrementLabel=t.getChildByName("buttonIncrementLabel"))},e.prototype.setUpLabelByStateButton=function(t,e,i){this.setUpButtonUpdatedLabels(t,e),this.setUpSimpleButton(t,e,i,(function(){return t.setUpLabels()}))},e.prototype.setUpButtonUpdatedLabels=function(t,e){var i=this;s.each(e.children,(function(e,n){if(e instanceof N.MasterBoneData&&s.has(e,"children")&&!s.isEmpty(e.children)){var o=e.children;s.isEmpty(o)||s.each(o,(function(e,n){if(e.name.indexOf("_updateSupport")>=0){var o=i.cleanNames(e.name);t.pushLabelNameToReceiveUpdatedValues(o)}}))}}))},e.prototype.alignLayersAndChildrens=function(t,e){var i=t[0];if(!s.isNil(e)){var n=e.container;n.scale.set(i.scaleX,i.scaleY),n.x=i.x/2-i.width*i.scaleX/2*i.pivotX,n.y=i.y/2-i.height*i.scaleY/2*i.pivotY}},e.prototype.cleanNames=function(t){var e;return t.indexOf("!@")>-1&&(e=t.split("!@"),t=e[0]),t.indexOf("_noExport")>-1&&(e=t.split("_noExport"),t=e[0]),t.indexOf("_updateSupport")>-1&&(e=t.split("_updateSupport"),t=e[0]),t.indexOf("_button")>-1&&(t=t.replace("_button","")),t},e.prototype.detectButton=function(t){var e=this,i=void 0;if(s.each(t.children,(function(n){if(!(n instanceof N.MasterBoneData))throw new Error("Non MasterBoneData present in the root container of a button: "+t.name);"buttonLabels"!==e.cleanNames(n.name)||(i=c.MultiLabelButton)})),!s.isNil(i))return i;if(!this.isValidButtonStructure(t))throw new Error("MasterBoneData passed to a button constructor is not valid: "+t.name);var n=!0;return s.each(t.children,(function(t){e.isButtonStateContainer(t.name)&&s.each(t.children,(function(t){return t instanceof S.MasterSlotData&&"textField"===t.getAttachment.type?(n=!1,!1):!1!==n&&void 0}))})),i=n?u.SimpleButton:r.LabelByStateButton},e.prototype.isValidButtonStructure=function(t){var e=this;if(t.children.length<this._buttonSkins.length)return!1;var i=0;return s.each(t.children,(function(t){t instanceof N.MasterBoneData&&e.isButtonStateContainer(t.name)&&i++})),i===this._buttonSkins.length},e.prototype.isButtonStateContainer=function(t){return this._buttonSkins.indexOf(this.cleanNames(t))>-1},e.prototype.drawToggleButton=function(t,e){var i=this,n=this.cleanNames(t.name.replace("_toggleButton","")),o=new f.ToggleButton(n,!0);o.buttonName=n,o.scale.set(t.scaleX,t.scaleY),o.x=t.x/2-t.width*t.scaleX/2*t.pivotX,o.y=t.y/2-t.height*t.scaleY/2*t.pivotY,e.addChild(o),s.each(t.children,(function(t,e){if(t instanceof N.MasterBoneData){var n=i.createPulseLayerContainer(o,t,e);s.has(t,"children")&&!s.isEmpty(t.children)&&i.drawElements(t,n)}}));s.each({onSkin:"on",offSkin:"off",onSkinOver:"onOver",offSkinOver:"offOver"},(function(e,i){var n=s.filter(t.children,(function(t){return t instanceof N.MasterBoneData&&t.name.indexOf(e)>-1}))[0];if(!s.isNil(n)){var a=o.removeChild(o.getChildByName(e));if(!s.isNil(a)&&!s.isEmpty(a.children)){var r=a.getChildAt(0);switch(e){case C.ToggleButtonSkinName.ON:o.onSkin=r;break;case C.ToggleButtonSkinName.OFF:o.offSkin=r;break;case C.ToggleButtonSkinName.ON_OVER:o.onSkinOver=r;break;case C.ToggleButtonSkinName.OFF_OVER:o.offSkinOver=r}}}}));var a=v.ToggleButtonState.ON;o.changeState(a)},e.prototype.drawCustomList=function(t,e,i){var n=this,o=t.layoutType,a=this.cleanNames(t.name.replace("_customList","")),r=new h.CustomList(a);r.scale.set(t.scaleX,t.scaleY),r.x=t.x/2-t.width*t.scaleX/2*t.pivotX,r.y=t.y/2-t.height*t.scaleY/2*t.pivotY,e.addChild(r),s.each(t.children,(function(t,e){if(t instanceof N.MasterBoneData&&s.has(t,"children")&&!s.isEmpty(t.children))if(t.name.indexOf("_button")>-1)n.drawButton(t,r,i);else{var o=n.createPulseLayerContainer(r,t,e);n.drawElements(t,o)}})),this.setCustomListOrientation(r,o),r.createList()},e.prototype.setCustomListOrientation=function(t,e){e==b.LayoutType.DESKTOP||e==b.LayoutType.LANDSCAPE?t.orientation=p.CustomListOrientation.HORIZONTAL:e==b.LayoutType.PORTRAIT&&(t.orientation=p.CustomListOrientation.VERTICAL)},e.prototype.getImageBlendMode=function(t){var e=-1;switch(t){case"additive":e=R.ADD}return e},e}(O.Proxy);e.MasterLayoutLayersProxy=B},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(21),r=i(76),l=i(113),c=i(51),u=PIXI.Container,h=function(t){function e(e){var i=t.call(this,e)||this;return i.labelPositions=[],i.labelSizes=[],i}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this._labelBackgroundHolder=new u,this._labelBackgroundHolder.name="labelBackgroundHolder",this.addChild(this._labelBackgroundHolder),this._labelSkin=new u,this._labelSkin.name="button_label_skin",this.addChild(this._labelSkin),this.buttonLabels=new u,this.buttonLabels.name="buttonLabels",this.addChild(this.buttonLabels),this.labelBackgrounds=[]},e.prototype.updateLabel=function(t,e){var i=e-1;if(s.isEmpty(this.labelBackgrounds))s.includes(this.children,this._labelBackgroundHolder)&&this.removeChild(this._labelBackgroundHolder);else{var n=this.labelBackgrounds[i];n&&this._labelBackgroundHolder.addChild(n)}if(!s.isNil(this.label)){if(s.isEmpty(this.labelPositions)||(this.label.position.x=this.labelPositions[i].x,this.label.position.y=this.labelPositions[i].y),!s.isEmpty(this.labelSizes)){var o=this.labelSizes[i];this.label.changeDimensions(o.x*a.TextField.FONT_MULTIPLIER,o.y*a.TextField.FONT_MULTIPLIER)}this.label.updateLabel(t)}if(!s.isNil(this.buttonLabels)&&!s.isEmpty(this.buttonLabels.children)&&this.buttonLabels.children.length>1){s.remove(this.buttonLabels.children,(function(t,e){return e!=i}));var l=this.buttonLabels.children[0];this._upLabelSkin=s.remove(l.children,(function(t){return t instanceof c.Image&&t.name.indexOf(r.ButtonSkinName.UP)>-1}))[0],this._downLabelSkin=s.remove(l.children,(function(t){return t instanceof c.Image&&t.name.indexOf(r.ButtonSkinName.DOWN)>-1}))[0],this._overLabelSkin=s.remove(l.children,(function(t){return t instanceof c.Image&&t.name.indexOf(r.ButtonSkinName.OVER)>-1}))[0],this._disabledLabelSkin=s.remove(l.children,(function(t){return t instanceof c.Image&&t.name.indexOf(r.ButtonSkinName.DISABLED)>-1}))[0],this._labelSkin.x=this.buttonLabels.x,this._labelSkin.y=this.buttonLabels.y,s.filter(l.children,(function(t){return t instanceof a.TextField}))[0].updateLabel(t)}},e.prototype.changeState=function(e){if(e===r.ButtonState.UP||e===r.ButtonState.DISABLED){var i=this.getLabelStateSkin(e);if(!s.isNil(i)&&i instanceof u){for(;this._labelSkin.children.length>0;)this._labelSkin.removeChildAt(0);this._labelSkin.addChild(i)}}t.prototype.changeState.call(this,e)},e.prototype.updateIncrementLabel=function(t){s.isNil(this.buttonIncrementLabel)||s.isEmpty(this.buttonIncrementLabel.children)||s.filter(this.buttonIncrementLabel.children,(function(t){return t instanceof a.TextField}))[0].updateLabel(t)},e.prototype.getLabelStateSkin=function(t){switch(t){case r.ButtonState.UP:return this._upLabelSkin;case r.ButtonState.DOWN:return this._downLabelSkin;case r.ButtonState.OVER:return this._overLabelSkin;case r.ButtonState.DISABLED:return this._disabledLabelSkin;default:return null}},e}(l.SimpleButton);e.MultiLabelButton=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=i(471),l=i(207),c=PIXI.Point,u=function(t){function e(e){var i=t.call(this,e)||this;return i.visibleItems=-1,i.itemWidth=-1,i.itemHeight=-1,i.itemSpacing=-1,i.slideItemAnimationDelay=.25,i.buttonWidth=-1,i.buttonHeight=-1,i.slideItemStep=-1,i.doInstantAnimation=!1,i.slideTLAnimation=new TimelineMax({paused:!0,repeat:0}),i.animationRunning=!1,i._hasButtons=!1,i._canShowButtons=!1,i._elements=[],i._isEnabled=!0,i._listName=e,i.listItems=new Array,i.itemsPos=new Array,i.buttonsGap=new c,i.activeItemPosition=new c,i.slideItemCenterPos=new c,i}return o(e,t),Object.defineProperty(e.prototype,"currentListDetails",{get:function(){return{selectedItemIndex:this._selectedItemIndex,listItems:this.listItems}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemIndex",{get:function(){return this._selectedItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this.listItems[this._selectedItemIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasButtons",{get:function(){return this._hasButtons},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canShowButtons",{get:function(){return this._canShowButtons},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listName",{get:function(){return this._listName},set:function(t){this._listName=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=t},enumerable:!0,configurable:!0}),e.prototype.isEnable=function(){return this._isEnabled},e.prototype.isVisible=function(){return null},e.prototype.setListDetails=function(t){s.has(t,"itemWidth")&&(this.itemWidth=t.itemWidth),s.has(t,"itemHeight")&&(this.itemHeight=t.itemHeight),s.has(t,"itemSpacing")&&(this.itemSpacing=t.itemSpacing),s.has(t,"itemOffset")&&(this.itemOffset=t.itemOffset),s.has(t,"backgroundWidth")&&(this.backgroundWidth=t.backgroundWidth),s.has(t,"backgroundHeight")&&(this.backgroundHeight=t.backgroundHeight),s.has(t,"slideItemAnimationDelay")&&(this.slideItemAnimationDelay=t.slideItemAnimationDelay),s.has(t,"buttonsGap")&&(this.buttonsGap=t.buttonsGap),s.has(t,"activeItemPosition")&&(this.activeItemPosition=t.activeItemPosition),s.has(t,"buttonWidth")&&(this.buttonWidth=t.buttonWidth),s.has(t,"buttonHeight")&&(this.buttonHeight=t.buttonHeight)},e.prototype.enableSelection=function(t){0!=this.listItems.length&&(this._isEnabled=t,this.enableItemAction(t),this.selectItem(this._selectedItemIndex),this.updateButtonsStatus(t))},e.prototype.updateSelectedActiveItem=function(t,e){var i=this,n=-1;s.has(t,"selectedItemIndex")&&(n=t.selectedItemIndex);var o=null,a=new Array;s.has(t,"listItems")&&(o=t.listItems),s.isEmpty(o)||s.each(o,(function(t,e){var n=t.item.itemValue,o=i.getListItemByValue(n);s.isNil(o)||a.push(o)})),s.isEmpty(a)||a.length!==this.listItems.length||(this.listItems=new Array,this.listItems=this.listItems.concat(a),s.each(this.listItems,(function(t,e){var n=i.itemsPos[e];i.orientation==l.CustomListOrientation.HORIZONTAL&&(t.item.x=n.x),i.orientation==l.CustomListOrientation.VERTICAL&&(t.item.y=n.y)})),this.selectItem(n,e))},e.prototype.updateButtonsStatus=function(t){if(void 0===t&&(t=!0),this._hasButtons&&this._canShowButtons)if(t){var e=this.getItemIndex(this._selectedItemIndex);this.decreaseButton.enable(0!=e&&t),this.increaseButton.enable(e!=this.listItems.length-1&&t)}else this.decreaseButton.enable(t),this.increaseButton.enable(t)},e.prototype.createList=function(){var t=this;s.isEmpty(this.elements)||s.each(s.sortBy(this.elements,"depth"),(function(e){t.addChild(e)})),this.mapListChildren(),s.isNil(this.decreaseButton)||s.isNil(this.increaseButton)||(this._hasButtons=!0)},e.prototype.addListButtons=function(t){this._canShowButtons=t,this._hasButtons&&(this._canShowButtons?(-1!=this.buttonWidth&&(this.decreaseButton.width=this.buttonWidth,this.increaseButton.width=this.buttonWidth),-1!=this.buttonHeight&&(this.decreaseButton.height=this.buttonHeight,this.increaseButton.height=this.buttonHeight),this.setButtonDetails(this.decreaseButton,this.decreaseButton.name,this.onDecreaseButtonAction.bind(this)),this.setButtonDetails(this.increaseButton,this.increaseButton.name,this.onIncreaseButtonAction.bind(this))):(this.removeChild(this.decreaseButton),this.removeChild(this.increaseButton),this._hasButtons=!1))},e.prototype.createListItems=function(t){var e=this;s.each(t,(function(t,i){var n=new r.CustomListItemVO;n.item=t.clone(t.name),n.itemIndex=i,e.listItems.push(n)})),this.orientation==l.CustomListOrientation.HORIZONTAL&&(this.addHItems(),this.backgroundWidth=2*this.itemOffset.x+this.visibleItems*this.itemWidth+(this.visibleItems-1)*this.itemSpacing),this.orientation==l.CustomListOrientation.VERTICAL&&(this.addVItems(),this.backgroundHeight=3*this.itemOffset.y+this.visibleItems*this.itemHeight+(this.visibleItems-1)*this.itemSpacing),this.createItemsListMask(),this.alignListComponents()},e.prototype.setButtonDetails=function(t,e,i){t&&(t.buttonName=e,t.buttonDetails={buttonName:e,target:t},t.onClickHandler=i)},e.prototype.selectInitialItem=function(t,e){void 0===e&&(e=!1),this.updateActiveItem(t),this.selectItem(t,e)},e.prototype.getListItemByValue=function(t){var e=null;return s.each(this.listItems,(function(i,n){if(i.item.itemValue===t)return e=i,!1})),e},e.prototype.selectItem=function(t,e){if(void 0===e&&(e=!1),this._selectedItemIndex=t,this.doInstantAnimation=e,this.resetListItems(),this.updateButtonsStatus(this._isEnabled),this._isEnabled){var i=this.listItems[t].item;this.orientation==l.CustomListOrientation.HORIZONTAL&&(i.itemDisplay.y+=this.activeItemPosition.y),this.orientation==l.CustomListOrientation.VERTICAL&&(i.itemDisplay.y+=this.activeItemPosition.y),i.hasItemDisplayFilters&&(i.itemDisplay.filters=null)}},e.prototype.resetListItems=function(){var t=this;s.each(this.listItems,(function(e){t.orientation==l.CustomListOrientation.HORIZONTAL&&(e.item.itemDisplay.y=0),t.orientation==l.CustomListOrientation.VERTICAL&&(e.item.itemDisplay.y=0),e.item.hasItemDisplayFilters&&(e.item.itemDisplay.filters=e.item.itemDisplayFilters)}))},e.prototype.getItemIndex=function(t){var e=-1;return s.isNil(this._selectedItemIndex)||(e=this.listItems[this._selectedItemIndex].itemIndex),e},e.prototype.onDecreaseButtonAction=function(t,e,i){if(!this.animationRunning&&0!=this.getItemIndex(this._selectedItemIndex)){var n=this._selectedItemIndex;0==n?(this.decreaseButton.enable(!1),this.resetListItems(),this.slideWithSteps(1,1)):(n--,this.updateActiveItem(n),this.selectItem(n))}},e.prototype.onIncreaseButtonAction=function(t,e,i){if(!this.animationRunning&&this.getItemIndex(this._selectedItemIndex)<this.listItems.length-1){var n=this._selectedItemIndex;n==this.visibleItems-1?(this.increaseButton.enable(!1),this.resetListItems(),this.slideWithSteps(-1,1)):(n++,this.updateActiveItem(n),this.selectItem(n))}},e.prototype.enableItemAction=function(t){s.each(this.listItems,(function(e){e.item.itemDisplay.interactive=t,e.item.itemDisplay.buttonMode=t}))},e.prototype.updateActiveItem=function(t){if(!s.isNil(t)){var e={itemValue:this.listItems[t].item.itemValue};this.playSelectionSound(),this.updateSelectedItem&&this.updateSelectedItem.call(this,e)}},e.prototype.mapListChildren=function(){var t=this;s.isEmpty(this.children)||s.each(this.children,(function(e,i){switch(e.name){case"decreaseButton":case"decreaseButton_portrait":t.decreaseButton=e;break;case"itemsHolder":t.itemsHolder=e;break;case"increaseButton":case"increaseButton_portrait":t.increaseButton=e}}))},e.prototype.addHItems=function(){var t=this;this.slideItemStep=this.itemWidth+this.itemSpacing;var e=new c;e.x=this.itemOffset.x,e.y=this.backgroundHeight/2,s.each(this.listItems,(function(i){i.item.x=e.x+i.item.width/2,i.item.y=e.y,e.x+=t.slideItemStep,t.addItem(i),t.itemsPos.push(new c(i.item.x,i.item.y))}))},e.prototype.addVItems=function(){var t=this;this.slideItemStep=this.itemHeight+this.itemSpacing;var e=new c;e.x=this.backgroundWidth/2,e.y=this.itemOffset.y,s.each(this.listItems,(function(i){i.item.x=e.x,i.item.y=e.y+i.item.height/2,e.y+=t.slideItemStep,t.addItem(i),t.itemsPos.push(new c(i.item.x,i.item.y))}))},e.prototype.addItem=function(t){this.itemsHolder.addChild(t.item),t.item.itemDisplay.on("pointerdown",this.onItemAction,this)},e.prototype.onItemAction=function(t){if(("MOUSE"!==t.data.identifier||0==t.data.button)&&!this.animationRunning){var e=t.currentTarget.parent,i=-1;s.each(this.listItems,(function(t,n){if(t.item.itemValue==e.itemValue)return i=n,!1})),this.updateActiveItem(i),this.selectItem(i)}},e.prototype.createItemsListMask=function(){var t=new PIXI.Rectangle(0,0,this.backgroundWidth,this.backgroundHeight);this.itemsHolderMask=new PIXI.Graphics,this.itemsHolderMask.beginFill(16776960),this.itemsHolderMask.lineStyle(0,16711680),this.itemsHolderMask.drawRect(t.x,t.y,t.width,t.height),this.itemsHolderMask.alpha=1,this.itemsHolderMask.endFill(),this.itemsHolderMask.name="ItemsListMask",this.itemsHolderMask.x=this.itemsHolder.x,this.itemsHolderMask.y=this.itemsHolder.y,this.addChild(this.itemsHolderMask),this.itemsHolder.mask=this.itemsHolderMask},e.prototype.slideWithSteps=function(t,e){var i=this;this.animationRunning=!0,this.slideTLAnimation=new TimelineMax({paused:!0,repeat:0,onComplete:this.slideTLAnimationCompleted.bind(this),onCompleteParams:[]});var n=new Array,o=t*e*this.slideItemStep;this.listItemsAnimation=s.clone(this.listItems),this.cloneListItems(e,o),o>0?(this.lastAction="increase",s.each(this.listItemsAnimation.reverse(),(function(t){var e=i.createSlideItemTween(t,o,i.lastAction);n.push(e)}))):(this.lastAction="decrease",s.each(this.listItemsAnimation,(function(t){var e=i.createSlideItemTween(t,o,i.lastAction);n.push(e)}))),this.slideTLAnimation.add(n),this.slideTLAnimation.paused()?this.slideTLAnimation.resume():this.slideTLAnimation.play()},e.prototype.cloneListItems=function(t,e){var i=this;this.listItemsClones=new Array;var n=-1,o=-1,a=new c;this.orientation==l.CustomListOrientation.HORIZONTAL&&(a.y=this.backgroundHeight/2),this.orientation==l.CustomListOrientation.VERTICAL&&(a.x=this.backgroundWidth/2),e>0?(n=this.listItemsAnimation.length-t,o=this.listItemsAnimation.length,this.orientation==l.CustomListOrientation.HORIZONTAL&&(a.x=this.listItemsAnimation[0].item.x-this.slideItemStep,s.each(s.slice(this.listItemsAnimation,n,o).reverse(),(function(t){var e=new r.CustomListItemVO;e.item=t.item.clone(),e.item.x=a.x,e.item.y=a.y,a.x-=i.slideItemStep,e.item.itemDisplay.y=t.item.itemDisplay.y,e.item.itemDisplay.filters=t.item.itemDisplay.filters,i.listItemsClones.push(e)}))),this.orientation==l.CustomListOrientation.VERTICAL&&(a.y=this.listItemsAnimation[0].item.y-this.slideItemStep,s.each(s.slice(this.listItemsAnimation,n,o).reverse(),(function(t){var e=new r.CustomListItemVO;e.item=t.item.clone(),e.item.x=a.x,e.item.y=a.y,a.y-=i.slideItemStep,e.item.itemDisplay.x=t.item.itemDisplay.x,e.item.itemDisplay.filters=t.item.itemDisplay.filters,i.listItemsClones.push(e)}))),s.each(this.listItemsClones,(function(t){i.addItem(t),i.listItemsAnimation.unshift(t)}))):(n=0,o=t,this.orientation==l.CustomListOrientation.HORIZONTAL&&(a.x=this.listItemsAnimation[this.listItemsAnimation.length-1].item.x+this.slideItemStep,s.each(s.slice(this.listItemsAnimation,n,o),(function(t){var e=new r.CustomListItemVO;e.item=t.item.clone(),e.item.x=a.x,e.item.y=a.y,a.x+=i.slideItemStep,i.listItemsClones.push(e)}))),this.orientation==l.CustomListOrientation.VERTICAL&&(a.y=this.listItemsAnimation[this.listItemsAnimation.length-1].item.y+this.slideItemStep,s.each(s.slice(this.listItemsAnimation,n,o),(function(t){var e=new r.CustomListItemVO;e.item=t.item.clone(),e.item.x=a.x,e.item.y=a.y,a.y+=i.slideItemStep,i.listItemsClones.push(e)}))),s.each(this.listItemsClones,(function(t){i.addItem(t),i.listItemsAnimation.push(t)})))},e.prototype.removeListItemsClones=function(){var t=this;s.each(this.listItemsClones,(function(e){t.itemsHolder.removeChild(e.item)})),this.listItemsClones=new Array},e.prototype.createSlideItemTween=function(t,e,i){var n,o=0;return this.doInstantAnimation||(o=this.slideItemAnimationDelay),this.orientation==l.CustomListOrientation.HORIZONTAL&&(n=new TweenMax(t.item,o,{x:t.item.x+e,ease:Linear.easeNone,repeat:0,onComplete:this.slideItemAnimationComplete.bind(this),onCompleteParams:[t,i]})),this.orientation==l.CustomListOrientation.VERTICAL&&(n=new TweenMax(t.item,o,{y:t.item.y+e,ease:Linear.easeNone,repeat:0,onComplete:this.slideItemAnimationComplete.bind(this),onCompleteParams:[t,i]})),n},e.prototype.moveLastItemToStart=function(){var t=this.listItems.pop();this.listItems.unshift(t)},e.prototype.moveFirstItemToEnd=function(){var t=this.listItems.shift();this.listItems.push(t)},e.prototype.slideItemAnimationComplete=function(t,e){var i=this;"increase"==e&&this.moveLastItemToStart(),"decrease"==e&&this.moveFirstItemToEnd(),s.each(this.listItems,(function(t,e){var n=i.itemsPos[e];i.orientation==l.CustomListOrientation.HORIZONTAL&&(t.item.x=n.x),i.orientation==l.CustomListOrientation.VERTICAL&&(t.item.y=n.y)}))},e.prototype.slideTLAnimationCompleted=function(){this.slideTLAnimation=null,this.listItemsAnimation=null,this.removeListItemsClones(),this.animationRunning=!1,this.doInstantAnimation=!1;var t=this._selectedItemIndex;if("decrease"==this.lastAction){t++;var e=this.visibleItems-1;t>e&&(t=e)}"increase"==this.lastAction&&--t<0&&(t=0),this.updateActiveItem(t),this.selectItem(t)},e.prototype.alignListComponents=function(){this._hasButtons&&this._canShowButtons?(this.orientation==l.CustomListOrientation.HORIZONTAL&&(this.decreaseButton.x=0,this.decreaseButton.y=(this.itemsHolder.mask.height-this.decreaseButton.height)/2,this.itemsHolder.x=this.decreaseButton.x+this.decreaseButton.width+this.buttonsGap.x,this.itemsHolder.y=0,this.itemsHolderMask.x=this.itemsHolder.x,this.itemsHolderMask.y=this.itemsHolder.y,this.increaseButton.x=this.itemsHolder.mask.x+this.itemsHolder.mask.width+this.buttonsGap.x,this.increaseButton.y=(this.itemsHolder.mask.height-this.increaseButton.height)/2),this.orientation==l.CustomListOrientation.VERTICAL&&(this.decreaseButton.x=(this.itemsHolder.mask.width-this.decreaseButton.width)/2,this.decreaseButton.y=0,this.itemsHolder.x=0,this.itemsHolder.y=this.decreaseButton.y+this.decreaseButton.height+this.buttonsGap.y,this.itemsHolderMask.x=this.itemsHolder.x,this.itemsHolderMask.y=this.itemsHolder.y,this.increaseButton.x=(this.itemsHolder.mask.width-this.increaseButton.width)/2,this.increaseButton.y=this.itemsHolder.mask.y+this.itemsHolder.mask.height+this.buttonsGap.y)):(this.orientation==l.CustomListOrientation.HORIZONTAL&&(this.itemsHolder.x=this.buttonsGap.x,this.itemsHolder.y=0,this.itemsHolderMask.x=this.itemsHolder.x,this.itemsHolderMask.y=this.itemsHolder.y),this.orientation==l.CustomListOrientation.VERTICAL&&(this.itemsHolder.x=0,this.itemsHolder.y=this.buttonsGap.y,this.itemsHolderMask.x=this.itemsHolder.x,this.itemsHolderMask.y=this.itemsHolder.y))},e}(a.BaseComponent);e.CustomList=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}();e.CustomListOrientation=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.ON="on",t.OFF="off",t.ON_OVER="onOver",t.OFF_OVER="offOver",t}();e.ToggleButtonSkinName=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),o=i(8),s=function(){function t(t,e){this.name=t,this.parent=e}return t.prototype.clone=function(e,i){var n=new t(e,i);return n.type=this.type,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.widthRelative=this.widthRelative,n.heightRelative=this.heightRelative,n.rotation=this.rotation,n.scaleX=this.scaleX,n.scaleY=this.scaleY,n.pivotX=this.pivotX,n.pivotY=this.pivotY,n.visibleSelf=this.visibleSelf,n.isMask=this.isMask,n.layoutType=this.layoutType,n.offsetMinX=this.offsetMinX,n.offsetMinY=this.offsetMinY,n.offsetMaxX=this.offsetMaxX,n.offsetMaxY=this.offsetMaxY,n.anchorMinX=this.anchorMinX,n.anchorMinY=this.anchorMinY,n.anchorMaxX=this.anchorMaxX,n.anchorMaxY=this.anchorMaxY,n.children=this.children,n},Object.defineProperty(t.prototype,"anchorMinX",{get:function(){return this._anchorMinX},set:function(t){this._anchorMinX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorMinY",{get:function(){return this._anchorMinY},set:function(t){this._anchorMinY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorMaxX",{get:function(){return this._anchorMaxX},set:function(t){this._anchorMaxX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorMaxY",{get:function(){return this._anchorMaxY},set:function(t){this._anchorMaxY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSnappedToLeft",{get:function(){return 0===this.anchorMinX&&0===this.anchorMaxX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSnappedToRight",{get:function(){return 1===this.anchorMinX&&1===this.anchorMaxX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSnappedToTop",{get:function(){return 0===this.anchorMinY&&0===this.anchorMaxY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSnappedToBottom",{get:function(){return 1===this.anchorMinY&&1===this.anchorMaxY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftScreenOffset",{get:function(){return(n.Device.isLandscape()||n.Device.instance().desktop)&&this.isSnappedToLeft?Math.abs(o.SceneManager.getHMargin):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightScreenOffset",{get:function(){return(n.Device.isLandscape()||n.Device.instance().desktop)&&this.isSnappedToRight?-Math.abs(o.SceneManager.getHMargin):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topScreenOffset",{get:function(){return(n.Device.isLandscape()||n.Device.instance().desktop)&&o.SceneManager.getVMargin>0&&this.isSnappedToTop?o.SceneManager.getVMargin:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomScreenOffset",{get:function(){return(n.Device.isLandscape()||n.Device.instance().desktop)&&o.SceneManager.getVMargin>0&&this.isSnappedToBottom?-o.SceneManager.getVMargin:0},enumerable:!0,configurable:!0}),t}();e.MasterBoneData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(472),s=i(473),a=function(){function t(t,e){this.attachment={},this._components=new Array,this.name=t,this.boneData=e}return Object.defineProperty(t.prototype,"getAttachment",{get:function(){return this.attachment[this.name]},enumerable:!0,configurable:!0}),t.prototype.setAttachment=function(t,e){this.attachment[t]!==e&&(this.attachment[t]=e)},Object.defineProperty(t.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),t.prototype.addComponents=function(t){var e=this;n.each(t,(function(t,i){var a=t.type,r="";n.has(t,"name")&&(r=t.name);var l=new s.MasterSlotComponentData(t),c=new o.MasterSlotComponent(a,r,l);e._components.push(c)}))},t}();e.MasterSlotData=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.CONTEXT_REPLACER="contextReplacer",t.SOUND="sound",t.MASK_FOR_PARENT="maskForParent",t.WINNINGS="Winnings",t}();e.MasterSlotComponentType=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(8),l=i(16),c=i(6),u=i(482),h=i(216),p=i(119),d=i(4),_=i(2),f=i(1),y=PIXI.Container,m=function(t){function e(e){void 0===e&&(e="LayersProxy");var i=t.call(this,e)||this;return i.MAIN_KEY_NAME="Main",i.layerWithValidation=[],i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig")),s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(f.Names.Proxies.MASTER_LAYERS,f.Names.Modules.GAME_SETUP)),this._scene=r.SceneManager.currentScene,this.initLayerOrder(),this.styleForLayers=document.createElement("style")},e.prototype.initLayerOrder=function(){this._pixiLayerOrder=[],this._htmlLayerOrder=[]},e.prototype.changePIXILayerDepth=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=!0),void 0===n&&(n=!0),-1!=s.findIndex(this._pixiLayerOrder,(function(e){return e.name==t}))?this.addPIXILayer(t,e,i,n):c.Log.error("Attempting to swap position of a layer ("+t+") not existing ")},e.prototype.addPIXILayer=function(t,e,i,n,o){void 0===e&&(e=""),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=!1),this.layerNameIsCorrect(t)||c.Log.error("'"+t+"' name for layer is not correct.");var a,r,l=s.findIndex(this._pixiLayerOrder,(function(e){return e.name==t})),u=this._pixiLayerOrder.length;if(""!=e){var h=s.findIndex(this._pixiLayerOrder,(function(t){return t.name==e}));if(!(h>-1))throw new Error("Attempting to position a layer ("+t+") using a reference layer that wasn't previously added ("+e+")");u=h+(i?1:0)}-1==l?((a=new p.PIXILayerVO(t)).drawAtInit=o,r=new PIXI.Container,a.container=r,r.visible=!1):(a=this._pixiLayerOrder.splice(l,1).pop(),r=this._scene.children.splice(l,1).pop(),u>l&&u--),a.isVisibleAtInit=n,(s.isNil(r.name)||s.isNil(r.name)||""==r.name)&&(r.name=t),this._pixiLayerOrder.splice(u,0,a),this._scene.children.splice(u,0,r),-1==l&&(r.parent=this._scene)},e.prototype.addHTMLLayer=function(t,e,i,n,o,a){void 0===e&&(e=""),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a="layer_container");var r,l,c,u=s.findIndex(this._htmlLayerOrder,(function(e){return e.name==t})),p=this._htmlLayerOrder.length;if(""!=e){if(!((r=s.findIndex(this._htmlLayerOrder,(function(t){return t.name==e})))>-1))throw new Error("Attempting to position a layer ("+t+") using a reference layer that wasn't previously added ("+e+")");p=r+(i?1:0)}-1==u?(l=new h.HTMLLayerVO(t,n,o,a),(c=document.createElement("div")).id=t,this.shouldDrawAtStart(c.id)||c.classList.add("layer"),l.container=c,l.styleForLayer=this.styleForLayers):(l=this._htmlLayerOrder.splice(u,1).pop(),c=$("#"+t)[0]),this._htmlLayerOrder.splice(p,0,l);var d=$("#"+l.onWhatLayerDiv)[0],_=[];s.each(this._htmlLayerOrder,(function(t,e){t.onWhatLayerDiv===l.onWhatLayerDiv&&_.push(t)}));var f=s.findIndex(_,(function(t){return t.name==e}));d.insertBefore(c,d.children[f-1]);var y=f+(i?1:0);c.style.zIndex=(12+y).toString(),!l.drawAtInit&&l.hideLayerFromBegining&&(l.container.style.display="none")},e.prototype.initializeLayers=function(){var t=this,e=r.SceneManager.layerContainer,i=r.SceneManager.layerContainerFull;s.each(this._pixiLayerOrder,(function(e){t.initializePixiContainer(e.name)})),s.each(this._htmlLayerOrder,(function(n,o){var s=document.createElement("div");s.id=n.name,t.shouldDrawAtStart(s.id)||s.classList.add("layer"),s.style.zIndex=(12+o).toString(),n.container=s,n.styleForLayer=t.styleForLayers,n.hideLayerFromBegining&&(n.container.style.display="none"),"layer_container"==n.onWhatLayerDiv&&e.appendChild(n.container),"layer_container_full"==n.onWhatLayerDiv&&i.appendChild(n.container)})),r.SceneManager.head.appendChild(this.styleForLayers),this.allLayersInitialized()},e.prototype.drawLayers=function(){var t=this;this.numberLayerAtInit=0,s.each(this._pixiLayerOrder,(function(e){t.shouldDrawAtStart(e.name)||(t.setLayoutWithValidation(e.name),e.drawAtInit&&t.numberLayerAtInit++)})),s.each(this._htmlLayerOrder,(function(e,i){e.drawAtInit&&t.numberLayerAtInit++})),this.numberLayerLeft=this.numberLayerAtInit-1,this.layerWithValidation.length>0&&this.parseLayoutWithValidation()},e.prototype.drawNextLayer=function(){var t=this;return new Promise((function(e,i){requestAnimationFrame((function(){var i=!1,n=s.find(t._pixiLayerOrder,{drawAtInit:!0,drawn:!1});if(n)i=!0,n.drawn=!0,t.shouldDrawAtStart(n.name)||(n.container.visible=!1,n.drawLayout(),(d.Device.instance().mobile||d.Device.instance().minigame)&&(n.drawLayout(l.PixiView.MAIN_LANDSCAPE),n.drawLayout(l.PixiView.MAIN_PORTRAIT)),t.drawLayer(n.name,e),t.sendGlobalNotification(_.Notifications.Global.UPDATE_PROGRESS,{total:t.numberLayerAtInit,left:t.numberLayerLeft}),t.numberLayerLeft--);else{var o=s.find(t._htmlLayerOrder,{drawAtInit:!0,drawn:!1});o&&(i=!0,o.drawLayout(),o.container.style.display="none",o.drawn=!0,t.sendGlobalNotification(_.Notifications.Global.UPDATE_PROGRESS,{total:t.numberLayerAtInit,left:t.numberLayerLeft}),t.numberLayerLeft--)}e(i)}))}))},e.prototype.displayAllLayerAfterInitial=function(){var t=this;s.each(this._pixiLayerOrder,(function(e){t.shouldDrawAtStart(e.name)||(e.container.visible=e.isVisibleAtInit)})),s.each(this._htmlLayerOrder,(function(t,e){t.drawAtInit&&!t.hideLayerFromBegining&&(t.container.style.display="")}))},e.prototype.initializePixiContainer=function(t){var e=s.find(this._pixiLayerOrder,{name:t});e&&s.isUndefined(e.container)&&(e.container=new y,e.container.name=t,this._scene.addChild(e.container))},e.prototype.parseLayout=function(t){var e=s.find(this._pixiLayerOrder,{name:t});!e||s.isNil(e.layoutXML)||s.isNil(e.layoutXML.data)||(new u.PixiLayoutParser).parseLayout(e.layoutXML.data,e,this.elementAdded.bind(this))},e.prototype.elementAdded=function(t,e){var i=this;s.each(e.layout.layouts,(function(e,n){e.name=n,n==i.MAIN_KEY_NAME?t.layout=e:t.subLayout.push(e)}))},e.prototype.retrieveLayer=function(t){var e=s.find(this._pixiLayerOrder,(function(e){return e.name==t}));return e||(e=s.find(this._htmlLayerOrder,(function(e){return e.name==t})))||c.Log.warningch("Layers","An undefined layer has been retrieved."),e},e.prototype.removePIXILayer=function(t){var e=this.getPIXILayerIndex(t),i=this._pixiLayerOrder.splice(e,1).pop().container;this._scene.removeChild(i)},e.prototype.getPIXILayerIndex=function(t){return s.findIndex(this._pixiLayerOrder,{name:t})},e.prototype.getPIXILayerNameAtIndex=function(t){return this._pixiLayerOrder[t].name},e.prototype.allLayersInitialized=function(){r.SceneManager.createMarkers(),this.sendGlobalNotification(_.Notifications.GameSetup.ALL_LAYERS_INITIALIZED)},e.prototype.hidePixiLayers=function(t){s.each(this._pixiLayerOrder,(function(e){-1==t.indexOf(e.name)&&(e.container.visible=!1)}))},e.prototype.showPixiLayers=function(t){s.each(this._pixiLayerOrder,(function(e){var i=e;-1==t.indexOf(i.name)&&i.isVisibleAtInit&&i.name!=f.Names.Layers.PRELOADER&&(i.container.visible=!0)}))},e.prototype.shouldDrawAtStart=function(t){return t==f.Names.Layers.PRELOADER},e.prototype.setLayoutWithValidation=function(t){this.layerWithValidation.push({layerName:t,parsed:!1})},e.prototype.parseLayoutWithValidation=function(){this.processNextLayer()},e.prototype.parseLayoutPromise=function(t){var e=this;return new Promise((function(i,n){e.parseLayout(t),i(t)}))},e.prototype.processNextLayer=function(){var t=s.find(this.layerWithValidation,{parsed:!1});this.parseLayoutPromise(t.layerName).then(this.checkAllLayersParsed.bind(this))},e.prototype.checkAllLayersParsed=function(t){var e=this,i=s.findIndex(this.layerWithValidation,{layerName:t});this.layerWithValidation[i].parsed=!0,s.some(this.layerWithValidation,{parsed:!1})?requestAnimationFrame((function(){e.processNextLayer()})):this.validateLayoutWithValidation()},e.prototype.validateLayoutWithValidation=function(){this.sendNotification(_.Notifications.GameSetup.DRAW_NEXT_LAYER)},e.prototype.drawLayer=function(t,e){if(this.gameConfigVO.useMasterLayout){var i=this.retrieveLayer(t);this.masterLayoutProxy.updateLayoutFromMasterLayout(t,i,e)}},e.prototype.layerNameIsCorrect=function(t){return t.substr(t.length-f.Names.Layers.POSTFIX_LAYER_NAME.length)===f.Names.Layers.POSTFIX_LAYER_NAME},e}(a.Proxy);e.LayersProxy=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(21),r=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this,e)||this;return s.isNil(i)||n.initParams(i),n}return o(e,t),Object.defineProperty(e.prototype,"layout",{set:function(t){var e=this;this._layout=t,this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("labelWidth").value)*a.TextField.FONT_MULTIPLIER,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("labelHeight").value)*a.TextField.FONT_MULTIPLIER,this._fontSize=parseFloat(this._layout.attributes.getNamedItem("labelFontSize").value),this._fontSize=this._fontSize*a.TextField.FONT_MULTIPLIER,this.textStyle=new PIXI.TextStyle(null),this.textStyle.fontSize=this._fontSize,this._initialFontSize=this._fontSize,s.isNil(this._layout.attributes.getNamedItem("labelFont"))?this.textStyle.fontFamily="noto_sansregular":this.textStyle.fontFamily=this._layout.attributes.getNamedItem("labelFont").value,s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStart"))||s.isNil(this._layout.attributes.getNamedItem("labelFontGradientEnd"))?s.isNil(this._layout.attributes.getNamedItem("labelFontGradient"))?this.textStyle.fill=parseInt(this._layout.attributes.getNamedItem("labelFontColor").value):this.textStyle.fill=this._layout.attributes.getNamedItem("labelFontGradient").value.split(",").map(Number):this.textStyle.fill=[parseInt(this._layout.attributes.getNamedItem("labelFontGradientStart").value),parseInt(this._layout.attributes.getNamedItem("labelFontGradientEnd").value)],s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStops"))||s.each(this._layout.attributes.getNamedItem("labelFontGradientStops").value.split(","),(function(t){e.textStyle.fillGradientStops.push(parseFloat(t))})),s.isNil(this._layout.attributes.getNamedItem("align"))||(this.textStyle.align=this._layout.attributes.getNamedItem("align").value),s.isNil(this._layout.attributes.getNamedItem("singleLine"))||(this._isSingleLine="true"==this._layout.attributes.getNamedItem("singleLine").value),s.isNil(this._layout.attributes.getNamedItem("stroke"))||(this.textStyle.stroke=parseInt(this._layout.attributes.getNamedItem("stroke").value)),s.isNil(this._layout.attributes.getNamedItem("fontWeight"))||(this.textStyle.fontWeight=this._layout.attributes.getNamedItem("fontWeight").value),s.isNil(this._layout.attributes.getNamedItem("dropShadow"))||(this.textStyle.dropShadow=Boolean(this._layout.attributes.getNamedItem("dropShadow").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAlpha"))||(this.textStyle.dropShadowAlpha=parseFloat(this._layout.attributes.getNamedItem("dropShadowAlpha").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAngle"))||(this.textStyle.dropShadowAngle=parseFloat(this._layout.attributes.getNamedItem("dropShadowAngle").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowBlur"))||(this.textStyle.dropShadowBlur=parseFloat(this._layout.attributes.getNamedItem("dropShadowBlur").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowColor"))||(this.textStyle.dropShadowColor=parseInt(this._layout.attributes.getNamedItem("dropShadowColor").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowDistance"))||(this.textStyle.dropShadowDistance=parseInt(this._layout.attributes.getNamedItem("dropShadowDistance").value)),s.isNil(this._layout.attributes.getNamedItem("strokeThickness"))||(this.textStyle.strokeThickness=parseInt(this._layout.attributes.getNamedItem("strokeThickness").value)),s.isNil(this._layout.attributes.getNamedItem("lineJoin"))||(this.textStyle.lineJoin=this._layout.attributes.getNamedItem("lineJoin").value),s.isNil(this._layout.attributes.getNamedItem("dropShadow"))||(this.textStyle.dropShadow=Boolean(this._layout.attributes.getNamedItem("dropShadow").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAlpha"))||(this.textStyle.dropShadowAlpha=parseFloat(this._layout.attributes.getNamedItem("dropShadowAlpha").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowAngle"))||(this.textStyle.dropShadowAngle=parseFloat(this._layout.attributes.getNamedItem("dropShadowAngle").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowBlur"))||(this.textStyle.dropShadowBlur=parseFloat(this._layout.attributes.getNamedItem("dropShadowBlur").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowColor"))||(this.textStyle.dropShadowColor=parseInt(this._layout.attributes.getNamedItem("dropShadowColor").value)),s.isNil(this._layout.attributes.getNamedItem("dropShadowDistance"))||(this.textStyle.dropShadowDistance=parseInt(this._layout.attributes.getNamedItem("dropShadowDistance").value)),s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStart"))||s.isNil(this._layout.attributes.getNamedItem("labelFontGradientEnd"))?s.isNil(this._layout.attributes.getNamedItem("labelFontGradient"))?this.textStyle.fill=parseInt(this._layout.attributes.getNamedItem("labelFontColor").value):this.textStyle.fill=this._layout.attributes.getNamedItem("labelFontGradient").value.split(",").map(Number):this.textStyle.fill=[parseInt(this._layout.attributes.getNamedItem("labelFontGradientStart").value),parseInt(this._layout.attributes.getNamedItem("labelFontGradientEnd").value)],s.isNil(this._layout.attributes.getNamedItem("labelFontGradientStops"))||s.each(this._layout.attributes.getNamedItem("labelFontGradientStops").value.split(","),(function(t){e.textStyle.fillGradientStops.push(parseFloat(t))})),s.isNil(this._layout.attributes.getNamedItem("fontWeight"))||(this.textStyle.fontWeight=this._layout.attributes.getNamedItem("fontWeight").value),this.checkForIE()||s.isNil(this._layout.attributes.getNamedItem("filters"))||this.checkFilters(this._layout.attributes.getNamedItem("filters").value),s.isNil(this._layout.attributes.getNamedItem("label"))||(this._labelText=this._layout.attributes.getNamedItem("label").value),s.isNil(this._layout.attributes.getNamedItem("labelX"))?this.position.x=0:this.position.x=parseFloat(this._layout.attributes.getNamedItem("labelX").value),s.isNil(this._layout.attributes.getNamedItem("labelY"))?this.position.y=0:this.position.y=parseFloat(this._layout.attributes.getNamedItem("labelY").value),s.isNil(this._layout.attributes.getNamedItem("keyTranslate"))||(this.keyTranslate=this._layout.attributes.getNamedItem("keyTranslate").value),s.isNil(this._layout.attributes.getNamedItem("vAlign"))||(this.vAlign=this._layout.attributes.getNamedItem("vAlign").value),this.elementsHolder.scale.x=a.TextField.FONT_SCALE,this.elementsHolder.scale.y=a.TextField.FONT_SCALE,this.initTextField()},enumerable:!0,configurable:!0}),e.prototype.setLayoutAndStyle=function(t,e){this._layout=t,s.isNil(this._layout.attributes.getNamedItem("singleLine"))||(this._isSingleLine="true"==this._layout.attributes.getNamedItem("singleLine").value),this._textFieldWidth=parseFloat(this._layout.attributes.getNamedItem("labelWidth").value)*a.TextField.FONT_MULTIPLIER,this._textFieldHeight=parseFloat(this._layout.attributes.getNamedItem("labelHeight").value)*a.TextField.FONT_MULTIPLIER,this._initialFontSize=this._fontSize=e.fontSize,this.vAlign=e.vAlign,this.textStyle=new PIXI.TextStyle(e),this.initTextField()},e.prototype.initParams=function(t){this._textFieldWidth=2*parseFloat(t.labelWidth),this._textFieldHeight=2*parseFloat(t.labelHeight),this._fontSize=parseFloat(t.labelFontSize),this._fontSize=2*this._fontSize,this.textStyle=new PIXI.TextStyle(null),this.textStyle.fontSize=this._fontSize,this._initialFontSize=this._fontSize,s.isNil(t.labelFont)?this.textStyle.fontFamily="noto_sansregular":this.textStyle.fontFamily=t.labelFont,this.textStyle.fill=parseInt(t.labelFontColor),s.isNil(t.align)||(this.textStyle.align=t.align),s.isNil(t.singleLine)||(this._isSingleLine="true"==t.singleLine),this.checkForIE()||s.isNil(t.filters)||this.checkFilters(t.filters),s.isNil(t.label)||(this._labelText=t.label),s.isNil(t.labelX)?this.position.x=0:this.position.x=parseFloat(t.labelX),s.isNil(t.labelY)?this.position.y=0:this.position.y=parseFloat(t.labelY),s.isNil(t.keyTranslate)||(this.keyTranslate=t.keyTranslate),s.isNil(t.vAlign)||(this.vAlign=t.vAlign),this.elementsHolder.scale.x=a.TextField.FONT_SCALE,this.elementsHolder.scale.y=a.TextField.FONT_SCALE,this.initTextField()},e}(a.TextField);e.SimpleButtonLabel=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(6),r=i(31),l=i(51),c=i(21),u=function(t){function e(i,n){var o=t.call(this,i,n,e.mandatoryParams)||this;for(o.wheelsCount=5,o.isPrefixNumber=!1,o.payoutAlign="right";o.children.length>0;)o.removeChildAt(0);o.payoutsPrefix=[],o.payoutsValues=[],o.position.x=o.params.x,o.position.y=o.params.y;var r=Number(o.params.width),u=Number(o.params.height),h=Number(o.params.row);o.params.values;return o.indexFGM=Number(o.params.indexPayout),s.isNil(o.params.isPrefixNumber)||"true"!=o.params.isPrefixNumber?o.image=new l.Image(o.name+"Img",{x:0,y:0,width:r,height:u,resource:o.params.resource,depth:0,type:"image"}):(o.isPrefixNumber=!0,o.payoutAlign="left",s.isNil(o.params.wheelsCount)||(o.wheelsCount=Number(o.params.wheelsCount))),requestAnimationFrame((function(){var t=r,e=0;o.isPrefixNumber||(o.image.height=u,o.image.width=u*(o.image.image.texture.orig.width/o.image.image.texture.orig.height),r-o.image.width<=0&&(a.Log.warning("Payout: "+o.name+" Doesn't have enough width declare for the text\n....Adding extra space...."),r=o.image.width+100),o.image.x=r-o.image.width,t=r-o.image.width-5);var i=(u+3)/h;s.times(h,(function(n){if(o.isPrefixNumber){o.payoutsPrefix[n]=new c.TextField("PayoutsPrefix_"+n);var s=(o.wheelsCount-n).toString()+" - ";o.payoutsPrefix[n].setUp(t,i,{fontSize:Math.floor(.75*i).toString(),fill:o.params.fontColor?o.params.fontColor:16777215,align:"right",vAlign:"center",singleLine:!0},s,0,i*n-1),o.addChild(o.payoutsPrefix[n]),e=t}o.payoutsValues[n]=new c.TextField(o.name+"P"+n),o.payoutsValues[n].setUp(t-5,i,{fontSize:Math.floor(.75*i).toString(),fill:o.params.fontColor?o.params.fontColor:16777215,align:o.payoutAlign,vAlign:"center",singleLine:!0},Array(6-n).join("X"),e,i*n-1),o.addChild(o.payoutsValues[n])}))})),s.isNil(o.image)||o.addChild(o.image),o}return o(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this.isPrefixNumber?this.payoutsValues[0].width:this.image.width+this.payoutsValues[0].width},enumerable:!0,configurable:!0}),e.mandatoryParams=["x","y","width","height","row","indexPayout","resource"],e}(r.BaseComponent);e.Payout=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=i(138),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,this.parseLayout()},enumerable:!0,configurable:!0}),e.prototype.parseLayout=function(){},e.prototype.createToolTipLabel=function(t){var e=new r.ToolTipLabel(t.attributes.getNamedItem("name").value);return e.layout=t,e},e.prototype.createToolTip=function(){s.isNil(this.label)||this.addChild(this.label)},e.prototype.updateLabel=function(t){s.isNil(this.label)||this.label.updateLabel(t)},e}(a.BaseComponent);e.AbstractToolTip=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(6),r=i(15),l=function(t){function e(e,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===o&&(o="layer_container");var s=t.call(this,e,i)||this;return s.onWhatLayerDiv=o,s.hideLayerFromBegining=n,s}return o(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){t instanceof HTMLDivElement?this._container=t:a.Log.warningch("Graphics","A non-HTMLDivElement was set as container for a HTML layer, setting to null.")},enumerable:!0,configurable:!0}),e.prototype.drawLayout=function(){for(var t,e=this,i=document.createElement("html"),n=/\"url\('(.+)'\)\"/g;null!=(t=n.exec(this.htmlResource));)this.htmlResource=this.htmlResource.replace(t[0],'"'+r.TextureUtil.instance().textureToURL(t[1])+'"');if(!s.isNil(this.htmlResource)){i.innerHTML=this.htmlResource.trim();var o=i.getElementsByTagName("body")[0];for(s.each(o.childNodes,(function(t){t&&t instanceof HTMLElement&&(t instanceof HTMLImageElement&&(t.src=r.TextureUtil.instance().textureToURL(t.src.substr(t.src.lastIndexOf("/")+1))),e.container.appendChild(t))})),n=/background\-image:\s*url\s*\(\s*(?:'(\S*?)'|"(\S*?)"|((?:\\\s|\\\)|\\\"|\\\'|\S)*?))\s*\)/g;null!=(t=n.exec(this.cssResource));)t[1].indexOf("..")<0&&(this.cssResource=this.cssResource.replace(t[0],'background-image: url("'+r.TextureUtil.instance().textureToURL(t[1])+'")'));for(n=/background:\s*url\s*\(\s*(?:'(\S*?)'|"(\S*?)"|((?:\\\s|\\\)|\\\"|\\\'|\S)*?))\s*\)/g;null!=(t=n.exec(this.cssResource));)t[1].indexOf("..")<0&&(this.cssResource=this.cssResource.replace(t[0],'background: url("'+r.TextureUtil.instance().textureToURL(t[1])+'")'));this.styleForLayer.textContent=this.styleForLayer.textContent.concat(this.cssResource)}},e}(i(217).LayerVO);e.HTMLLayerVO=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===e&&(e=!1),this.name=t,this.drawAtInit=e,this.subLayout=[],this.drawn=!1}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t},enumerable:!0,configurable:!0}),t}();e.LayerVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(68),r=i(172),l=i(499),c=i(500),u=i(8),h=i(203),p=i(219),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerConfigModule=function(){t.prototype.registerConfigModule.call(this),this.configureSceneManager()},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.LoadingNotifications.UPDATE_LOADING_PROGRESS,l.UpdateLoadingProgressCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(a.PreloadProxy.NAME,a.PreloadProxy)},e.prototype.configureSceneManager=function(){var t=this.getSceneTemplateConfig();u.SceneManager.setTemplate(t),u.SceneManager.create(!0),u.SceneManager.createScene("game",new h.GameScene),u.SceneManager.goToScene("game")},e.prototype.getSceneTemplateConfig=function(){return new c.SceneTemplateConfigVo(p.AbstractScene)},e}(s.AbstractModule);e.GraphicsEngine=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(4),s=i(8),a=i(220),r=i(17),l=function(){function t(){this.scenes={},this.ratio=1,this.fixRatio=1,this.SCENE_HEIGHT=600,this.SCENE_WIDTH=800,this.DESKTOP_RATIO={width:1280,height:720},this.MOBILE_PORTRAIT_RATIO={width:960,height:720},this.MOBILE_LANDSCAPE_RATIO={width:1280,height:720},this.MINI_RATIO={width:240,height:320},this.SCENE_TOP=0,this.SCENE_SCALE_OFFSET=1,this.SCENE_X_OFFSET={portrait:0,landscape:0,ratio:1},this.SCENE_Y_OFFSET={portrait:0,landscape:0,ratio:1},this.EXTRA_POSITIONS_REALIGNMENT={},this.resizeAuthorized=!0,this.positionTransformed=null,this.X_SCENE_ALIGNMENT_OFFSET=0,this.Y_SCENE_ALIGNMENT_OFFSET=0,this.onRegister()}return Object.defineProperty(t.prototype,"serviceLocator",{get:function(){return this._serviceLocator},enumerable:!0,configurable:!0}),t.prototype.onRegister=function(){this.preRegister()},t.prototype.preRegister=function(){this._serviceLocator=r.ServiceLocator.instance(),this.settings=this._serviceLocator.get("Settings"),n.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig"))},t.prototype.addSceneProps=function(t){this.sceneProps=t},t.prototype.create=function(t){if(void 0===t&&(t=!1),this.renderer)return this;var e,i=!0,n=window.devicePixelRatio;return o.Device.instance().mobile&&(e={transparent:!0,resolution:n,autoResize:i}),o.Device.instance().tablet&&(e={transparent:!0,resolution:n,autoResize:i}),o.Device.instance().desktop&&(o.Device.instance().macOS&&window.devicePixelRatio>1&&(i=!1,n=1,document.querySelector("meta[name=viewport]").setAttribute("content","minimal-ui,width=device-width,height=device-height,initial-scale="+1/window.devicePixelRatio+",maximum-scale="+1/window.devicePixelRatio+",minimum-scale="+1/window.devicePixelRatio+",user-scalable=no")),e={transparent:!0,resolution:n,autoResize:i}),e.legacy=!0,e.preserveDrawingBuffer=!0,this.renderer=PIXI.autoDetectRenderer(this.SCENE_WIDTH,this.SCENE_HEIGHT,e,!1),this.renderer.view.id="game",this.renderer.view.style.display="none",this.$layerContainer=$("#layer_container"),this.layerContainer=this.$layerContainer[0],this.$layerContainerFull=$("#layer_container_full"),this.layerContainerFull=this.$layerContainerFull[0],document.body.appendChild(this.renderer.view),this.$head=$("head"),this.head=this.$head[0],this.layerContainer.style.width=this.SCENE_WIDTH+"px",this.layerContainer.style.height=this.SCENE_HEIGHT+"px",this.layerContainer.style.transformOrigin="0% 0%",t&&this._rescale(this.SCENE_WIDTH,this.SCENE_HEIGHT),PIXI.settings.PRECISION_FRAGMENT=PIXI.PRECISION.LOW,PIXI.settings.PRECISION_VERTEX=PIXI.PRECISION.LOW,PIXI.settings.UPLOADS_PER_FRAME=4,PIXI.settings.TARGET_FPMS=.06,this.startRenderingLoop(),this},t.prototype.startRenderingLoop=function(){this.ticker=PIXI.ticker.shared,(o.Device.instance().mobile||o.Device.instance().tablet&&o.Device.deviceLevel()==o.DeviceLevel.obsolete)&&(this.ticker.speed=.5),this.ticker.add(this.loop,this)},t.prototype.resizeEvent=function(t){this._rescale(this.SCENE_WIDTH,this.SCENE_HEIGHT),n.isNil(t)||(this.resizeEventCallback=t)},t.prototype.destroy=function(){this.renderer.view&&(this.ticker.stop(),document.body.removeChild(this.renderer.view),this.renderer.destroyPlugins(),this.renderer.destroy(!0),PIXI.utils.destroyTextureCache(),PIXI.utils.clearTextureCache(),this.currentScene=null,this.renderer=null)},t.prototype.getScreenOrigin=function(){return new PIXI.Point(this.getScreenXOrigin(),this.getScreenYOrigin())},t.prototype.getScreenXOrigin=function(){return this.getHMargin()<0?this.getHMargin():0},t.prototype.getScreenYOrigin=function(){return this.getVMargin()<0?this.getVMargin():0},t.prototype.getScreenWidth=function(){return o.Device.getGameClientWidth()/this.ratio},t.prototype.getHMargin=function(){return(this.getScreenWidth()-this.SCENE_WIDTH)/2},t.prototype.getScreenHeight=function(){return o.Device.getGameClientHeight()/this.ratio},t.prototype.getVMargin=function(){return(this.getScreenHeight()-this.SCENE_HEIGHT)/2},t.prototype.loopOthers=function(t,e){e&&!e.isPaused()&&t.render(e)},t.prototype.createScene=function(t,e){if(!this.scenes[t])return this.scenes[t]=e,e},t.prototype.goToScene=function(t){return!!this.scenes[t]&&(this.currentScene&&this.currentScene.pause(),this.currentScene=this.scenes[t],this.currentScene.resume(),!0)},t.prototype._rescale=function(t,e){this.resizeAuthorized=!0,this.ratio=Number(Math.min(o.Device.getGameClientWidth()/t,o.Device.getGameClientHeight()/e).toFixed(2))*this.SCENE_SCALE_OFFSET,this.renderer.resize(o.Device.getGameClientWidth(),o.Device.getGameClientHeight()),this.extraRenderer&&this.extraScene&&this.extraRenderer.resize(o.Device.getGameClientWidth(),o.Device.getGameClientHeight())},t.prototype._applyRatio=function(t,e){t.scale.x=t.scale.y=e,this.gameConfigVO.usesUIv3||(o.Device.isPortrait()?t.x=(o.Device.getGameClientWidth()-this.SCENE_WIDTH*e)/2+this.SCENE_X_OFFSET[a.ScreenOrientation.PORTRAIT]:t.x=(o.Device.getGameClientWidth()-this.SCENE_WIDTH*e)/2+this.SCENE_X_OFFSET[a.ScreenOrientation.LANDSCAPE]),o.Device.instance()&&o.Device.instance().mobile?o.Device.isLandscape()||o.Device.instance().tablet?this.SCENE_TOP=(o.Device.getGameClientHeight()-this.SCENE_HEIGHT*e)/2:this.SCENE_TOP=0:(this.SCENE_TOP=(o.Device.getGameClientHeight()-this.SCENE_HEIGHT*e)/2,o.Device.minigames&&(this.SCENE_TOP=0)),this.gameConfigVO.usesUIv3||(o.Device.isPortrait()?t.y=this.SCENE_TOP+this.SCENE_Y_OFFSET[a.ScreenOrientation.PORTRAIT]:t.y=this.SCENE_TOP+this.SCENE_Y_OFFSET[a.ScreenOrientation.LANDSCAPE]),this.resizeAuthorized&&o.Device.instance()&&(o.Device.instance().mobile||o.Device.CLASS_INDEX===o.Device.CLASS_INDEX_MOBILE?o.Device.instance().tablet?(this.layerContainer.style.top=t.y/this.fixRatio+"px",this.layerContainer.style.left=t.x/this.fixRatio+"px",this.layerContainer.style.transform="scale("+e/this.fixRatio+")"):(this.layerContainer.style.width=o.Device.getGameClientWidth()+"px",this.layerContainer.style.height=o.Device.getGameClientHeight()+"px",this.layerContainer.style.top="0px",this.layerContainer.style.left="0px",this.layerContainer.style.transform="scale("+1/this.fixRatio+")"):(this.layerContainer.style.top=t.y/this.fixRatio+"px",this.layerContainer.style.left=t.x/this.fixRatio+"px",this.layerContainer.style.transform="scale("+e/this.fixRatio+")"))},t.prototype.loop=function(){this.currentScene&&!this.currentScene.isPaused()&&(this.resizeAuthorized&&(this.ticker.stop(),this.positionTransformed=null,this._applyRatio(this.currentScene,this.ratio),this.extraRenderer&&this.extraScene&&(this.extraScene.scale.x=this.extraScene.scale.y=this.ratio),this.resizeAuthorized=!1,this.ticker.start()),n.isNil(this.resizeEventCallback)||(this.resizeEventCallback(),this.resizeEventCallback=void 0),this.extraRenderer&&this.extraScene&&this.loopOthers(this.extraRenderer,this.extraScene),this.renderer.render(this.currentScene))},t.prototype.isCanvas=function(){var t=!1;return this.renderer.view.getContext("2d")&&(t=!0),t},t.prototype.getCurrentOrientation=function(){return o.Device.isLandscape()?a.ScreenOrientation.LANDSCAPE:a.ScreenOrientation.PORTRAIT},t.prototype.getCurrentRatio=function(){return Number(Math.min(o.Device.getGameClientWidth()/this.ACTIVE_RATIO.width,o.Device.getGameClientHeight()/this.ACTIVE_RATIO.height).toFixed(5))},t.prototype.createMarkers=function(t){void 0===t&&(t=!1);var e=[],i=new PIXI.Point(s.SceneManager.SCENE_WIDTH/2,s.SceneManager.SCENE_HEIGHT/2),n=new PIXI.Sprite;n.name="centerLandscapeObject",s.SceneManager.currentScene.addChild(n),n.position=i,e.push(n);var o=new PIXI.Point(s.SceneManager.SCENE_HEIGHT/2,s.SceneManager.SCENE_WIDTH/2),a=new PIXI.Sprite;if(a.name="centerPortraitObject",s.SceneManager.currentScene.addChild(a),a.position=o,e.push(a),t){var r=new PIXI.Graphics;r.beginFill(65280),r.drawCircle(0,0,3),r.endFill(),r.name="centerLandscapeMarker",s.SceneManager.currentScene.addChild(r),r.position=i;var l=new PIXI.Graphics;l.beginFill(16711680),l.drawCircle(0,0,3),l.endFill(),l.name="centerPortraitMarker",s.SceneManager.currentScene.addChild(l),l.position=o}this.markers=e},t}();e.AbstractScene=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.LANDSCAPE="landscape",t.PORTRAIT="portrait",t}();e.ScreenOrientation=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(2),r=i(5),l=i(222),c=i(12),u=i(223),h=i(505),p=i(224),d=i(506),_=i(507),f=i(508),y=i(509),m=i(227),N=i(513),S=i(514),g=i(515),A=i(228),E=i(229),I=i(516),O=i(517),T=i(518),P=i(230),b=i(519),C=i(231),v=i(520),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(a.Notifications.Global.INITIALIZING_MODULE,m.AutomatedTestInitializeModuleCommand),this.addCommand(c.ATNotifications.GET_GAME_VERSION_DETAILS_HOOK,d.AutomatedTestHookGetGameVersionDetailsCommand),this.addCommand(c.ATNotifications.ENABLE_TURBO_MODE_HOOK,h.AutomatedTestHookEnableTurboModeCommand),this.addCommand(c.ATNotifications.CLICK_BUTTON_HOOK,f.AutomatedTestHookClickButtonCommand),this.addCommand(c.ATNotifications.NOT_ENOUGH_MONEY_HOOK,E.AutomatedTestHookNotEnoughMoneyCommand),this.addCommand(c.ATNotifications.GET_BUTTON_STATE_HOOK,N.AutomatedTestHookGetButtonStateCommand),this.addCommand(c.ATNotifications.OPEN_PAGE_COMMAND,p.AutomatedTestHookOpenPageCommand),this.addCommand(c.ATNotifications.SCROLL_PAGE_COMMAND,P.AutomatedTestHookScrollPageCommand),this.addCommand(c.ATNotifications.CLOSE_PAGE_COMMAND,A.AutomatedTestHookClosePageCommand),this.addCommand(c.ATNotifications.RCI_CHOICE_HOOK,u.AutomatedTestHookRciChoiceCommand),this.addCommand(c.ATNotifications.DISCONNECT_HOOK,_.AutomatedTestHookDisconnectCommand),this.addCommand(a.Notifications.Global.CALL_BACK_ON_EVENT,S.ATCallBackOnEventHandlerCommand),this.addCommand(a.Notifications.Global.CALL_BACK_ON_WARNING,I.ATCallBackOnWarningHandlerCommand),this.addCommand(a.Notifications.Global.CALL_BACK_ON_ERROR,b.ATCallBackOnErrorHandlerCommand),this.addCommand(a.Notifications.Global.DATA_SENT_TO_SERVER,g.ATCallBackOnCommandSendCommand),this.addCommand(a.Notifications.Global.DATA_RECEIVED_FROM_SERVER,O.ATCallBackOnServerDataCommand),this.addCommand(r.States.ERROR,T.ATHandleErrorCommand),this.addCommand(a.Notifications.Global.SHOW_REALITY_CHECK_CLIENT,l.ATHandleRealityCheckCommand),this.addCommand(r.States.REALITY_CHECK,y.ATHandleShowRealityCheckClientCommand),this.addCommand(c.ATNotifications.MANAGE_EXTERNAL_ACTIONS,C.ManageExternalActionsCommand),this.addCommand(a.Notifications.Global.SHOW_DIALOG_WINDOW,v.ATOnDialogOpenCommand)},e}(s.AbstractModule);e.AutomatedTest=M},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(14),r=i(12),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendRCItoGAT()},e.prototype.sendRCItoGAT=function(){r.ATCallBack.onEvent(new a.ATOnEventVO(a.ATEventNames.RCI_CHECKPOINT,new a.ATGenericEvent(!1)))},e}(s.AutomatedTestAbstractCommand);e.ATHandleRealityCheckCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(46),l=i(5),c=i(10),u=i(87),h=i(39),p=i(12),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;switch(i.time&&i.time>0&&this.sendGlobalNotification(a.Notifications.Global.RCI_TIMER_VALUE_CHANGED,i.time),i.choice){case"continue":case"quit":this.onContinueLogic();break;case"history":var n=u.Settings.instance.getValue("historyUrl");if(s.isNil(n)||""==n){p.ATCallBack.onError(["History URL is missing"]);break}this.onContinueLogic()}},e.prototype.onContinueLogic=function(){this.sendGlobalNotification(a.Notifications.Global.START_REALITY_CHECK_TIMER,{start:!0}),this.sendGlobalNotification(a.Notifications.Global.HIDE_DIALOG_WINDOW),this.sendGlobalNotification(a.Notifications.GameSetup.INJECT_FSM,[new h.StateVO(l.States.END_GAME_ENABLE_UI,l.States.END_GAME_ENABLE_UI,[l.States.REALITY_CHECK])]),this.validationProxy.validateAll(c.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.sendGlobalNotification(a.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(a.Notifications.Global.UPDATE_INFOBOX,{message:""})),this.sendGlobalNotification(a.Notifications.Global.SKIP),this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,l.States.END_GAME_ENABLE_UI),this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,l.States.BEGIN_GAME),this.sendGlobalNotification(a.Notifications.Global.UPDATE_INFOBOX,{message:""})},e}(r.AutomatedTestAbstractCommand);e.AutomatedTestHookRciChoiceCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=i(140),r=i(141),l=i(14),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PAYTABLE_HOOK="paytable",e.HISTORY_HOOK="history",e.OPEN_PAYTABLE="openPaytable",e.OPEN_HISTORY="openHistory",e.pagePaytableObject=new r.Page,e.pageHistoryObject=new r.Page,e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.PAGE_EVENT_NAME=l.ATEventNames.PAGE_OPEN,this.eventCallbacksMap[e.body]?this.eventCallbacksMap[e.body].call(this,e.body):s.ATCallBack.onError(["Page: "+e.body+" does not exist"])},e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap||(this.eventCallbacksMap={},this.eventCallbacksMap[this.PAYTABLE_HOOK]=this.openPaytableHook.bind(this),this.eventCallbacksMap[this.HISTORY_HOOK]=this.openHistoryHook.bind(this))},e.prototype.openPaytableHook=function(t){this.updatePagePaytable(),this.sendCallHookListener(this.OPEN_PAYTABLE,this.PAYTABLE_HOOK)},e.prototype.openHistoryHook=function(t){this.updatePageHistory()},e.prototype.updatePagePaytable=function(){var t=this;this.pagePaytableObject.close=function(){return new Promise((function(e){TweenLite.delayedCall(1,(function(){t.sendNotification(s.ATNotifications.CLOSE_PAGE_COMMAND,t.PAYTABLE_HOOK),e()}))}))}},e.prototype.updatePageHistory=function(){var t=this;this.pageHistoryObject.close=function(){return new Promise((function(e){TweenLite.delayedCall(1,(function(){t.sendNotification(s.ATNotifications.CLOSE_PAGE_COMMAND,t.HISTORY_HOOK),e()}))}))}},e}(a.AutomatedTestHookAbstractPageCommand);e.AutomatedTestHookOpenPageCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){this.skippable=!1}return t.prototype.close=function(){throw new Error("Error: close() method is not overridden")},t.prototype.skip=function(){throw new Error("Error: skip() method is not overridden")},t}();e.Popup=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.accept=function(){throw new Error("Error: accept() method is not overridden")},e.prototype.decline=function(){throw new Error("Error: decline() method is not overridden")},e}(s);e.ConfirmPopup=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(a);e.InsurancePopup=r;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(a);e.EvenMoneyPopup=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.close=function(){throw new Error("Error: close() method is not supported on this popup type")},e.prototype.continue=function(t){throw new Error("Error: continue() method is not overridden")},e.prototype.history=function(){throw new Error("Error: history() method is not overridden")},e.prototype.quit=function(){throw new Error("Error: quit() method is not overridden")},e}(s);e.RciPopup=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.name=t};e.ScreenshotRequest=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(8),r=i(4),l=i(6),c=i(10),u=i(511),h=i(141),p=i(225),d=i(226),_=i(14),f=i(12),y=i(105),m=i(46),N=i(512),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RENDERER_TYPE="gl",e.SS_CROP={sX:0,sY:0,sWidth:0,sHeight:0,dX:0,dY:0,dWidth:0,dHeight:0},e.SS_CROP_3D={sX:0,sY:0,sWidth:0,sHeight:0,dX:0,dY:0,dWidth:0,dHeight:0},e.SS_SCALE_FACTOR=1.25,e.SS_MIME_TYPE="image/jpeg",e.SS_QUALITY=.87,e.isPreloader=!0,e}return o(e,t),e.prototype.execute=function(i){t.prototype.execute.call(this,i),this.hasOldGAT="object"==typeof GAT,this.registerValidations(),this.settings.getValue("hasAutomationTest")&&(this.initializeGATEvents(),this.initializeGameHooksObject()),e.onLoadComplete(),this.sendNotification(f.ATNotifications.MANAGE_EXTERNAL_ACTIONS)},e.prototype.initVars=function(){t.prototype.initVars.call(this),this.settings.getValue("hasAutomationTest")&&this.initScreenshotCanvas()},e.prototype.initScreenshotCanvas=function(){this.gameCanvas=document.getElementById("game"),"pixi/three"===this.engine&&(this.gameCanvas3D=HTMLCanvasElement=a.SceneManager.sceneTemplate.renderer3D.domElement),this.gameResolution=a.SceneManager.sceneTemplate.renderer.resolution,a.SceneManager.sceneTemplate.renderer.type===PIXI.RENDERER_TYPE.CANVAS&&(this.RENDERER_TYPE="context"),this.ssCanvas=document.createElement("canvas"),this.ssContext=this.ssCanvas.getContext("2d"),this.updateScreenshotCanvas()},e.prototype.updateScreenshotCanvas=function(){if(this.SS_OFFSET={left:this.gameCanvas.offsetLeft*this.gameResolution,top:this.gameCanvas.offsetTop*this.gameResolution,right:(this.gameCanvas.width/this.gameResolution-r.Device.getGameClientWidth())*this.gameResolution,heightModifier:0},r.Device.instance().tablet&&r.Device.isPortrait())this.gameRatio=(this.gameCanvas.width-this.SS_OFFSET.right)/(this.gameCanvas.height+2*this.SS_OFFSET.top),this.ssCanvas.width=(this.gameCanvas.width-this.SS_OFFSET.right)/this.SS_SCALE_FACTOR,this.ssCanvas.height=this.ssCanvas.width/this.gameRatio;else if(this.gameRatio=(this.gameCanvas.width+2*this.SS_OFFSET.left)/(this.gameCanvas.height+2*this.SS_OFFSET.top),this.ssCanvas.width=(this.gameCanvas.width+2*this.SS_OFFSET.left)/this.SS_SCALE_FACTOR,this.ssCanvas.height=this.ssCanvas.width/this.gameRatio,r.Device.instance().mobile&&r.Device.isLandscape()){var t=parseInt(document.getElementById("game").style.height),e=r.Device.getGameClientHeight();this.SS_OFFSET.heightModifier=t-e,this.ssCanvas.height=this.ssCanvas.height-this.gameResolution*this.SS_OFFSET.heightModifier}this.SS_CROP.sX=this.SS_OFFSET.left<=0?Math.abs(this.SS_OFFSET.left):0,this.SS_CROP.sY=this.SS_OFFSET.top<=0?Math.abs(this.SS_OFFSET.top):0,this.SS_CROP.sWidth=this.gameCanvas.width-2*this.SS_CROP.sX,this.SS_CROP.sHeight=this.gameCanvas.height-2*this.SS_CROP.sY-this.gameResolution*this.SS_OFFSET.heightModifier,this.SS_CROP.dX=this.SS_OFFSET.left>0?this.SS_OFFSET.left/this.SS_SCALE_FACTOR:0,this.SS_CROP.dY=this.SS_OFFSET.top>0?this.SS_OFFSET.top/this.SS_SCALE_FACTOR:0,this.SS_CROP.dWidth=this.ssCanvas.width-2*this.SS_CROP.dX,this.SS_CROP.dHeight=this.ssCanvas.height-2*this.SS_CROP.dY,r.Device.instance().tablet&&r.Device.isPortrait()&&(this.SS_CROP.sWidth=this.gameCanvas.width-this.SS_OFFSET.right,this.ssContext.clearRect(0,0,this.ssCanvas.width,this.ssCanvas.height))},e.prototype.updateScreenshotCanvas3D=function(){this.SS_OFFSET_3D={left:this.gameCanvas3D.offsetLeft*this.gameResolution,top:this.gameCanvas3D.offsetTop*this.gameResolution,right:0,heightModifier:0};var t=1;if(r.Device.instance().mobile&&r.Device.isPortrait()){var e=this.gameCanvas3D.width/this.gameCanvas.width,i=this.gameCanvas3D.height/e;t=this.gameCanvas.height/i}this.SS_CROP_3D.sX=this.SS_OFFSET_3D.left<=0?Math.abs(this.SS_OFFSET_3D.left):0,this.SS_CROP_3D.sY=this.SS_OFFSET_3D.top<=0?Math.abs(this.SS_OFFSET_3D.top):0,this.SS_CROP_3D.sWidth=this.gameCanvas3D.width-2*this.SS_CROP_3D.sX,this.SS_CROP_3D.sHeight=this.gameCanvas3D.height-2*this.SS_CROP_3D.sY,this.SS_CROP_3D.dX=this.SS_OFFSET.left>0?this.SS_OFFSET.left/this.SS_SCALE_FACTOR:0,this.SS_CROP_3D.dY=this.SS_OFFSET.top>0?this.SS_OFFSET.top/this.SS_SCALE_FACTOR:0,this.SS_CROP_3D.dWidth=this.ssCanvas.width-2*this.SS_CROP.dX,this.SS_CROP_3D.dHeight=(this.ssCanvas.height-2*this.SS_CROP.dY)/t},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(c.ValidationTypes.ATM_SCREENSHOT_ENABLED,c.ValidationProperties.ATM_SCREENSHOT_ENABLED)},e.prototype.initializeGATEvents=function(){var t=this;this.hasOldGAT?GAT.subscribeOnce(GAT.ON_READY,this.onGATReady.bind(this)):GATApi.isReady.then((function(){t.onGATReady()}))},e.prototype.initializeGameHooksObject=function(){this.hasOldGAT?window.gameHooks={disableLog:e.disableLog.bind(this),isRealMode:this.isRealMode.bind(this),enableScreenshot:this.enableScreenshot.bind(this),getGameVersionDetails:this.getGameVersionDetails.bind(this),enableTurboMode:this.enableTurboMode.bind(this),getBalance:this.getBalance.bind(this),clickButton:this.clickButton.bind(this),getButtonState:this.getButtonState.bind(this),openPage:this.openPage.bind(this),scrollPage:this.scrollPage.bind(this),closePage:this.closePage.bind(this),rciChoice:this.rciChoice.bind(this),disconnect:this.disconnect.bind(this),getScreenshot:this.getScreenshot.bind(this)}:(GATApi.subscribe(e.disableLog.bind(this),"disableLog"),GATApi.subscribe(this.isRealMode.bind(this),"isRealMode"),GATApi.subscribe(this.enableScreenshot.bind(this),"enableScreenshot"),GATApi.subscribe(this.getGameVersionDetails.bind(this),"getGameVersionDetails"),GATApi.subscribe(this.enableTurboMode.bind(this),"enableTurboMode"),GATApi.subscribe(this.getBalance.bind(this),"getBalance"),GATApi.subscribe(this.clickButton.bind(this),"clickButton"),GATApi.subscribe(this.getButtonState.bind(this),"getButtonState"),GATApi.subscribe(this.rciChoice.bind(this),"rciChoice"),GATApi.subscribe(this.disconnect.bind(this),"disconnect"),GATApi.subscribe(this.getScreenshot.bind(this),"getScreenshot"),y.ATMPublicApiService.instance.register("Popup",p.Popup),y.ATMPublicApiService.instance.register("Page",h.Page),y.ATMPublicApiService.instance.register("RciPopup",p.RciPopup),y.ATMPublicApiService.instance.register("ConfirmPopup",p.ConfirmPopup),y.ATMPublicApiService.instance.register("Error",u.ATMError),y.ATMPublicApiService.instance.register("Warning",N.ATMWarning),y.ATMPublicApiService.instance.register("DisconnectError",u.ATMDisconnectError),y.ATMPublicApiService.instance.register("ScreenshotRequest",d.ScreenshotRequest),y.ATMPublicApiService.instance.register("enableScreenshot",this.enableScreenshot.bind(this)),y.ATMPublicApiService.instance.register("openPage",this.openPage.bind(this)),y.ATMPublicApiService.instance.register("disconnect",this.disconnect.bind(this)),y.ATMPublicApiService.instance.register("getScreenshot",this.getScreenshot.bind(this)))},e.onLoadComplete=function(){f.ATCallBack.onEvent(new _.ATOnEventVO(_.ATEventNames.LOAD_COMPLETE)),y.ATMPublicApiService.instance.loaded()},e.prototype.onGATReady=function(){var t=this,e=3e3;(r.Device.instance().mobile||r.Device.instance().tablet)&&(e=6e3),this.enableScreenshot(!0),setTimeout((function(){t.validationProxy.validateAll(c.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&(f.ATCallBack.onEvent(new _.ATOnEventVO(_.ATEventNames.PRELOADER)),y.ATMPublicApiService.instance.eventEmitter.emit(d.ScreenshotRequest,new d.ScreenshotRequest(_.ATEventNames.PRELOADER))),setTimeout((function(){t.sendGlobalNotification(s.Notifications.Global.AUTOMATION_LIBRARY_INITIALIZED)}),1e3)}),e)},e.disableLog=function(t){l.Log.disableConsole=t},e.prototype.isRealMode=function(){var t=!1;return"false"==this.settings.getValue("funmode")&&(t=!0),t},e.prototype.enableScreenshot=function(t){this.validationProxy.toggleValidation(c.ValidationProperties.ATM_SCREENSHOT_ENABLED,t)},e.prototype.getGameVersionDetails=function(){var t={};return this.sendNotification(f.ATNotifications.GET_GAME_VERSION_DETAILS_HOOK,t),t},e.prototype.enableTurboMode=function(t){this.sendNotification(f.ATNotifications.ENABLE_TURBO_MODE_HOOK,t)},e.prototype.getBalance=function(){var t={};return this.sendNotification(f.ATNotifications.GET_BALANCE_HOOK,t),t},e.prototype.clickButton=function(t){var e={};return e.buttonId=t,this.sendNotification(f.ATNotifications.CLICK_BUTTON_HOOK,e),"placeMinBet"!==t&&"closeNoMoneyPopup"!==t||this.notEnoughMoney(t),e.hookResult},e.prototype.notEnoughMoney=function(t){this.sendNotification(f.ATNotifications.NOT_ENOUGH_MONEY_HOOK,t)},e.prototype.getButtonState=function(t){var e={};return e.buttonId=t,this.sendNotification(f.ATNotifications.GET_BUTTON_STATE_HOOK,e),e.hookResult},e.prototype.openPage=function(t){this.sendNotification(f.ATNotifications.OPEN_PAGE_COMMAND,t)},e.prototype.scrollPage=function(t){var e={};return e.id=t,e.hookResult=!1,this.sendNotification(f.ATNotifications.SCROLL_PAGE_COMMAND,e),e.hookResult},e.prototype.closePage=function(t){this.sendNotification(f.ATNotifications.CLOSE_PAGE_COMMAND,t)},e.prototype.rciChoice=function(t,e){this.sendNotification(f.ATNotifications.RCI_CHOICE_HOOK,{choice:t,time:e})},e.prototype.disconnect=function(){this.sendNotification(f.ATNotifications.DISCONNECT_HOOK)},e.prototype.getScreenshot=function(){var t=this;return new Promise((function(e){requestAnimationFrame((function(){t.updateScreenshotCanvas();var i=a.SceneManager.sceneTemplate.renderer[t.RENDERER_TYPE].canvas;if("pixi/three"===t.engine&&!t.isPreloader){t.updateScreenshotCanvas3D();var n=a.SceneManager.sceneTemplate.renderer3D.domElement;a.SceneManager.sceneTemplate.renderer3D.render(a.SceneManager.sceneTemplate.scene,a.SceneManager.sceneTemplate.camera),t.ssContext.drawImage(n,t.SS_CROP_3D.sX,t.SS_CROP_3D.sY,t.SS_CROP_3D.sWidth,t.SS_CROP_3D.sHeight,t.SS_CROP_3D.dX,t.SS_CROP_3D.dY,t.SS_CROP_3D.dWidth,t.SS_CROP_3D.dHeight)}t.ssContext.drawImage(i,t.SS_CROP.sX,t.SS_CROP.sY,t.SS_CROP.sWidth,t.SS_CROP.sHeight,t.SS_CROP.dX,t.SS_CROP.dY,t.SS_CROP.dWidth,t.SS_CROP.dHeight),t.isPreloader&&(t.isPreloader=!1),t.dataURLtoBlob(t.ssCanvas.toDataURL(t.SS_MIME_TYPE,t.SS_QUALITY)).then((function(i){e(i),t.ssContext.clearRect(0,0,t.ssCanvas.width,t.ssCanvas.height),i=null}))}))}))},e.prototype.testScreens=function(t){var e=document.querySelector("#test");e||((e=document.createElement("img")).setAttribute("id","test"),e.setAttribute("width",window.outerWidth/2+"px"),e.setAttribute("height","auto"),e.setAttribute("style","z-index:10000; position: absolute;"),e.setAttribute("position","absolute"),document.body.appendChild(e)),e.src=window.URL.createObjectURL(t)},e.prototype.dataURLtoBlob=function(t){return new Promise((function(e){requestAnimationFrame((function(){for(var i=atob(t.split(",")[1]),n=new ArrayBuffer(i.length),o=new Uint8Array(n),s=i.length,a=0;a<s;a++)o[a]=i.charCodeAt(a);e(new Blob([n],{type:"image/png"}))}))}))},e}(m.AutomatedTestAbstractCommand);e.AutomatedTestInitializeModuleCommand=S},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(140),a=i(14),r=i(12),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PAYTABLE_HOOK="paytable",e.HISTORY_HOOK="history",e.CLOSE_PAYTABLE="closePaytable",e.CLOSE_HISTORY="closeHistory",e.CLOSE_TIMEOUT=0,e}return o(e,t),e.prototype.execute=function(e){var i=this;t.prototype.execute.call(this,e),this.PAGE_EVENT_NAME=a.ATEventNames.PAGE_CLOSE,this.eventCallbacksMap[e.body]?setTimeout((function(){i.eventCallbacksMap[e.body].call(i,e.body)}),this.CLOSE_TIMEOUT):r.ATCallBack.onError(["Page: "+e.body+" does not exist"])},e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap||(this.eventCallbacksMap={},this.eventCallbacksMap[this.PAYTABLE_HOOK]=this.closePaytableHook.bind(this),this.eventCallbacksMap[this.HISTORY_HOOK]=this.closeHistoryHook.bind(this))},e.prototype.closePaytableHook=function(t){this.sendCallHookListener(this.CLOSE_PAYTABLE,this.PAYTABLE_HOOK),this.onClosePaytableHook(t),this.sendATCallBack(new a.ATPageClose(this.PAYTABLE_HOOK))},e.prototype.onClosePaytableHook=function(t){},e.prototype.closeHistoryHook=function(t){this.sendCallHookListener(this.CLOSE_HISTORY,this.HISTORY_HOOK),this.onCloseHistoryHook(t),this.sendATCallBack(new a.ATPageClose(this.HISTORY_HOOK))},e.prototype.onCloseHistoryHook=function(t){},e}(s.AutomatedTestHookAbstractPageCommand);e.AutomatedTestHookClosePageCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;"placeMinBet"===i?this.onPlaceMinBet():"closeNoMoneyPopup"===i&&this.onOkClicked()},e.prototype.onPlaceMinBet=function(){this.sendGlobalNotification(a.Notifications.Money.MIN_BET_PLACED),this.sendGlobalNotification(a.Notifications.Global.HIDE_DIALOG_WINDOW)},e.prototype.onOkClicked=function(){this.sendGlobalNotification(a.Notifications.Global.HIDE_DIALOG_WINDOW)},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookNotEnoughMoneyCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(12),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PAYTABLE_HOOK="paytable",e.SCROLL_PAYTABLE="scrollPaytable",e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.PAGE_EVENT_NAME=s.ATEventNames.PAGE_SCROLL,this.eventCallbacksMap[e.body.id]?this.eventCallbacksMap[e.body.id].call(this,e.body):a.ATCallBack.onError(["Page: "+e.body+" does not exist"])},e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap||(this.eventCallbacksMap={},this.eventCallbacksMap[this.PAYTABLE_HOOK]=this.scrollPaytableHook.bind(this))},e.prototype.scrollPaytableHook=function(t){this.sendCallHookListener(this.SCROLL_PAYTABLE,t)},e}(i(140).AutomatedTestHookAbstractPageCommand);e.AutomatedTestHookScrollPageCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(232),a=i(14),r=i(2),l=i(0),c=i(46),u=i(1),h=i(118),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.externalActions=[],e.allowedExternalActions=[],e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.processExternalGameActions(),this.registerExternalActionsAvailability()},e.prototype.initVars=function(){t.prototype.initVars.call(this),l.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveGlobalProxy(u.Names.Proxies.SOUND,u.Names.Modules.SOUND)),l.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(u.Names.Proxies.STATE_MACHINE,u.Names.Modules.GAME_SETUP)),l.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(u.Names.Proxies.VALIDATION,u.Names.Modules.LOADER))},e.prototype.processExternalGameActions=function(){var t=this,e=this.settings.getValue("EXTERNAL_GAME_ACTIONS");l.isNil(e)||(l.each(e,(function(e,i){e&&t.externalActions.push(s.ExternalActionsMap.map[i])})),this.initializePostMessageListener())},e.prototype.initializePostMessageListener=function(){window.addEventListener("message",this.receiveMessage.bind(this),!1)},e.prototype.receiveMessage=function(t){var e=t.data.toString();if(this.hasExternalAction(e))switch(e){case s.ExternalActions.MUTE:this.soundProxy.allMuted?this.notifyActionNotAllowed():this.mute();break;case s.ExternalActions.UNMUTE:this.soundProxy.allMuted?this.unmute():this.notifyActionNotAllowed()}},e.prototype.hasExternalAction=function(t){var e=!1;return this.externalActions.indexOf(t)>-1&&(e=!0),e},e.prototype.mute=function(){this.sendGlobalNotification(r.Notifications.Global.MUTE_ALL_SOUNDS,{toggle:!0}),this.sendGlobalNotification(r.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"toggleSounds",hookDetails:{buttonId:"menuSoundButton",state:h.ToggleButtonState.OFF}}),this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,new a.ATOnEventVO(s.ExternalActionsEvents.MUTE,null,0))},e.prototype.unmute=function(){this.sendGlobalNotification(r.Notifications.Global.MUTE_ALL_SOUNDS,{toggle:!1}),this.sendGlobalNotification(r.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"toggleSounds",hookDetails:{buttonId:"menuSoundButton",state:h.ToggleButtonState.ON}}),this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,new a.ATOnEventVO(s.ExternalActionsEvents.UNMUTE,null,0))},e.prototype.isActionAllowedInThisState=function(t){var e=!1,i=this.stateMachineProxy.state;return this.getAllowedExternalActionVoByName(t).availableStates.indexOf(i)>-1&&(e=!0),e},e.prototype.registerExternalActionsAvailability=function(){},e.prototype.getAllowedExternalActionVoByName=function(t){var e=null;return l.each(this.allowedExternalActions,(function(i){i.actionName===t&&(e=i)})),e},e.prototype.notifyActionNotAllowed=function(){this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,new a.ATOnEventVO(s.ExternalActionsEvents.ACTION_NOT_ALLOWED,null,0))},e}(c.AutomatedTestAbstractCommand);e.ManageExternalActionsCommand=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.STOP_AUTO_PLAY="stop_auto_play",t.SHOW_PAY_TABLE="show_pay_table",t.HIDE_PAY_TABLE="hide_pay_table",t.MUTE="mute",t.UNMUTE="unmute",t}();e.ExternalActions=n;var o=function(){function t(){}return t.map={stopAutoPlay:n.STOP_AUTO_PLAY,showPayTable:n.SHOW_PAY_TABLE,hidePayTable:n.HIDE_PAY_TABLE,mute:n.MUTE,unmute:n.UNMUTE},t}();e.ExternalActionsMap=o;var s=function(){function t(){}return t.PAY_TABLE="paytable",t.SETTINGS="settings",t}();e.ExternalActionsPages=s;var a=function(){function t(){}return t.MUTE="MUTE",t.UNMUTE="UNMUTE",t.PAGE_OPEN="PAGE_OPEN",t.PAGE_CLOSED="PAGE_CLOSE",t.ACTION_NOT_ALLOWED="ACTION_NOT_ALLOWED",t}();e.ExternalActionsEvents=a;var r=function(t,e){this.actionName=t,this.availableStates=e};e.AllowedExternalActionsVO=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(521),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(r.Names.Proxies.BONUS_SYSTEM,a.BonusSystemProxy)},e}(s.AbstractModule);e.BonusSystem=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(5),r=i(522),l=i(235),c=i(2),u=i(1),h=i(523),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(c.Notifications.Global.INITIALIZE_MODULE,l.InitializeCertificationModuleCommand),this.addCommand(a.States.END_GAME,r.CheckBonusBalanceCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(u.Names.Proxies.GMAPI_CUSTOM_MESSAGES,h.GmapiCustomMessagesProxy)},e}(s.AbstractModule);e.Certification=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(6),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(r.Names.Proxies.SERVER_RESPONSE,r.Names.Modules.CONNECTION)),this.addBonusBalanceHook()},e.prototype.addBonusBalanceHook=function(){this.serverResponseProxy.addDataHandlerWithPriority("bonusBalance",this.receivedBonusBalance.bind(this))},e.prototype.receivedBonusBalance=function(){var t=this.connectionProxy.getServerData("bonusBalance"),e=parseFloat(t.value);s.isNaN(e)?l.Log.error("Value for bonusBalance is not a number!"):this.sendGlobalNotification(c.Notifications.Strip.UPDATE_BONUS_BALANCE,{value:e})},e}(a.Controller);e.InitializeCertificationModuleCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(524),r=i(527),l=i(528),c=i(529),u=i(530),h=i(2),p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(h.Notifications.Global.CONNECT_TO_SERVER,a.ConnectCommand),this.addCommand(h.Notifications.Connection.INITIALIZE_PROGRESSIVE_CONNECTION,r.ConnectProgressiveCommand),this.addCommand(h.Notifications.Connection.SERVER_ACTION,u.ServerActionCommand),this.addCommand(h.Notifications.Global.TERMINATE_GAME,l.TerminateConnectionCommand),this.addCommand(h.Notifications.Global.UNLOADING_GAME,c.UnloadingGameCommand)},e}(s.AbstractModule);e.Connection=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(525),s=i(6),a=i(87),r=i(134),l=i(238),c=i(30),u=i(120),h=function(){function t(t){var e=this;this.uid="",this._active=!0,this.dataFormat="json",this.loginWithHandshakeResponse=function(t){var i,o,a=t.target;if(a.removeEventListener("load",e.loginWithHandshakeResponse),a.removeEventListener("error",e.connectionError),a&&200==a.status&&4==a.readyState){if(i=e.checkResponse(a.responseText),!n.isNil(i)){o=i.rootdata,e.uid=o.uid;var c=e.encryptionUtil.getBKeyAndSetSecretFromA(parseInt(o.myval),parseInt(o.base),parseInt(o.mod)),u=new XMLHttpRequest;u.addEventListener("load",e.onFinalizeHandshake),u.addEventListener("error",e.connectionError),u.open("POST",e.connectionVO.host,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=new l.URLBuilder;h.addParameter("uid",e.uid),h.addParameter("handshake","2"),h.addParameter("myval",c.toString()),h.addParameter("fmt",e.dataFormat),e.connectionVO.isMainConnection||h.addParameter("prog","1"),s.Log.logch("CONNECTION HTTPS","-------------<SENT HANDSHAKE TO SERVER>-------------"),s.Log.logch("CONNECTION HTTPS",e.connectionVO.host),s.Log.logch("CONNECTION HTTPS",h.debug),s.Log.logch("CONNECTION HTTPS","------------- </SENT HANDSHAKE TO SERVER> -------------");try{u.send(h.createURL())}catch(t){s.Log.errorch("CONNECTION HTTPS","Error sending command: "+t.message)}}}else s.Log.logch("CONNECTION HTTPS","ERROR - "+t.target),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR)},this.onFinalizeHandshake=function(t){var i,o,a=t.target;a.removeEventListener("load",e.onFinalizeHandshake),a.removeEventListener("error",e.connectionError),a&&200==a.status&&4==a.readyState?(i=e.checkResponse(a.responseText),n.isNil(i)||("ok"==(o=i.rootdata).handshake&&e.login(),s.Log.logch("CONNECTION HTTPS","----------------<CONNECTION HANDSHAKE RESPONDED>----------------"),s.Log.logch("CONNECTION HTTPS","data = "+JSON.stringify(o,null,2)),s.Log.logch("CONNECTION HTTPS","----------------</CONNECTION HANDSHAKE RESPONDED>----------------"))):(s.Log.logch("CONNECTION HTTPS","ERROR - "+t.target),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR))},this.loginResponse=function(t){var i,o,l,c=t.target;c.removeEventListener("load",e.loginResponse),c.removeEventListener("error",e.connectionError),c&&200==c.status&&4==c.readyState?(i=e.ENCRYPTED_COMMUNICATION?e.checkResponse(e.encryptionUtil.decryptAES(c.responseText)):e.checkResponse(c.responseText),n.isNil(i)||(o=i.rootdata,e.uid=o.uid,e.connectionVO.isMainConnection&&(a.Settings.instance.setCookie(u.ConnectionProxy.SESSION_KEY,e.uid),s.Log.infoch("SESSION","Session saved as "+e.uid)),n.isNil(o.data)?n.isNil(o.error)||e.throwCustomError(o.error):(l=o.data,s.Log.logch("CONNECTION HTTPS","----------------<CONNECTION COMPLETED>----------------"),s.Log.logch("CONNECTION HTTPS","uid = "+e.uid),s.Log.logch("CONNECTION HTTPS","data = "+JSON.stringify(l,null,2)),s.Log.logch("CONNECTION HTTPS","----------------</CONNECTION COMPLETED>----------------"),e._active&&(e.connectionVO.isMainConnection||(l.progId=e.connectionVO.progId),e.serverResponseCallback(l))))):(s.Log.logch("CONNECTION HTTPS","ERROR - "+t.target),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR))},this.response=function(t){var i,o,a,l=t.target;l.removeEventListener("load",e.response),l.removeEventListener("error",e.connectionError),l&&200==l.status&&4==l.readyState?(i=e.ENCRYPTED_COMMUNICATION?e.checkResponse(e.encryptionUtil.decryptAES(l.responseText)):e.checkResponse(l.responseText),n.isNil(i)||(a=(o=i.rootdata).data,n.isNil(a)?n.isNil(o.error)?(s.Log.logch("CONNECTION HTTPS","ERROR - invalid server response received!"),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR)):(s.Log.logch("CONNECTION HTTPS","ERROR - "+o.error),e.throwCustomError(o.error)):(s.Log.logch("CONNECTION HTTPS","----------------<SERVER RESPONSE>---------------"),s.Log.logch("CONNECTION HTTPS","uid = "+e.uid),s.Log.logch("CONNECTION HTTPS","data = "+JSON.stringify(a,null,2)),s.Log.logch("CONNECTION HTTPS","----------------</SERVER RESPONSE>---------------"),e.connectionVO.isMainConnection||(a.progId=e.connectionVO.progId),n.isNil(a.logout&&1==a.logout)||(e._active=!1),e.serverResponseCallback(a)))):(s.Log.logch("CONNECTION HTTPS","ERROR - "+t.target),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR))},this.connectionError=function(t){s.Log.logch("CONNECTION HTTPS","ERROR - "+t.target);var i=t.target.status;i==XMLHttpRequest.UNSENT?e.throwCustomError(r.Errors.NO_CONNECTIVITY):(s.Log.logch("CONNECTION HTTPS","ERROR - This needs to be investigated, there was a connection error for a request that got status: "+i),e.throwCustomError(r.Errors.GENERAL_NETWORKING_ERROR))},this.connectionVO=t,a.Settings.instance.getValue("ENCRYPT_COMMUNICATION")?(this.ENCRYPTED_COMMUNICATION=!0,this.encryptionUtil=new o.EncryptionUtil):this.ENCRYPTED_COMMUNICATION=!1,n.isNil(a.Settings.instance.getValue("PLAY_ISB_DATA_FORMAT"))||(this.dataFormat=a.Settings.instance.getValue("PLAY_ISB_DATA_FORMAT"))}return Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active=t},enumerable:!0,configurable:!0}),t.prototype.login=function(){var t,e=new XMLHttpRequest,i="";if(e.addEventListener("load",this.loginResponse),e.addEventListener("error",this.connectionError),e.open("POST",this.connectionVO.host,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i=this.connectionVO.loginParam.join("\r\n"),i+="\r\n",t=new l.URLBuilder,this.ENCRYPTED_COMMUNICATION){var n=this.encryptionUtil.encryptAES(i);t.addParameter("uid",this.uid),t.addParameter("cmd",n.command),t.addParameter("dim",n.length),t.addParameter("encr","1"),t.addParameter("handshake","3")}else t.addParameter("uid","undefined"),t.addParameter("cmd",i);t.addParameter("fmt",this.dataFormat),this.connectionVO.isMainConnection||t.addParameter("prog","1"),s.Log.logch("CONNECTION HTTPS","-------------<CONNECTION LOGIN>-------------"),s.Log.logch("CONNECTION HTTPS",this.connectionVO.host),s.Log.logch("CONNECTION HTTPS",t.debug),s.Log.logch("CONNECTION HTTPS","-------------</CONNECTION LOGIN>-------------");try{e.send(t.createURL())}catch(t){s.Log.errorch("CONNECTION HTTPS","Error sending command: "+t.message)}},t.prototype.loginWithHandshake=function(){var t,e=new XMLHttpRequest;e.addEventListener("load",this.loginWithHandshakeResponse),e.addEventListener("error",this.connectionError),e.open("POST",this.connectionVO.host,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),(t=new l.URLBuilder).addParameter("handshake","1"),t.addParameter("uid","undefined"),t.addParameter("fmt",this.dataFormat),this.connectionVO.isMainConnection||t.addParameter("prog","1"),s.Log.logch("CONNECTION HTTPS","-------------<CONNECTION LOGIN WITH HANDSHAKE>-------------"),s.Log.logch("CONNECTION HTTPS",this.connectionVO.host),s.Log.logch("CONNECTION HTTPS",t.debug),s.Log.logch("CONNECTION HTTPS","-------------</CONNECTION LOGIN WITH HANDSHAKE>-------------");try{e.send(t.createURL())}catch(t){s.Log.errorch("CONNECTION HTTPS","Error sending command: "+t.message)}},t.prototype.send=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),""!=this.uid&&this._active){i&&(this._active=!1);var o=new XMLHttpRequest;o.addEventListener("load",this.response),o.addEventListener("error",this.connectionError),o.open("POST",this.connectionVO.host,e),o.setRequestHeader("Content-type","application/x-www-form-urlencoded");var a=t.join("\r\n");a+="\r\n";var r=new l.URLBuilder;if(r.addParameter("uid",this.uid),this.ENCRYPTED_COMMUNICATION){var u=this.encryptionUtil.encryptAES(a);r.addParameter("cmd",u.command),r.addParameter("dim",u.length),r.addParameter("encr","1")}else r.addParameter("cmd",a);r.addParameter("fmt",this.dataFormat),this.connectionVO.isMainConnection||r.addParameter("prog","1"),s.Log.logch("CONNECTION HTTPS","-------------<SENT TO SERVER>-------------"),s.Log.logch("CONNECTION HTTPS",this.connectionVO.host),s.Log.logch("CONNECTION HTTPS",r.debug),s.Log.logch("CONNECTION HTTPS","------------- </SENT TO SERVER> -------------");try{if(i||o.send(r.createURL()),i)if(navigator&&navigator.sendBeacon&&c.WindowUtil.isChromiumBrowser()){s.Log.infoch("SESSION","This is a Chromium browser, sending beacon for "+this.uid);var h="";n.each(r.parameters,(function(t){"cmd"==t.name?h+=t.name+"="+encodeURI(t.value)+"&":h+=t.name+"="+t.value+"&"})),h=h.substr(0,h.length-1);var p=new Blob([h],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(this.connectionVO.host,p),s.Log.infoch("SESSION","Beacon sent")}else o.send(r.createURL())}catch(t){s.Log.errorch("CONNECTION HTTPS","Error sending command: "+t.message)}}},t.prototype.throwCustomError=function(t){var e={error:t};this.serverResponseCallback(e),this._active=!1},t.prototype.checkResponse=function(t){var e;if(""!=t)try{e=JSON.parse(t)}catch(t){this.throwCustomError(r.Errors.PARSING_ERROR)}else e=JSON.parse("{}");return e},t.prototype.logout=function(t){var e=this;return new Promise((function(i,n){var o=new XMLHttpRequest;o.addEventListener("load",(function(){i()})),o.addEventListener("error",(function(){i()})),o.open("POST",e.connectionVO.host,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded");var a=new l.URLBuilder;a.addParameter("uid",t),a.addParameter("cmd","1\r\n"),a.addParameter("fmt",e.dataFormat),s.Log.logch("CONNECTION HTTPS","-------------<SENT TO SERVER>-------------"),s.Log.logch("CONNECTION HTTPS",e.connectionVO.host),s.Log.logch("CONNECTION HTTPS",a.debug),s.Log.logch("CONNECTION HTTPS","------------- </SENT TO SERVER> -------------");try{s.Log.infoch("SESSION","Sending logout for "+t),o.send(a.createURL()),s.Log.infoch("SESSION","Logout sent")}catch(t){s.Log.errorch("CONNECTION HTTPS","Error sending command: "+t.message)}}))},t}();e.ConnectionHTTPS=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.debug="\n",this.parameters=new Array}return t.prototype.addParameter=function(t,e){this.parameters.push({name:t,value:e}),this.debug+=t+" = "+e+"\n"},t.prototype.createURL=function(){for(var t=new Array,e=0;e<this.parameters.length;e++)t.push(this.parameters[e].name+"="+encodeURIComponent(this.parameters[e].value));return t.join("&")},t}();e.URLBuilder=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.host="",this.isMainConnection=!0,this.progId="",this.loginParam=[]};e.ConnectionVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this.skinID=881600,this.useMasterLayout=!1,this.fullPixi3D=!1,this.skinIDRange=[],this.usesUIv3=!1,this.useHighPrecisionFragment=!1,this._settings={}}return t.prototype.addProperty=function(t,e,i,o){void 0===o&&(o=!0),n.isNil(this._settings[t])&&(this._settings[t]={}),o||n.isNil(this._settings[t][e])?this._settings[t][e]=i:this._settings[t][e]=n.extend(this._settings[t][e],i)},t.prototype.getProperty=function(t,e){var i;return n.isNil(this._settings[t])||n.isNil(this._settings[t][e])||(i=this._settings[t][e]),i},t.prototype.getProperties=function(t){return this._settings[t]},t.prototype.hasProperties=function(t){var e=!1;return this._settings.hasOwnProperty(t)&&(e=!0),e},t.prototype.overwrideFromSettings=function(t,e){var i=this;n.each(e,(function(o){if(e.hasOwnProperty("id")){var s=i.getProperty(t,e.id);n.each(s,(function(t,i){e.hasOwnProperty(i)&&(s[i]=e[i])})),i.addProperty(t,e.hasOwnProperty("id"),s)}}))},t}();e.GameConfigVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(532),r=i(533),l=i(534),c=i(535),u=i(536),h=i(537),p=i(538),d=i(2),_=i(539),f=i(541),y=i(1),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(d.Notifications.Global.LOAD_GROUP,a.LoadGroupCommand),this.addCommand(d.Notifications.Global.STORE_OPTIONAL_GROUP,h.StoreOptionalGroupCommand),this.addCommand(d.Notifications.Global.LOAD_OPTIONAL_GROUP,r.LoadOptionalGroupCommand),this.addCommand(d.Notifications.Global.XML_ASSETS_FILE_DOWNLOADED,u.ParseXMLAssetsCommand),this.addCommand(d.Notifications.Global.MODULE_ASSETS_FILE_DOWNLOADED,l.ModuleAssetsLoadedCommand),this.addCommand(d.Notifications.Global.TERMINATE_GAME,p.TerminateLoadingCommand),this.addCommand(d.Notifications.Sound.OPTIONAL_SOUNDS_LOADED,c.OptionalSoundsLoadedCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(y.Names.Proxies.LOAD,_.LoadProxy),this.addProxy(y.Names.Proxies.VALIDATION,f.ValidationProxy)},e}(s.AbstractModule);e.Loader=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e}(i(22).AbstractModule);e.Money=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(542),r=i(543),l=i(544),c=i(545),u=i(546),h=i(246),p=i(2),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(p.Notifications.Global.INITIALIZE_MODULE,a.InitializePreloaderCommand),this.addCommand(p.Notifications.Global.CHECK_API_RESTRICTIONS,r.CheckApiRestrictionsCommand)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("PreloaderView",[h.PreloaderViewPixi,h.PreloaderViewPixi,h.PreloaderViewPixi]),this.addView("DialogWindowView",[u.DialogWindowViewPixi,u.DialogWindowViewPixi,u.DialogWindowViewPixi])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(c.PreloaderMediator,"PreloaderView"),this.addMediator(l.DialogWindowMediator,"DialogWindowView")},e}(s.AbstractModule);e.Preloader=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DIALOG_WINDOW_VISIBILITY_CHANGED="preloader_dialog_window_visibility_changed",t.SELECTED_TIMER_VALUE_CHANGED="preloader_dialog_window_selected_timer_value_changed",t}();e.DialogWindowActionNames=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.PRELOADER_REMOVED="PreloaderActionNames.PRELOADER_REMOVED",t}();e.PreloaderActionNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(16),l=i(18),c=i(40),u=i(30),h=i(245),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.percentCurrentTotal=.01,e.percentDisplay=.01,e.percentCurrentTotalSteps=[.8,.1,.1],e.percentCurrentTotalFinalSteps=[0,.8,.9],e.hasFadeIn=!1,e.fadeInDuration=0,e}return o(e,t),e.prototype.removePreloader=function(t){var e;s.has(t,"callback")&&(e=t.callback),s.isNil(e)||e.call(null),this.onCompleteAnimation()},e.prototype.showProgress=function(t){if(!this.progressBarComplete){t.total-t.left<0&&(t.left=t.total);var e=(t.total-t.left)/t.total;this.percentCurrentTotal=s.round(e*this.percentCurrentTotalSteps[this.loadingStep]+this.percentCurrentTotalFinalSteps[this.loadingStep],2),this.percentCurrentTotal>.99&&(this.progressBarComplete=!0),this.drawBar()}},e.prototype.updateStep=function(){this.loadingStep++},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.alignPreloaderUIElements()},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.addTransitionDetails(),this.ticker=PIXI.ticker.shared,$("#preloaderBackground").remove(),this.logo=new c.ControllerImage("logo",this.findMultipleChild("logo")),this.settings.getValue("HAS_ISB_LOGO").hasImage||(this.logo.visible=!1),this.loadingStep=0,this.loadingTotalStep=3,this.strip=new c.ControllerImage("stripBar",this.findMultipleChild("stripBar")),this.barEmpty=new c.ControllerImage("barEmpty",this.findMultipleChild("loadBarEmpty")),this.barFull=new c.ControllerImage("barFull",this.findMultipleChild("loadBarFull")),this.barAll=new l.ControllerContainer("preloaderAll",this.findMultipleChild("preloaderAll")),this.tickbound=this.tick.bind(this),this.ticker.add(this.tickbound),this.deviceScreenResized(),this.display.interactive=!0},e.prototype.addTransitionDetails=function(){},e.prototype.tick=function(){this.percentDisplay<this.percentCurrentTotal&&(this.percentDisplay+=.01)},e.prototype.alignPreloaderUIElements=function(){this.barEmpty.width=this.strip.width=Math.ceil(a.SceneManager.getScreenWidth)+2*u.WindowUtil.ROUND_COMPENSATION,this.barFull.x=this.strip.x=this.barEmpty.x=-a.SceneManager.getHMargin-u.WindowUtil.ROUND_COMPENSATION,this.barAll.y=a.SceneManager.SCENE_HEIGHT-this.barAll.height+u.WindowUtil.ROUND_COMPENSATION,this.drawBar()},e.prototype.drawBar=function(){this.barFull.visible=this.percentDisplay>0,this.barFull.width=a.SceneManager.getScreenWidth*this.percentDisplay},e.prototype.onCompleteAnimation=function(){var t=this;this.ticker.remove(this.tickbound),this.dispatchSignal(h.PreloaderActionNames.PRELOADER_REMOVED),this.display.interactive=!1,window.requestAnimationFrame((function(){t.hasFadeIn?TweenLite.to(t.display,t.fadeInDuration,{alpha:0,onComplete:t.emptyDisplay.bind(t)}):t.emptyDisplay()}))},e.prototype.emptyDisplay=function(){this.display.removeChildren(),this.display.visible=!1},e}(r.PixiView);e.PreloaderViewPixi=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(550),r=i(551),l=i(552),c=i(553),u=i(554),h=i(555),p=i(556),d=i(557),_=i(558),f=i(2),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(f.Notifications.Global.PLAY_SOUND,u.PlaySoundCommand),this.addCommand(f.Notifications.Global.STOP_SOUND,d.StopSoundCommand),this.addCommand(f.Notifications.Global.MUTE_ALL_SOUNDS,r.MuteAllSoundsCommand),this.addCommand(f.Notifications.Global.SET_SOUND_VOLUME,p.SetSoundVolumeCommand),this.addCommand(f.Notifications.Global.PAUSE_SOUND,c.PauseSoundCommand),this.addCommand(f.Notifications.Global.RESUME_SOUND,h.ResumeSoundCommand),this.addCommand(f.Notifications.Global.MUTE_SOUND,l.MuteSoundCommand),this.addCommand(f.Notifications.Global.UNMUTE_SOUND,_.UnmuteSoundCommand),this.addCommand(f.Notifications.Global.GET_SOUND_STATE,a.GetSoundStateCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this)},e}(s.AbstractModule);e.SoundEffects=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(2),r=i(5),l=i(249),c=i(250),u=i(251),h=i(252),p=i(253),d=i(254),_=i(255),f=i(256),y=i(257),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(a.Notifications.Global.INITIALIZE_MODULE,l.LoggerInitializeModuleCommand),this.addCommand(a.Notifications.Global.REMOVE_PRELOADER,c.LoggerSendLoadingTimeCommand),this.addCommand(r.States.ERROR,u.LoggerErrorCommand),this.addCommand(r.States.END_GAME,h.LoggerCompleteRegisterResponseTimeCommand),this.addCommand(a.Notifications.Global.DATA_SENT_TO_SERVER,p.LoggerDataSentCommand),this.addCommand(a.Notifications.Global.DATA_RECEIVED_FROM_SERVER,d.LoggerDataReceivedCommand),this.addCommand(a.Notifications.Global.UNLOADING_GAME,_.LoggerUnloadingGameCommand),this.addCommand(a.Notifications.Global.TURBO_MODE_STATE_CHANGED,f.LoggerTurboModeStateChangedCommand),this.addCommand(a.Notifications.Global.SOUND_STATE_CHANGED,y.LoggerSoundStateChangedCommand)},e}(s.AbstractModule);e.Logger=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(r.Names.Proxies.STATE_MACHINE,r.Names.Modules.GAME_SETUP))},e}(s.Controller);e.LoggerInitializeModuleCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=i(4),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e.prototype.getPlatform=function(){var t;switch(l.Device.CLASS_INDEX){case l.Device.CLASS_INDEX_DESKTOP:t="desktop";break;case l.Device.CLASS_INDEX_MOBILE:t="mobile";break;case l.Device.CLASS_INDEX_MINIGAME:t="minigame";break;default:t="no registered platform"}return t},e}(s.Controller);e.LoggerSendLoadingTimeCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e}(s.Controller);e.LoggerErrorCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){},e}(i(3).Controller);e.LoggerCompleteRegisterResponseTimeCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){},e}(i(3).Controller);e.LoggerDataSentCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e}(s.Controller);e.LoggerDataReceivedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){},e}(i(3).Controller);e.LoggerUnloadingGameCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e}(s.Controller);e.LoggerTurboModeStateChangedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){},e}(i(3).Controller);e.LoggerSoundStateChangedCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(20),r=i(579),l=i(240),c=PIXI.Point,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.payoutsFixed=!1,e.linesCnt=20,e.rowsCnt=0,e.columnsCnt=0,e.wheelsCnt=0,e.hasWays=!1,e.hasFreeSpins=!1,e.hasBonuses=!1,e.hasProgressive=!1,e.hasIntroButtonAnimation=!0,e.introTransitionSettings={hasFadeIn:!1,fadeInDuration:.5,hasFadeOut:!1,fadeOutDuration:.5},e.alwaysMaxLines=!1,e.alwaysMaxBetPerLines=!1,e.hasBetPerSpin=!1,e.allWinValuesInCurrency=!1,e.sendCoinCommand=!0,e.sendLineCommand=!0,e.hideFSSpinButton=!1,e.infoBoxBackground={},e.msNumberOfSymbols=-1,e}return o(e,t),Object.defineProperty(e.prototype,"symbolsPositions",{get:function(){var t=this;if(!this._symbolsPositions){this._symbolsPositions=[];var e,i,n,o,r=this.getProperties("WHEEL_COLUMNS_DETAILS");this._symbolsPositions.length=this.rowsCnt*this.columnsCnt,s.each(s.range(this.columnsCnt),(function(l){var u,h=l+1;e=a.StringUtil.stringToRectangle(r[h].columnBounds),n=r[h].hasOwnProperty("topPadding")?r[h].topPadding:0,o=r[h].hasOwnProperty("bottomPadding")?r[h].bottomPadding:0,u=s.isNil(r[h].numberOfSymbols)?t.rowsCnt:r[h].numberOfSymbols;var p=(e.height-(u-1)*r[h].symbolRowSpacing-(n+o))/u;s.each(s.range(t.rowsCnt),(function(o){(i=new c).x=e.x+e.width/2,i.y=n+e.y+o*(p+r[h].symbolRowSpacing)+p/2,t._symbolsPositions[o*t.columnsCnt+l]=i}))}))}return this._symbolsPositions},enumerable:!0,configurable:!0}),e.prototype.setTotalGameWinningsCount=function(t){var e=this;this.gameWinnings=[],s.each(s.range(t),(function(t){e.gameWinnings.push(new r.GameWinningVO(t,t))}))},e}(l.GameConfigVO);e.SlotGameConfigVO=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(6),a=i(71),r=function(t){function e(){var e=t.call(this)||this;return e._useCyclingValues=0,e._useStrictValidation=!0,e}return o(e,t),e.prototype.useCyclingValues=function(t){this._useCyclingValues=t},e.prototype.useStrictValidation=function(t){this._useStrictValidation=t},e.prototype.isInitialized=function(){return this._currentCoinId!=e.NOT_SET&&this._currentLineId!=e.NOT_SET&&this._currentCoinValueId!=e.NOT_SET},e.prototype.addCoin=function(t){t>0?this._availableCoins.push(t):s.Log.errorch("Money","::addCoin -> Please add a positive int as coin")},e.prototype.getCurrentCoinId=function(){return this._currentCoinId},e.prototype.getCurrentCoin=function(){return this._availableCoins[this._currentCoinId]},e.prototype.getNextCoin=function(){return this._availableCoins[this.getNextIdFrom(this._currentCoinId,this._availableCoins,e.COINS_MASK)]},e.prototype.getPreviousCoin=function(){return this._availableCoins[this.getPreviousIdFrom(this._currentCoinId,this._availableCoins,e.COINS_MASK)]},e.prototype.getMaxCoin=function(){return this._availableCoins[this._availableCoins.length-1]},e.prototype.addCoinValue=function(t){t>0?this._availableCoinValues.push(t):s.Log.errorch("Money","::addCoinValue -> Please add a positive int as coinValue")},e.prototype.addSocialCoinValue=function(t){var e=this._availableCoinValues.length-1;if(this.addCoinValue(t),t<this._availableCoinValues[e]){var i=new Array;i=this.convertToArray(this._availableCoinValues).sort(),this._availableCoinValues=i}},e.prototype.updateSocialCoinValue=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this.validateUpdateCoinValue(t,e,i)},e.prototype.convertToArray=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e},e.prototype.getCurrentCoinValueId=function(){return this._currentCoinValueId},e.prototype.getCurrentCoinValue=function(){return this._currentCoinValueId>-1?this._availableCoinValues[this._currentCoinValueId]:this._availableCoinValues[0]},e.prototype.getNextCoinValue=function(){return this._availableCoinValues[this.getNextIdFrom(this._currentCoinValueId,this._availableCoinValues,e.COIN_VALUE_MASK)]},e.prototype.getPreviousCoinValue=function(){return this._availableCoinValues[this.getPreviousIdFrom(this._currentCoinValueId,this._availableCoinValues,e.COIN_VALUE_MASK)]},e.prototype.getMaxCoinValue=function(){return this._availableCoinValues[this._availableCoinValues.length-1]},e.prototype.isMinimumCoinValue=function(){return 0==this._currentCoinValueId},e.prototype.isMaximumCoinValue=function(){return this._currentCoinValueId==this._availableCoinValues.length-1},e.prototype.isMinimumCoin=function(){return 0==this._currentCoinId},e.prototype.isMaximumCoin=function(){return this._currentCoinId==this._availableCoins.length-1},e.prototype.isMinimumLine=function(){return 0==this._currentLineId},e.prototype.isMaximumLine=function(){return this._currentLineId==this._availablePlayLines.length-1},e.prototype.addPlayLine=function(t){t>0?this._availablePlayLines.push(t):s.Log.errorch("Money","::addPlayLine -> Please add a positive int as playLine")},e.prototype.getCurrentLineId=function(){return this._currentLineId},e.prototype.getCurrentLine=function(){return this._availablePlayLines[this._currentLineId]},e.prototype.getNextLine=function(){return this._availablePlayLines[this.getNextIdFrom(this._currentLineId,this._availablePlayLines,e.LINES_MASK)]},e.prototype.getPreviousLine=function(){return this._availablePlayLines[this.getPreviousIdFrom(this._currentLineId,this._availablePlayLines,e.LINES_MASK)]},e.prototype.getMaxLine=function(){return this._availablePlayLines[this._availablePlayLines.length-1]},e.prototype.initVars=function(){t.prototype.initVars.call(this),this._availableCoins=new Array,this._availableCoinValues=new Array,this._availablePlayLines=new Array,this._currentCoinId=e.NOT_SET,this._currentCoinValueId=e.NOT_SET,this._currentLineId=e.NOT_SET},e.prototype.updateWithServerCoinValues=function(t){this._availableCoinValues.splice(0,this._availableCoinValues.length);for(var e=0;e<t.length;e++)this._availableCoinValues.push(t[e])},e.prototype.getCoinValuesList=function(){return this._availableCoinValues.concat()},e.prototype.getCoinsList=function(){return this._availableCoins.concat()},e.prototype.validateUpdateCoinValue=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.validateUpdateCoinValueId(this.searchFor(t,this._availableCoinValues),e,i)},e.prototype.validateUpdateCoinValueId=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var n=this.testIdsLimit(this._currentCoinValueId,t);return n.success?this.validateTotal(t,this._currentCoinId,this._currentLineId,e,i):n},e.prototype.validateUpdateCoins=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.validateUpdateCoinsId(this.searchFor(t,this._availableCoins),e,i)},e.prototype.validateCoins=function(t){return this.searchFor(t,this._availableCoins)>=0},e.prototype.validateCoinValue=function(t){return this.searchFor(t,this._availableCoinValues)>=0},e.prototype.validateBetId=function(t,e,i,n,o){return void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=!1),this.validateTotal(e,t,this._currentLineId,i,n,o)},e.prototype.validateUpdateCoinsId=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var n=this.testIdsLimit(this._currentCoinId,t);return n.success?this.validateTotal(this._currentCoinValueId,t,this._currentLineId,e,i):n},e.prototype.validateUpdateLineId=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var n=this.testIdsLimit(this._currentLineId,t);return n.success?this.validateTotal(this._currentCoinValueId,this._currentCoinId,t,e,i):n},e.prototype.validateUpdateLine=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.validateUpdateLineId(this.searchFor(t,this._availablePlayLines),e,i)},e.prototype.validateMaxBet=function(t,e){return void 0===e&&(e=!0),this.validateTotal(this._currentCoinValueId,this._availableCoins.length-1,this._availablePlayLines.length-1,t,e)},e.prototype.validateMinBet=function(t,e){return void 0===e&&(e=!0),this.validateTotal(0,0,0,t,e)},e.prototype.validateStartGame=function(){return this.validateTotal(this._currentCoinValueId,this._currentCoinId,this._currentLineId,!1,!0,!0)},e.prototype.getTotalBets=function(){return this.isInitialized()?this.getCurrentCoinValue()*this.getCurrentCoin()*this.getCurrentLine():0},e.prototype.validateTotal=function(t,e,i,n,o,s){void 0===s&&(s=!1);var r,l=this.getResult();return l.success=!0,0==this._balance?(l.addStatus(a.MoneyStatus.NO_MONEY_WARNING),l.success=!1):this._balance<0?(l.addStatus(a.MoneyStatus.NEGATIVE_BALANCE_VALUE),l.success=!1):this.validateCoinValueId(t,l)&&this.validateCoinId(e,l)&&this.validateLineId(i,l)?(r=this._availableCoinValues[t]*this._availableCoins[e]*this._availablePlayLines[i],o&&(this._useStrictValidation||s)&&(r>this.getBalance()?(l.addStatus(a.MoneyStatus.NOT_ENOUGH_MONEY),l.success=!1):e==this._availableCoins.length-1&&this._availablePlayLines.length)):l.success=!1,!n||!l.success&&o||this.updateValues(t,e,i),l},e.prototype.validateFixedBet=function(t,e,i,n){void 0===n&&(n=!1);var o,s=this.getResult();return s.success=!0,0==this._balance?(s.addStatus(a.MoneyStatus.NO_MONEY_WARNING),s.success=!1):this._balance<0?(s.addStatus(a.MoneyStatus.NEGATIVE_BALANCE_VALUE),s.success=!1):(o=t,i?(this._useStrictValidation||n)&&o>this.getBalance()&&(s.addStatus(a.MoneyStatus.NOT_ENOUGH_MONEY),s.success=!1):s.success=!1),s},e.prototype.updateValues=function(t,e,i){this._currentCoinValueId=t,this._currentCoinId=e,this._currentLineId=i},e.prototype.validateCoinValueId=function(t,i){return t>=0&&t<this._availableCoinValues.length||(t==e.NOT_FOUND&&i.addStatus(a.MoneyStatus.COIN_VALUE_INDEX_OUT_OF_RANGE),t==e.NOT_SET&&i.addStatus(a.MoneyStatus.NO_COIN_VALUE_SELECTED),!1)},e.prototype.validateCoinId=function(t,i){return t>=0&&t<this._availableCoins.length||(t==e.NOT_FOUND&&i.addStatus(a.MoneyStatus.COIN_INDEX_OUT_OF_RANGE),t==e.NOT_SET&&i.addStatus(a.MoneyStatus.NO_COINS_SELECTED),!1)},e.prototype.validateLineId=function(t,i){return t>=0&&t<this._availablePlayLines.length||(t==e.NOT_FOUND&&i.addStatus(a.MoneyStatus.LINE_INDEX_OUT_OF_RANGE),t==e.NOT_SET&&i.addStatus(a.MoneyStatus.NO_LINES_SELECTED),!1)},e.prototype.searchFor=function(t,i){for(var n=0;n<i.length;n++)if(t==i[n])return n;return e.NOT_FOUND},e.prototype.getPreviousIdFrom=function(t,e,i){var n=t-1;return n<0&&(n=this._useCyclingValues&i?e.length-1:0),n},e.prototype.getNextIdFrom=function(t,e,i){var n=t+1;return n>=e.length&&(n=this._useCyclingValues&i?0:e.length-1),n},e.prototype.testIdsLimit=function(t,e){var i=this.getResult();return t===e&&this._balance&&(i.success=!1),i},e.COINS_MASK=1,e.COIN_VALUE_MASK=2,e.LINES_MASK=4,e.NOT_FOUND=-1,e.NOT_SET=-2,e}(i(585).MoneyStrategy);e.CoinsMoneyStrategy=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(71),o=function(){function t(t,e,i,n,o){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=!1),void 0===o&&(o=null),this._success=t,this._oldValue=e,this._newValue=i,this.updateAppendedValue(),this._isBetCorrected=n,o||(o=new Array),this._status=o}return Object.defineProperty(t.prototype,"success",{get:function(){return this._success},set:function(t){this._success=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBetCorrected",{get:function(){return this._isBetCorrected},set:function(t){this._isBetCorrected=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldValue},set:function(t){this._oldValue=t,this.updateAppendedValue()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newValue},set:function(t){this._newValue=t,this.updateAppendedValue()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appendedValue",{get:function(){return this._appendedValue},set:function(t){this._appendedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype.addStatus=function(t,e){void 0===e&&(e=null),this._status.push(new n.MoneyStatus(t,e))},t.prototype.appendStatusVector=function(t){return this._status=this._status.concat(t),this._status},t.prototype.clearStatus=function(){this._status=new Array},t.prototype.updateAppendedValue=function(){this._appendedValue=this._newValue-this._oldValue},t.prototype.toString=function(){var t="{ ";return t+="MoneyResult ",t+="success: "+this.success,t+=" isBetCorrected: "+this.isBetCorrected,t+=" oldValue: "+this.oldValue,t+=" newValue: "+this.newValue,t+=" appendedValue: "+this.appendedValue,t+=" status: "+status,t+=" } "},t}();e.MoneyResult=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(32),o=i(17),s=function(){function t(){}return Object.defineProperty(t.prototype,"chipValue",{get:function(){return this._chipValue},enumerable:!0,configurable:!0}),t.prototype.chipValueAsString=function(t){return void 0===t&&(t=!0),this.getStringValueFrom(this._chipValue,t)},t.prototype.updateChipValue=function(t){this._chipValue=t},Object.defineProperty(t.prototype,"winnings",{get:function(){return this._winnings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousWinningsValue",{get:function(){return this._previousWinningsValue},enumerable:!0,configurable:!0}),t.prototype.updateWinnings=function(t){this._winnings=t},t.prototype.winningsAsString=function(t){return void 0===t&&(t=!0),this.getStringValueFrom(this._winnings,t)},Object.defineProperty(t.prototype,"bets",{get:function(){return this._bets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousBetValue",{get:function(){return this._previousBetValue},enumerable:!0,configurable:!0}),t.prototype.updateBets=function(t){this._previousBetValue=this._bets,this._bets=t},t.prototype.betsAsString=function(t){return void 0===t&&(t=!0),this.getStringValueFrom(this._bets,t)},Object.defineProperty(t.prototype,"balance",{get:function(){return this._balance},enumerable:!0,configurable:!0}),t.prototype.updateBalance=function(t){this._balance=t},t.prototype.balanceAsString=function(t){return void 0===t&&(t=!0),this.getStringValueFrom(this._balance,t)},Object.defineProperty(t.prototype,"decimalsCount",{get:function(){return this._decimalsCount},set:function(t){this._decimalsCount=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t="{ ";return t+="DisplayValuesVO ",t+=" chipValue: "+this._chipValue,t+=" winnings: "+this._winnings,t+=" bets: "+this._bets,t+=" balance: "+this._balance,t+=" } "},t.prototype.getStringValueFrom=function(t,e){void 0===e&&(e=!0);var i=o.ServiceLocator.instance().get("Settings");return e?0==t?String(t):n.NumberFormatterUtil.formatNumber(t,0):i.getCurrencyString(n.NumberFormatterUtil.formatNumber(t,this._decimalsCount),e)},t}();e.DisplayValuesVO=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(592),a=i(1),r=i(2),l=i(5),c=i(594),u=i(595),h=i(596),p=i(597),d=i(598),_=i(599),f=i(600),y=i(601),m=i(602),N=i(603),S=i(604),g=i(605),A=i(606),E=i(607),I=i(608),O=i(609),T=i(610),P=i(263),b=i(264),C=i(265),v=i(266),M=i(611),L=i(612),R=i(267),D=i(268),w=i(613),x=i(614),U=i(269),B=i(146),G=i(615),V=i(616),W=i(617),F=i(618),k=i(619),H=i(620),j=i(621),Y=i(622),X=i(623),K=i(624),z=i(625),q=i(626),Z=i(627),J=i(628),$=i(629),Q=i(630),tt=i(631),et=i(632),it=i(633),nt=i(634),ot=i(635),st=i(638),at=i(639),rt=i(640),lt=i(641),ct=i(642),ut=i(643),ht=i(646),pt=i(647),dt=i(648),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.Notifications.Global.INITIALIZE_MODULE,D.InitializeSlotLogicModuleCommand),this.addCommand(l.States.INITIAL,R.InitialCommand),this.addCommand(l.States.END_GAME,U.EndGameCommand),this.addCommand(l.States.BEGIN_GAME,x.BeginGameCommand),this.addCommand(l.States.END_GAME_ENABLE_UI,B.EndGameEnableUiCommand),this.addCommand(r.Notifications.Global.STATE_CHANGED,V.StateChangedCommand),this.addCommand(l.States.REROUTE_GAME,w.RerouteGameCommand),this.addCommand(l.States.ERROR,G.ErrorCommand),this.addCommand(r.Notifications.SlotLogic.ADD_ENDGAME_ACTION,u.AddEndgameActionCommand),this.addCommand(r.Notifications.SlotLogic.NO_ENDGAME_ACTION,I.NoEndGameActionCommand),this.addCommand(r.Notifications.SlotLogic.ADD_REROUTE_ACTION,u.AddEndgameActionCommand),this.addCommand(r.Notifications.SlotLogic.NO_REROUTE_ACTION,I.NoEndGameActionCommand),this.addCommand(r.Notifications.Global.ADD_ENABLE_UI_ACTION,c.AddEnableUIActionCommand),this.addCommand(r.Notifications.Global.NO_ENABLE_UI_ACTION,E.NoEnableUIActionCommand),this.addCommand(l.States.END_GAME_DECISION,N.EndGameDecisionCommand),this.addCommand(r.Notifications.Wheels.WHEELS_ANIMATIONS_COMPLETE,v.WheelsAnimationsCompleteCommand),this.addCommand(r.Notifications.Global.SPIN,b.SpinCommand),this.addCommand(r.Notifications.Global.STOP_SPIN,C.StopSpinCommand),this.addCommand(r.Notifications.Global.SKIP,P.SkipWinningsAnimationsCommand),this.addCommand(r.Notifications.Global.SKIP_WINNINGS,P.SkipWinningsAnimationsCommand),this.addCommand(r.Notifications.Global.INCREASE_COIN_VALUE,S.IncreaseCoinValueCommand),this.addCommand(r.Notifications.Global.DECREASE_COIN_VALUE,f.DecreaseCoinValueCommand),this.addCommand(r.Notifications.Global.CHANGE_COIN_VALUE,h.ChangeCoinValueCommand),this.addCommand(r.Notifications.Global.INCREASE_LINE_BET,g.IncreaseLineBetCommand),this.addCommand(r.Notifications.Global.DECREASE_LINE_BET,y.DecreaseLineBetCommand),this.addCommand(r.Notifications.Global.CHANGE_LINE_BET,d.ChangeLineBetCommand),this.addCommand(r.Notifications.Global.INCREASE_LINES,A.IncreaseLinesCommand),this.addCommand(r.Notifications.Global.DECREASE_LINES,m.DecreaseLinesCommand),this.addCommand(r.Notifications.Global.CHANGE_LINES,_.ChangeLinesCommand),this.addCommand(r.Notifications.Global.CHANGE_COIN_VALUES_FROM_SERVER,p.ChangeCoinValuesFromServerCommand),this.addCommand(r.Notifications.Global.SHOW_DEBUG_WINDOW,O.ShowDebugWindowCommand),this.addCommand(r.Notifications.Global.SHOW_PAY_TABLE,T.ShowPaytableCommand),this.addCommand(r.Notifications.Money.UPDATE_DISPLAY_VALUES,J.SlotLogicUpdateDisplayValuesCommand),this.addCommand(r.Notifications.Money.BET_NOT_VALID,W.BetNotValidCommand),this.addCommand(r.Notifications.Increment.START_INCREMENT,Q.StartIncrementCommand),this.addCommand(r.Notifications.Increment.START_WINNINGS_INCREMENT,tt.StartWinningsIncrementCommand),this.addCommand(r.Notifications.Increment.STOP_INCREMENT,nt.StopIncrementCommand),this.addCommand(r.Notifications.Increment.STOP_ALL_INCREMENTS,et.StopAllIncrementsCommand),this.addCommand(r.Notifications.Increment.GET_INCREMENT_STATUS,Y.GetIncrementStatusCommand),this.addCommand(r.Notifications.Increment.GET_INCREMENT_DURATION,j.GetIncrementDurationCommand),this.addCommand(r.Notifications.Increment.GET_INCREMENT_TOTAL,X.GetIncrementTotalCommand),this.addCommand(r.Notifications.Increment.ADD_LABEL_TO_INCREMENT,F.AddLabelToIncrementCommand),this.addCommand(r.Notifications.Increment.REMOVE_LABEL_FROM_INCREMENT,z.RemoveLabelFromIncrementCommand),this.addCommand(r.Notifications.Increment.ADD_ON_UPDATE_TO_INCREMENT,H.AddOnUpdateToIncrementCommand),this.addCommand(r.Notifications.Increment.ADD_ON_COMPLETE_TO_INCREMENT,k.AddOnCompleteToIncrementCommand),this.addCommand(r.Notifications.Increment.REMOVE_ON_UPDATE_FROM_INCREMENT,Z.RemoveOnUpdateFromIncrementCommand),this.addCommand(r.Notifications.Increment.REMOVE_ON_COMPLETE_FROM_INCREMENT,q.RemoveOnCompleteFromIncrementCommand),this.addCommand(r.Notifications.Increment.START_CUMULATIVE_INCREMENTING_WIN,$.StartCumulativeIncrementingWinCommand),this.addCommand(r.Notifications.Increment.STOP_CUMULATIVE_INCREMENTING_WIN,it.StopCumulativeIncrementingWinCommand),this.addCommand(r.Notifications.Increment.INCREMENT_COMPLETED,K.IncrementCompletedCommand),this.addCommand(r.Notifications.Global.ADD_LABEL_TO_CLOCK,M.AddLabelToClockCommand),this.addCommand(r.Notifications.Global.REMOVE_LABEL_FROM_CLOCK,L.RemoveLabelFromClockCommand),this.addCommand(r.Notifications.SlotLogic.PAUSE_END_GAME_DECISION,pt.PauseEndGameDecisionCommand),this.addCommand(r.Notifications.SlotLogic.RESUME_END_GAME_DECISION,dt.ResumeEndGameDecisionCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(a.Names.Proxies.END_GAME,ut.SlotEndGameDecisionProxy),this.addProxy(a.Names.Proxies.INCREMENT,ot.IncrementProxy),this.addProxy(a.Names.Proxies.IDLE,lt.IdleProxy),this.addProxy(a.Names.Proxies.BALANCE_UPDATE_CHECK,at.BalanceUpdateCheckProxy),this.addProxy(a.Names.Proxies.CLOCK,rt.ClockProxy),this.addProxy(a.Names.Proxies.LAST_WIN,ct.LastWinProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("EndGameView",[ht.EndGameView,ht.EndGameView,ht.EndGameView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(st.EndGameMediator,"EndGameView")},e}(s.AbstractLogic);e.SlotLogic=_t},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(38),u=i(63),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveGlobalProxy(a.Names.Proxies.WINNINGS_ANIMATIONS,a.Names.Modules.WINNINGS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),this.winningsAnimationsProxy.animationsSteps){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"));for(var e=this.winningsAnimationsProxy.animationsSteps[0],i=0;i<e.lines.length;i++)if(e.lines[i].skipIncrement||!e.lines[i].allowSkipIncrement)return;this.getIncrementStatus(this.isIncrementing.bind(this)),this.isIncrementingValue?this.sendGlobalNotification(r.Notifications.Increment.STOP_ALL_INCREMENTS):this.moneyProxy.displayValues.winnings>0&&(this.sendGlobalNotification(r.Notifications.Winning.STOP_WINNINGS_ANIMATIONS),this.sendGlobalNotification(r.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS))}},e.prototype.getIncrementStatus=function(t){var e=c.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=c.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.sendGlobalNotification(r.Notifications.Increment.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this.isIncrementingValue=t==u.IncrementStatusNames.INCREMENTING},e}(l.Controller);e.SkipWinningsAnimationsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(7),l=i(1),c=i(2),u=i(3),h=i(32),p=i(91),d=i(5),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),this.hideCoinValueMenu(),this.spinIsValid()){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this.stopWinningAnimations(),this.updateInfoBox(),this.sendPaidFeatureActions(),this.sendSpinActions(),this.handleUserInteraction(),this.startWheelsAnimation();var e=!0;this.validationProxy.validateAtLeastOne(a.ValidationTypes.SUBSTRACT_BET_VALIDATION)&&(e=!1),this.updateDisplayValues(e),this.lastSpinCoinValue=this.moneyProxy.getCurrentCoinValue()}},e.prototype.hideCoinValueMenu=function(){this.sendGlobalNotification(c.Notifications.Global.HIDE_COIN_VALUES_MENU)},e.prototype.stopWinningAnimations=function(){this.sendGlobalNotification(c.Notifications.Winning.STOP_WINNINGS_ANIMATIONS)},e.prototype.startWheelsAnimation=function(){this.sendGlobalNotification(c.Notifications.Wheels.SPIN_WHEEL_ANIMATION)},e.prototype.sendSpinActions=function(){this.stateMachineProxy.state==d.States.FREE_ROUNDS_START||this.stateMachineProxy.state==d.States.FREE_ROUNDS_END_GAME_ENABLE_UI?this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,d.States.FREE_ROUNDS_BEGIN_GAME):this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,d.States.BEGIN_GAME),this.endGameDecisionProxy.resetEndGameActions(),this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,d.States.WAIT_FOR_NEXT_ACTION),this.sendNotification(c.Notifications.Connection.SERVER_ACTION,p.ServerActions.SEND_SPIN_COMMAND,l.Names.Modules.CONNECTION)},e.prototype.updateDisplayValues=function(t){var e,i=this.connectionProxy.getServerData(d.States.END_GAME),n=this.connectionProxy.getServerData(d.States.DOUBLE_WIN),o=this.moneyProxy.convertFromTokens(this.moneyProxy.getServerValue(this.moneyProxy.getTotalBets()));e=i&&n?n.money:this.moneyProxy.getServerValue(this.moneyProxy.getBalance()),this.moneyProxy.removeWinnings(),t?this.moneyProxy.updateBalance(e-o):this.moneyProxy.updateBalance(e),this.sendGlobalNotification(c.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues)},e.prototype.updateInfoBox=function(){if(this.checkLastWin(),this.validateLastWin()&&(this.lastWinProxy.getlastWinning()>0||this.lastWinProxy.getfreeGamesWinnings()>0)){var t=this.updateAndReturnLastWinning(),e=h.NumberFormatterUtil.formatNumber(t,0);if(this.slotGameConfig.allWinValuesInCurrency){var i=this.settings.getValue("tokenuse")>0;e=this.moneyProxy.getStringValueFrom(this.moneyProxy.getClientValue(t,!1),i)}this.sendGlobalNotification(c.Notifications.Global.UPDATE_INFOBOX,{message:this.translations.getValue("infoMessageLastWinning",e)})}this.validationProxy.validateAtLeastOne(a.ValidationTypes.RESPINS_ENDED)&&this.validationProxy.toggleValidation(a.ValidationTypes.RESPINS_ENDED,!1)},e.prototype.updateAndReturnLastWinning=function(){var t;return t=this.lastWinProxy.getfreeGamesWinnings()>0&&!this.validationProxy.validateAtLeastOne(a.ValidationTypes.RESPINS_ENDED)?this.lastWinProxy.getfreeGamesWinnings():this.lastWinProxy.getlastWinning(),this.lastWinProxy.setfreeGamesWinnings(0),this.lastWinProxy.setlastWinning(t),t},e.prototype.validateLastWin=function(){var t=this.settings.getValue("SHOW_LAST_WIN_IN_INFOBOX");return!!(t&&t.hasOwnProperty("enabled")&&t.enabled)&&(!!(this.validationProxy.validateAtLeastOne(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)||this.validationProxy.validateAtLeastOne(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)||this.validationProxy.validateAtLeastOne(a.ValidationTypes.RESPINS_IN_PROGRESS))&&(this.updateAndReturnLastWinning(),!1))},e.prototype.checkLastWin=function(){this.lastWinProxy.setlastSpinWinning(this.getLastWinnings()),this.lastWinProxy.getlastSpinWinning()>0&&this.lastWinProxy.setlastWinning(this.lastWinProxy.getlastSpinWinning()),this.lastWinProxy.setfreeGamesWinnings(this.getFreeGamesWinnings())},e.prototype.getLastWinnings=function(){var t=0,e=this.connectionProxy.getServerData(d.States.DOUBLE_WIN);if(e){this.slotGameConfig.allWinValuesInCurrency?t+=parseFloat(e.totalWinningsMoney):t+=parseFloat(e.totalWinnings);var i=this.connectionProxy.getServerData(d.States.END_GAME)[d.States.PROGRESSIVE],n=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS"),o=n&&n.hasOwnProperty("jackpotFix");if(i&&!o){var s=parseInt(i.value);t+=Math.floor(s/this.lastSpinCoinValue)}return t}return 0},e.prototype.getFreeGamesWinnings=function(){var t=this.connectionProxy.getServerData(d.States.END_GAME);if(t&&t.freeGames){var e=t.freeGames;return parseFloat(e.totalFreeGamesWinnings)}return this.lastWinProxy.getfreeGamesWinnings()>0&&(this.lastWinProxy.setlastWinning(this.lastWinProxy.getfreeGamesWinnings()),this.lastWinProxy.setfreeGamesWinnings(0)),0},e.prototype.handleUserInteraction=function(){this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.SPIN)},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(l.Names.Proxies.INCREMENT)),s.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(l.Names.Proxies.STATE_MACHINE,l.Names.Modules.GAME_SETUP)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER)),s.isNil(this.lastWinProxy)&&(this.lastWinProxy=this.retrieveProxy(l.Names.Proxies.LAST_WIN)),s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(l.Names.Proxies.END_GAME)),this.incrementProxy.onSpin()},e.prototype.spinIsValid=function(){return!!this.validateMoneyOnClient()&&(!(this.validationProxy.validateAtLeastOne(a.ValidationTypes.REALITY_CHECK_VALIDATION)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.RESPINS_IN_PROGRESS))||(this.sendGlobalNotification(c.Notifications.Global.SHOW_REALITY_CHECK_CLIENT),!1))},e.prototype.validateMoneyOnClient=function(){if(s.isNil(this._clientMoneyValidation)&&(this._clientMoneyValidation=this.settings.getValue("CLIENT_MONEY_VALIDATION")),this._clientMoneyValidation){var t=this.moneyProxy.validateStartGame();if(!t.success&&this.validationProxy.validateNone(a.ValidationTypes.BET_VALIDATION))return this.sendGlobalNotification(c.Notifications.Money.BET_NOT_VALID,t.status),!1}return!0},e.prototype.sendPaidFeatureActions=function(){this.isPaidFeatureInProgress()&&this.sendNotification(c.Notifications.Connection.SERVER_ACTION,"SEND_PAID_FEATURE",l.Names.Modules.CONNECTION)},e.prototype.isPaidFeatureInProgress=function(){return!1},e}(u.Controller);e.SpinCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(36),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.handelUserInteraction(),this.stopWheelsAnimations()},e.prototype.stopWheelsAnimations=function(){this.sendGlobalNotification(r.Notifications.Wheels.STOP_WHEEL_ANIMATION)},e.prototype.handelUserInteraction=function(){this.sendGlobalNotification(r.Notifications.Global.UPDATE_USER_INTERFACE,s.UpdateUIAction.STOP_SPIN),this.sendGlobalNotification(r.Notifications.Global.ENABLE_USER_SHORTCUT,{key:a.UserInterfaceAction.STOP_SPIN,enable:!1})},e}(i(3).Controller);e.StopSpinCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.nearMissProxy.hasNearMiss&&(this.nearMissProxy.wheelsStopped=!0),this.specialSymbolsProxy.hasAnnounce&&this.specialSymbolsProxy.clear(),this.handleUserInteraction(t),this.handleNextState(),this.updateDisplayValues(),this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.END_GAME_DECISION)},e.prototype.handleNextState=function(){},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveGlobalProxy(r.Names.Proxies.NEAR_MISS,r.Names.Modules.WHEELS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveGlobalProxy(r.Names.Proxies.SPECIAL_SYMBOLS,r.Names.Modules.WHEELS))},e.prototype.updateDisplayValues=function(){var t=this.connectionProxy.getServerData(u.States.END_GAME),e=this.connectionProxy.getServerData(u.States.DOUBLE_WIN);if(t&&e){var i=Number(t.totalWinnings),n=Number(t.totalWinningsMoney);(i>0||n>0)&&this.moneyProxy.updateBalance(e.money,!1,!1,!1)}this.hotfixUpdateBalance()},e.prototype.handleUserInteraction=function(t){(s.isNil(t)||s.isNil(t.body)||!s.isNil(t.body.skipUIAction)&&!0!==t.body.skipUIAction)&&this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.WHEELS_COMPLETE)},e.prototype.hotfixUpdateBalance=function(){var t=this.connectionProxy.getServerData(u.States.DOUBLE_WIN),e=this.connectionProxy.getServerData("balance"),i=0,n=!1;if(t){var o=this.connectionProxy.getServerData(u.States.END_GAME);if(o){var a=parseInt(o.totalWinnings),r=parseInt(o.totalWinningsMoney);0==a&&0==r&&(i=parseInt(t.money),n=!0)}}else e&&(s.isArray(e)?(i=parseInt(e[e.length-1].cashBalance),n=!0):s.isObject(e)&&(i=parseInt(e.cashBalance),n=!0));n&&(this.settings.map("maxWinCapReached",this.skipBalanceIncrement()),this.moneyProxy.updateBalance(i,!1,!1,!1),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues))},e.prototype.skipBalanceIncrement=function(){var t=this.connectionProxy.getServerData(u.States.END_GAME),e=this.connectionProxy.getServerData(u.States.DOUBLE_WIN);if(t&&e){var i=parseInt(t.money),n=parseInt(e.money);return i+parseInt(e.totalWinningsMoney)>n}return!1},e}(c.Controller);e.WheelsAnimationsCompleteCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(8),h=i(6),p=i(32),d=i(5),_=i(56),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){h.Log.debug("InitialCommand triggered."),this.initVars();var e=this._connectionProxy.getServerData(d.States.INITIAL);this.extractEndGame(e),this.setInitialCoinValue(e),this.initializeProgressiveConnection(),this.setInitialCoin(e),this.setInitialLinesNumber(e),this.setBetLevelFeatureDetails(e),this.slotGameConfig.hasBetPerSpin&&this.setInitialBetPerSpinNumber(e),this.sendGlobalNotification(l.Notifications.Global.SET_INITIAL_SYMBOLS),this.setInitialBalance(e),this.updateDisplayValues(),this.handleUserInteraction(),this.updateInfoBoxMessage(),this.updateVersionFromServer(),this.updateBalanceTagFromServer(),this.addPaytableBetLimits(),this.sendGlobalNotification(l.Notifications.Global.VERIFY_SPECIAL_FEATURE_AT_RESTORE),this.sendGlobalNotification(l.Notifications.Global.REMOVE_PRELOADER,{callback:this.onPreloaderRemovalComplete.bind(this)}),u.SceneManager.currentScene.resume()},e.prototype.extractEndGame=function(t){var e=t.lastGame;e&&this._connectionProxy.recordServerData(d.States.END_GAME,e.endGame)},e.prototype.setInitialCoinValue=function(t){var e=this._connectionProxy.getServerData("coinValues"),i=parseInt(t.coinValue),n=[];e&&(s.each(e.coinValueList.split(","),(function(t){n.push(parseInt(t))})),parseInt(e.readValue)?(this.isFirstTime()||n.indexOf(i)<0)&&(i=parseInt(e.coinValueDefault)):n.indexOf(i)<0&&n.unshift(i),this._moneyProxy.updateWithServerCoinValues(n));this._moneyProxy.updateCoinValue(i,!0,!1,!1),this.sendNotification(l.Notifications.Global.INJECT_COIN_VALUES,this._moneyProxy.getCoinValuesList(),r.Names.Modules.USER_INTERFACE)},e.prototype.setInitialCoin=function(t){var e=parseInt(t.coins);this._moneyProxy.updateCoins(e,!0,!1,!1)},e.prototype.setInitialLinesNumber=function(t){var e;e=1==this.slotGameConfig.hasWays?this.slotGameConfig.linesCnt:parseInt(t.lines),this._moneyProxy.updateLinesId(e-1,!0,!1,!1)},e.prototype.setBetLevelFeatureDetails=function(t){var e=this.settings.getValue("BET_LEVEL");if(!s.isNil(e)&&(this.slotGameConfig.hasBetPerSpin&&(e.lines=parseInt(t.betPerSpin)),e.enabled)){var i=this._connectionProxy.getServerData("coinValues");if(i)parseInt(i.readValue)&&(this._moneyProxy.updateCoins(e.betPerLine,!0,!1,!1),this._moneyProxy.updateLinesId(e.lines-1,!0,!1,!1))}},e.prototype.setInitialBetPerSpinNumber=function(t){var e=parseInt(t.betPerSpin);this._moneyProxy.updateLinesId(e-1,!0,!1,!1)},e.prototype.setInitialBalance=function(t){var e=parseFloat(t.money);this._moneyProxy.updateBalance(e,!1,!1,!0,!0)},e.prototype.updateDisplayValues=function(){var t=this._moneyProxy.displayValues;this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,t),h.Log.infoch("Money","Display values: "+t)},e.prototype.isFirstTime=function(){return-1==this.initialServerSymbols()[0]},e.prototype.initialServerSymbols=function(){for(var t=_.SymbolUtil.extractSymbols(this._connectionProxy.getServerData(d.States.END_GAME).symbols),e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},e.prototype.onPreloaderRemovalComplete=function(){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,d.States.INTRO_FEATURES)},e.prototype.handleUserInteraction=function(){this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.INITIAL)},e.prototype.updateInfoBoxMessage=function(){this._moneyProxy.getBalance()||this.isFreeRoundData()||this.isFreeSpinsData()||this.isBonusData()||this.sendGlobalNotification(l.Notifications.Global.UPDATE_INFOBOX,{message:this.translations.getValue("warningMessageNoMoney")})},e.prototype.isFreeRoundData=function(){var t=this._connectionProxy.getServerData("fRound");return!s.isNil(t)&&!s.isNil(t.fRoundRounds)&&parseInt(t.fRoundRounds)>0},e.prototype.isBonusData=function(){var t=this._connectionProxy.getServerData(d.States.END_GAME);return!s.isNil(t)&&!s.isNil(t.bonusRequest)&&1===Number(t.bonusRequest)},e.prototype.isFreeSpinsData=function(){var t=this._connectionProxy.getServerData(d.States.END_GAME);return!(s.isNil(t)||s.isNil(t.freeGames)||s.isNil(t.freeGames.left))&&!!parseInt(t.freeGames.left,10)},e.prototype.initVars=function(){s.isNil(this._connectionProxy)&&(this._connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this._moneyProxy)&&(this._moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),p.NumberFormatterUtil.init()},e.prototype.initializeProgressiveConnection=function(){var t=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS");t&&t.progressiveEnabled&&this.sendGlobalNotification(l.Notifications.Connection.INITIALIZE_PROGRESSIVE_CONNECTION)},e.prototype.updateVersionFromServer=function(){var t=this._connectionProxy.getServerData("version");s.isNil(t)||(this.settings.map("versionServer",t.versionServer),this.settings.map("versionGMAPI",t.versionGMAPI),h.Log.forceLogConsolech("Version","Game Server : "+t.versionServer),h.Log.forceLogConsolech("Version","GMAPI : "+t.versionGMAPI),this.settings.map("versionServer",t.versionServer),this.settings.map("versionGMAPI",t.versionGMAPI))},e.prototype.updateBalanceTagFromServer=function(){var t=this._connectionProxy.getServerData("balance");this.sendGlobalNotification(l.Notifications.SlotLogic.SEND_BALANCE_TAG,t)},e.prototype.addPaytableBetLimits=function(){var t=this.settings.getValue("name").split(",")[0],e=!1;if(this.settings.getSpecificKey("SHOW_PAYTABLE_MIN_MAX","enabled")&&this.settings.getSpecificKey("SHOW_PAYTABLE_MIN_MAX","lid").indexOf(t)>-1&&(e=!0),e){var i=this._moneyProxy.getCoinsList(),n=this._moneyProxy.getCoinValuesList(),o=this._moneyProxy.getCurrentLine(),a=o*n[0],r=o*n[n.length-1],l=this.settings.getValue("BET_LEVEL");!s.isNil(l)&&l.enabled?(r*=l.betPerLine,a*=l.betPerLine):this.slotGameConfig.hasBetPerSpin||(r*=i[i.length-1],this.slotGameConfig.alwaysMaxBetPerLines?a*=i[i.length-1]:a*=i[0]),this.settings.map("versionMinBet",this.translations.getValue("versionMinBet",this.settings.getCurrencyString(p.NumberFormatterUtil.formatNumber(this._moneyProxy.getClientValue(a),2),!1))),this.settings.map("versionMaxBet",this.translations.getValue("versionMaxBet",this.settings.getCurrencyString(p.NumberFormatterUtil.formatNumber(this._moneyProxy.getClientValue(r),2),!1)))}},e}(c.Controller);e.InitialCommand=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(1),l=i(2),c=i(3),u=i(6),h=i(91),p=i(39),d=i(5),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.COIN_VALUE_COMMAND="2",e.BET_COMMAND="3",e.DEBUG_COMMAND="770",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.injectStatesIntoFSM(),this.registerServerActions(),this.addServerResponses(),this.registerValidations()},e.prototype.injectStatesIntoFSM=function(){var t=new Array;t.push(new p.StateVO(d.States.INITIAL,d.States.INITIAL,[d.States.PRELOADER])),t.push(new p.StateVO(d.States.REROUTE_GAME,d.States.REROUTE_GAME,[d.States.INITIAL,d.States.INTRO_DECISION])),t.push(new p.StateVO(d.States.BEGIN_GAME,d.States.BEGIN_GAME,[d.States.INITIAL,d.States.END_GAME_ENABLE_UI,d.States.REROUTE_GAME,d.States.END_GAME_DECISION,d.States.GMAPI_RESPONSE])),t.push(new p.StateVO(d.States.WAIT_FOR_NEXT_ACTION,d.States.WAIT_FOR_NEXT_ACTION,[d.States.BEGIN_GAME,d.States.END_GAME_ENABLE_UI,d.States.GMAPI_RESPONSE])),t.push(new p.StateVO(d.States.END_GAME,d.States.END_GAME,[d.States.WAIT_FOR_NEXT_ACTION])),t.push(new p.StateVO(d.States.END_GAME_DECISION,d.States.END_GAME_DECISION,[d.States.END_GAME,d.States.INITIAL])),t.push(new p.StateVO(d.States.END_GAME_ENABLE_UI,d.States.END_GAME_ENABLE_UI,[d.States.END_GAME_DECISION])),t.push(new p.StateVO(d.States.ERROR,d.States.ERROR,["*"])),t.push(new p.StateVO(d.States.WARNING,d.States.WARNING,["*"])),t.push(new p.StateVO(d.States.DESTROY,d.States.DESTROY,["*"])),t.push(new p.StateVO(d.States.GMAPI_RESPONSE,d.States.GMAPI_RESPONSE,[d.States.WAIT_FOR_NEXT_ACTION])),this.sendGlobalNotification(l.Notifications.GameSetup.INJECT_FSM,t)},e.prototype.registerServerActions=function(){var t=this;this.registerPaidFeatureAction(),this.serverActionsProxy.registerServerAction(h.ServerActions.SEND_SPIN_COMMAND,(function(){t.sendSpinCommand()}))},e.prototype.addServerResponses=function(){this.serverResponseProxy.insertDataHandlerWithPriority(d.States.INITIAL,this.onReceivedPopUp.bind(this),d.States.INITIAL),this.serverResponseProxy.insertDataHandlerWithPriority(d.States.START,this.onReceivedGMApiResponse.bind(this),d.States.START)},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(a.ValidationTypes.GMAPI_POPUP_VALIDATION,a.ValidationProperties.GMAPI_SHOW_POPUP)},e.prototype.sendSpinCommand=function(){if(this.allowCheatTool&&!s.isNil(this.cheatToolProxy)&&(this.cheatToolProxy.isDebugCommandPresent()||this.cheatToolProxy.isSpecialDebugCommandPresent())){var t=void 0;if(this.cheatToolProxy.isSpecialDebugCommandPresent()){var e=this.cheatToolProxy.getDebugSpecialCommand();i=void 0;this.cheatToolProxy.isDebugCommandPresent()?(i=[this.DEBUG_COMMAND,this.cheatToolProxy.getDebugCommand()].concat(e),u.Log.info("Sending Debug command + special"+i)):(i=e,u.Log.info("Sending only SPECIAL Debug command "+i)),t=this.getCoinValueCommand().concat(i).concat(this.getBetCommand())}else{var i=[this.DEBUG_COMMAND,this.cheatToolProxy.getDebugCommand()];t=this.getCoinValueCommand().concat(i).concat(this.getBetCommand()),u.Log.info("Sending Debug command "+i)}this.connectionProxy.send(t)}else this.connectionProxy.send(this.getCoinValueCommand().concat(this.getBetCommand()));this.connectionProxy.resetServerData()},e.prototype.initVars=function(){s.isNil(this.serverActionsProxy)&&(this.serverActionsProxy=this.retrieveGlobalProxy(r.Names.Proxies.SERVER_ACTIONS,r.Names.Modules.CONNECTION)),s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(r.Names.Proxies.SERVER_RESPONSE,r.Names.Modules.CONNECTION)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER)),s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(r.Names.Proxies.END_GAME)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.allowCheatTool)&&(this.allowCheatTool=this.settings.getValue("ALLOW_CHEAT_TOOL")),s.isNil(this.cheatToolProxy)&&this.allowCheatTool&&(this.cheatToolProxy=this.retrieveGlobalProxy(r.Names.Proxies.CHEAT_TOOL,r.Names.Modules.CHEAT_TOOL))},e.prototype.getBetCommand=function(){var t=[];return t.push(this.BET_COMMAND),this.slotGameConfig.sendCoinCommand&&t.push(this.moneyProxy.getCurrentCoin().toString()),(this.slotGameConfig.sendLineCommand||this.slotGameConfig.hasBetPerSpin)&&t.push(this.moneyProxy.getCurrentLine().toString()),t},e.prototype.getCoinValueCommand=function(){return[this.COIN_VALUE_COMMAND,this.moneyProxy.getCurrentCoinValue().toString()]},e.prototype.onReceivedPopUp=function(t){this.sendNotification(l.Notifications.Global.SERVER_POPUP_RECEIVED),this.connectionProxy.getServerData(d.States.END_GAME)&&this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,d.States.END_GAME)},e.prototype.onReceivedGMApiResponse=function(t){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,d.States.GMAPI_RESPONSE)},e.prototype.sendCoinCommand=function(){},e.prototype.registerPaidFeatureAction=function(){var t=this;this.serverActionsProxy.registerServerAction("SEND_PAID_FEATURE",(function(){t.sendPaidFeature()}))},e.prototype.sendPaidFeature=function(){this.connectionProxy.send(["800","paid_feature"])},e}(c.Controller);e.InitializeSlotLogicModuleCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=i(56),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e;this.initVars(),e=u.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(c.States.END_GAME).symbols),this.updateDisplayValues(),this.sendGlobalNotification(c.States.END_GAME_PREPARE),this.sendNotification(r.Notifications.Global.UPDATE_DISPLAY_SYMBOLS,e,a.Names.Modules.WHEELS)},e.prototype.updateDisplayValues=function(){var t=this.connectionProxy.getServerData(c.States.END_GAME).money;this.moneyProxy.updateBalance(t),this.sendGlobalNotification(r.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY))},e}(l.Controller);e.EndGameCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(236),a=i(649),r=i(120),l=i(650),c=i(651),u=i(1),h=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(u.Names.Proxies.CONNECTION,r.ConnectionProxy),this.addProxy(u.Names.Proxies.PROGRESSIVE_CONNECTION,a.ProgressiveConnectionProxy),this.addProxy(u.Names.Proxies.SERVER_ACTIONS,l.ServerActionsProxy),this.addProxy(u.Names.Proxies.SERVER_RESPONSE,c.ServerResponseProxy)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this)},e}(s.Connection);e.SlotConnection=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(22),r=i(652),l=i(653),c=i(273),u=i(654),h=i(655),p=i(656),d=i(274),_=i(657),f=i(658),y=i(659),m=i(275),N=i(148),S=i(660),g=i(661),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasBackgroundVideo=!1,e}return o(e,t),e.prototype.registerConfigModule=function(){t.prototype.registerConfigModule.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"),this.slotGameConfig.getProperty("BACKGROUND_MODULE","videoBackgroundSettings")&&(this.hasBackgroundVideo=this.slotGameConfig.getProperty("BACKGROUND_MODULE","videoBackgroundSettings").hasBackgroundVideo))},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("SymbolsBackgroundView",[p.AbstractSymbolsBackgroundView,p.AbstractSymbolsBackgroundView,p.AbstractSymbolsBackgroundView]),this.addView("SymbolsFrameView",[d.AbstractSymbolsFrameView,d.AbstractSymbolsFrameView,d.AbstractSymbolsFrameView]),this.addView("MaskView",[_.MaskView,_.MaskView,_.MaskView]),this.addView("HTMLBackground",[N.BackgroundViewPixi,S.BackgroundMobileViewPixi,N.BackgroundViewPixi]),this.addView("AbstractDecorativeBackgroundView",[y.AbstractDecorativeBackgroundViewPixi,y.AbstractDecorativeBackgroundViewPixi,y.AbstractDecorativeBackgroundViewPixi]),this.hasBackgroundVideo&&this.addView("HTMLVideoBackground",[f.AbstractHtmlVideoBackgroundViewPixi,f.AbstractHtmlVideoBackgroundViewPixi,f.AbstractHtmlVideoBackgroundViewPixi]),this.useMasterLayout&&(this.replaceView("HTMLBackground",m.BackgroundMasterLayoutMobileView,1),this.replaceView("SymbolsFrameView",m.BackgroundMasterLayoutMobileView,1),this.replaceView("SymbolsBackgroundView",m.BackgroundMasterLayoutMobileView,1))},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(l.AbstractSymbolsBackgroundMediator,"SymbolsBackgroundView"),this.addMediator(c.AbstractSymbolsFrameMediator,"SymbolsFrameView"),this.addMediator(u.MaskMediator,"MaskView"),this.addMediator(r.AbstractDecorativeBackgroundMediator,"AbstractDecorativeBackgroundView"),this.addMediator(g.AbstractHTMLBackgroundMediator,"HTMLBackground"),this.hasBackgroundVideo&&this.addMediator(h.AbstractHtmlVideoBackgroundMediator,"HTMLVideoBackground")},e}(a.AbstractModule);e.Background=A},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(20),o=function(){function t(){throw new Error(n.StringUtil.getName(this)+" :: static class. Cannot instantiate.")}return t.BACKGROUND_COMPLETE_ANIMATION=n.StringUtil.getName(t)+".BACKGROUND_COMPLETE_ANIMATION",t}();e.BackgroundModuleActions=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(147),a=i(1),r=i(50),l=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.SYMBOLS_FRAME},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.initSubLayouts(r.BackgroundActions.SUBLAYOUT_FRAMES)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.changeSymbolsFrame()},e.prototype.changeSymbolsFrame=function(){this.backgroundView.switchFrame(r.BackgroundActions.MODE_NORMAL,!0)},e}(s.AbstractBackgroundMediator);e.AbstractSymbolsFrameMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i(107).AbstractBackgroundView);e.AbstractSymbolsFrameView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(107),r=i(18),l=i(16),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.images=[],e.introClosed=!1,e}return o(e,t),e.prototype.switchFrame=function(t,e){if(void 0===e&&(e=!0),s.isNil(this.images[t].image))e||this.hideAllFrameComplete();else{if(this.currentIndex==t)return;this.currentIndex=t,this.hideAllFrame(e),1==e?(this.images[t].image.visible=!0,this.images[t].image.alpha=1):(this.images[t].image.visible=!0,TweenLite.to(this.images[t].image,this.BACKGROUND_ANIMATION_DURATION,{alpha:1,onComplete:this.hideAllFrameComplete.bind(this)}))}},e.prototype.hideAllFrame=function(t){var e=this;s.each(this.images,(function(i,n){var o=i.image;if(!s.isNil(o))if(1==t)o.visible=!1,o.alpha=0;else{if(e.currentIndex==n)return;TweenLite.to(o,e.BACKGROUND_ANIMATION_DURATION,{alpha:0,onComplete:function(t){o.visible=!1}})}}))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.configureBackground(),this.setImagesContainer()},e.prototype.configureBackground=function(){this.images.push({name:"Normal",depth:0,image:void 0}),this.images.push({name:"FreeSpins",depth:1,image:void 0}),this.images.push({name:"Bonus_1",depth:2,image:void 0}),this.images.push({name:"Bonus_2",depth:3,image:void 0})},e.prototype.setImagesContainer=function(){var t=this;s.each(this.images,(function(e){var i=new r.ControllerContainer(e.name,t.findMultipleChild(e.name));s.isNil(i.componentLandscape)||s.isNil(i.componentLandscape)||(e.image=i),s.isNil(i.componentLandscape)||s.isNil(i.componentLandscape)||t.display.getChildByName(l.PixiView.MAIN_LANDSCAPE).setChildIndex(i.componentLandscape,e.depth),s.isNil(i.componentPortrait)||s.isNil(i.componentPortrait)||t.display.getChildByName(l.PixiView.MAIN_PORTRAIT).setChildIndex(i.componentPortrait,e.depth)}))},e.prototype.onIntroClosed=function(){this.introClosed=!0},e}(a.AbstractBackgroundView);e.BackgroundMasterLayoutMobileView=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(234),a=i(1),r=i(2),l=i(5),c=i(662),u=i(663),h=i(664),p=i(665),d=i(666),_=i(667),f=i(668),y=i(669),m=i(670),N=i(277),S=i(672),g=i(673),A=i(674),E=i(676),I=i(677),O=i(678),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.Notifications.Global.INITIALIZE_MODULE,d.SlotInitializeCertificationModuleCommand),this.addCommand(r.Notifications.Global.STATE_CHANGED,g.StateChangedCommand),this.addCommand(r.Notifications.Certification.BALANCE_UPDATE_CHECK,S.BalanceCheckUpdateMoneyCommand),this.addCommand(r.Notifications.Global.PREPARE_GMAPI_RESPONSE,y.CertificationEndGamePrepareCommand),this.addCommand(r.Notifications.Global.GMAPI_SHOW_POPUP,m.GmapiShowCustomMessageCommand),this.addCommand(r.Notifications.Bonus.BONUS_STARTED,f.BonusStartedSaveCustomMessageCommand),this.addCommand(r.Notifications.GameSetup.MODULE_LOADED,c.CertificationModuleLoadedCommand),this.addCommand(r.Notifications.Global.START_REALITY_CHECK_TIMER,_.StartRealityCheckTimerCommand),this.addCommand(r.Notifications.Global.RCI_TIMER_VALUE_CHANGED,p.RealityCheckTimerChangedCommand),this.addCommand(l.States.END_GAME_ENABLE_UI,N.RealityCheckCommand),this.addCommand(l.States.AUTO_PLAY_END_GAME_ENABLE_UI,N.RealityCheckCommand),this.addCommand(r.Notifications.Global.SHOW_REALITY_CHECK_CLIENT,N.RealityCheckCommand),this.addCommand(l.States.REALITY_CHECK,E.ShowRealityCheckClientCommand),this.addCommand(r.Notifications.Global.SHOW_REALITY_CHECK_SERVER,I.ShowRealityCheckServerCommand),this.addCommand(l.States.GMAPI_RESPONSE,h.GmapiResposeCommand),this.addCommand(r.Notifications.Global.GMAPI_RESPONSE_CONTINUE,u.GmapiResponseContinueCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(a.Names.Proxies.CERTIFICATION,A.SlotCertificationProxy),this.addProxy(a.Names.Proxies.TURBO_MODE,O.SlotTurboModeProxy)},e}(s.Certification);e.SlotCertification=T},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(1),l=i(2),c=i(3),u=i(39),h=i(5),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.validationProxy.validateAtLeastOne(a.ValidationTypes.REALITY_CHECK_VALIDATION)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)&&(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,h.States.REALITY_CHECK),this.sendGlobalNotification(l.Notifications.GameSetup.INJECT_FSM,[new u.StateVO(h.States.END_GAME_ENABLE_UI,h.States.END_GAME_ENABLE_UI,null,null,[h.States.REALITY_CHECK])]))},e.prototype.initVars=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER))},e}(c.Controller);e.RealityCheckCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(680),r=i(681),l=i(682),c=i(683),u=i(5),h=i(684),p=i(685),d=i(280),_=i(686),f=i(2),y=i(1),m=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(f.Notifications.Global.INITIALIZE_MODULE,l.IntroFeaturesInitializeModuleCommand),this.addCommand(f.Notifications.Global.REMOVE_PRELOADER,c.PreloaderRemovedPixiCommand),this.addCommand(u.States.INTRO_DECISION,a.IntroDecisionCommand),this.addCommand(u.States.INTRO_FEATURES,r.IntroFeaturesCommand)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("IntroView",[h.DesktopIntroViewPixi,p.MobileIntroViewPixi,p.MobileIntroViewPixi])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(d.IntroMediator,"IntroView")},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(y.Names.Proxies.INTRO,_.IntroProxy)},e}(s.AbstractModule);e.Intro=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(57),r=i(8),l=i(16),c=i(51),u=i(53),h=i(18),p=i(4),d=i(21),_=i(122),f=i(15),y=i(14),m=i(26),N=i(45),S=PIXI.Container,g=PIXI.Graphics,A=function(t){function e(e){var i=t.call(this,e)||this;return i.numFeatures=0,i.dotSize=26,i.dotGap=24,i.speed=0,i.dragX=-1,i.originPosition=-1,i.bounceVal=5,i.currentFeature=1,i.FEATURE_PAGE_TWEEN_DURATION=.5,i.hasAutoTranslate=!0,p.Device.instance().minigame&&(i.dotSize=8,i.dotGap=15),i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this.features=new h.ControllerContainer("features",this.findMultipleChild("features")),this.registerToHook("skipIntro",this.onSkipIntro.bind(this)),this.registerToHook("screenshotIntro",this.onScreenshotIntro.bind(this))},e.prototype.onScreenshotIntro=function(){this.pagingDotsHolder&&this.pagingDotsHolder.visible?this.repeatScreenshot(2):this.onSkipIntro()},e.prototype.repeatScreenshot=function(t){t<this.scollingContent.children.length?(this.changePageTo(t),this.dispatchSignal(this.ON_EVENT,new y.ATOnEventVO(m.SlotATEventNames.INTRO_SCREENSHOT,new y.ATGenericEvent,1e3)),t++,TweenLite.delayedCall(1.5,this.repeatScreenshot.bind(this),[t])):this.onSkipIntro()},e.prototype.getFeatures=function(t){for(var e=[],i=1,n=!0;n;){var o=u.PixiUtils.findChildByName(t,"feature"+i);o?(e.push(o),i++):n=!1}return e},e.prototype.removeIntro=function(){var t=this,e=this.slotGameConfig.introTransitionSettings,i=e.hasFadeOut,n=e.fadeOutDuration;i?TweenLite.to(this.display,n,{alpha:0,onComplete:function(){return t.display.visible=!1}}):this.display.visible=!1},e.prototype.showIntro=function(){this.display.visible=!0,p.Device.minigames&&(this.unifyFeaturesFontSize(this.features.componentLandscape),s.isNil(this.features.componentPortrait)||this.unifyFeaturesFontSize(this.features.componentPortrait))},e.prototype.unifyFeaturesFontSize=function(t){var e=50,i=[];s.each(this.features.componentLandscape.children,(function(t){t instanceof S&&s.each(t.children,(function(t){t instanceof d.TextField&&(t.fontSize<e&&(e=t.fontSize),i.push(t))}))})),s.each(i,(function(t){t.fontSize=e}))},e.prototype.clickButton=function(t){switch(this.playButtonSound(),t){case"continueButton":this.dispatchSignal(_.IntroActionNames.INTRO_FEATURES_CLOSED);break;case"toggleButton":this.neverShowIntro(this.getNeverShowVal())}},e.prototype.playButtonSound=function(){this.playSound(a.SoundNames.GENERIC_BUTTON_CLICK)},e.prototype.onSkipIntro=function(){this.clickButton("continueButton")},e.prototype.getDots=function(t,e){var i=this;this.pagingDotsHolder=new S;var n=-(this.dotSize*t+this.dotGap*(t-1))/2;this.dotOnTexture=f.TextureUtil.instance().getTextureFromCache("FeatPageDotOn"),this.dotOffTexture=f.TextureUtil.instance().getTextureFromCache("FeatPageDotOff"),s.times(t,(function(t){var e=new c.Image("featureDot"+t);e.setTexture(i.dotOffTexture),i.pagingDotsHolder.addChild(e),e.x=n+t*(i.dotSize+i.dotGap),e.interactive=!0,e.on(N.PointerStates.UP,(function(e){i.onClickDot(t),e.stopPropagation()}))}));var o=new g;o.beginFill(0,0),o.drawRect(0,0,r.SceneManager.SCENE_WIDTH*t,r.SceneManager.getScreenHeight),this.scollingContent.addChildAt(o,0),this.pagingDotsHolder.x=r.SceneManager.SCENE_WIDTH/2,this.pagingDotsHolder.scale.set(e),this.numFeatures=t,this.setDots(),t>1&&(this.addInteractions(),this.maxScroll=-r.SceneManager.SCENE_WIDTH*(t-1),this.setDots())},e.prototype.setDots=function(){var t=this;s.times(this.pagingDotsHolder.children.length,(function(e){e==t.currentFeature-1?t.pagingDotsHolder.children[e].setTexture(t.dotOnTexture):t.pagingDotsHolder.children[e].setTexture(t.dotOffTexture),t.pagingDotsHolder.children[e].image.width=t.dotSize,t.pagingDotsHolder.children[e].image.height=t.dotSize}))},e.prototype.addInteractions=function(){},e.prototype.onActiv=function(){s.isNil(this.tweenFeature)||this.tweenFeature.isActive()||this.changePageTo(1,!0)},e.prototype.onClickDot=function(t){this.changePageTo(t+1)},e.prototype.changePageTo=function(t,e){void 0===e&&(e=!1),t>0&&(t!=this.currentFeature||1==e)&&!s.isNil(this.scollingContent)&&t<this.scollingContent.children.length&&(s.isNil(this.tweenFeature)||this.tweenFeature.kill(),this.currentFeature=t,this.tweenFeature=TweenLite.to(this.scollingContent,this.FEATURE_PAGE_TWEEN_DURATION,{x:-r.SceneManager.SCENE_WIDTH*(t-1),onComplete:this.setDots.bind(this)}))},e.prototype.onPress=function(t){s.isNil(this.tweenFeature)||this.tweenFeature.kill(),this.dragX=this.scollingContent.toLocal(t.data.global).x,this.originPosition=this.scollingContent.x},e.prototype.onRelease=function(t){-1!=this.dragX&&(this.scollingContent.x-this.originPosition>r.SceneManager.SCENE_WIDTH/3&&this.currentFeature>1?this.changePageTo(this.currentFeature-1):this.scollingContent.x-this.originPosition<-r.SceneManager.SCENE_WIDTH/3&&this.currentFeature<this.numFeatures?this.changePageTo(this.currentFeature+1):this.changePageTo(this.currentFeature,!0),this.dragX=-1)},e.prototype.onDrag=function(t){if(-1!=this.dragX){var e=r.SceneManager.currentScene.toLocal(t.data.global).x-this.dragX;this.scollingContent.x=2*e-this.originPosition,(t.data.global.x<10||t.data.global.x>r.SceneManager.SCENE_WIDTH-10||t.data.global.y<10||t.data.global.y>r.SceneManager.SCENE_HEIGHT-10)&&this.onRelease(t)}},e.prototype.getNeverShowVal=function(){return 1==this.findChild("toggleButton").state?"true":"false"},e.prototype.neverShowIntro=function(t){this.settings.setCookie("NEVER_SHOW_INTRO",t)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),(p.Device.instance().mobile||p.Device.instance().minigame)&&(this.isPortrait=!p.Device.isLandscape(),this.numFeatures>1&&(this.isPortrait||p.Device.instance().minigame)&&!this.tickerAdded?(PIXI.ticker.shared.add(this.updateBound),this.tickerAdded=!0):!this.tickerAdded||this.isPortrait||p.Device.instance().minigame||(PIXI.ticker.shared.remove(this.updateBound),this.tickerAdded=!1),this.pagingDotsHolder.visible=this.isPortrait)},e.prototype.cleanUp=function(){PIXI.ticker.shared.remove(this.updateBound),this.tickerAdded=!1},e}(l.PixiView);e.AbstractIntroViewPixi=A},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(5),r=i(122),l=i(121),c=i(2),u=i(1),h=i(30),p=i(0),d=u.Names.Layers,_=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.introOpened=!1,n}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return u.Names.Layers.INTRO_FEATURES},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"introView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.IntroActionNames.INTRO_FEATURES_CLOSED,this.onPreIntroClosed.bind(this))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.neverShowIntroAgain||(this.addNotification(l.IntroNotifications.CLOSE_INTRO,this.onIntroClosed.bind(this)),this.addNotification(l.IntroNotifications.SHOW_INTRO,this.onShowIntro.bind(this)),this.addNotification(c.Notifications.Global.PAGE_VISIBILITY_CHANGED,this.onActive.bind(this)))},e.prototype.onActive=function(t){t.body&&p.isFunction(this.viewComponent.onActiv)&&this.viewComponent.onActiv()},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.neverShowIntroAgain=h.WindowUtil.getIntroFromCookie(),this.neverShowIntroAgain&&(this.sendGlobalNotification(c.Notifications.GameSetup.DESTROY_MODULE,u.Names.Modules.INTRO),this.layersProxy.retrieveLayer(d.INTRO_FEATURES).isVisibleAtInit=!1),this.registerToHook("getIntroState",this.getIntroState.bind(this))},e.prototype.onPreIntroClosed=function(){this.viewComponent.cleanUp(),this.onIntroClosed()},e.prototype.onIntroClosed=function(){var t=this;requestAnimationFrame((function(){t.sendGlobalNotification(c.Notifications.Global.HIDE_PIXI_LAYERS,{visible:!0,exceptions:[u.Names.Layers.INTRO_FEATURES]}),t.introView.removeIntro(),t.sendGlobalNotification(c.Notifications.Global.INTRO_CLOSED),t.removeNotification(c.Notifications.Global.DEVICE_ORIENTATION_CHANGED),t.removeNotification(l.IntroNotifications.CLOSE_INTRO),t.removeNotification(l.IntroNotifications.SHOW_INTRO),t.removeNotification(c.Notifications.Global.PAGE_VISIBILITY_CHANGED),t.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,a.States.INTRO_DECISION),t.introOpened=!1}))},e.prototype.onShowIntro=function(){this.introView.showIntro(),this.introOpened=!0},e.prototype.getIntroState=function(t){t.hookDetails.hookResult=this.introOpened},e}(s.AbstractMediator);e.IntroMediator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(19),c=i(4),u=i(7),h=i(55),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layerInMenu=[{layer:a.Names.Layers.AUTO_PLAY,nameContainer:"apSettingsContainer",title:"menuAutoPlayButton",rescale:!1},{layer:a.Names.Layers.GAMEPLAY_BUTTONS,nameContainer:"coinValuePanel",title:"menuCoinValueButton",rescale:!1},{layer:a.Names.Layers.PAY_TABLE,nameContainer:"ptMainContainer",title:"menuPaytableButton",rescale:!0}],e.isMobileNotShowedBefore=!0,e}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.MENU},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this);var e=this.settings.getValue("BET_LEVEL");if(!s.isNil(e)&&e.enabled){var i=s.filter(this.layerInMenu,{layer:a.Names.Layers.GAMEPLAY_BUTTONS});i[0].title="uiTotalBetLabel",this.layerInMenu[1]=i[0]}},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),(c.Device.instance().mobile||c.Device.instance().minigame)&&(this.addNotification(r.Notifications.Global.INTRO_CLOSED,this.initContentMenu.bind(this)),this.addNotification(h.MenuNotificationNames.MENU_MOBILE_SHOWED,this.onMenuMobileShowed.bind(this))),this.addNotification(r.Notifications.Global.SHOW_SETTINGS_MENU,this.layerTransitionInStart.bind(this)),this.addNotification(r.Notifications.Global.HIDE_SETTINGS_MENU,this.layerTransitionOutStart.bind(this)),this.addNotification(r.Notifications.Global.SPIN,this.layerTransitionOutStart.bind(this)),this.addNotification(h.MenuNotificationNames.MENU_SWITCH_SOUND,this.onToogleSoundExternalUi.bind(this)),c.Device.instance().minigame&&this.addNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,this.enableMenuButton.bind(this)),c.Device.instance().desktop&&this.addNotification(r.Notifications.Global.SHOW_DIALOG_WINDOW,this.onShowDialogWindow.bind(this)),1==this.settings.getValue("ALLOW_CHEAT_TOOL")&&this.addNotification(r.Notifications.Global.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON,this.onToggleCheatToolButton.bind(this))},e.prototype.onMenuMobileShowed=function(){var t=this;this.isMobileNotShowedBefore=!1,this.sendGlobalNotification(h.MenuNotificationNames.MENU_RENDERING_NON_CURRENT_COMPONENT),this.viewComponent.renderMenuNonCurrentComponent(),this.delayedCallTween=TweenMax.delayedCall(e.RENDER_NON_CURRENT_DELAY,(function(){t.viewComponent.hideMenuNonCurrentComponent()}))},e.prototype.layerTransitionInComplete=function(){var i=this;t.prototype.layerTransitionInComplete.call(this),c.Device.instance().mobile&&this.isMobileNotShowedBefore&&(this.delayedCallTween=TweenMax.delayedCall(e.RENDER_NON_CURRENT_DELAY,(function(){i.sendNotification(h.MenuNotificationNames.MENU_MOBILE_SHOWED)})))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(h.MenuActionNames.MENU_LAYER_START_SHOWING,this.layerTransitionInStart,this),this.addListenerToSignal(h.MenuActionNames.MENU_LAYER_START_HIDING,this.layerTransitionOutStart,this),this.addListenerToSignal(h.MenuActionNames.MENU_SWITCH_SOUND,this.onToogleSound,this),this.addListenerToSignal(h.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,this.onToogleSoundFromUiButton,this),this.addListenerToSignal(h.MenuActionNames.MENU_SWITCH_BUTTON_SOUND,this.toogleSoundButton,this),this.addListenerToSignal(h.MenuActionNames.MENU_SWITCH_TURBO,this.toggleTurbo,this),this.addListenerToSignal(h.MenuActionNames.MENU_ADD_LABEL_TO_CLOCK,this.menuAddLabelToClock,this),this.addListenerToSignal(h.MenuActionNames.MENU_VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION,this.menuVerifyAndAddButtonToUserInteraction,this)},e.prototype.layerTransitionInStart=function(){t.prototype.layerTransitionInStart.call(this),(c.Device.instance().mobile||c.Device.instance().minigame)&&this.sendGlobalNotification(r.Notifications.Global.SHOW_COIN_VALUES_MENU),c.Device.instance().mobile&&c.Device.isLandscape()&&this.layersProxy.changePIXILayerDepth(a.Names.Layers.STRIP,a.Names.Layers.MENU)},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),c.Device.instance().mobile&&c.Device.isLandscape()&&this.layersProxy.changePIXILayerDepth(a.Names.Layers.STRIP,a.Names.Layers.PROGRESSIVE_NOTICE,!1,!0),this.killDellayedCall()},e.prototype.killDellayedCall=function(){this.delayedCallTween&&this.delayedCallTween.isActive()&&(this.delayedCallTween.kill(),this.viewComponent.hideMenuNonCurrentComponent())},e.prototype.onDeviceOrientationChanged=function(e){t.prototype.onDeviceOrientationChanged.call(this,e),this.killDellayedCall(),c.Device.instance().mobile&&(c.Device.isLandscape()?this.layersProxy.changePIXILayerDepth(a.Names.Layers.STRIP,a.Names.Layers.MENU):this.layersProxy.changePIXILayerDepth(a.Names.Layers.STRIP,a.Names.Layers.PROGRESSIVE_NOTICE,!1,!0))},e.prototype.toogleSoundButton=function(t){this.sendGlobalNotification(h.MenuNotificationNames.MENU_SWITCH_BUTTON_SOUND,t)},e.prototype.onToogleSound=function(t){this.settings.setCookie(h.MenuStaticNames.MENU_COOKIE_SOUND_CATEGORY_PREFIX+h.MenuStaticNames.SOUND_SWITCH,""+t),this.onMuteAllSound({toggle:t})},e.prototype.onToogleSoundFromUiButton=function(t){this.onToogleSound(!t),this.view.moveSliderOnToggleSound(t)},e.prototype.onToogleSoundExternalUi=function(t){var e=t.body;this.onToogleSoundFromUiButton(e)},e.prototype.toggleTurbo=function(t){this.sendGlobalNotification(r.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:t})},e.prototype.menuVerifyAndAddButtonToUserInteraction=function(t){this.sendGlobalNotification(u.UINotifications.VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION,t)},e.prototype.initTurboSettings=function(){var t=this.settings.getValue("TURBO_MODE");t.enabled&&t.activeByDefault&&this.toggleTurbo(t.activeByDefault)},e.prototype.activeButtonShow=function(){this.view.activeButton()},e.prototype.initContentMenu=function(){var t=this;if(c.Device.instance().mobile||c.Device.instance().minigame){var e=this.retrieveGlobalProxy(a.Names.Proxies.LAYERS,a.Names.Modules.GAME_SETUP);s.each(this.layerInMenu,(function(i){var n=e.retrieveLayer(i.layer).container.children;t.viewComponent.addLayerToMenu(n,i.nameContainer,i.title,i.layer,i.rescale)})),c.Device.instance().mobile&&this.viewComponent.findMenuElements()}},e.prototype.menuAddLabelToClock=function(t){this.sendGlobalNotification(r.Notifications.Global.ADD_LABEL_TO_CLOCK,t)},e.prototype.disableMenuButton=function(){},e.prototype.enableMenuButton=function(t){1==t.body?this.view.enableButton():this.view.disableButton()},e.prototype.onShowDialogWindow=function(){this.viewComponent.resetButtonsState()},e.prototype.onToggleCheatToolButton=function(t){this.view.toggleCheatToolButton()},e.RENDER_NON_CURRENT_DELAY=2,e}(l.AbstractMediator);e.MenuMediator=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(20),o=function(){function t(){throw new Error(n.StringUtil.getName(this)+" :: static class. Cannot instantiate.")}return t.WHEEL_COMPLETE_ID=n.StringUtil.getName(t)+".WHEEL_COMPLETE_ID",t.WHEEL_ANIMATION_START=n.StringUtil.getName(t)+".WHEEL_ANIMATION_START",t.ALL_WHEELS_COMPLETED=n.StringUtil.getName(t)+".ALL_WHEELS_COMPLETED",t.ALL_WHEELS_TWEENS_COMPLETED=n.StringUtil.getName(t)+".ALL_WHEELS_TWEENS_COMPLETED",t.SYMBOLS_RECEIVED_AND_ADDED=n.StringUtil.getName(t)+".SYMBOLS_RECEIVED_AND_ADDED",t.HIDE_SYMBOLS=n.StringUtil.getName(t)+".HIDE_SYMBOLS",t.PLAY_SOUND=n.StringUtil.getName(t)+".PLAY_SOUND",t.STOP_SOUND=n.StringUtil.getName(t)+".STOP_SOUND",t.PLAY_ANNOUNCE_SOUND=n.StringUtil.getName(t)+".PLAY_ANNOUNCE_SOUND",t.PLAY_WHEEL_STOP_SOUND=n.StringUtil.getName(t)+".PLAY_WHEEL_STOP_SOUND",t.GET_SPINE_ANIMATION_DATA=n.StringUtil.getName(t)+".GET_SPINE_ANIMATION_DATA",t}();e.WheelActionsNames=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(714),r=i(715),l=i(150),c=i(284),u=i(285),h=i(286),p=i(287),d=i(2),_=i(1),f=i(151),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(d.Notifications.Global.INITIALIZE_MODULE,a.InitializePaytableModuleCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(_.Names.Proxies.PAYTABLE,l.PayoutsProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("PaytableView",[c.DesktopPaytableViewPixi,p.MobilePaytableViewPixi,f.AbstractPaytableViewPixi]),this.useMasterLayout&&(this.replaceView("PaytableView",u.MasterLayoutDesktopPaytableView,0),this.replaceView("PaytableView",h.MasterLayoutMobilePaytableView,1))},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(r.PaytableMediator,"PaytableView")},e}(s.AbstractModule);e.Paytable=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(8),a=i(151),r=i(72),l=i(48),c=i(11),u=i(45),h=PIXI.Graphics,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.findChildByName(this.display,"ptMainContainer").recalculate(),this.bgOverlay=new h,this.bgOverlay.beginFill(0,.95),this.bgOverlay.drawRect(0,0,s.SceneManager.SCENE_WIDTH,s.SceneManager.SCENE_HEIGHT-l.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE),this.bgOverlay.x=0,this.bgOverlay.y=0,this.display.addChildAt(this.bgOverlay,0),this.bgOverlay.on(u.PointerStates.OVER,this.catchClick,this),this.bgOverlay.on(u.PointerStates.OUT,this.catchClick,this),this.bgOverlay.on(u.PointerStates.DOWN,this.catchClick,this),this.bgOverlay.on(u.PointerStates.UP,this.catchClick,this),this.bgOverlay.interactive=!0;var e=this.findChildByName(this.display,r.PaytableButtonsNames.BACK);e.onClickHandler=this.onBackButtonClick.bind(this),e.label.setAlign("center","center");var i=this.settings.getValue("HAS_ISB_LOGO");i.hasText&&1==i.hasText&&(this.trademarkText=this.findChild("trademarkText"),this.trademarkText.updateLabel(this.translations.getValue("iSoftBetCopyrightLabel"),!0)),this.deviceScreenResized(),this.findChildByName(this.display,"paytableTitleBg").y--},e.prototype.catchClick=function(t){t.stopPropagation()},e.prototype.onBackButtonClick=function(t){this.playSound(c.SlotSoundNames.GENERIC_BUTTON_CLICK),this.dispatchSignal(r.PaytableNotifications.HIDE_PAY_TABLE_CLOSED)},e.prototype.onStartShowLayer=function(t,e){this.onCompleteShowLayer(t,e),this.display.visible=!0},e.prototype.onStartHideLayer=function(t,e){this.onCompleteHideLayer(t,e),this.display.visible=!1},e}(a.AbstractPaytableViewPixi);e.DesktopPaytableViewPixi=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(284),r=i(21),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paytableTextFields={},e.firstTime=!0,e}return o(e,t),e.prototype.onPaytableUpdate=function(t){var e=this;s.each(t,(function(t,i){s.each(t,(function(t,n){var o="s"+(i+1)+"_"+n;e.paytableTextFields.hasOwnProperty(o)&&s.each(e.paytableTextFields[o],(function(i){requestAnimationFrame((function(){i.updateLabel(t,e.firstTime)}))}))}))}))},e.prototype.paytableTraverseChild=function(e,i){t.prototype.paytableTraverseChild.call(this,e,i),e instanceof r.TextField&&(this.paytableTextFields.hasOwnProperty(e.name)?this.paytableTextFields[e.name].push(e):this.paytableTextFields[e.name]=[e])},e.prototype.setDesclaimer=function(){var e=this;s.has(this.paytableTextFields,"textDisclaimer")?s.each(this.paytableTextFields.textDisclaimer,(function(t){t.updateLabel(e.translations.getValue("ptRulesPageVoidPayments"))})):t.prototype.setDesclaimer.call(this)},e.prototype.setGameVersion=function(){if(s.has(this.paytableTextFields,"GameVersion")){var e=this.getGameVersionNumber();s.each(this.paytableTextFields.GameVersion,(function(t){t.updateLabel(e)})),this.paytableViews.recalculateScrolling()}else t.prototype.setGameVersion.call(this)},e}(a.DesktopPaytableViewPixi);e.MasterLayoutDesktopPaytableView=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(287),r=i(21),l=i(51),c=i(8),u=i(72),h=i(18),p=i(4),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paytableTextFields={},e.firstTime=!0,e.paytableAssets={},e}return o(e,t),e.prototype.onPaytableUpdate=function(t){var e=this,i=[];s.each(t,(function(t,n){s.each(t,(function(t,o){var a="s"+(n+1)+"_"+o;e.paytableTextFields.hasOwnProperty(a)&&s.each(e.paytableTextFields[a],(function(n){i.push({tf:n,value:t,firstTime:e.firstTime})}))}))})),this.updateLabel(i),this.firstTime=!1},e.prototype.updateLabel=function(t){var e=this;return new Promise((function(e){requestAnimationFrame((function(){var i=t.shift();s.isNil(i)||i.tf.updateLabel(i.value,i.firstTime),e()}))})).then((function(){if(t.length)return e.updateLabel(t)}))},e.prototype.setDesclaimer=function(){var e=this;s.has(this.paytableTextFields,"textDisclaimer")?(s.each(this.paytableTextFields.textDisclaimer,(function(t){t.updateLabel(e.translations.getValue("ptRulesPageVoidPayments"))})),this.paytableViews.recalculateScrolling()):t.prototype.setDesclaimer.call(this)},e.prototype.setGameVersion=function(){if(s.has(this.paytableTextFields,"GameVersion")){var e=this.getGameVersionNumber();s.each(this.paytableTextFields.GameVersion,(function(t){t.updateLabel(e)})),this.paytableViews.recalculateScrolling()}else t.prototype.setGameVersion.call(this);this.deviceScreenResized()},e.prototype.getRulesButton=function(){t.prototype.getRulesButton.call(this),this.positionRulesButtonLandscape()},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),p.Device.isLandscape()?this.paytableViews.componentLandscape.maskScroll.height=c.SceneManager.getScreenHeight:this.paytableViews.componentPortrait.maskScroll.height=c.SceneManager.getScreenHeight},e.prototype.paytableTraverseChild=function(e,i){t.prototype.paytableTraverseChild.call(this,e,i),e instanceof r.TextField?this.paytableTextFields.hasOwnProperty(e.name)?(this.paytableTextFields[e.name].push(e),this.paytableAssets[e.name].push(e)):(this.paytableTextFields[e.name]=[e],this.paytableAssets[e.name]=[e]):e instanceof l.Image&&(this.paytableAssets.hasOwnProperty(e.name)?this.paytableAssets[e.name].push(e):this.paytableAssets[e.name]=[e])},e.prototype.positionRulesButtonLandscape=function(){if(this.rulesButton.componentLandscape){var t=this.settings.getValue("GameConfig"),e=t.getProperty("PAYTABLE","rulesContainer"),i=parseInt(t.getProperty("PAYTABLE","rulesButtonX"));e||(e=u.PaytableButtonsNames.RULES_CONTAINER_NAME),i||(i=0);var n=new h.ControllerContainer("rules",this.findMultipleChild(e));n.componentLandscape&&(this.rulesButton.componentLandscape.x=i,this.rulesButton.componentLandscape.y-=n.componentLandscape.y,n.componentLandscape.addChild(this.rulesButton.componentLandscape))}},e.prototype.staggerTextIn=function(t){var e=[],i=p.Device.isLandscape()?0:1;t||(i=1-i),s.forEach(this.paytableAssets,(function(t){t[i]&&(t[i].visible=!1,e.push(t[i]))})),e.sort((function(t,e){return t.y>e.y?1:-1}));var n=function(){for(var t=Math.min(4,e.length),i=0;i<t;i++)e.shift().visible=!0;e.length>0&&requestAnimationFrame(n)};n()},e}(a.MobilePaytableViewPixi);e.MasterLayoutMobilePaytableView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.deviceScreenResized=function(){var e=this;t.prototype.deviceScreenResized.call(this),requestAnimationFrame((function(){var t=Math.max((e.paytableViews.nonCurrentComponent.contents.y-e.paytableViews.nonCurrentComponent.minScroll)/e.paytableViews.nonCurrentComponent.maxScroll,0);e.getScaleCorrection(e.paytableViews.currentComponent.contents)&&e.paytableViews.recalculateScrolling(),e.paytableViews.currentComponent.contents.y=t*e.paytableViews.currentComponent.maxScroll+e.paytableViews.currentComponent.minScroll}))},e.prototype.getScaleCorrection=function(t){var e=this.traverseParent(t),i=e[0]/e[1];return 1!=i&&t.scale.y!=i&&(t.scale.y=i,!0)},e.prototype.traverseParent=function(t){var e=t.parent;return e?[e.scale.x*this.traverseParent(e)[0],e.scale.y*this.traverseParent(e)[1]]:[1,1]},e.prototype.onOpenPaytable=function(){t.prototype.onOpenPaytable.call(this),this.scrollHeight+=200},e}(i(151).AbstractPaytableViewPixi);e.MobilePaytableViewPixi=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),a=i(289),r=i(716),l=i(718),c=i(719),u=i(720),h=i(152),p=i(721),d=i(2),_=i(1),f=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(d.Notifications.Global.PRELOADER_REMOVED,c.SlotInitializeCheatToolCommand),this.addCommand(s.States.BEGIN_GAME,u.SlotInitializeStripsCheatToolCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(_.Names.Proxies.CHEAT_TOOL,r.SlotCheatToolProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("CheatToolView",[h.SlotCheatToolAbstractViewPixi,p.SlotCheatToolMobileViewPixi,h.SlotCheatToolAbstractViewPixi])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(a.SlotCheatToolMediator,"CheatToolView")},e}(l.CheatTool);e.SlotCheatTool=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(19),l=i(95),c=i(2),u=i(1),h=i(4),p=i(116),d=i(7),_=i(123),f=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.isIntroClosed=!1,n.isCheatToolPresent=!1,n.currentKeyMode=-1,n.currentKeyGroup="",n}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return u.Names.Layers.CHEAT_TOOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cheatToolView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this);this.layersProxy.retrieveLayer(this.layer);this.reloadedLanguages=[],this.extraLayers=[],this.extraLayersOriginIndex=[],this.onKeyUpBind=this.onKeyUp.bind(this),this.onKeyDownBind=this.onKeyDown.bind(this),this.onPasteBind=this.onPasteAction.bind(this)},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(l.SlotCheatToolAction.HIDE_CHEAT_TOOL,this.layerTransitionOutStart,this),this.addListenerToSignal(l.SlotCheatToolAction.SHOW_CHEAT_TOOL,this.layerTransitionInStart,this),this.addListenerToSignal(l.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,this.sendCheatToolCmd,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_CHANGE_LANGUAGE,this.onSignalChangeLanguages,this),this.addListenerToSignal(l.SlotCheatToolAction.START_AUTOSPIN_CHEAT_TOOL,this.onStartAutoSpin,this),this.addListenerToSignal(l.SlotCheatToolAction.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON,this.onToggleCheatToolButton,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_SHOW_LAYER,this.onShowExtraLayer,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_HIDE_LAYER,this.onHideExtraLayer,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_MOVE_SLOW_TIME,this.onMoveSlowTime,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_ADD_KEY_LISTENER,this.addKeyListener,this),this.addListenerToSignal(l.SlotCheatToolAction.CHEAT_TOOL_REMOVE_KEY_LISTENER,this.removeKeyListener,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.SlotCheatToolNotifications.DRAW_CHEAT_TOOL,this.drawCheatTool.bind(this)),this.addNotification(l.SlotCheatToolNotifications.INIT_STRIPS_CHEAT_TOOL,this.initStripsCheatTool.bind(this)),this.addNotification(c.Notifications.Global.LAYER_TRANSITION_IN_STARTED,this.hideCheatToolButton.bind(this)),this.addNotification(c.Notifications.Global.LAYER_TRANSITION_OUT_COMPLETED,this.showCheatToolButton.bind(this)),this.addNotification(c.Notifications.Global.TOGGLE_CHEAT_TOOL,this.toggleCheatTool.bind(this)),this.addNotification(c.Notifications.Global.INTRO_CLOSED,this.activeButtonShow.bind(this)),this.addNotification(c.Notifications.Global.TRANSLATIONS_RELOADED,this.onNewXmlLoaded.bind(this))},e.prototype.layerTransitionInStart=function(){t.prototype.layerTransitionInStart.call(this),this.addKeyListener(),this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1)},e.prototype.layerTransitionInComplete=function(){t.prototype.layerTransitionInComplete.call(this),this.isCheatToolPresent=!0},e.prototype.layerTransitionOutStart=function(){t.prototype.layerTransitionOutStart.call(this),this.removeKeyListener(),this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),this.isCheatToolPresent=!1},e.prototype.onPasteAction=function(t){var e=t.clipboardData.getData("text/plain");this.viewComponent.pasteTextFromClipboard(e)},e.prototype.drawCheatTool=function(){var t=this.layersProxy.retrieveLayer(this.layer);h.Device.instance().mobile?(t.drawLayout("Main_landscape"),t.drawLayout("Main_portrait")):t.drawLayout(),this.cheatToolView.initVars(),s.isNil(t.scenarios)||this.cheatToolView.initScenarios(t.scenarios)},e.prototype.sendCheatToolCmd=function(t){this.retrieveProxy(u.Names.Proxies.CHEAT_TOOL).setDebugCommand(t.command,t.clean,t.specialCommand)},e.prototype.initStripsCheatTool=function(){var t=this.retrieveProxy(u.Names.Proxies.CHEAT_TOOL);this.cheatToolView.initStrips(t.getStrips())},e.prototype.hideCheatToolButton=function(t){t.body==this.layer&&this.cheatToolView.onHideCheatToolButton()},e.prototype.showCheatToolButton=function(t){t.body==this.layer&&this.cheatToolView.onShowCheatToolButton()},e.prototype.toggleCheatTool=function(t){1==this.isIntroClosed&&(1==this.isCheatToolPresent?this.layerTransitionOutStart():0==this.isCheatToolPresent&&this.validationProxy.validateNone(a.ValidationTypes.LAYERS_HTML_PRESENCE)&&this.layerTransitionInStart())},e.prototype.activeButtonShow=function(){this.isIntroClosed=!0},e.prototype.onSignalChangeLanguages=function(t){this.translations.destroy(),-1==this.reloadedLanguages.indexOf(t)?(this.reloadedLanguages.push(t),this.sendGlobalNotification(c.Notifications.GameSetup.CONFIG_XML_ASSETS,{reload:"TRANSLATIONS_URL"}),this.sendGlobalNotification(c.Notifications.GameSetup.LOAD_XML_ASSETS,{reload:t})):(s.isNil(this.loadProxy)&&(this.loadProxy=this.retrieveGlobalProxy(u.Names.Proxies.LOAD,u.Names.Modules.LOADER)),this.translations.parseXMLResult(this.loadProxy.getAsset(p.Translations.RELOAD_LANG_FILE+t)),this.onNewXmlLoaded())},e.prototype.onNewXmlLoaded=function(){this.viewComponent.changeLanguages(),this.sendGlobalNotification(c.Notifications.Global.TRANSLATIONS_RELOADED_FINISHED)},e.prototype.onStartAutoSpin=function(t){var e={};e.uiAutoPlayComponent=t,e.uiAutoPlayStopCreditComponent=4294967295,e.uiAutoPlayStopWinComponent=4294967295,e.uiAutoPlayStopWinToggle=!0,e.uiAutoSpinNumberComponent=t,this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,d.UpdateUIAction.START_AUTO_PLAY),this.sendGlobalNotification(c.Notifications.Global.START_AUTO_PLAY,e)},e.prototype.onToggleCheatToolButton=function(){this.sendNotification(c.Notifications.Global.TOGGLE_DISPLAY_CHEAT_TOOL_BUTTON,null,u.Names.Modules.MENU)},e.prototype.onShowExtraLayer=function(t){s.isNil(this.layerProxy)&&(this.layerProxy=this.retrieveGlobalProxy(u.Names.Proxies.LAYERS,u.Names.Modules.GAME_SETUP)),s.isNil(this.extraLayers[t])&&(this.extraLayersOriginIndex[t]=this.layerProxy.getPIXILayerIndex(t),this.extraLayers[t]=this.layerProxy.retrieveLayer(t)),this.layerProxy.changePIXILayerDepth(t,u.Names.Layers.CHEAT_TOOL,!0,!0),this.extraLayers[t].container.visible=!0},e.prototype.onHideExtraLayer=function(t){s.isNil(t)||""==t||(this.layerProxy.changePIXILayerDepth(t,this.layerProxy.getPIXILayerNameAtIndex(this.extraLayersOriginIndex[t]),!0,!0),this.extraLayers[t].container.visible=!1)},e.prototype.onMoveSlowTime=function(t){s.isNil(this.layerProxy)&&(this.layerProxy=this.retrieveGlobalProxy(u.Names.Proxies.LAYERS,u.Names.Modules.GAME_SETUP));var e=this.layerProxy.retrieveLayer(u.Names.Layers.STRIP);s.isNil(t.componentLandscape)||s.isNil(t.componentPortrait)?e.container.addChild(t.componentLandscape):(e.container.children[0].addChild(t.componentLandscape),e.container.children[1].addChild(t.componentPortrait))},e.prototype.addKeyListener=function(){document.addEventListener("keyup",this.onKeyUpBind),document.addEventListener("keydown",this.onKeyDownBind),document.addEventListener("paste",this.onPasteBind)},e.prototype.removeKeyListener=function(){document.removeEventListener("keyup",this.onKeyUpBind),document.removeEventListener("keydown",this.onKeyDownBind),document.removeEventListener("paste",this.onPasteBind)},e.prototype.onKeyUp=function(t){var e=_.KeyboardMap.getString(t.keyCode);t.keyCode==_.KeyboardMap.KEYMAP_INDEX_ESC&&this.layerTransitionOutStart(),-1!=this.currentKeyMode&&t.keyCode==this.currentKeyMode?(this.currentKeyMode==_.KeyboardMap.KEYMAP_INDEX_E?this.viewComponent.toggleExtraTool():this.viewComponent.changeGroupFromKeyboard(_.KeyboardMap.getString(this.currentKeyMode),this.currentKeyGroup),this.currentKeyMode=-1,this.currentKeyGroup=""):-1==this.currentKeyMode&&t.keyCode==_.KeyboardMap.KEYMAP_INDEX_SPACE?this.viewComponent.sendCmdFromKeyboard():-1!=this.currentKeyMode&&(_.KeyboardMap.KEYMAP_INDEX_0<=t.keyCode&&t.keyCode<=_.KeyboardMap.KEYMAP_INDEX_9||_.KeyboardMap.KEYMAP_INDEX_0_NUM<=t.keyCode&&t.keyCode<=_.KeyboardMap.KEYMAP_INDEX_9_NUM)&&(this.currentKeyGroup+=e,this.currentKeyMode==_.KeyboardMap.KEYMAP_INDEX_S&&1==this.currentKeyGroup.length&&this.viewComponent.openScenarioCategoriesFromKeyboard(e))},e.prototype.onKeyDown=function(t){_.KeyboardMap.getString(t.keyCode);t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_P&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_T&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_S&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_H&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_C&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_L&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_R&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_E&&t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_B||(this.currentKeyMode==t.keyCode&&this.viewComponent.openListFromKeyboard(_.KeyboardMap.getString(this.currentKeyMode)),this.currentKeyMode=t.keyCode,this.currentKeyGroup="",t.keyCode!=_.KeyboardMap.KEYMAP_INDEX_P||this.viewComponent.isEditing()?t.keyCode==_.KeyboardMap.KEYMAP_INDEX_T?this.viewComponent.isEditing()?this.currentKeyMode=-1:this.viewComponent.changeMode(this.viewComponent.MODE_STRIP):t.keyCode==_.KeyboardMap.KEYMAP_INDEX_S?this.viewComponent.isEditing()?this.currentKeyMode=-1:this.viewComponent.changeMode(this.viewComponent.MODE_SCENARIO):t.keyCode==_.KeyboardMap.KEYMAP_INDEX_R&&this.viewComponent.isEditing()&&(this.currentKeyMode=-1):this.viewComponent.changeMode(this.viewComponent.MODE_PICKER))},e}(r.AbstractMediator);e.SlotCheatToolMediator=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(291),a=i(745),r=i(295),l=i(296),c=i(747),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("stripView",r.SlotStripPixiView,0),this.replaceView("stripView",l.SlotStripMobilePixiView,1),this.replaceView("stripView",c.SlotStripMiniGamePixiView,2)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("stripView",s.SlotStripMediator,0),this.replaceMediator("stripView",s.SlotStripMediator,1),this.replaceMediator("stripView",s.SlotStripMediator,2)},e}(a.Strip);e.SlotStrip=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(292),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"slotStripView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.Notifications.Winning.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addNotification(l.Notifications.Global.INTRO_CLOSED,this.showStripBar.bind(this)),this.addNotification(l.Notifications.Strip.ADD_LABELS_TO_UPDATE_ON_STRIP,this.addLabelToUpdateOnStrip.bind(this))},e.prototype.updateDisplayValues=function(e){t.prototype.updateDisplayValues.call(this,e),this.slotStripView.setMaxWinCapReached(this.settings.getValue("maxWinCapReached"))},e.prototype.onCelebrationStart=function(t){var e=parseInt(t.body.valueInMoney),i=this.moneyProxy.displayValues.coinValue,n=Math.floor(this.moneyProxy.getClientValue(Math.round(e/i*100)/100,!1));this.slotStripView.setCelebrationWin(n)},e.prototype.showStripBar=function(t){this.slotStripView.showStripBar(),this.slotStripView.deviceScreenResized()},e.prototype.onUpdateBonusBalance=function(t){this.stripView.updateBonusBalance(this.moneyProxy.getClientValue(t.body.value),!1)},e.prototype.addLabelToUpdateOnStrip=function(t){var e=t.body;this.slotStripView.addLabelToUpdateOnStrip(e)},e}(r.StripMediator);e.SlotStripMediator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(2),r=i(19),l=i(4),c=i(48),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return s.Names.Layers.STRIP},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stripView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(c.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,this.onAddOnUpdateFunctionToIncrement,this),this.addListenerToSignal(c.StripActionsNames.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT,this.onAddOnCompleteFunctionToIncrement,this),this.addListenerToSignal(c.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,this.onRemoveOnUpdateFunctionToIncrement,this),this.addListenerToSignal(c.StripActionsNames.ADD_LABEL_TO_CLOCK,this.menuAddLabelToClock,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),l.Device.instance().minigame&&(this.addNotification(a.Notifications.Global.SHOW_FULL_SCREEN_POP_UP,this.hideBetAndWin.bind(this)),this.addNotification(a.Notifications.Global.HIDE_FULL_SCREEN_POP_UP,this.showBetAndWin.bind(this))),this.addNotification(a.Notifications.Money.UPDATE_DISPLAY_VALUES,this.updateDisplayValues.bind(this)),this.addNotification(a.Notifications.Increment.CUMULTATIVE_INCREMENTING_STARTING,this.onStartCumulativeIncrementWin.bind(this)),this.addNotification(a.Notifications.Increment.CUMULTATIVE_INCREMENTING_STOPPING,this.onStopCumulativeIncrementWin.bind(this)),this.addNotification(a.Notifications.Strip.UPDATE_BONUS_BALANCE,this.onUpdateBonusBalance.bind(this)),this.addNotification(a.Notifications.Strip.TOGGLE_OFF_BONUS_BALANCE,this.onToggleOffBonusBalance.bind(this))},e.prototype.showBetAndWin=function(){this.viewComponent.showBetAndWin()},e.prototype.hideBetAndWin=function(){this.viewComponent.hideBetAndWin()},e.prototype.updateDisplayValues=function(t){this.stripView.updateDisplayValues(t.body)},e.prototype.onStartCumulativeIncrementWin=function(t){this.stripView.startCumulativeIncrementWin(t)},e.prototype.onStopCumulativeIncrementWin=function(t){this.stripView.stopCumulativeIncrementWin()},e.prototype.onAddOnUpdateFunctionToIncrement=function(t){this.sendGlobalNotification(a.Notifications.Increment.ADD_ON_UPDATE_TO_INCREMENT,t)},e.prototype.onAddOnCompleteFunctionToIncrement=function(t){this.sendGlobalNotification(a.Notifications.Increment.ADD_ON_COMPLETE_TO_INCREMENT,t)},e.prototype.onRemoveOnUpdateFunctionToIncrement=function(t){this.sendGlobalNotification(a.Notifications.Increment.REMOVE_ON_UPDATE_FROM_INCREMENT,t)},e.prototype.showStripBar=function(t){this.stripView.showStripBar()},e.prototype.menuAddLabelToClock=function(t){this.sendGlobalNotification(a.Notifications.Global.ADD_LABEL_TO_CLOCK,t)},e.prototype.onUpdateBonusBalance=function(t){},e.prototype.onToggleOffBonusBalance=function(t){this.stripView.updateBonusBalance(0),this.stripView.toggleBonusVisibility(!1)},e}(r.AbstractMediator);e.StripMediator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(47),r=i(18),l=i(27),c=i(48),u=i(124),h=i(8),p=i(57),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MENU_PAGE_TWEEN_DURATION=.5,e.CURRENCY_WIN_TOP_POSITION=["KRW","MMK"],e.Y_WIN_TOP_POSITION=-58,e}return o(e,t),e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this);new a.ControllerButton("sbNextButton",this.findMultipleChild("sbNextButton"),this.onClickNextButton.bind(this)),new a.ControllerButton("sbPrevButton",this.findMultipleChild("sbPrevButton"),this.onClickPreviousButton.bind(this));this.currentPosition=0,this.carouselContainer=new r.ControllerContainer("sbContainerCarousel",this.findMultipleChild("sbContainerCarousel")),this.betContainer=new r.ControllerContainer("sbBetContainer",this.findMultipleChild("sbBetContainer")),this.balanceContainer=new r.ControllerContainer("sbBalanceContainer",this.findMultipleChild("sbBalanceContainer")),this.bottomStripContainer=new r.ControllerContainer("sbContainerStrips",this.findMultipleChild("sbContainerStrips")),this.winContainer=new r.ControllerContainer("sbWinContainer",this.findMultipleChild("sbWinContainer")),this.carouselPositions=[],s.each(this.carouselContainer.children,(function(t){e.carouselPositions.push(t.x)})),s.sortBy(this.carouselPositions,(function(t){return t})),this.clock=new l.ControllerTextField("clock",this.findMultipleChild("clock")),this.dispatchSignal(c.StripActionsNames.ADD_LABEL_TO_CLOCK,this.clock.componentLandscape),requestAnimationFrame((function(){e.betContainer.componentLandscape.children[0].width>e.betContainer.componentLandscape.children[0].text.width/2&&(e.betContainer.x=5+e.betContainer.componentLandscape.children[0].text.width/2-e.betContainer.componentLandscape.children[0].width);var t=e.settings.getValue("currency").toString();-1!=e.CURRENCY_WIN_TOP_POSITION.indexOf(t)&&(e.winContainer.y=e.Y_WIN_TOP_POSITION)}))},e.prototype.positionElements=function(){this.stripBar.y=h.SceneManager.getScreenHeight-this.stripBarBg.height-this.totalBetTitle.height},e.prototype.onClickNextButton=function(){this.currentPosition==this.carouselPositions.length-1?this.changeCarouselPosition(0):this.changeCarouselPosition(this.currentPosition+1)},e.prototype.onClickPreviousButton=function(){0==this.currentPosition?this.changeCarouselPosition(this.carouselPositions.length-1):this.changeCarouselPosition(this.currentPosition-1)},e.prototype.changeCarouselPosition=function(t){this.playSound(p.SoundNames.GENERIC_BUTTON_CLICK),-1==t||t==this.currentPosition||s.isNil(this.carouselPositions[t])||(s.isNil(this.tweenPage)||this.tweenPage.kill(),this.currentPosition=t,this.tweenPage=TweenLite.to(this.carouselContainer,this.MENU_PAGE_TWEEN_DURATION,{x:-this.carouselPositions[t],ease:Circ.easeOut}))},e.prototype.updateWinLabel=function(e){t.prototype.updateWinLabel.call(this,e),this.positionWinContainer()},e.prototype.setCelebrationWin=function(e){t.prototype.setCelebrationWin.call(this,e),this.positionWinContainer()},e.prototype.onIncrementUpdateForWin=function(e){t.prototype.onIncrementUpdateForWin.call(this,e),this.positionWinContainer()},e.prototype.onIncrementCompleteForBalance=function(e){t.prototype.onIncrementCompleteForBalance.call(this,e),this.positionWinContainer()},e.prototype.positionWinContainer=function(){this.winContainer.x=h.SceneManager.getScreenWidth-(this.winContainer.children[0].width+this.winContainer.children[1].text.width/2)-10;var t=this.bottomStripContainer.componentLandscape.mask.width-(this.balanceContainer.componentLandscape.children[1].x+this.balanceContainer.componentLandscape.children[1].text.width/2);this.balanceContainer.x=t<0?t:0},e}(u.StripAbstractPixiView);e.StripMiniGamePixiView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(18),l=i(40),c=i(27),u=i(48),h=i(124),p=i(4),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smallestFontSizeLandPort=[30,22],e.OFFSET_RIGHT_ALIGNMENT=30,e.OFFSET_TOP_ALIGNMENT=5,e}return o(e,t),e.prototype.postRegister=function(){this.containerCenter=this.findChild("sbContainerCenter"),this.containerTop=this.findChild("containerTop"),this.containerTopLeft=this.findChild("containerTopLeft"),this.stripBarBgBottom=new l.ControllerImage("sbBgBottom",this.findMultipleChild("sbBgBottom")),t.prototype.postRegister.call(this);var e=this.settings.getValue("HAS_ISB_LOGO");e.hasImage||(this.isbLogo=new r.ControllerContainer("sbLogo",this.findMultipleChild("sbLogo")),this.isbLogo.visible=!1),this.trademarkText=this.findChildByName(this.mobileLayoutPortrait,"trademarkText"),s.isNil(this.trademarkText)||(e.hasText&&1==e.hasText?this.trademarkText.updateLabel(this.translations.getValue("iSoftBetCopyrightLabel"),!0):this.trademarkText.visible=!1),this.clock=new c.ControllerTextField("clock",this.findMultipleChild("clock")),s.isNil(this.clock.currentComponent)||(e.hasClock&&1==e.hasClock?(this.clock.componentLandscape&&this.dispatchSignal(u.StripActionsNames.ADD_LABEL_TO_CLOCK,this.clock.componentLandscape),this.clock.componentPortrait&&this.dispatchSignal(u.StripActionsNames.ADD_LABEL_TO_CLOCK,this.clock.componentPortrait)):this.clock.visible=!1),this.paytableWaysTitle=new c.ControllerTextField("paytableWaysTitle",this.findMultipleChild("paytableWaysTitle"))},e.prototype.positionElements=function(){var t=0,e=0;if(p.Device.isLandscape()?(t=a.SceneManager.getScreenHeight,a.SceneManager.EXTRA_POSITIONS_REALIGNMENT.hasOwnProperty("strip_alignement")&&(e=a.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement.landscape)):(t=a.SceneManager.getScreenHeight,a.SceneManager.EXTRA_POSITIONS_REALIGNMENT.hasOwnProperty("strip_alignement")&&(e=a.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement.portrait)),this.positionContainerCenter(t,e),this.stripBar.y=t-this.stripBarBg.height,p.Device.isLandscape()&&(this.stripBarBonus.y=this.stripBar.y),this.firstDisplayText(),this.clock){var i=a.SceneManager.getScreenXOrigin;p.Device.isLandscape()?(this.containerTop.y=this.containerTop.height-a.SceneManager.ACTIVE_RATIO.height,this.containerTop.x=a.SceneManager.SCENE_WIDTH+i-this.clock.width,this.containerTopLeft.y=this.containerTopLeft.height-a.SceneManager.ACTIVE_RATIO.height,this.containerTopLeft.x=-i,this.clock.componentLandscape&&this.paytableWaysTitle.componentLandscape&&(this.clock.componentLandscape.x=-this.OFFSET_RIGHT_ALIGNMENT,this.paytableWaysTitle.componentLandscape.x=this.OFFSET_RIGHT_ALIGNMENT,this.clock.componentLandscape.y=this.paytableWaysTitle.componentLandscape.y=this.OFFSET_TOP_ALIGNMENT)):this.clock.componentLandscape&&this.clock.componentPortrait&&this.paytableWaysTitle.componentLandscape&&(this.clock.componentPortrait.x=a.SceneManager.SCENE_WIDTH+i-this.clock.componentPortrait.width/2,this.paytableWaysTitle.componentLandscape.x=a.SceneManager.SCENE_WIDTH+i-this.OFFSET_RIGHT_ALIGNMENT-this.clock.componentPortrait.width/2,this.clock.componentLandscape.y=this.paytableWaysTitle.componentLandscape.y=0)}},e.prototype.positionContainerCenter=function(t,e){this.containerCenter.y=-(t-a.SceneManager.SCENE_HEIGHT)-e},e.prototype.firstDisplayText=function(){var t=this;s.isNil(this.smallestFontSizeLandPort[Number(p.Device.isLandscape())])&&(s.each(this.titleToFit,(function(e){t.updateLabel(e,e.text.text,!0)})),s.each(this.valuesToFit,(function(e){t.updateLabel(e,e.text.text,!0)})),1==this.equalizeLabelSize&&this.equalizeFontSize())},e.prototype.deviceScreenResized=function(){this.smallestFontSize=this.smallestFontSizeLandPort[Number(p.Device.isLandscape())],t.prototype.deviceScreenResized.call(this)},e.prototype.equalizeFontSize=function(){var t=this;s.each(this.titleToFit,(function(e){e.fontSize=t.smallestFontSize+e.needToGrowBy})),s.each(this.valuesToFit,(function(e){e.fontSize=t.smallestFontSize+e.needToGrowBy}))},e.prototype.updateLabel=function(t,e,i){void 0===i&&(i=!1),e.length!=t.text.text.length||1==i||this.smallestFontSize!=this.smallestFontSizeLandPort[Number(p.Device.isLandscape())]?(t.updateLabel(e),this.smallestFontSize<t.fontSize?t.fontSize=this.smallestFontSize:this.smallestFontSize>t.fontSize&&(this.smallestFontSize=t.fontSize,this.smallestFontSizeLandPort[Number(p.Device.isLandscape())]=this.smallestFontSize,1==this.equalizeLabelSize&&0==i&&this.equalizeFontSize())):t.updateLabel(e,!1)},e}(h.StripAbstractPixiView);e.StripMobilePixiView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(96),a=i(48),r=i(124),l=i(18),c=i(32),u=i(38),h=i(102),p=i(0),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY="SlotStripView.onIncrementUpdateForWin"+u.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY="SlotStripView.onIncrementUpdateForWin"+u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementUpdateForBalance"+u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementCompleteForBalance"+u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e}return o(e,t),e.prototype.startCumulativeIncrementWin=function(t){this.initIncrementUpdates();var e=this.displayValues.getStringValueFrom(parseFloat(t.body.valueMoney),this.noCurrency);this.betLevelEnabled&&(0==parseFloat(t.body.valueMoney)?this.updateLabelsOutsideStrip("",s.LabelToUpdateVO.WIN,s.LabelToUpdateVO.MONEY):this.updateLabelsOutsideStrip(e,s.LabelToUpdateVO.WIN,s.LabelToUpdateVO.MONEY),e=this.displayValues.getStringValueFrom(parseFloat(t.body.valueMoney)/this.displayValues.coinValue)),this.updateLabel(this.winLabel,e),this.cumulativeWinStarted=!0,this.dispatchSignal(a.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY,updateType:h.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(a.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY})},e.prototype.stopCumulativeIncrementWin=function(){this.cumulativeWinStarted=!1;var t=this.displayValues.getStringValueFrom(0,this.noCurrency);this.betLevelEnabled&&(this.updateLabelsOutsideStrip("",s.LabelToUpdateVO.WIN,s.LabelToUpdateVO.MONEY),t=this.displayValues.getStringValueFrom(0)),this.updateLabel(this.winLabel,t),this.dispatchSignal(a.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:h.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(a.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY})},e.prototype.setMaxWinCapReached=function(t){this.maxWinCapReached=t},e.prototype.initIncrementUpdates=function(){this._labelSync||(this._labelSync=!0,this.dispatchSignal(a.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForBalance.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY,updateType:h.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(a.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:h.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(a.StripActionsNames.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT,{incrementId:u.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onComplete:this.onIncrementCompleteForBalance.bind(this),onCompleteKey:this.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY}))},e.prototype.onIncrementUpdateForBalance=function(e){if(this.maxWinCapReached){var i=this.displayValues.balance,n=this.displayValues.getStringValueFrom(i,this.noCurrency);if(this.updateLabel(this.balanceLabel,n),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,s.LabelToUpdateVO.BALANCE,s.LabelToUpdateVO.MONEY),this.creditLabel){var o=i/this.displayValues.coinValue;this.noCurrency&&(o=Math.floor(o)),this.updateLabel(this.creditLabel,c.NumberFormatterUtil.formatNumber(o,0))}}else t.prototype.onIncrementUpdateForBalance.call(this,e)},e.prototype.initElements=function(){if(t.prototype.initElements.call(this),this.betLevelEnabled){var e=[new l.ControllerContainer("sbBalanceContainer",this.findMultipleChild("sbBalanceContainer")),new l.ControllerContainer("sbBetContainer",this.findMultipleChild("sbBetContainer")),new l.ControllerContainer("sbWinContainer",this.findMultipleChild("sbWinContainer")),new l.ControllerContainer("sbCreditContainer",this.findMultipleChild("sbCreditContainer"))];p.forEach(e,(function(t){t.visible=!1,t.alpha=0}))}},e}(r.StripAbstractPixiView);e.SlotStripPixiView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(48),a=i(294),r=i(32),l=i(38),c=i(102),u=i(96),h=i(41),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY="SlotStripView.onIncrementUpdateForWin"+l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY="SlotStripView.onIncrementUpdateForWin"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementUpdateForBalance"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementCompleteForBalance"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e}return o(e,t),e.prototype.startCumulativeIncrementWin=function(t){this.initIncrementUpdates();var e=this.displayValues.getStringValueFrom(parseFloat(t.body.valueMoney),this.noCurrency);this.betLevelEnabled&&(this.updateLabelsOutsideStrip(e,u.LabelToUpdateVO.WIN,u.LabelToUpdateVO.MONEY),e=h.SlotMoneyUtils.getCoinsAsString(parseFloat(t.body.valueCoins))),this.updateLabel(this.winLabel,e),this.cumulativeWinStarted=!0,this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY})},e.prototype.stopCumulativeIncrementWin=function(){this.cumulativeWinStarted=!1;var t=this.displayValues.getStringValueFrom(0,this.noCurrency);this.betLevelEnabled&&(this.updateLabelsOutsideStrip("",u.LabelToUpdateVO.WIN,u.LabelToUpdateVO.MONEY),t=this.displayValues.getStringValueFrom(0)),this.updateLabel(this.winLabel,t),this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY})},e.prototype.setMaxWinCapReached=function(t){this.maxWinCapReached=t},e.prototype.initIncrementUpdates=function(){this._labelSync||(this._labelSync=!0,this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForBalance.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onComplete:this.onIncrementCompleteForBalance.bind(this),onCompleteKey:this.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY}))},e.prototype.onIncrementUpdateForBalance=function(e){if(this.maxWinCapReached){var i=this.displayValues.balance,n=this.displayValues.getStringValueFrom(i,this.noCurrency);if(this.updateLabel(this.balanceLabel,n),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,u.LabelToUpdateVO.BALANCE,u.LabelToUpdateVO.MONEY),this.creditLabel){var o=i/this.displayValues.coinValue;this.noCurrency&&(o=Math.floor(o)),this.updateLabel(this.creditLabel,r.NumberFormatterUtil.formatNumber(o,0))}}else t.prototype.onIncrementUpdateForBalance.call(this,e)},e}(a.StripMobilePixiView);e.SlotStripMobilePixiView=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(5),r=i(748),l=i(749),c=i(750),u=i(751),h=i(752),p=i(753),d=i(754),_=i(755),f=i(756),y=i(757),m=i(758),N=i(759),S=i(760),g=i(762),A=i(23),E=i(763),I=i(298),O=i(764),T=i(2),P=i(765),b=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(T.Notifications.Global.INITIALIZE_MODULE,h.FreeRoundsInitializeModuleCommand),this.addCommand(a.States.FREE_ROUNDS_END_GAME_ENABLE_UI,g.FreeRoundsEndGameEnableUICommand),this.addCommand(a.States.FREE_ROUNDS_START,f.FreeRoundsStartCommand),this.addCommand(A.FRNotifications.ACCEPT_FREE_ROUNDS,r.FreeRoundsAcceptCommand),this.addCommand(A.FRNotifications.DECLINE_FREE_ROUNDS,l.FreeRoundsDeclineCommand),this.addCommand(A.FRNotifications.RESUME_FREE_ROUNDS,d.FreeRoundsResumeCommand),this.addCommand(A.FRNotifications.RESUME_PENDING_WINNINGS_FREE_ROUNDS,_.FreeRoundsResumePendingWinningsCommand),this.addCommand(A.FRNotifications.HIDE_END_POP_UP_FREE_ROUNDS,u.FreeRoundsHideEndPopUpFreeRoundsCommand),this.addCommand(a.States.REROUTE_GAME_PREPARE,p.FreeRoundsRerouteGameCommand),this.addCommand(a.States.END_GAME_PREPARE,c.FreeRoundsEndGameCommand),this.addCommand(T.Notifications.Global.HAS_TO_START_FREE_ROUNDS_AT_RESTORE,E.FreeRoundsHasToStartAtRestoreCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(A.FRProxiesName.FREE_ROUNDS_PROXY,I.FreeRoundsProxy)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(m.FreeRoundsStartMediator,"freeRoundsStartView"),this.addMediator(O.FreeRoundsUIMediator,"freeRoundsUIView"),this.addMediator(y.FreeRoundsEndMediator,"freeRoundsEndView")},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("freeRoundsStartView",[S.FreeRoundsStartViewPixi,S.FreeRoundsStartViewPixi,S.FreeRoundsStartViewPixi]),this.addView("freeRoundsUIView",[P.FreeRoundsUIViewPixi,P.FreeRoundsUIViewPixi,P.FreeRoundsUIViewPixi]),this.addView("freeRoundsEndView",[N.FreeRoundsEndViewPixi,N.FreeRoundsEndViewPixi,N.FreeRoundsEndViewPixi])},e}(s.AbstractModule);e.FreeRounds=b},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(5),l=i(2),c=i(1),u=i(7),h=i(10),p=i(23),d=i(14),_=i(26),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeRoundsPackageDetails={},e.isFreeRoundsActive=!1,e.hasProgressive=!1,e.hasToStarFreeRoundsFeature=!1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS")&&this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS").progressiveEnabled&&(this.hasProgressive=!0),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.progressiveConnectionProxy)&&this.hasProgressive&&(this.progressiveConnectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.PROGRESSIVE_CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.startFreeRounds=function(){this.updateFreeRoundsConditions(),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.UpdateUIAction.FREE_ROUNDS_START),this.isFreeRoundsActive=!0,this.validationProxy.toggleValidation(h.ValidationProperties.FREE_ROUNDS_IN_PROGRESS,!0),this.validationProxy.validateAll(h.ValidationTypes.ATM_READY_TO_SPIN)&&(this.validationProxy.toggleValidation(h.ValidationProperties.ATM_READY_TO_SPIN,!1),this.sendGlobalNotification(l.Notifications.Global.CALL_BACK_ON_EVENT,new d.ATOnEventVO(_.SlotATEventNames.READY_TO_SPIN,new d.ATGenericEvent,1e3)))},e.prototype.updateFreeRoundsScreen=function(){this.settings.map("maxWinCapReached",this.skipBalanceIncrement()),this.sendNotification(p.FRNotifications.UPDATE_FREE_ROUNDS_SCREEN,this.freeRoundsPackageDetails)},e.prototype.finishFreeRounds=function(){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.END_GAME_ENABLE_UI),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.UpdateUIAction.FREE_ROUNDS_FINISHED),this.updateBalance()},e.prototype.clearFreRoundsDetails=function(){this.freeRoundsPackageDetails={}},e.prototype.checkFreeRoundsAvailability=function(){var t=!1;return this.hasToFinishFR&&(t=!0,this.sendGlobalNotification(l.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.FREE_ROUNDS_END),this.isFreeRoundsActive=!1,this.hasToStarFreeRoundsFeature=!1,this.validationProxy.toggleValidation(h.ValidationProperties.FREE_ROUNDS_IN_PROGRESS,!1),this.freeRoundsPackageDetails={}),t},e.prototype.setHasToStarFreeRoundsFeature=function(t){this.hasToStarFreeRoundsFeature=t},e.prototype.hasToStartFreeRoundFeature=function(){var t=this.isFreeRoundsActive||this.hasToStarFreeRoundsFeature;return this.isFreeRoundsActive?this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.FREE_ROUNDS_END_GAME_ENABLE_UI):this.hasToStarFreeRoundsFeature&&(s.has(this.freeRoundsPackageDetails,"fRoundRounds")&&this.freeRoundsPackageDetails.fRoundRounds>0?this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.FREE_ROUNDS_START):this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.FREE_ROUNDS_END_GAME_ENABLE_UI)),t},e.prototype.updateFreeRoundsConditions=function(){var t=this.moneyProxy.getCurrentLine(),e=this.moneyProxy.getCurrentCoin(),i=this.moneyProxy.getCurrentCoinValue(),n=!1,o=this.settings.getValue("GameConfig");t==this.freeRoundsPackageDetails.fRoundLines||o.hasWays||o.hasBetPerSpin||(this.moneyProxy.updateLines(this.freeRoundsPackageDetails.fRoundLines,!0,!1,!1),n=!0),e!=this.freeRoundsPackageDetails.fRoundLineBet&&(this.moneyProxy.updateCoins(this.freeRoundsPackageDetails.fRoundLineBet,!0,!1,!1),n=!0),i!=this.freeRoundsPackageDetails.fRoundCoinValue&&(this.moneyProxy.updateCoinValue(this.freeRoundsPackageDetails.fRoundCoinValue,!0,!1,!1),n=!0,this.hasProgressive&&this.progressiveConnectionProxy.sendCoinValue()),n&&this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues)},Object.defineProperty(e.prototype,"hasToFinishFR",{get:function(){return this.normalFinishFRValidation()||this.pendingFinishFRValidation()},enumerable:!0,configurable:!0}),e.prototype.normalFinishFRValidation=function(){var t=this.connectionProxy.getServerData("fRound"),e=0;return t&&(e=t.fRoundRounds),this.connectionProxy.getServerData("fRoundTotalWins")&&0==e},e.prototype.hasCoinValueToStartFR=function(t){var e=!0;return this.connectionProxy.getServerData("coinValues").coinValueList.split(",").indexOf(t)<0&&(e=!1),e},e.prototype.pendingFinishFRValidation=function(){var t=!1;return this.freeRoundsPackageDetails&&s.has(this.freeRoundsPackageDetails,"fRoundPendingWins")&&(t=!0),t},e.prototype.skipBalanceIncrement=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=this.connectionProxy.getServerData(r.States.DOUBLE_WIN);if(t&&e){var i=parseInt(t.money),n=parseInt(e.money);return i+parseInt(e.totalWinningsMoney)>n}return!1},e.prototype.updateBalance=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=this.connectionProxy.getServerData(r.States.DOUBLE_WIN);t&&e&&(this.moneyProxy.updateBalance(e.money),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues))},e}(a.Proxy);e.FreeRoundsProxy=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.NAME="BonusSystemActionsNames",t.BONUS_SYSTEM_HIDE_END_POP_UP=t.NAME+".BONUS_SYSTEM_HIDE_END_POP_UP",t}();e.BonusSystemActionsNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(221),a=i(6),r=i(5),l=i(2),c=i(36),u=i(785),h=i(12),p=i(786),d=i(787),_=i(788),f=i(789),y=i(790),m=i(301),N=i(142),S=i(791),g=i(792),A=i(793),E=i(794),I=i(795),O=i(796),T=i(797),P=i(798),b=i(799),C=i(303),v=i(800),M=i(801),L=i(802),R=i(803),D=i(804),w=i(805),x=i(806),U=i(807),B=i(808),G=i(809),V=i(811),W=i(812),F=i(813),k=i(814),H=i(815),j=i(816),Y=i(817),X=i(818),K=i(304),z=i(819),q=i(820),Z=i(821),J=i(305),$=i(822),Q=i(306),tt=i(823),et=i(824),it=i(825),nt=i(826),ot=function(t){function e(e){var i=t.call(this,e)||this;return a.Log.forceLogConsolech("Version","ATM Slot Client Version : 100 - New era begins!"),i}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(l.Notifications.Global.INITIALIZING_MODULE,S.SlotAutomatedTestInitializeModuleCommand),this.addCommand(h.ATNotifications.GET_BALANCE_HOOK,Y.SlotAutomatedTestHookGetBalanceCommand),this.replaceCommand(h.ATNotifications.NOT_ENOUGH_MONEY_HOOK,z.SlotAutomatedTestHookNotEnoughMoneyCommand),this.replaceCommand(h.ATNotifications.OPEN_PAGE_COMMAND,k.SlotAutomatedTestHookOpenPageCommand),this.replaceCommand(h.ATNotifications.SCROLL_PAGE_COMMAND,I.SlotAutomatedTestHookScrollPageCommand),this.replaceCommand(h.ATNotifications.CLOSE_PAGE_COMMAND,M.SlotAutomatedTestHookClosePageCommand),this.replaceCommand(h.ATNotifications.RCI_CHOICE_HOOK,q.SlotAutomatedTestHookRciChoiceCommand),this.addCommand(N.SlotATNotifications.ADD_SPIN_CONFIGURATIONS_HOOK,H.SlotAutomatedTestHookAddSpinConfigurationsCommand),this.addCommand(N.SlotATNotifications.ADD_SPECIAL_COMMAND_CONFIGURATIONS_HOOK,L.SlotAutomatedTestHookAddSpecialCommandConfigurationsCommand),this.addCommand(N.SlotATNotifications.RESET_SPIN_CONFIGURATIONS_HOOK,U.SlotAutomatedTestHookResetSpinConfigurationsCommand),this.addCommand(N.SlotATNotifications.GET_COIN_VALUE_HOOK,B.SlotAutomatedTestHookGetCoinValueCommand),this.addCommand(N.SlotATNotifications.SET_COIN_VALUE_HOOK,R.SlotAutomatedTestHookSetCoinValueCommand),this.addCommand(N.SlotATNotifications.GET_LINES_HOOK,P.SlotAutomatedTestHookGetLinesCommand),this.addCommand(N.SlotATNotifications.SET_LINES_HOOK,tt.SlotAutomatedTestHookSetLinesCommand),this.addCommand(N.SlotATNotifications.GET_BET_PER_LINE_HOOK,w.SlotAutomatedTestHookGetBetPerLineCommand),this.addCommand(N.SlotATNotifications.SET_BET_PER_LINE_HOOK,p.SlotAutomatedTestHookSetBetPerLineCommand),this.addCommand(N.SlotATNotifications.SKIP_INTRO_HOOK,u.SlotAutomatedTestHookSkipIntroCommand),this.addCommand(N.SlotATNotifications.SET_SPECIAL_DEBUG_COMMAND,E.SlotAutomatedTestHookSetSpecialDebugCommand),this.addCommand(N.SlotATNotifications.SPIN_HOOK,v.SlotAutomatedTestHookSpinCommand),this.addCommand(N.SlotATNotifications.AUTO_SPIN_HOOK,Z.SlotAutomatedTestHookAutoSpinCommand),this.addCommand(N.SlotATNotifications.GET_CURRENT_SYMBOLS,d.SlotAutomatedTestHookGetCurrentSymbolsCommand),this.addCommand(N.SlotATNotifications.GET_PROGRESSIVE_HOOK,b.SlotAutomatedTestHookGetProgressiveCommand),this.addCommand(N.SlotATNotifications.CLICK_BONUS_CHOICE,g.SlotAutomatedTestHookClickBonusChoiceCommand),this.addCommand(N.SlotATNotifications.CLOSE_FEATURE_POP_UP,W.SlotAutomatedTestHookCloseFeaturePopUpCommand),this.replaceCommand(l.Notifications.Global.SHOW_REALITY_CHECK_CLIENT,T.SlotATHandleRealityCheckCommand),this.addCommand(l.Notifications.Global.UPDATE_USER_INTERFACE,_.SlotATOnEventScreenshotReadyToSpinCommand),this.addCommand(r.States.END_GAME_ENABLE_UI,f.SlotATOnEventReadyToSpinCommand),this.addCommand(r.States.AUTO_PLAY_END_GAME_ENABLE_UI,C.SlotATOnEventDoScreenshotCommand),this.addCommand(r.States.FREE_SPINS_END_GAME_ENABLE_UI,C.SlotATOnEventDoScreenshotCommand),this.addCommand(r.States.RESPIN_END_GAME_ENABLE_UI,C.SlotATOnEventDoScreenshotCommand),this.addCommand(l.Notifications.Global.SPIN,K.SlotATOnEventGameRoundStartedCommand),this.addCommand(r.States.END_GAME_PREPARE,y.SlotATOnEndGamePrepareCommand),this.addCommand(r.States.END_GAME_DECISION,m.SlotATOnEventGameRoundEndedCommand),this.addCommand(l.Notifications.Wheels.WHEELS_ANIMATIONS_COMPLETE,A.SlotATOnWheelsAnimationsCompleteCommand),this.addCommand(r.States.BEGIN_GAME,O.SlotATOnEventReadyToSpinOnBeginGameCommand),this.addCommand(l.Notifications.Global.INTRO_CLOSED,F.SlotATOnIntroClosedCommand),this.addCommand(l.Notifications.Global.LAYER_TRANSITION_IN_COMPLETED,X.SlotATOnFeaturePopUpOpenCommand),this.addCommand(l.Notifications.Global.LAYER_TRANSITION_OUT_STARTED,V.SlotATOnFeaturePopUpClosedCommand),this.addCommand(c.UserInterfaceAction.HIDE_FREE_SPINS_START_POP_UP,x.SlotATOnHideFreeSpinsStartPopUpCommand),this.addCommand(c.UserInterfaceAction.HIDE_FREE_SPINS_END_POP_UP,j.SlotATOnHideFreeSpinsEndPopUpCommand),this.addCommand(l.Notifications.Global.RESPINS_STARTED,Q.SlotATOnRespinsStartCommand),this.addCommand(l.Notifications.Global.RESPINS_ENDED,J.SlotATOnRespinsEndCommand),this.addCommand(l.Notifications.Money.BET_NOT_VALID,D.SlotATOnBetNotValidCommand),this.addCommand(l.Notifications.Winning.BIG_WIN_ANIMATION_STARTED,$.SlotATOnEventWinAnimationsCommand),this.addCommand(l.Notifications.Winning.FANTASTIC_WIN_ANIMATION_STARTED,$.SlotATOnEventWinAnimationsCommand),this.addCommand(l.Notifications.Winning.ULTRA_WIN_ANIMATION_STARTED,$.SlotATOnEventWinAnimationsCommand),this.addCommand(l.Notifications.Winning.PLAY_FIVE_OF_A_KIND_ANIMATION,$.SlotATOnEventWinAnimationsCommand),this.addCommand(l.Notifications.Global.START_PROGRESSIVE_POPUP,$.SlotATOnEventWinAnimationsCommand),this.addCommand(r.States.END_GAME,G.SlotATOnEndGameCommand),this.addCommand(l.Notifications.Money.UPDATE_DISPLAY_VALUES,et.SlotATOnUpdateDisplayValues),this.replaceCommand(h.ATNotifications.MANAGE_EXTERNAL_ACTIONS,nt.SlotManageExternalActionsCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(N.SlotATMProxiesNames.SLOT_ATM_PROXY,it.SlotAutomatedTestProxy)},e}(s.AutomatedTest);e.SlotAutomatedTest=ot},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(5),l=i(25),c=i(12),u=i(26),h=i(14),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGameRoundEnded(),this.sendProgressiveWin()},e.prototype.sendGameRoundEnded=function(){if(this.validationProxy.validateNone(a.ValidationTypes.COPY_WILD_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.STICKY_SYMBOL_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.EXTENDED_WILD_IN_PROGRESS)&&this.validationProxy.validateAll(a.ValidationTypes.ATM_GAMEROUND_ENDED_TO_BE_SEND)){this.validationProxy.toggleValidation(a.ValidationProperties.ATM_GAMEROUND_ENDED_TO_BE_SEND,!1);var t=new u.SlotATGameroundEnded(this.getTotalWinnings(),this.getAdditionalWin(),this.getFreeSpinsWinnings(),this.getMultiplier(),this.getAdditionalMultiplier(),this.getProgressive(),this.getSplitReels()),e=new h.ATOnEventVO(u.SlotATEventNames.GAMEROUND_ENDED,t);c.ATCallBack.onEvent(e)}},e.prototype.getTotalWinnings=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=Number(t.totalWinnings);if(s.has(t,"progressive")){var i=Number(t.progressive.value);if(i!==this.progressiveProxy.progressiveWinValueInCoins){var n=Math.floor(i/this.moneyProxy.getCurrentCoinValue());e>=n&&(e-=n)}else e>=i&&(e-=i)}return e<0&&(e=0),e},e.prototype.getFreeSpinsWinnings=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=0;return s.has(t,"freeGamesWin")&&(e=Number(t.freeGamesWin.total)),e},e.prototype.getMultiplier=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=1;return s.has(t,"multiplier")?e=Number(t.multiplier):s.has(t,"multiplicativeValue")?e=Number(t.multiplicativeValue):s.has(t,"freeGames")&&(s.has(t.freeGames,"totalMultiplier")?e=Number(t.freeGames.totalMultiplier):s.has(t.freeGames,"mult")?e=Number(t.freeGames.mult):s.has(t.freeGames,"multiplier")?e=Number(t.freeGames.multiplier):s.has(t,"freeGamesWin")&&(s.has(t.freeGamesWin,"totalMultiplier")?e=Number(t.freeGamesWin.totalMultiplier):s.has(t.freeGamesWin,"mult")?e=Number(t.freeGamesWin.mult):s.has(t.freeGamesWin,"multiplier")&&(e=Number(t.freeGamesWin.multiplier)))),e},e.prototype.getAdditionalWin=function(){var t=0,e=this.connectionProxy.getServerData(r.States.END_GAME),i=0;s.has(e,"doubleSymbol")&&(i=Number(e.doubleSymbol.value)),t+=i;var n=0;s.has(e,"freeGames")&&s.has(e.freeGames,"specialGain")&&(n=Number(e.freeGames.specialGain)),t+=n;var o=0;return s.has(e,"additiveValue")&&(o=Number(e.additiveValue)),t+=o},e.prototype.getAdditionalMultiplier=function(){var t=this.connectionProxy.getServerData(r.States.END_GAME),e=null;if(this.getMultiplier()<2){var i=void 0;s.has(t.lines,"line")&&(i=t.lines.line,s.isArray(i)||(i=[i]),e={}),s.each(i,(function(t){e[t.pos]=1,s.has(t,"multiplier")&&(e[t.pos]=t.multiplier)}))}return e},e.prototype.getProgressive=function(){var t,e=this.connectionProxy.getServerData(r.States.END_GAME);if(s.has(e,"progressive")){var i=1;s.has(e.progressive,"level")&&(i=parseInt(e.progressive.level)),i=this.progressiveProxy.getProgressiveValues()[i-1].id;var n=this.moneyProxy.getCurrentCoinValue(),o=parseInt(e.progressive.value);o!==this.progressiveProxy.progressiveWinValueInCoins&&(o=Math.floor(o/n));t={id:i,value:o,type:"coins",doScreenshot:!1}}return t},e.prototype.getSplitReels=function(){},e.prototype.sendProgressiveWin=function(){var t=this.getProgressive();if(t){var e=new h.ATOnEventVO(u.SlotATEventNames.PROGRESSIVE_WIN,t);c.ATCallBack.onEvent(e)}},e}(l.SlotAutomatedTestAbstractCommand);e.SlotATOnEventGameRoundEndedCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BONUS_WIN_DYNAMIC_COINS="BonusWin-Coins",e.BONUS_WIN_DYNAMIC_FREE_SPINS="BonusWin-Free Spins",e.BONUS_WIN_DYNAMIC_MULTIPLIER="BonusWin-Multiplier",e.BONUS_WIN_DYNAMIC_PROGRESSIVE="BonusWin-Progressive",e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initDynamicSpecialCommandMap()},e.prototype.initDynamicSpecialCommandMap=function(){s.isNil(this.bonusWinDynamicMap)&&(this.bonusWinDynamicMap={},this.bonusWinDynamicMap[this.BONUS_WIN_DYNAMIC_COINS]="772",this.bonusWinDynamicMap[this.BONUS_WIN_DYNAMIC_FREE_SPINS]="772",this.bonusWinDynamicMap[this.BONUS_WIN_DYNAMIC_MULTIPLIER]="772",this.bonusWinDynamicMap[this.BONUS_WIN_DYNAMIC_PROGRESSIVE]="772")},e.prototype.getFinalSpecialDebugCommand=function(t){var i=this.getStaticSpecialDebugCommand(t);return i||(i=this.getDynamicSpecialDebugCommand(t)),i||(i=e.getCustomSpecialDebugCommand(t)),i},e.prototype.getStaticSpecialDebugCommand=function(t){var e=null,i=this.settings.getValue("CHEAT_TOOL_SPECIAL_COMMANDS");return i[t]&&(e=i[t].split("|")),e},e.prototype.getDynamicSpecialDebugCommand=function(t){var e=null,i=t.split("_"),n=i[0];if(this.bonusWinDynamicMap[n]){var o=i[1];e=[this.bonusWinDynamicMap[n],o]}return e},e.getCustomSpecialDebugCommand=function(t){var e=null;return t&&(e=t.split("|")),e},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestAbstractSpecialDebugCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(25),r=i(12),l=i(10),c=i(26),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.rciLogic(),this.readyForNextSpinLogic()},e.prototype.readyForNextSpinLogic=function(){this.validationProxy.validateAll(l.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&r.ATCallBack.onEvent(new s.ATOnEventVO(c.SlotATEventNames.READY_FOR_NEXT_SPIN,new s.ATGenericEvent,200))},e.prototype.rciLogic=function(){this.validationProxy.validateNone(l.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(l.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(l.ValidationTypes.RESPINS_IN_PROGRESS)&&this.validationProxy.validateNone(l.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)&&r.ATCallBack.onEvent(new s.ATOnEventVO(s.ATEventNames.RCI_CHECKPOINT,new s.ATGenericEvent(!1)))},e}(a.SlotAutomatedTestAbstractCommand);e.SlotATOnEventDoScreenshotCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(25),r=i(14),l=i(12),c=i(26),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=this.moneyProxy.validateStartGame();if(this.validationProxy.validateAll(s.ValidationTypes.REALITY_CHECK_VALIDATION)&&this.validationProxy.toggleValidation(s.ValidationProperties.ATM_REDO_SPIN,!0),i.success&&(this.validationProxy.validateNone(s.ValidationTypes.REALITY_CHECK_VALIDATION)||this.validationProxy.validateAll(s.ValidationTypes.FREE_SPINS_IN_PROGRESS)||this.validationProxy.validateAll(s.ValidationTypes.RESPINS_IN_PROGRESS)||this.validationProxy.validateAll(s.ValidationTypes.FREE_ROUNDS_IN_PROGRESS))){this.validationProxy.toggleValidation(s.ValidationProperties.ATM_REDO_SPIN,!1);var n=new c.SlotATGameroundStarted(this.moneyProxy.getTotalBetInCoins(),this.validationProxy.validateAll(s.ValidationTypes.AUTOPLAY_IN_PROGRESS),this.validationProxy.validateAtLeastOne(s.ValidationTypes.SUBSTRACT_BET_VALIDATION),this.validationProxy.validateAll(s.ValidationTypes.RESPINS_IN_PROGRESS)),o=new r.ATOnEventVO(c.SlotATEventNames.GAMEROUND_STARTED,n);l.ATCallBack.onEvent(o)}},e}(a.SlotAutomatedTestAbstractCommand);e.SlotATOnEventGameRoundStartedCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(26),r=i(12),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=new a.SlotATSpinsGroupEnded(a.SlotATSpinsGroupEnded.RE_SPINS_GROUP),n=new s.ATOnEventVO(a.SlotATEventNames.SPINS_GROUP_ENDED,i);r.ATCallBack.onEvent(n)},e}(i(3).Controller);e.SlotATOnRespinsEndCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),a=i(25),r=i(26),l=i(14),c=i(12),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),""==this.getInitialCurrentState()){var i=new r.SlotATSpinsGroupStarted(r.SlotATSpinsGroupStarted.RE_SPINS_GROUP),n=new l.ATOnEventVO(r.SlotATEventNames.SPINS_GROUP_STARTED,i);c.ATCallBack.onEvent(n)}},e.prototype.getInitialCurrentState=function(){var t="",e=this.connectionProxy.getServerData(s.States.INITIAL);return e&&(t=e.currentState),t},e}(a.SlotAutomatedTestAbstractCommand);e.SlotATOnRespinsStartCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(827),a=i(828),r=i(829),l=i(830),c=i(831),u=i(832),h=i(833),p=i(834),d=i(835),_=i(836),f=i(837),y=i(838),m=i(839),N=i(840),S=i(841),g=i(842),A=i(843),E=i(308),I=i(844),O=i(845),T=i(846),P=i(847),b=i(848),C=i(849),v=i(850),M=i(851),L=i(852),R=i(853),D=i(247),w=i(5),x=i(854),U=i(855),B=i(856),G=i(857),V=i(2),W=i(858),F=i(859),k=i(860),H=i(861),j=i(862),Y=i(863),X=i(864),K=i(865),z=i(867),q=i(36),Z=i(869),J=i(1),$=i(870),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(V.Notifications.Global.VERIFY_SPECIAL_FEATURE_AT_RESTORE,a.InitializeAmbianceSoundsCommand),this.addCommand(V.Notifications.Global.OVERRIDE_SOUNDS,$.SlotOverrideSoundsCommand),this.addCommand(w.States.INTRO_FEATURES,r.IntroFeaturesSoundEffectsCommand),this.addCommand(V.Notifications.Global.INTRO_VIDEO_STOP_SOUND,l.IntroVideoStopSoundEffectCommand),this.addCommand(V.Notifications.Global.INTRO_VIDEO_PLAY_SOUND,x.IntroVideoPlaySoundEfectCommand),this.addCommand(V.Notifications.Global.PLAY_WELCOME_SOUNDS,A.PlayWelcomeGameSoundsCommand),this.addCommand(V.Notifications.Wheels.SPIN_WHEEL_ANIMATION,O.SpinWheelAnimationSoundEffectsCommand),this.addCommand(V.Notifications.Wheels.WHEELS_COMPLETE_SOUNDS,b.StopWheelAnimationSoundEffectsCommand),this.addCommand(V.Notifications.Wheels.PLAY_ANNOUNCE_SYMBOLS_SOUND,p.PlayAnnounceSpecialSymbolSoundsCommand),this.addCommand(V.Notifications.Wheels.PLAY_WHEEL_STOP_SOUND,L.WheelStopSoundCommand),this.addCommand(V.Notifications.Wheels.PLAY_NEAR_MISS_ANIMATION,U.PlayNearMissAnimationSoundCommand),this.addCommand(V.Notifications.Wheels.NEAR_MISS_WHEEL_COMPLETED,B.WheelStopNearMissAnimationSoundCommand),this.addCommand(V.Notifications.Wheels.NEAR_MISS_ANIMATION_COMPLETED,G.StopNearMissAnimationSoundCommand),this.addCommand(V.Notifications.Global.GET_CURRENT_AMBIANCE,s.GetCurrentAmbianceCommand),this.addCommand(V.Notifications.Global.SOUND_PARSED,I.StartAmbianceCommand),this.addCommand(V.Notifications.Global.EXTENDED_WILD_ANIMATION_STARTED,f.PlayExtendedWildAnimationStartedCommand),this.addCommand(V.Notifications.Winning.BIG_WIN_ANIMATION_STARTED,d.PlayBigWinAnimationStartedSoundCommand),this.addCommand(V.Notifications.Winning.PLAY_BIG_WIN_VOICE,W.PlayBigWinVoiceSoundCommand),this.addCommand(V.Notifications.Winning.STOP_BIG_WIN_VOICE,F.StopBigWinVoiceSoundCommand),this.addCommand(V.Notifications.Winning.BIG_WIN_INCREMENT_ENDED,_.PlayBigWinIncrementEndedSoundCommand),this.addCommand(V.Notifications.Winning.BIG_WIN_ANIMATION_STOPPED,P.StopBigWinAnimationSoundCommand),this.addCommand(V.Notifications.Winning.FANTASTIC_WIN_ANIMATION_STARTED,y.PlayFantasticWinAnimationStartedSoundCommand),this.addCommand(V.Notifications.Winning.ULTRA_WIN_ANIMATION_STARTED,g.PlayUltraWinAnimationStartedSoundCommand),this.addCommand(V.Notifications.Winning.PLAY_FIVE_OF_A_KIND_ANIMATION,m.PlayFiveOfAKindAnimationSoundCommand),this.addCommand(V.Notifications.Global.PLAY_WINNINGS_ANIMATIONS_SOUNDS,E.PlayWinningsSoundsCommand),this.addCommand(V.Notifications.Winning.STOP_WINNINGS_ANIMATIONS_SOUNDS,v.StopWinningsSoundsCommand),this.addCommand(V.Notifications.Winning.STOP_WINNINGS_ANIMATIONS,C.StopWinningsAllSoundsCommand),this.addCommand(V.Notifications.Winning.WHEEL_COMPLETE_WIN_ANIMATION,M.WheelCompleteWinAnimationSoundsCommand),this.addCommand(V.Notifications.Increment.INCREMENT_STARTED,S.PlayIncrementSoundCommand),this.addCommand(V.Notifications.Increment.INCREMENT_COMPLETED,N.PlayIncrementCompleteSoundCommand),this.addCommand(V.Notifications.Global.START_FREE_SPINS_ROUND,k.StartFreeSpinSoundEffectCommand),this.addCommand(q.UserInterfaceAction.HIDE_FREE_SPINS_END_POP_UP,H.HideFreeSpinsEndPopUpSoundEffectsCommand),this.addCommand(w.States.SHOW_EXTRA_FREE_SPIN_POP_UP,j.ShowFreeSpinsExtraPopUpSoundEffectsCommand),this.addCommand(V.Notifications.Global.PAY_TABLE_OPENING,Y.PayTableOpeningCommand),this.addCommand(V.Notifications.Global.PAY_TABLE_CLOSING,X.PayTableClosingCommand),this.addCommand(V.Notifications.Global.MENU_OPENING,u.MenuOpeningCommand),this.addCommand(V.Notifications.Global.MENU_CLOSING,c.MenuClosingCommand),this.addCommand(V.Notifications.Global.START_PROGRESSIVE_POPUP,T.StartProgressivePopupSoundEffectsCommand),this.addCommand(V.Notifications.Global.PAGE_VISIBILITY_CHANGED,h.PageVisibilityChangedCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(J.Names.Proxies.SOUND_EFFECT,K.SlotSoundEffectsProxy),this.addProxy(J.Names.Proxies.SOUND_NAMES,z.SlotSoundNamesProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("SoundEffectView",[R.SlotSoundEffectsView,R.SlotSoundEffectsView,R.SlotSoundEffectsView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(Z.SoundEffectsMediator,"SoundEffectView")},e}(D.SoundEffects);e.SlotSoundEffects=Q},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(62),l=i(1),c=i(2),u=i(11),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.featureSound="",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.soundEffectsProxy.featureSoundPlayed=!1,this.winningsSoundsProperty||this.initSoundProperties();var e=t.body.animationStep,i=!1;if(s.isNil(e)||(i=this.playFeatureSound(e)),i)return this.sendGlobalNotification(c.Notifications.Global.STOP_SOUND,{soundName:u.SlotSoundNames.FIVE_OF_A_KIND}),void this.sendGlobalNotification(c.Notifications.Global.STOP_SOUND,{soundName:u.SlotSoundNames.FIVE_OF_A_KIND+u.SlotSoundNames.VOICE});this.soundEffectsProxy.fiveOfAKindIsPlaying?this.soundEffectsProxy.fiveOfAKindIsPlaying=!1:(this.soundEffectsProxy.fiveOfAKindIsPlaying=!1,s.isNil(e)||(e.type==r.WinningTypes.SHOW_ALL&&!0!==t.body.showAllOverride?this.playShowAllSound():(this.playSymbolWonSound(e),this.playWinPerBetSound(e))))},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY)),s.isNil(this.soundEffectsProxy)&&(this.soundEffectsProxy=this.retrieveGlobalProxy(l.Names.Proxies.SOUND_EFFECT,l.Names.Modules.SOUND_EFFECT_MODULE)),s.isNil(this.soundNamesProxy)&&(this.soundNamesProxy=this.retrieveProxy(l.Names.Proxies.SOUND_NAMES)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.initSoundProperties=function(){this.winningsSoundsProperty={};var t=this.settings.getValue("WIN_SOUNDS_SYMBOLS");s.isArray(t)||(t=[t],s.each(t,(function(t,e){if(t.symbolsId){var i=t.symbolsId.split(",");t.symbolsId=i}}))),this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS=t,this.winningsSoundsProperty.WIN_SOUNDS_SHOW_ALL=this.settings.getValue("WIN_SOUNDS_SHOW_ALL").split(",");var e=this.settings.getValue("WIN_SOUNDS_BET");s.isArray(e)||(e=[e]),this.winningsSoundsProperty.WIN_SOUNDS_BET=e},e.prototype.playFeatureSound=function(t){var e=this;if(s.isNil(t))return!1;var i=!1;return t.type==r.WinningTypes.SHOW_ALL?s.each(t.lines,(function(t){""!=t.soundName&&(e.sendGlobalNotification(c.Notifications.Global.PLAY_SOUND,{soundName:t.soundName,callBackFunction:e.onFeatureSoundComplete.bind(e)}),e.featureSound=t.soundName,e.soundEffectsProxy.playingWinSounds.push(t.soundName),e.pauseAmbianceSound(),i=!0)})):""!=t.lines[0].soundName&&(this.sendGlobalNotification(c.Notifications.Global.PLAY_SOUND,{soundName:t.lines[0].soundName,callBackFunction:this.onFeatureSoundComplete.bind(this)}),this.soundEffectsProxy.playingWinSounds.push(t.lines[0].soundName),this.featureSound=t.lines[0].soundName,this.pauseAmbianceSound(),i=!0),i},e.prototype.pauseAmbianceSound=function(){this.soundEffectsProxy.featureSoundPlayed=!0,this.sendGlobalNotification(c.Notifications.Global.PAUSE_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO})},e.prototype.onFeatureSoundComplete=function(){this.soundEffectsProxy.currentAmbianceVO.soundName==u.SlotSoundNames.FREESPIN_AMBIANCE&&this.featureSound==this.soundNamesProxy.names[u.SlotSoundNames.FREESPIN_WIN]&&this.sendGlobalNotification(c.Notifications.Global.SET_SOUND_VOLUME,{soundName:this.soundEffectsProxy.currentAmbianceVO,volume:1,fade:.5})},e.prototype.playShowAllSound=function(){var t=this.winningsSoundsProperty.WIN_SOUNDS_SHOW_ALL,e=0;if(t.length>1){for(e=Math.floor(Math.random()*t.length);this.soundEffectsProxy.lastRandomWinSoundIndex==e;)e=Math.floor(Math.random()*t.length);this.soundEffectsProxy.lastRandomWinSoundIndex=e}this.soundEffectsProxy.playingWinSounds.push(t[e]),this.sendGlobalNotification(c.Notifications.Global.PLAY_SOUND,{soundName:t[e]})},e.prototype.playSymbolWonSound=function(t){var e=this;if(!s.isNil(t)){var i=-1;if(s.each(t.symbols,(function(t){if(s.isArray(t)&&(t=t[0]),t>i){var n=[];s.isUndefined(e.slotGameConfig.wildSymbolsIDs)||(n=e.slotGameConfig.wildSymbolsIDs),n.indexOf(t)<0&&(i=t)}})),-1!=i){var n=this.canPlaySoundForSymbol(i);-1!=n&&this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS[n]&&this.playSound(this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS[n].sound)}}},e.prototype.canPlaySoundForSymbol=function(t){var e,i;for(e=0;e<this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS.length;e++){var n=this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS[e],o=void 0;for(o=s.isString(n.symbolsId)?n.symbolsId.split(","):n.symbolsId,i=0;i<o.length;i++)if(o[i]==t.toString())return e}return-1},e.prototype.playWinPerBetSound=function(t){var e=t.totalStepWinValue;if(0!=e){var i,n=e/this.moneyProxy.convertFromTokens(this.moneyProxy.getTotalBets());for(i=0;i<this.winningsSoundsProperty.WIN_SOUNDS_BET.length;i++)if(n<this.winningsSoundsProperty.WIN_SOUNDS_BET[i].betLimit)return void this.playSound(this.winningsSoundsProperty.WIN_SOUNDS_BET[i].sound)}},e.prototype.playSound=function(t){var e=t.split(","),i=0;if(e.length>1){for(i=Math.floor(Math.random()*e.length);this.soundEffectsProxy.lastRandomWinSoundIndex==i;)i=Math.floor(Math.random()*e.length);this.soundEffectsProxy.lastRandomWinSoundIndex=i}this.soundEffectsProxy.playingWinSounds.push(e[i]),this.sendGlobalNotification(c.Notifications.Global.STOP_SOUND,{soundName:e[i]}),this.sendGlobalNotification(c.Notifications.Global.PLAY_SOUND,{soundName:e[i]})},e}(a.Controller);e.PlayWinningsSoundsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(871),r=i(2),l=i(881),c=i(313),u=i(314),h=i(882),p=i(883),d=i(315),_=i(317),f=i(318),y=i(320),m=i(4),N=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(s.UINotifications.REGISTER_USER_INTERFACE_BEHAVIOR,u.SlotRegisterUserInterfaceBehaviorCommand),this.replaceCommand(s.UINotifications.REGISTER_USER_INTERFACE_ACTIONS,c.SlotRegisterUserInterfaceActionsCommand),this.addCommand(r.Notifications.Money.MIN_BET_PLACED,l.SlotMinBetPlacedCommand)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator([d.SlotUserInterfaceMediatorDesktopPixi,_.SlotUserInterfaceMediatorMobilePixi,_.SlotUserInterfaceMediatorMobilePixi],"userInterface"),this.replaceMediator("userActionsHandler",h.SlotUserActionsHandlerMediatorDesktop,m.Device.CLASS_INDEX_DESKTOP),this.replaceMediator("userActionsHandler",p.SlotUserActionsHandlerMediatorMobile,m.Device.CLASS_INDEX_MOBILE)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("userInterface",[f.SlotDesktopUserInterfaceViewPixi,y.SlotMobileUserInterfaceViewPixi,y.SlotMobileUserInterfaceViewPixi])},e}(a.UserInterface);e.SlotUserInterface=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(36),r=i(873),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.registerUserActions(),this.sendNotification(s.UINotifications.ADD_USER_ACTIONS,this.userActions)},e.prototype.registerUserActions=function(){this.registerUserAction(a.UserInterfaceAction.SHOW_DEBUG_WINDOW,l.Notifications.Global.SHOW_DEBUG_WINDOW,[],!0,!1)},e}(r.AbstractRegisterUserInterfaceActionsCommand);e.RegisterUserInterfaceActionsCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i,n,o,s){void 0===s&&(s=!0),this.isEnabled=!0,this.isAvailableOnAllStates=!1,this.isOnlyOnce=!0,this.actionName=t,this.notificationName=e,this.availableStates=i,this.shortcuts=n,this.isAvailableOnAllStates=o,this.isOnlyOnce=s};e.UserInterfaceActionVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(7),l=i(874),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.registerActions()},e.prototype.initVars=function(){s.isNil(this.uiActionsProxy)&&(this.uiActionsProxy=this.retrieveProxy(r.UIProxies.USER_INTERFACE_ACTIONS_PROXY))},e.prototype.registerActions=function(){this.registerAction(r.UpdateUIAction.ENABLE_ALL_BUTTONS,this.onEnableAllButtonsAction.bind(this)),this.registerAction(r.UpdateUIAction.DISABLE_ALL_BUTTONS,this.onDisableAllButtonsAction.bind(this))},e.prototype.onEnableAllButtonsAction=function(){this.sendNotification(r.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0)},e.prototype.onDisableAllButtonsAction=function(){this.sendNotification(r.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1)},e.prototype.registerAction=function(t,e){this.uiActionsProxy.registerUIBehaviorDependOnAction(t,e)},e.prototype.setButtonBehaviour=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),new l.ButtonBehaviorVO(t,e,i)},e}(a.Controller);e.RegisterUserInterfaceBehaviorCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(310),a=i(36),r=i(2),l=i(5),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e.prototype.registerUserActions=function(){t.prototype.registerUserActions.call(this),this.registerUserAction(a.UserInterfaceAction.SPIN,r.Notifications.Global.SPIN,[l.States.BEGIN_GAME,l.States.END_GAME_ENABLE_UI,l.States.FREE_ROUNDS_END_GAME_ENABLE_UI,l.States.FREE_ROUNDS_START,l.States.REALITY_CHECK],!1,!1),this.registerUserAction(a.UserInterfaceAction.STOP_SPIN,r.Notifications.Global.STOP_SPIN,[l.States.WAIT_FOR_NEXT_ACTION,l.States.END_GAME]),this.registerUserAction(a.UserInterfaceAction.SKIP,r.Notifications.Global.SKIP,[l.States.END_GAME_ENABLE_UI,l.States.FREE_ROUNDS_END_GAME_ENABLE_UI,l.States.BEGIN_GAME],!1,!1),this.registerUserAction(a.UserInterfaceAction.SKIP_WINNINGS,r.Notifications.Global.SKIP_WINNINGS,[l.States.AUTO_PLAY_END_GAME_ENABLE_UI,l.States.FREE_SPINS_END_GAME_ENABLE_UI,l.States.RESPIN_END_GAME_ENABLE_UI,l.States.END_GAME_DECISION],!1,!1),this.registerUserAction(a.UserInterfaceAction.START_AUTO_PLAY,r.Notifications.Global.SHOW_AUTO_PLAY_POP_UP),this.registerUserAction(a.UserInterfaceAction.STOP_AUTO_PLAY,r.Notifications.Global.STOP_AUTO_PLAY),this.registerUserAction(a.UserInterfaceAction.SHOW_PAY_TABLE,r.Notifications.Global.SHOW_PAY_TABLE),this.registerUserAction(a.UserInterfaceAction.INCREASE_COIN_VALUE,r.Notifications.Global.INCREASE_COIN_VALUE),this.registerUserAction(a.UserInterfaceAction.DECREASE_COIN_VALUE,r.Notifications.Global.DECREASE_COIN_VALUE),this.registerUserAction(a.UserInterfaceAction.INCREASE_LINE_BET,r.Notifications.Global.INCREASE_LINE_BET),this.registerUserAction(a.UserInterfaceAction.DECREASE_LINE_BET,r.Notifications.Global.DECREASE_LINE_BET),this.registerUserAction(a.UserInterfaceAction.INCREASE_LINES,r.Notifications.Global.INCREASE_LINES),this.registerUserAction(a.UserInterfaceAction.DECREASE_LINES,r.Notifications.Global.DECREASE_LINES),this.registerUserAction(a.UserInterfaceAction.HIDE_EXTRA_FREE_SPIN_POP_UP,r.Notifications.Global.ATTEMPT_TO_HIDE_EXTRA_FREE_SPIN_POP_UP,[l.States.SHOW_EXTRA_FREE_SPIN_POP_UP],!1,!1),this.registerUserAction(a.UserInterfaceAction.HIDE_FREE_SPINS_START_POP_UP,r.Notifications.Global.ATTEMPT_TO_HIDE_FREE_SPINS_START_POP_UP,[l.States.START_FREE_SPINS],!1,!1),this.registerUserAction(a.UserInterfaceAction.HIDE_FREE_SPINS_END_POP_UP,r.Notifications.Global.ATTEMPT_TO_HIDE_FREE_SPINS_END_POP_UP,[l.States.END_FREE_SPINS],!1,!1),this.registerUserAction(a.UserInterfaceAction.HIDE_BONUS_START_POP_UP,r.Notifications.Bonus.HIDE_START_BONUS_POPUP,[l.States.BONUS_ROUND],!1,!1),this.registerUserAction(a.UserInterfaceAction.HIDE_BONUS_END_POP_UP,r.Notifications.Bonus.HIDE_END_BONUS_POPUP,[l.States.BONUS_WIN],!1,!1),this.registerUserAction(a.UserInterfaceAction.TOGGLE_UI_MINI_MENU,r.Notifications.Global.TOGGLE_UI_MINI_MENU,[],!0),this.registerUserAction(a.UserInterfaceAction.SHOW_SETTINGS_MENU,r.Notifications.Global.SHOW_SETTINGS_MENU,[],!0),this.registerUserAction(a.UserInterfaceAction.HIDE_SETTINGS_MENU,r.Notifications.Global.HIDE_SETTINGS_MENU,[],!0),this.registerUserAction(a.UserInterfaceAction.SHOW_COIN_VALUES_MENU,r.Notifications.Global.SHOW_COIN_VALUES_MENU,[],!0),this.registerUserAction(a.UserInterfaceAction.TOGGLE_COIN_VALUE,r.Notifications.Global.TOGGLE_COIN_VALUES_MENU,[],!0),this.registerUserAction(a.UserInterfaceAction.HIDE_COIN_VALUES_MENU,r.Notifications.Global.HIDE_COIN_VALUES_MENU,[],!0)},e}(s.RegisterUserInterfaceActionsCommand);e.SlotRegisterUserInterfaceActionsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(312),r=i(125),l=i(36),c=i(1),u=i(7),h=i(4),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY))},e.prototype.registerActions=function(){t.prototype.registerActions.call(this),this.registerAction(u.UpdateUIAction.INITIAL,this.onInitialAction.bind(this)),this.registerAction(u.UpdateUIAction.SPIN,this.onSpinAction.bind(this)),this.registerAction(u.UpdateUIAction.STOP_SPIN,this.onStopSpinAction.bind(this)),this.registerAction(u.UpdateUIAction.BEGIN_GAME,this.onBeginGameAction.bind(this)),this.registerAction(u.UpdateUIAction.SKIP,this.onSkipAction.bind(this)),this.registerAction(u.UpdateUIAction.SKIP_CELEBRATION,this.onSkipCelebrationAction.bind(this)),this.registerAction(u.UpdateUIAction.WHEELS_COMPLETE,this.onWheelsCompleteAction.bind(this)),this.registerAction(u.UpdateUIAction.AUTO_END_GAME_ENABLE_UI,this.onAutoEndGameEnableUIAction.bind(this)),this.registerAction(u.UpdateUIAction.END_GAME_ENABLE_UI_NO_WIN,this.onEndGameEnableUINoWinAction.bind(this)),this.registerAction(u.UpdateUIAction.END_GAME_ENABLE_UI_WIN,this.onEndGameEnableUIWinAction.bind(this)),this.registerAction(u.UpdateUIAction.SHOW_CELEBRATION,this.onShowCelebrationAction.bind(this)),this.registerAction(u.UpdateUIAction.SHOW_PAY_TABLE,this.onShowPayTableAction.bind(this)),this.registerAction(u.UpdateUIAction.HIDE_PAY_TABLE,this.onHidePayTableAction.bind(this)),this.registerAction(u.UpdateUIAction.START_AUTO_PLAY,this.onStartAutoPlayAction.bind(this)),this.registerAction(u.UpdateUIAction.STOP_AUTO_PLAY,this.onStopAutoPlayAction.bind(this)),this.registerAction(u.UpdateUIAction.BONUS_CHOICE,this.onBonusChoiceAction.bind(this)),this.registerAction(u.UpdateUIAction.RE_SPIN,this.onReSpinAction.bind(this)),this.registerAction(u.UpdateUIAction.BONUS_ROUND,this.onBonusChoiceAction.bind(this)),this.registerAction(u.UpdateUIAction.COMPLETE_AUTO_PLAY,this.onCompleteAutoPlayAction.bind(this)),this.registerAction(u.UpdateUIAction.BET_BUTTONS,this.onBetButtonsAction.bind(this)),this.registerAction(u.UpdateUIAction.FREE_ROUNDS_START,this.onFreeRoundsStartAction.bind(this)),this.registerAction(u.UpdateUIAction.FREE_ROUNDS_END_GAME_ENABLE_UI_NO_WIN,this.onFreeRoundsEndGameEnableNoWinUIAction.bind(this)),this.registerAction(u.UpdateUIAction.FREE_ROUNDS_END_GAME_ENABLE_UI_WIN,this.onFreeRoundsEndGameEnableUIWinAction.bind(this)),this.registerAction(u.UpdateUIAction.FREE_ROUNDS_FINISHED,this.onFreeRoundsFinishedAction.bind(this)),h.Device.instance().mobile&&(this.registerAction(u.UpdateUIAction.SHOW_MENU_MOBILE,this.onShowMenuMobile.bind(this)),this.registerAction(u.UpdateUIAction.HIDE_MENU_MOBILE,this.onHideMenuMobile.bind(this)))},e.prototype.onInitialAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)]),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!1}),this.onBetButtonsAction()},e.prototype.onSpinAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)])},e.prototype.onStopSpinAction=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)])},e.prototype.onBeginGameAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE)])},e.prototype.switchSkipSpinAction=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE)]),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!0})},e.prototype.onSkipAction=function(){this.switchSkipSpinAction()},e.prototype.onSkipCelebrationAction=function(){this.switchSkipSpinAction()},e.prototype.onBetButtonsAction=function(){this.moneyProxy.isMaximumCoinValue()?this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_PLUS,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)]):this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_PLUS,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)]),this.moneyProxy.isMinimumCoinValue()?this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_MINUS,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)]):this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_MINUS,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)])},e.prototype.onWheelsCompleteAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE)])},e.prototype.onEndGameEnableUINoWinAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)])},e.prototype.onEndGameEnableUIWinAction=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)]),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!0}),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!1}),this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0)},e.prototype.onShowCelebrationAction=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)]),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!0}),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!1}),this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0)},e.prototype.onShowPayTableAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1)},e.prototype.onHidePayTableAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0)},e.prototype.onShowMenuMobile=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.UNCHANGED),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.UNCHANGED),this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_BUTTON,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.UNCHANGED)])},e.prototype.onHideMenuMobile=function(){this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.UNCHANGED)])},e.prototype.onStartAutoPlayAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE)])},e.prototype.onStopAutoPlayAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)])},e.prototype.onCompleteAutoPlayAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)])},e.prototype.onBonusChoiceAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1)},e.prototype.onReSpinAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)])},e.prototype.onFreeRoundsStartAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_BUTTON,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.PAY_TABLE,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SETTINGS,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.MINI_MENU,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)])},e.prototype.onFreeRoundsEndGameEnableNoWinUIAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_BUTTON,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.PAY_TABLE,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SETTINGS,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.MINI_MENU,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)])},e.prototype.onFreeRoundsEndGameEnableUIWinAction=function(){this.sendNotification(u.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(u.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SKIP,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.COIN_VALUE_BUTTON,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.PAY_TABLE,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(u.UIButtonsNames.SETTINGS,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(u.UIButtonsNames.MINI_MENU,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)])},e.prototype.onFreeRoundsFinishedAction=function(){this.switchSkipSpinAction()},e.prototype.onAutoEndGameEnableUIAction=function(){var t=[];t.push(this.setButtonBehaviour(u.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)),h.Device.instance().mobile&&t.push(this.setButtonBehaviour(u.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)),this.sendNotification(u.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,t)},e}(a.RegisterUserInterfaceBehaviorCommand);e.SlotRegisterUserInterfaceBehaviorCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(316),a=i(2),r=i(7),l=i(4),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.Notifications.Global.CLICK_ON_PIXI_BG,this.bgClicked.bind(this)),this.addNotification(a.Notifications.Money.BET_NOT_VALID,this.onResetStepperIndex.bind(this)),this.addNotification(a.Notifications.Global.SHOW_DIALOG_WINDOW,this.onShowDialogWindow.bind(this))},Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.UIActionsNames.SHOW_COIN_VALUES_LIST,this.onShowCoinValueList,this),this.addListenerToSignal(r.UIActionsNames.HIDE_COIN_VALUES_LIST,this.onHideCoinValueList,this)},e.prototype.toggleCoinValuesMenu=function(){this.view.toggleCoinValuesMenu()},e.prototype.hideCoinValuesMenu=function(){this.view.hideCoinValuesMenu()},e.prototype.onShowCoinValueList=function(){this.sendGlobalNotification(a.Notifications.Global.SHOW_PIXI_CLICK_CATCH,{callee:this.name})},e.prototype.onHideCoinValueList=function(){this.sendGlobalNotification(a.Notifications.Global.HIDE_PIXI_CLICK_CATCH,this.name)},e.prototype.bgClicked=function(){this.hideCoinValuesMenu()},e.prototype.onResetStepperIndex=function(){this.view.resetStepperIndex()},e.prototype.onShowDialogWindow=function(){this.viewComponent.resetButtonsState()},e.prototype.hideInfoBox=function(){t.prototype.hideInfoBox.call(this),this.view.hideInfoBox()},e.prototype.onDeviceScreenResized=function(e){if(t.prototype.onDeviceScreenResized.call(this,e),l.Device.instance().tablet){var i={bottom:"20px"};l.Device.isPortrait()&&(i.bottom="0px"),this.view.scaleContainersWithStyle(i)}},e}(s.SlotAbstractUserInterfaceMediator);e.SlotUserInterfaceMediatorDesktopPixi=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(125),l=i(1),c=i(2),u=i(19),h=i(4),p=i(5),d=l.Names.Layers,_=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.inIntro=!0,n}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this.layerVO=this.layersProxy.retrieveLayer(this.layer),this.initLayouts(),this.hideUserInterface()},e.prototype.initLayouts=function(){this.view.initializeButtons()},Object.defineProperty(e.prototype,"layer",{get:function(){return d.GAMEPLAY_BUTTONS},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.Global.HIDE_COIN_VALUES_MENU,this.hideCoinValuesMenu.bind(this)),this.addNotification(a.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,this.onEnableUserInterfaceButtons.bind(this)),this.addNotification(a.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,this.onUpdateUserInterfaceButtons.bind(this)),this.addNotification(c.Notifications.Global.UPDATE_INFOBOX,this.updateInfoBoxMessage.bind(this)),this.addNotification(c.Notifications.Global.UPDATE_INFOBOX_ALPHA,this.setInfoboxAlpha.bind(this)),this.addNotification(c.Notifications.Global.UPDATE_INFO_BOX_HANDLER_DISPLAY,this.updateInfoBoxHandlerDisplay.bind(this)),this.addNotification(c.Notifications.Money.UPDATE_DISPLAY_VALUES,this.updateDisplayValues.bind(this)),this.addNotification(c.Notifications.Global.INTRO_CLOSED,this.onIntroClosed.bind(this)),this.addNotification(c.Notifications.Global.HIDE_USER_INTERFACE,this.hideUserInterface.bind(this)),this.addNotification(c.Notifications.Global.SHOW_USER_INTERFACE,this.showUserInterface.bind(this)),this.addNotification(c.Notifications.Winning.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addNotification(c.Notifications.Global.TOGGLE_COIN_VALUES_MENU,this.toggleCoinValuesMenu.bind(this)),this.addNotification(c.Notifications.Global.SPIN,this.hideInfoBox.bind(this)),this.addNotification(c.Notifications.Bonus.BONUS_ROUND,this.hideInfoBox.bind(this)),this.addNotification(c.Notifications.Bonus.BONUS_CHOICE,this.hideInfoBox.bind(this)),this.addNotification(c.Notifications.Global.COMPLETE_AUTO_PLAY,this.onCompleteAutoPlay.bind(this)),this.addNotification(c.Notifications.Global.FREE_SPINS_ENDED,this.hideInfoBox.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(a.UIActionsNames.USER_ACTION,this.onUserAction,this),this.addListenerToSignal(a.UIActionsNames.SET_COIN_VALUES_LIST,this.onSetCoinValuesList,this),this.addListenerToSignal(a.UIActionsNames.GET_CURRENT_COIN_VALUE,this.onGetCurrentCoinValue,this),this.addListenerToSignal(a.UIActionsNames.DRAW_COMPONENT_MASK,this.onDrawComponentMask,this),this.addListenerToSignal(a.UIActionsNames.SHOW_COMPONENT_MASK,this.onShowComponentMask,this),this.addListenerToSignal(a.UIActionsNames.HIDE_COMPONENT_MASK,this.onHideComponentMask,this),this.addListenerToSignal(a.UIActionsNames.SEND_LABEL_TO_INCREMENT,this.onSendLabelToIncrement,this),this.addListenerToSignal(a.UIActionsNames.SEND_LABEL_TO_INCREMENT_UPDATE,this.onSendLabelToIncrementUpdate,this),this.addListenerToSignal(a.UIActionsNames.REMOVE_LABEL_FROM_INCREMENT,this.onRemoveLabelFromIncrement,this),this.addListenerToSignal(a.UIActionsNames.REMOVE_LABEL_FROM_INCREMENT_UPDATE,this.onRemoveLabelFromIncrementUpdate,this),this.addListenerToSignal(a.UIActionsNames.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT,this.onAddOnCompleteFunctionToIncrement,this),this.addListenerToSignal(a.UIActionsNames.REMOVE_ON_COMPLETE_FUNCTION_FROM_INCREMENT,this.onRemoveOnCompleteFunctionToIncrement,this),this.addListenerToSignal(a.UIActionsNames.ADD_LABEL_TO_CLOCK,this.onAddLabelToClock,this),this.addListenerToSignal(a.UIActionsNames.CHANGE_COIN_VALUE,this.onCoinValueUpdated,this),this.addListenerToSignal(a.UIActionsNames.CHANGE_COIN,this.onCoinUpdated,this),this.addListenerToSignal(a.UIActionsNames.ADD_LABELS_TO_UPDATE_ON_STRIP,this.onAddLabelsToUpdateOnStrip,this)},e.prototype.toggleCoinValuesMenu=function(){},e.prototype.onUserAction=function(t){this.sendNotification(a.UINotifications.USER_ACTION_TRIGGERED,t)},e.prototype.onAddLabelToClock=function(t){this.sendGlobalNotification(c.Notifications.Global.ADD_LABEL_TO_CLOCK,t)},e.prototype.onSetCoinValuesList=function(){this.view.setCurrentCoinValueList(this.moneyProxy.getCoinValuesList()),this.settings.getValue("GameConfig").alwaysMaxBetPerLines||this.view.setCurrentCoinsList(this.moneyProxy.getCoinsList())},e.prototype.hideCoinValuesMenu=function(){this.view.hideCoinValuesMenu()},e.prototype.onGetCurrentCoinValue=function(){this.view.currentCoinValue=this.moneyProxy.getCurrentCoinValue(),this.view.currentCoin=this.moneyProxy.getCurrentCoin()},e.prototype.onEnableUserInterfaceButtons=function(t){this.view.enableUserInteraction(t.body),h.Device.instance().minigame&&this.sendNotification(a.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,t.body,l.Names.Modules.MENU)},e.prototype.onUpdateUserInterfaceButtons=function(t){var e=this,i=t.body;s.each(i,(function(t){t.showButton!=r.ButtonStateVO.UNCHANGED&&e.view.showButton(t.buttonName,t.showButton),t.enableButton!=r.ButtonStateVO.UNCHANGED&&e.view.enableButton(t.buttonName,t.enableButton),t=null}))},e.prototype.onCoinValueUpdated=function(t){this.sendGlobalNotification(c.Notifications.Global.CHANGE_COIN_VALUE,{coinValue:t})},e.prototype.onCoinUpdated=function(t){this.sendGlobalNotification(c.Notifications.Global.CHANGE_LINE_BET,{lineBet:t})},e.prototype.updateInfoBoxMessage=function(t){this.view.updateInfoBoxMessage(t.body)},e.prototype.updateInfoBoxHandlerDisplay=function(t){this.view.updateInfoBoxHandlerDisplay(t.body)},e.prototype.updateDisplayValues=function(t){this.view.updateDisplayValues(t.body)},e.prototype.showUserInterface=function(){this.view.showUserInterface()},e.prototype.onCelebrationStart=function(t){this.view.setCelebrationWin(t.body.endV)},e.prototype.hideUserInterface=function(){this.view.hideUserInterface()},e.prototype.onIntroClosed=function(){this.inIntro=!1,this.view.showUserInterface()},e.prototype.onCompleteAutoPlay=function(){var t=this.connectionProxy.getServerData(p.States.END_GAME),e=!0;s.isNil(t)||!s.isNil(t.lines)&&t.lines.line&&(e=!1),e&&this.hideInfoBox()},e.prototype.hideInfoBox=function(){this.view.hideInfoBox()},e.prototype.setInfoboxAlpha=function(t){this.view.setInfoboxAlpha(t.body)},e.prototype.onDrawComponentMask=function(t){this.sendGlobalNotification(c.Notifications.Global.DRAW_COMPONENT_MASK,t)},e.prototype.onShowComponentMask=function(t){this.sendGlobalNotification(c.Notifications.Global.SHOW_COMPONENT_MASK,t)},e.prototype.onAddLabelsToUpdateOnStrip=function(t){this.sendGlobalNotification(c.Notifications.Strip.ADD_LABELS_TO_UPDATE_ON_STRIP,t)},e.prototype.onHideComponentMask=function(t){this.sendGlobalNotification(c.Notifications.Global.HIDE_COMPONENT_MASK,t)},e.prototype.onSendLabelToIncrement=function(t){this.sendGlobalNotification(c.Notifications.Increment.ADD_LABEL_TO_INCREMENT,t)},e.prototype.onSendLabelToIncrementUpdate=function(t){this.sendGlobalNotification(c.Notifications.Increment.ADD_ON_UPDATE_TO_INCREMENT,t)},e.prototype.onRemoveLabelFromIncrement=function(t){this.sendGlobalNotification(c.Notifications.Increment.REMOVE_LABEL_FROM_INCREMENT,t)},e.prototype.onRemoveLabelFromIncrementUpdate=function(t){this.sendGlobalNotification(c.Notifications.Increment.REMOVE_ON_UPDATE_FROM_INCREMENT,t)},e.prototype.onAddOnCompleteFunctionToIncrement=function(t){this.sendGlobalNotification(c.Notifications.Increment.ADD_ON_COMPLETE_TO_INCREMENT,t)},e.prototype.onRemoveOnCompleteFunctionToIncrement=function(t){this.sendGlobalNotification(c.Notifications.Increment.REMOVE_ON_COMPLETE_FROM_INCREMENT,t)},e}(u.AbstractMediator);e.SlotAbstractUserInterfaceMediator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(32),r=i(316),l=i(7),c=i(2),u=i(55),h=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.Global.SHOW_COIN_VALUES_MENU,this.showCoinValuesMenu.bind(this)),this.addNotification(c.Notifications.Global.STOP_SPIN,this.stopAutoSpin.bind(this)),this.addNotification(l.UINotifications.VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION,this.verifyAndAddButtonToUserInteraction.bind(this)),this.addNotification(c.Notifications.Money.BET_NOT_VALID,this.onResetStepperIndex.bind(this)),s.isNil(this.slotGameConfigVO)&&(this.slotGameConfigVO=this.settings.getValue("GameConfig")),!0===this.slotGameConfigVO.hideFSSpinButton&&(this.addNotification(c.Notifications.Global.START_FREE_SPINS_TRANSITION_COMPLETE,this.hideSpinButton.bind(this)),this.addNotification(c.Notifications.Global.END_FREE_SPINS_TRANSITION_COMPLETE,this.showSpinButton.bind(this)))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.MenuActionNames.MENU_SWITCH_TURBO,this.toggleTurbo,this),this.addListenerToSignal(u.MenuActionNames.MENU_SWITCH_SOUND,this.toogleSound,this)},e.prototype.stopAutoSpin=function(t){this.sendGlobalNotification(c.Notifications.Global.STOP_AUTO_PLAY)},e.prototype.hideInfoBox=function(){t.prototype.hideInfoBox.call(this),this.view.hideInfoBox()},e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e.prototype.toggleTurbo=function(t){this.sendGlobalNotification(c.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:t})},e.prototype.toogleSound=function(t){this.sendGlobalNotification(u.MenuNotificationNames.MENU_SWITCH_SOUND,t)},e.prototype.toogleSoundButton=function(t){this.view.setSoundButtonState(t.body)},e.prototype.getStringValueFrom=function(t,e){void 0===e&&(e=!0);var i=this.moneyProxy.displayValues.decimalsCount;return e?0==t?String(t):a.NumberFormatterUtil.formatNumber(t,0):this.settings.getCurrencyString(a.NumberFormatterUtil.formatNumber(t,i),e)},e.prototype.showCoinValuesMenu=function(){this.viewComponent.showCoinValuesMenu()},e.prototype.hideCoinValuesMenu=function(){this.viewComponent.hideCoinValuesMenu()},e.prototype.verifyAndAddButtonToUserInteraction=function(t){this.view.verifyAndAddButtonToUserInteraction(t.body)},e.prototype.onResetStepperIndex=function(){this.view.resetStepperIndex()},e.prototype.hideSpinButton=function(){this.viewComponent.hideMobileSpinButton()},e.prototype.showSpinButton=function(){this.viewComponent.showMobileSpinButton()},e}(r.SlotAbstractUserInterfaceMediator);e.SlotUserInterfaceMediatorMobilePixi=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(38),l=i(81),c=i(319),u=i(885),h=i(96),p=i(41),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betLevelEnabled=!1,e.betLevelLabelSent=!1,e}return o(e,t),e.prototype.onRegister=function(){var e=this;t.prototype.onRegister.call(this),this.linesTextLabel=this.findChild("linesText"),this.betPerLineTextLabel=this.findChild("betPerLineText"),this.totalBetTextLabel=this.findChild("totalBetText"),this.uiTotalBetLabel=this.findChild("uiTotalBetLabel"),this.coinValueLabel=this.findChild("coinValueText");var i=this.settings.getValue("HAS_ISB_LOGO");i.hasText&&1==i.hasText&&(this.trademarkText=this.findChild("trademarkText"),this.trademarkText.updateLabel(this.translations.getValue("iSoftBetCopyrightLabel"),!0)),this.menuCoinValueButton=this.findChild("menuCoinValueButton"),this.menuCoinValueButton.updateLabel(this.translations.getValue("menuCoinValueButton")),this.uiCoinValueLabel=this.findChild("uiCoinValueLabel"),this.uiCoinValueLabel.updateLabel(this.translations.getValue("uiCoinValueLabel")),this.menuBetPerLineValueButton=this.findChild("menuBetPerLineValueButton"),this.menuBetPerLineValueButton.updateLabel(this.translations.getValue("menuBetPerLineValueButton"));var n=r.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(n=r.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.dispatchSignal(a.UIActionsNames.SEND_LABEL_TO_INCREMENT,{incrementId:n,label:this.winTextLabel}),this.slotGameConfig=this.settings.getValue("GameConfig"),this.coinValuesPanelComponent=new u.SlotCoinValuesPanelDesktopPixi(this.findChild("coinValuePanel")),this.coinValuesPanelComponent.panelEvent=function(t){e.onPanelEvent(t)};var o=this.settings.getValue("BET_LEVEL");!s.isNil(o)&&o.enabled&&(this.betLevelEnabled=!0),this.betLevelEnabled&&(this.newBalanceLabel=this.findChild("newBalanceLabel"),this.newBalanceText=this.findChild("newBalanceText"),this.newBalanceLabel.visible=!0,this.newBalanceText.visible=!0,this.setLabelText(this.newBalanceLabel,this.translations.getValue("stripBalanceLabel").replace(":","").replace("：","")),this.setLabelText(this.uiTotalBetLabel,this.translations.getValue("stripWinLabel").replace(":","").replace("：","")),this.setLabelText(this.menuCoinValueButton,this.translations.getValue("uiTotalBet2Label").replace(":","").replace("：",""))),this.deviceScreenResized()},e.prototype.updateDisplayValues=function(e){t.prototype.updateDisplayValues.call(this,e),this.coinValuesPanelComponent.setTotalBet(e.betsAsString(!1)),this.coinValuesPanelComponent.setCoinValue(e.coinValue),this.coinValuesPanelComponent.setBetInCoins(this.translations.getValue("uiBetInCoins",[e.totalBetInCoins])),this.betLevelEnabled&&(this.setLabelText(this.coinValueLabel,e.betsAsString(!1)),this.setLabelText(this.totalBetTextLabel,""))},e.prototype.enableUserInteraction=function(e){void 0===e&&(e=!0),t.prototype.enableUserInteraction.call(this,e),e||this.coinValuesPanelComponent.hideCoinValuePanel()},e.prototype.toggleCoinValuesMenu=function(){this.coinValuesPanelComponent.showing?this.hideCoinValuesMenu():this.showCoinValuesMenu()},e.prototype.showCoinValuesMenu=function(){this.currentCoinValueList||(this.dispatchSignal(a.UIActionsNames.SET_COIN_VALUES_LIST),this.coinValuesPanelComponent.createCoinValuesPanel(this.currentCoinValueList,this.betPerLine,this.displayValues.coins*this.displayValues.lines),this.coinValuesPanelComponent.onCoinValueItemChange=this.onCoinValueItemChange.bind(this),this.coinValuesPanelComponent.onBetPerLineChange=this.onBetPerLineChange.bind(this),this.coinValuesPanelComponent.setCoinValue(this.displayValues.coinValue)),this.dispatchSignal(a.UIActionsNames.SHOW_COIN_VALUES_LIST),this.dispatchSignal(a.UIActionsNames.GET_CURRENT_COIN_VALUE),this.coinValuesPanelComponent.setCoinValuePanelItem(this.currentCoinValue),this.slotGameConfig.alwaysMaxBetPerLines||this.coinValuesPanelComponent.setCoinPanelItem(this.currentCoin.toString()),this.coinValuesPanelComponent.showCoinValuesPanel()},e.prototype.hideCoinValuesMenu=function(){this.coinValuesPanelComponent.showing&&(this.dispatchSignal(a.UIActionsNames.HIDE_COIN_VALUES_LIST),this.coinValuesPanelComponent.hideCoinValuePanel())},e.prototype.resetStepperIndex=function(){this.coinValuesPanelComponent.resetStepperIndex(this.coinValueLabel.text.text)},e.prototype.resetButtonsState=function(){var t=this;s.forEach(this.userInterfaceButtons,(function(e){e.isInteractable&&t.enableButton(e.buttonName,e.buttonInstance.isEnabled)}))},e.prototype.showUserInterface=function(){if(t.prototype.showUserInterface.call(this),this.betLevelEnabled&&!this.betLevelLabelSent){this.betLevelLabelSent=!0;var e=[];e.push(new h.LabelToUpdateVO(this.newBalanceText,h.LabelToUpdateVO.BALANCE,h.LabelToUpdateVO.MONEY)),e.push(new h.LabelToUpdateVO(this.totalBetTextLabel,h.LabelToUpdateVO.WIN,h.LabelToUpdateVO.MONEY)),this.dispatchSignal(a.UIActionsNames.ADD_LABELS_TO_UPDATE_ON_STRIP,e),this.setLabelText(this.newBalanceText,this.displayValues.balanceAsString(!1))}},e.prototype.initializeInfoBox=function(){t.prototype.initializeInfoBox.call(this),this.infoBoxHandler.checkIfBackgroundIsNeeded=this.slotGameConfig.infoBoxBackground[l.SlotInfoBoxHandlerPixi.DESKTOP]},e.prototype.onPanelEvent=function(t){switch(t.eventName){case"drawMask":this.dispatchSignal(a.UIActionsNames.DRAW_COMPONENT_MASK,t.maskDetails);break;case"showMask":this.dispatchSignal(a.UIActionsNames.SHOW_COMPONENT_MASK,t.maskName);break;case"hideMask":this.dispatchSignal(a.UIActionsNames.HIDE_COMPONENT_MASK,t.maskName);break;case"getMoney":t.result=p.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.coinValueInCoins)}},e}(c.SlotAbstractUserInterfaceViewPixi);e.SlotDesktopUserInterfaceViewPixi=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(884),r=i(16),l=i(32),c=i(38),u=i(11),h=i(81),p=i(7),d=i(6),_=i(41),f=PIXI.Container,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userInterfaceButtons={},e._labelHooked=!1,e}return o(e,t),e.prototype.setCurrentCoinValueList=function(t){this.currentCoinValueList=t},e.prototype.setCurrentCoinsList=function(t){this.betPerLine=t},e.prototype.setInfoboxAlpha=function(t){this.infoBoxHandler.setInfoboxAlpha(t)},e.prototype.preRegister=function(){t.prototype.preRegister.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.initializeInfoBox(),this.gameplayButtonsContainer=this.findChild("gameplayButtonsContainer"),this.registerToHook("clickButton",this.onHookClickButton.bind(this)),this.registerToHook("getButtonState",this.onGetButtonState.bind(this))},e.prototype.postRegister=function(){this.hasAutoTranslate=!0,t.prototype.postRegister.call(this)},e.prototype.hideInfoBox=function(){this.infoBoxHandler.hideInfoBox()},e.prototype.initHomeButton=function(){},e.prototype.onHookClickButton=function(t){var e=t.hookDetails.buttonId,i=!1;if(this.hasButton(e))return i=!0,this.onButtonClick(e),void(t.hookDetails.hookResult=i);var n=this.hasRegisteredAction(e);if(!s.isNil(n))return i=!0,this.dispatchSignal(p.UIActionsNames.USER_ACTION,n.buttonAction),void(t.hookDetails.hookResult=i);t.hookDetails.hookResult=i},e.prototype.onGetButtonState=function(t){var e=t.hookDetails.buttonId,i=!1;if(this.hasButton(e)){var n=this.userInterfaceButtons[e].buttonInstance;i={visible:n.isVisible(),enable:n.isEnabled}}t.hookDetails.hookResult=i},e.prototype.hasButton=function(t){return!s.isNil(this.userInterfaceButtons[t])},e.prototype.hasRegisteredAction=function(t){var e=this.settings.getValue("USER_INTERFACE_BUTTONS");return e[s.findIndex(e,{buttonName:t})]},e.prototype.showButton=function(t,e){void 0===e&&(e=!0),this.userInterfaceButtons[t]&&this.userInterfaceButtons[t].buttonInstance.showButton(e)},e.prototype.enableButton=function(t,e){void 0===e&&(e=!0),this.userInterfaceButtons[t]&&this.userInterfaceButtons[t].isInteractable&&this.userInterfaceButtons[t].buttonInstance.enable(e)},e.prototype.enableUserInteraction=function(t){var e=this;void 0===t&&(t=!0),s.each(this.userInterfaceButtons,(function(i){i.isInteractable&&e.enableButton(i.buttonName,t)}))},e.prototype.updateInfoBoxMessage=function(t,e){void 0===e&&(e=void 0),this.infoBoxHandler.updateInfoBoxMessage(t,e)},e.prototype.updateInfoBoxHandlerDisplay=function(t){null!=t?this.infoBoxHandler.updateInfoBoxDisplay(t):this.infoBoxHandler.updateInfoBoxDisplay(this.display)},e.prototype.updateDisplayValues=function(t){this.displayValues=t,this.setLabelText(this.totalBetTextLabel,t.totalBetInCoinsAsString()),this.setLabelText(this.betPerLineTextLabel,t.coinsAsString()),this.setLabelText(this.linesTextLabel,t.linesAsString()),this.setLabelText(this.coinValueLabel,_.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.coinValueInCoins)),0==t.winnings&&this.setLabelText(this.winTextLabel," ")},e.prototype.setCelebrationWin=function(t){this.setLabelText(this.winTextLabel,l.NumberFormatterUtil.formatNumber(t))},e.prototype.hookToIncrement=function(t){var e=c.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=c.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this._labelHooked?t||(this.dispatchSignal(p.UIActionsNames.REMOVE_LABEL_FROM_INCREMENT,{incrementId:e,label:this.winTextLabel}),this._labelHooked=!1):t&&(this.dispatchSignal(p.UIActionsNames.SEND_LABEL_TO_INCREMENT,{incrementId:e,label:this.winTextLabel}),this._labelHooked=!0)},e.prototype.setLabelText=function(t,e){t&&t.updateLabel(e)},e.prototype.initializeInfoBox=function(){h.SlotInfoBoxHandlerPixi.useMasterLayout=this.slotGameConfig.useMasterLayout,this.infoBoxHandler=new h.SlotInfoBoxHandlerPixi;var t=this.findChild("infoBox");t||(t=new f,this.display.addChild(t)),this.infoBoxHandler.updateInfoBoxDisplay(t)},e.prototype.initializeButtons=function(){var t,e=this,i=this.settings.getValue("USER_INTERFACE_BUTTONS");if("false"===this.settings.getValue("autoEnabled")){var n=this.settings.getValue("DISABLED_BUTTONS_FOR_FLAG");n&&(t=n.autoEnabled.split(","))}s.each(i,(function(i){var n=i.buttonName,o=e.getButton(n);o&&e.storeButton(o,n,i,t)}))},e.prototype.storeButton=function(t,e,i,n,o){void 0===o&&(o=!1),o||(t.onClickHandler=this.onButtonClick.bind(this));var r=new a.UserButtonVO;r.buttonName=e,r.buttonInstance=t,r.isInteractable=i.isInteractable,r.buttonDetails=i,!s.isNil(n)&&n.indexOf(r.buttonName)>=0&&(r.isInteractable=!1,r.buttonInstance.enable(!1)),this.userInterfaceButtons[e]=r},e.prototype.getButton=function(t){var e=this.findChild(t);return e&&(e.stopClickPropagation=!0),e},e.prototype.onButtonClick=function(t){if(this.userInterfaceButtons[t]){var e=this.userInterfaceButtons[t],i=e.buttonDetails.buttonAction;this.dispatchSignal(p.UIActionsNames.USER_ACTION,i),this.playButtonSound(e)}},e.prototype.playButtonSound=function(t){u.SlotSoundNames[t.buttonDetails.clickSound]?this.playSound(u.SlotSoundNames[t.buttonDetails.clickSound]):t.buttonDetails.clickSound?this.playSound(t.buttonDetails.clickSound):d.Log.warning("WARNING: buttonDetails[clickSound] is missing!")},e.prototype.scaleContainersWithStyle=function(t){},e.prototype.showUserInterface=function(){this.gameplayButtonsContainer&&(this.gameplayButtonsContainer.visible=!0,this.hookToIncrement(!0))},e.prototype.hideUserInterface=function(){this.gameplayButtonsContainer&&(this.gameplayButtonsContainer.visible=!1,this.hookToIncrement(!1)),this.hideCoinValuesMenu()},e.prototype.toggleCoinValuesMenu=function(){},e.prototype.showCoinValuesMenu=function(){},e.prototype.hideCoinValuesMenu=function(){},e.prototype.resetStepperIndex=function(){},e.prototype.onCoinValueItemChange=function(t){this.dispatchSignal(p.UIActionsNames.CHANGE_COIN_VALUE,t),this.playSound(u.SlotSoundNames.GENERIC_BUTTON_CLICK)},e.prototype.onBetPerLineChange=function(t){this.dispatchSignal(p.UIActionsNames.CHANGE_COIN,t),this.playSound(u.SlotSoundNames.GENERIC_BUTTON_CLICK)},e}(r.PixiView);e.SlotAbstractUserInterfaceViewPixi=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(48),r=i(7),l=i(8),c=i(47),u=i(18),h=i(4),p=i(30),d=i(81),_=i(319),f=i(886),y=i(887),m=i(14),N=i(41),S=PIXI.Graphics,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onInitReposition=!1,e.buttonsConversion={},e.scaleBgToScreen=!1,e.offsetForLandscape=1,e}return o(e,t),e.prototype.onRegister=function(){var e=this;t.prototype.onRegister.call(this),this.uiCoinValueLabel=this.findMultipleChild("uiCoinValueLabel"),this.uiCoinValueLabel.forEach((function(t){return t.updateLabel(e.translations.getValue("uiCoinValueLabel"))})),this.menuBetPerLineValueButton=this.findMultipleChild("menuBetPerLineValueButton"),this.menuBetPerLineValueButton.forEach((function(t){return t.updateLabel(e.translations.getValue("menuBetPerLineValueButton"))})),h.Device.instance().minigame?this.coinValuesPanelComponent=new f.SlotCoinValuesPanelMinigamePixi(this.display):this.coinValuesPanelComponent=new y.SlotCoinValuesPanelMobilePixi(this.display),this.spinButtonController=new u.ControllerContainer("actionButtons",this.findMultipleChild("actionButtonContainer")),this.portraitBG=this.findChild("portraitBG"),this.portraitBG&&this.portraitBG.setAnchor(0,0),this.coinValuesPanelComponent.panelEvent=function(t){e.onPanelEvent(t)},this.buttonsConversion.coinValuePanelButton="uiCoinValueButton",this.buttonsConversion.apSettingsContainerButton="uiAutoPlayButton",s.isNil(this.settings.getValue("SCALE_BG_TO_SCREEN"))||(this.scaleBgToScreen=this.settings.getValue("SCALE_BG_TO_SCREEN"));var i=this.settings.getValue("HAS_ISB_LOGO");i.hasText&&1==i.hasText&&(this.trademarkText=this.findChildByName(this.mobileLayoutLandscape,"trademarkText"),this.trademarkText.updateLabel(this.translations.getValue("iSoftBetCopyrightLabel"),!0)),this.createPortraitBackgroundMask(),this.deviceScreenResized(),this.registerToHook("scrollCoinvalue",this.onScrollCoinvalue.bind(this))},e.prototype.onScrollCoinvalue=function(t){var e=this.coinValuesPanelComponent.asset[0],i=e.maxScroll-e.contents.y;e.manualScroll(i);var n=new m.ATPageScroll(t.hookDetails.id,!1),o=new m.ATOnEventVO(m.ATEventNames.PAGE_SCROLL,n,500);this.dispatchSignal("onEvent",o),t.hookDetails.hookResult=!1},e.prototype.verifyAndAddButtonToUserInteraction=function(t){var e,i=this,n=this.settings.getValue("USER_INTERFACE_BUTTONS");if("false"===this.settings.getValue("autoEnabled")){var o=this.settings.getValue("DISABLED_BUTTONS_FOR_FLAG");o&&(e=o.autoEnabled.split(","))}s.each(n,(function(n){i.buttonsConversion.hasOwnProperty(t.buttonName)?i.buttonsConversion[t.buttonName]==n.buttonName&&i.storeButton(t,n.buttonName,n,e,!0):t.buttonName==n.buttonName&&i.storeButton(t,n.buttonName,n,e,!0)}))},e.prototype.updateDisplayValues=function(e){t.prototype.updateDisplayValues.call(this,e),this.coinValueInCoins=N.SlotMoneyUtils.getMoneyFromValueMoneyAsString(e.coinValueInCoins),this.coinValuesPanelComponent.setTotalBet(e.betsAsString(!1)),this.coinValuesPanelComponent.setCoinValue(e.coinValue),this.coinValuesPanelComponent.setBetInCoins(this.translations.getValue("uiBetInCoins",[e.totalBetInCoins]))},e.prototype.showUserInterface=function(){t.prototype.showUserInterface.call(this),this.onInitReposition||(this.deviceScreenResized(),this.onInitReposition=!0)},e.prototype.showCoinValuesMenu=function(){this.currentCoinValueList||(this.dispatchSignal(r.UIActionsNames.SET_COIN_VALUES_LIST),this.coinValuesPanelComponent.createCoinValuesPanel(this.currentCoinValueList,this.betPerLine,this.displayValues.coins*this.displayValues.lines),this.coinValuesPanelComponent.onCoinValueItemChange=this.onCoinValueItemChange.bind(this),this.coinValuesPanelComponent.onBetPerLineChange=this.onBetPerLineChange.bind(this),this.coinValuesPanelComponent.setCoinValue(this.displayValues.coinValue),this.coinValuesPanelComponent.deviceScreenResized()),this.dispatchSignal(r.UIActionsNames.SHOW_COIN_VALUES_LIST),this.dispatchSignal(r.UIActionsNames.GET_CURRENT_COIN_VALUE),this.coinValuesPanelComponent.setCoinValuePanelItem(this.currentCoinValue.toString()),this.slotGameConfig.alwaysMaxBetPerLines||this.coinValuesPanelComponent.setCoinPanelItem(this.currentCoin.toString())},e.prototype.alignInfoBox=function(){if(!h.Device.instance().minigame)if(h.Device.isLandscape())this.infoBoxHandler.checkIfBackgroundIsNeeded=this.slotGameConfig.infoBoxBackground[d.SlotInfoBoxHandlerPixi.MOBILE_LANDSCAPE],this.infoBoxHandler.setPosition(l.SceneManager.ACTIVE_RATIO.height-a.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE+this.offsetForLandscape,1);else{var t=0,e=0;l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.hasOwnProperty("strip_alignement")&&(t=l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement.portrait,l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement.hasOwnProperty(d.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT_OFFSET)&&(e=l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement[d.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT_OFFSET])),this.infoBoxHandler.checkIfBackgroundIsNeeded=this.slotGameConfig.infoBoxBackground[d.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT],this.infoBoxHandler.setPosition(l.SceneManager.ACTIVE_RATIO.height+a.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT+35-t+e,1)}},e.prototype.deviceScreenResized=function(){if(t.prototype.deviceScreenResized.call(this),this.alignInfoBox(),!h.Device.instance().minigame){if(h.Device.isLandscape()){var e=l.SceneManager.getScreenXOrigin;this.spinButtonController.componentLandscape.x=l.SceneManager.SCENE_WIDTH+e-this.spinButtonController.componentLandscape.width,this.spinButtonController.componentLandscape.y=(l.SceneManager.getScreenHeight-this.spinButtonController.componentLandscape.height)/2}else this.relocateMobilePortraitUI();this.coinValuesPanelComponent.deviceScreenResized()}},e.prototype.resetStepperIndex=function(){this.coinValuesPanelComponent.resetStepperIndex(this.coinValueInCoins)},e.prototype.hideMobileSpinButton=function(){(s.isNil(this.buttonContainer)||null==this.buttonContainer)&&(this.buttonContainer=new u.ControllerContainer("gameplayButtonsContainer",this.findMultipleChild("gameplayButtonsContainer"))),this.buttonContainer&&(this.buttonContainer.componentLandscape.visible=!1,this.buttonContainer.componentPortrait.visible=!1)},e.prototype.showMobileSpinButton=function(){(s.isNil(this.buttonContainer)||null==this.buttonContainer)&&(this.buttonContainer=new u.ControllerContainer("gameplayButtonsContainer",this.findMultipleChild("gameplayButtonsContainer"))),this.buttonContainer&&(this.buttonContainer.componentLandscape.visible=!0,this.buttonContainer.componentPortrait.visible=!0)},e.prototype.createPortraitBackgroundMask=function(){this.scaleBgToScreen||this.portraitBG&&(this.portraitBackgroundMask=new S,this.portraitBackgroundMask.beginFill(16777215,0),this.portraitBackgroundMask.drawRect(0,0,0,0),this.portraitBackgroundMask.name="portraitBackgroundMask",this.portraitBackgroundMask.endFill(),this.mobileLayoutPortrait.addChild(this.portraitBackgroundMask),this.mobileLayoutPortrait.mask=this.portraitBackgroundMask)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.createPortraitBackgroundMask()},e.prototype.getButton=function(t){var e=new c.ControllerButton(t,this.findMultipleChild(t));return e.hasComponents?(e.stopClickPropagation=!0,e):null},e.prototype.relocateMobilePortraitUI=function(){var t=0;l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.hasOwnProperty("strip_alignement")&&(t=l.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement.portrait),this.spinButtonController.componentPortrait.x=l.SceneManager.SCENE_WIDTH/2-this.spinButtonController.componentPortrait.width/2;var e=l.SceneManager.getScreenHeight-l.SceneManager.SCENE_HEIGHT-2*a.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT-this.spinButtonController.componentPortrait.height;this.spinButtonController.componentPortrait.y=l.SceneManager.SCENE_HEIGHT+e/2-t/2,this.portraitBG&&this.portraitBgResize(t)},e.prototype.portraitBgResize=function(t){var e=l.SceneManager.getScreenHeight-l.SceneManager.SCENE_HEIGHT-100+t,i=l.SceneManager.getScreenWidth;this.scaleBgToScreen?(this.portraitBG.height=e+2*p.WindowUtil.ROUND_COMPENSATION,this.portraitBG.width=i+2*p.WindowUtil.ROUND_COMPENSATION,this.portraitBG.y=l.SceneManager.SCENE_HEIGHT-t,this.portraitBG.x=-l.SceneManager.getScreenXOrigin-(this.portraitBG.width-i)/2):(this.portraitBG.setAnchor(.5,.5),this.portraitBG.height=e+3*a.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT+2*p.WindowUtil.ROUND_COMPENSATION,this.portraitBG.width=l.SceneManager.getScreenWidth+2*p.WindowUtil.ROUND_COMPENSATION,this.portraitBG.scale.x=Math.max(this.portraitBG.scale.x,this.portraitBG.scale.y),this.portraitBG.scale.y=Math.max(this.portraitBG.scale.x,this.portraitBG.scale.y),this.portraitBG.y=this.spinButtonController.componentPortrait.position.y+this.spinButtonController.componentPortrait.height/2,this.portraitBG.x=this.spinButtonController.componentPortrait.position.x+this.spinButtonController.componentPortrait.width/2,this.updatePortraitBackgroundMask(this.portraitBG.width,this.portraitBG.height))},e.prototype.updatePortraitBackgroundMask=function(t,e){if(this.portraitBG){this.portraitBackgroundMask.clear();var i=-l.SceneManager.getScreenXOrigin-p.WindowUtil.ROUND_COMPENSATION,n=l.SceneManager.SCENE_HEIGHT-l.SceneManager.getScreenYOrigin-a.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT;this.portraitBackgroundMask.beginFill(16777215,0),this.portraitBackgroundMask.drawRect(i,n,t+2*p.WindowUtil.ROUND_COMPENSATION,e),this.portraitBackgroundMask.endFill()}},e.prototype.onPanelEvent=function(t){switch(t.eventName){case"getMoney":t.result=N.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.coinValueInCoins)}},e}(_.SlotAbstractUserInterfaceViewPixi);e.SlotMobileUserInterfaceViewPixi=g},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(197),a=i(2),r=i(888),l=i(890),c=i(1),u=i(322),h=i(323),p=i(893),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.Notifications.Global.SETTINGS_LOADED,r.SlotSettingsLoadedCommand),this.replaceCommand(a.Notifications.GameSetup.LOAD_MODULE,l.SlotLoadModuleCommand),this.useMasterLayout&&this.replaceCommand(a.Notifications.MasterLayout.PARSE_MANIFEST_MASTER_LAYOUT,p.SlotParseManifestMasterLayoutCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceSlotMasterLayoutLayersProxy(),this.replaceProxy(c.Names.Proxies.LAYERS,h.SlotLayersProxyPixi)},e.prototype.replaceSlotMasterLayoutLayersProxy=function(){this.replaceProxy(c.Names.Proxies.MASTER_LAYERS,u.SlotMasterLayoutLayersProxy)},e}(s.GameSetup);e.SlotGameSetup=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(891),r=i(35),l=i(204),c=i(15),u=i(37),h=i(8),p=i(2),d=i(1),_=i(34),f=i(75),y=i(4),m=i(104),N=function(t){function e(e){var i=t.call(this,e)||this;return i.wheelScale=1,i.relativeWheelX=1,i.wheelWidth=1,i.wheelHeight=1,i.relativeWheelY=1,i.technicalSymbolsWidth=1,i.technicalSymbolsHeight=1,i.spinesToExcludeOnObsoleteDevices=[],i.reelAreaLayers=[d.Names.Layers.WHEELS,d.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,d.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,d.Names.Layers.WHEELS_OVERLAY,d.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,d.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME],i.spinesToExcludeOnObsoleteDevices=u.MasterLayoutConfig.spinesToExcludeOnObsoleteDevices,i}return o(e,t),e.prototype.drawLayerFromMasterLayout=function(e,i,n){if(!s.isNil(this.masterSkeletonData)){var o=this.masterSkeletonData[f.DTConstants.GAME_CONTENT];e==d.Names.Layers.WHEELS&&!s.isNil(o)&&!s.isNil(o.reelsArea)&&o.reelsArea.length>0&&(this.defineWheels(o.reelsArea),this.recreateTheImagesWheelsSymbols(o.findBoneDataInScenes("ALL_SYMBOLS"))),this.updateLayoutsForWheels(e,i),this.updateLayoutsForWinnings(e)}t.prototype.drawLayerFromMasterLayout.call(this,e,i,n)},e.prototype.recreateTheImagesWheelsSymbols=function(t){var e,i,n=this;s.isUndefined(this.slotGameConfig.symbolsIds)&&(this.slotGameConfig.symbolsIds=[]),s.each(t.children,(function(t){var o=t.name;s.each(t.children,(function(t){var a,r;if(!s.isNil(n.symbolsDefinition)&&n.symbolsDefinition.length>1&&!s.isEmpty(n.symbolsDefinition[0].symbolServerID)){var l=s.filter(n.symbolsDefinition,(function(t){return t.symbolName==o}))[0];a=n.visualAssetsMap.visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+l.symbolServerID,r=parseFloat(l.symbolServerID)}else s.isNil(u.MasterLayoutConfig.getSymbol(o))?(a=o,r=parseFloat(o.replace(/[^0-9]/g,""))):(a=u.MasterLayoutConfig.getSymbol(o),r=parseFloat(u.MasterLayoutConfig.getSymbol(o).replace(/[^0-9]/g,"")));if(isNaN(r))throw new Error("Error: Not all symbols from DT were mapped, please map all symbols");-1==n.slotGameConfig.symbolsIds.indexOf(r)&&n.slotGameConfig.symbolsIds.push(r),n.parseSymbolStaticSpine(t,a),e=n.parseSymbolWinSpine(t,e,r),i=n.parseSymbolAnnounceSpine(t,i,r)}))})),this.slotGameConfig.symbolsIds=s.sortBy(this.slotGameConfig.symbolsIds),s.isNil(e)||this.sendNotification(p.Notifications.MasterLayout.SEND_SPINE_WIN_CONFIGURATION,{config:e},d.Names.Modules.WINNINGS),s.isNil(i)||this.sendNotification(p.Notifications.MasterLayout.SEND_SPINE_ANNOUNCE_CONFIGURATION,{config:i},d.Names.Modules.WHEELS)},e.prototype.parseSymbolStaticSpine=function(t,e){if(t.name.toLowerCase().indexOf("static")>-1){var i,n=new PIXI.Container,o=new PIXI.Container,a=0,r=0;s.each(t.children,(function(t){var e=new PIXI.Sprite(c.TextureUtil.instance().getTextureFromCache(t.getAttachment.name));e.width=t.getAttachment.width*t.getAttachment.scaleX,e.height=t.getAttachment.height*t.getAttachment.scaleY,e.pivot.set(t.getAttachment.pivotX,t.getAttachment.pivotY),e.anchor.set(t.getAttachment.pivotX,t.getAttachment.pivotY),e.position.set(t.getAttachment.x,t.getAttachment.y),n.addChild(e)})),n.scale.x=t.scaleX,n.scale.y=t.scaleY,n.pivot.set(t.pivotX,t.pivotY),n.x=t.width*t.scaleX/2,n.y=t.height*t.scaleY/2,o.addChild(n),o.scale.set(.5,.5),n.width>t.width&&(a=(n.width-t.width)/2,o.x=a/2),n.height>t.height&&(r=(n.height-t.height)/2,o.y=r/2),i=PIXI.RenderTexture.create(t.width+a,t.height+r,.5,2),h.SceneManager.renderer.render(o,i),PIXI.Texture.addToCache(i,e)}},e.prototype.parseSymbolWinSpine=function(t,e,i){var n=this;if(t.name.toLowerCase().indexOf("win")>-1&&t.children.length&&"Spine"==t.children[0].getAttachment.type){s.isNil(e)&&(e={}),e[i]=[];var o=t.width,a=t.height;s.each(t.children,(function(t){if("Spine"==t.getAttachment.type){var s=n.getSymbolConfiguration(t,o,a,i);n.saveDefaultSkin(s),e[i].push(s)}}))}return e},e.prototype.parseSymbolAnnounceSpine=function(t,e,i){var n=this;if(t.name.toLowerCase().indexOf("announce")>-1){s.isNil(e)&&(e={}),e[i]=[];var o=t.width,a=t.height;s.each(t.children,(function(t){if("Spine"==t.getAttachment.type){var s=n.getSymbolConfiguration(t,o,a,i);n.saveDefaultSkin(s),e[i].push(s)}}))}return e},e.prototype.getSymbolConfiguration=function(t,e,i,n){var o=t.getAttachment;if(t.components.length>0&&y.Device.instance().mobile){var a=s.find(t.components,{type:"contextReplacer"});s.isNil(a)||s.each(a.data.details.map,(function(t){var e=t.componentName;if(e=-1!=e.indexOf("Atlas")?"atlas":"spine",o[e]=t.localPath,"spine"==e){var i=new RegExp(".*\\/(.*)\\..*").exec(o.spine);null!=i&&2==i.length&&(o.name=i[1])}}))}return o.parentWidth=e,o.parentHeight=i,o.rotation=t.getAttachment.rotation,o},e.prototype.initProxy=function(){t.prototype.initProxy.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.defineWheels=function(t){var e,i=this;if((s.filter(t,{layoutType:m.LayoutType.DESKTOP}).length||s.filter(t,{layoutType:m.LayoutType.LANDSCAPE}).length)&&(e=t[0].reelsArea,this.wheelsConfiguration=t),!s.isNil(e)&&s.has(e,"symbols")&&(this.symbolsDefinition=e.symbols),!s.isNil(e)&&s.has(e,"numberOfReels")){var n=this.masterSkeletonData[f.DTConstants.GAME_CONTENT].findBoneDataInScenes("ReelsArea");n&&(this.wheelScale=n.scaleX),this.wheelWidth=e.width/2,this.wheelHeight=e.height/2,this.relativeWheelX=e.x/2,this.relativeWheelY=e.y/2,this.technicalSymbolsWidth=e.symbolWidth/2;var o,a=this.technicalSymbolsHeight=e.symbolHeight/2,r=e.symbolsGap/2,l=e.numberOfReels,c=e.reels,u=e.symbolsPerReel;!s.isNil(e)&&s.has(e,"symbolsPerReelsByIndex")&&(o=e.symbolsPerReelsByIndex),this.slotGameConfig.columnsCnt=l,this.slotGameConfig.rowsCnt=u,s.each(c,(function(t,e){var n=i.slotGameConfig.getProperty("WHEEL_COLUMNS_DETAILS",(e+1).toString()),a=!1;s.has(n,"overwrite")&&(a=n.overwrite),s.isNil(n)&&(i.slotGameConfig.addProperty("WHEEL_COLUMNS_DETAILS",(e+1).toString(),{columnBounds:"",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),n=i.slotGameConfig.getProperty("WHEEL_COLUMNS_DETAILS",(e+1).toString())),a||(n.columnBounds=t.x/2-t.width/4+","+(t.y/2-t.height/4)+","+t.width/2+","+t.height/2,n.symbolRowSpacing=r,s.isNil(o)||(n.numberOfSymbols=o[e]))})),this.slotGameConfig.getProperty("WHEEL_DECORATORS","tweenWheelDecorator").symbolHeight=a}},e.prototype.isSpineExcludedForDevice=function(t){var e;switch(y.Device.deviceLevel()){case y.DeviceLevel.obsolete:e=this.spinesToExcludeOnObsoleteDevices.map((function(t){return t.animationName}));break;case y.DeviceLevel.good:case y.DeviceLevel.passable:case y.DeviceLevel.unavailable:default:return!1}return-1!==e.indexOf(t)},e.prototype.drawSpine=function(e,i,n,o){if(!this.isSpineExcludedForDevice(e.animationName)){t.prototype.drawSpine.call(this,e,i,n,o);var r=e.layoutType,l=this.getSpineData(e,i);if(!s.isNil(l)){var c="";c=r==m.LayoutType.DESKTOP||r==m.LayoutType.LANDSCAPE?m.LayoutType.LANDSCAPE:m.LayoutType.PORTRAIT;var u=this.cleanNames(i),h={};h[c]={spineData:l,pivotX:e.pivotX,pivotY:e.pivotY,width:e.width/2,height:e.height/2,scaleX:e.scaleX/2,scaleY:e.scaleY/2,x:e.x/2,y:e.y/2,rotation:e.rotation,autoplay:e.autoPlay,animationName:e.animationName},r==m.LayoutType.PORTRAIT&&(h[c].x+=this.PORTRAIT_X_OFFSET);var p=new a.SpineComponent(u,h[c]);this.setElementVisibility(p.spine,o),p.spine.name=u+"Spine",p.skeleton.setToSetupPose(),p.spine.update(0),p.spine.autoUpdate=!1,h[c].autoplay&&p.state.setAnimation(100,h[c].animationName,!0),this.saveDefaultSkin(e),this.addSpineToSpineManager(p),n.addChild(p)}}},e.prototype.addSpineToSpineManager=function(t){r.SpineManager.getInstance().addSpine(t.spine)},e.prototype.updateLayoutsForWheels=function(t,e){if(s.includes(this.reelAreaLayers,t)){var i=e.container;i.scale.set(this.wheelScale,this.wheelScale),i.position.set(Math.floor(this.relativeWheelX-this.wheelWidth*this.wheelScale/2),Math.floor(this.relativeWheelY-this.wheelHeight*this.wheelScale/2))}},e.prototype.updateLayoutsForWinnings=function(t){var e=this;if(t==d.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN){this.sendGlobalNotification(p.Notifications.MasterLayout.CONFIGURE_WINNINGS_DECORATORS);var i=this.masterSkeletonData[f.DTConstants.GAME_CONTENT].findBoneDataInScenes("SpecialMessagesModuleAssets");s.each(i.children,(function(t){if("SpecialMessagess"==t.name){var i=t.getAttachment;e.saveDefaultSkin(i)}}))}},e.prototype.saveDefaultSkin=function(t){var e=t;s.isNil(e.skinName)||""==e.skinName||r.SpineManager.getInstance().addDefaultSkin(e.animationName,e.skinName)},e}(l.MasterLayoutLayersProxy);e.SlotMasterLayoutLayersProxy=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(119),r=i(892),l=i(1),c=function(t){function e(e){return void 0===e&&(e="LayersProxy"),t.call(this,e)||this}return o(e,t),e.prototype.initLayerOrder=function(){this._pixiLayerOrder=[new a.PIXILayerVO(l.Names.Layers.VIDEO_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.ACTION,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.WHEELS,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS_FRAME,!0),new a.PIXILayerVO(l.Names.Layers.WHEELS_OVERLAY,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,!0),new a.PIXILayerVO(l.Names.Layers.COPYRIGHT,!0),new a.PIXILayerVO(l.Names.Layers.RESPINS),new a.PIXILayerVO(l.Names.Layers.LINES,!0),new a.PIXILayerVO(l.Names.Layers.GAME_INFO,!0),new a.PIXILayerVO(l.Names.Layers.LOGO,!0),new a.PIXILayerVO(l.Names.Layers.DECORATIVE_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE_POPUP,!0,!1),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,!0),new a.PIXILayerVO(l.Names.Layers.PIXI_CLICK_CATCHER,!0),new a.PIXILayerVO(l.Names.Layers.FREE_GAMES_UI,!0,!1),new a.PIXILayerVO(l.Names.Layers.GAMEPLAY_BUTTONS,!0),new a.PIXILayerVO(l.Names.Layers.AUTO_PLAY,!0),new a.PIXILayerVO(l.Names.Layers.PAY_TABLE,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_GAMES_START,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_GAMES_END,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_GAMES_EXTRA,!0,!1),new a.PIXILayerVO(l.Names.Layers.BONUS,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_ROUNDS_START,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_ROUNDS_UI,!0,!1),new a.PIXILayerVO(l.Names.Layers.FREE_ROUNDS_END,!0,!1),new a.PIXILayerVO(l.Names.Layers.BONUS_SYSTEM_END,!0,!1),new a.PIXILayerVO(l.Names.Layers.BONUS_START,!0,!1),new a.PIXILayerVO(l.Names.Layers.BONUS_END,!0,!1),new a.PIXILayerVO(l.Names.Layers.STRIP,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE_NOTICE,!0),new a.PIXILayerVO(l.Names.Layers.MENU,!0),new a.PIXILayerVO(l.Names.Layers.CHEAT_TOOL,!1,!1),new a.PIXILayerVO(l.Names.Layers.INTRO_FEATURES,!0),new a.PIXILayerVO(l.Names.Layers.INTRO_VIDEO),new a.PIXILayerVO(l.Names.Layers.PRELOADER,!0),new a.PIXILayerVO(l.Names.Layers.WARNING,!0),new a.PIXILayerVO(l.Names.Layers.MASK_PREVENT_CLICK,!0)],this._htmlLayerOrder=[]},e.prototype.shouldDrawAtStart=function(t){return t==l.Names.Layers.PRELOADER||t==l.Names.Layers.WARNING},e.prototype.drawLayer=function(e,i){t.prototype.drawLayer.call(this,e,i)},e.prototype.initProxy=function(){t.prototype.initProxy.call(this),s.isNil(this.slotGameConfigVO)&&(this.slotGameConfigVO=this.settings.getValue("GameConfig"))},e}(r.SlotLayersProxy);e.SlotLayersProxyPixi=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addTransitionDetails=function(){t.prototype.addTransitionDetails.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"));var e=this.slotGameConfig.introTransitionSettings;this.hasFadeIn=e.hasFadeIn,this.fadeInDuration=e.fadeInDuration},e}(i(246).PreloaderViewPixi);e.SlotPreloaderViewPixi=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(155),r=i(9),l=i(326),c=i(2),u=i(906),h=i(907),p=i(908),d=i(28),_=i(909),f=i(910),y=i(911),m=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(c.Notifications.Global.SET_INITIAL_SYMBOLS,u.MegawaysSetInitialSymbolsCommand),this.addCommand(c.Notifications.Global.UPDATE_DISPLAY_SYMBOLS,h.MegawaysUpdateDisplaySymbolsCommand),this.addCommand(d.MegawaysNotifications.PARSE_SPECIAL_SYMBOLS,_.MegawaysParseSpecialSymbolsCommand),this.addCommand(c.Notifications.MasterLayout.SEND_SPINE_ANNOUNCE_CONFIGURATION,f.MegawaysSendSpineAnnounceConfigCommand),this.addCommand(d.MegawaysNotifications.SEND_SPINE_ANTICIPATION_CONFIGURATION,y.MegawaysSendSpineAnticipationConfigCommand)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView(r.MegawaysNames.MEGAWAYS_WHEELS_VIEW,[l.MegawaysWheelsView,l.MegawaysWheelsView,l.MegawaysWheelsView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(a.MegawaysWheelsMediator,r.MegawaysNames.MEGAWAYS_WHEELS_VIEW)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(r.MegawaysNames.MEGAWAYS_PROXY,p.MegawaysProxy)},e}(s.AbstractModule);e.MegawaysWheelsModule=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(327),r=i(101),l=i(9),c=i(0),u=i(329),h=i(156),p=i(157),d=i(330),_=i(35),f=i(905),y=i(11),m=i(331),N=PIXI.Container,S=PIXI.Graphics,g=PIXI.spine.Spine,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wheels=[],e.impactAnimations=[],e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.slotGameConfig=this.settings.getValue(l.MegawaysNames.GAME_CONFIG),this.wheelAnimationConfig=r.MegawaysWheelsUtils.getWheelsDetails(this.slotGameConfig)},e.prototype.setUp=function(t){this.wheelSettings=t,c.isNil(this.wheelSettings.eplSettings.padding)&&(this.wheelSettings.eplSettings.padding=this.wheelAnimationConfig.wheelsBounds[0].height/5),this.createSymbolsPool(),this.setRowHeights(),this.createWheels(),this.addBroadcastHandlers(),this.createSpecialSymbolDisplay()},e.prototype.createSpecialSymbolDisplay=function(){this.specialSymbolDisplay=new d.MegawaysSpecialSymbolDisplay(this.slotGameConfig),this.display.addChild(this.specialSymbolDisplay)},e.prototype.createNearMissDisplay=function(t){this.cascadeNearMissDisplay=new f.MegawaysCascadeNearMissDisplay(this.wheelSettings.cascadeNearMissSettings.settings,this.wheelAnimationConfig.wheelsBounds,t),this.wheelSettings.cascadeNearMissSettings.settings.belowWheels?this.display.addChildAt(this.cascadeNearMissDisplay,0):this.display.addChild(this.cascadeNearMissDisplay)},e.prototype.createSymbolsPool=function(){this.symbolsPool=new u.MegawaysSymbolsPool},e.prototype.addBroadcastHandlers=function(){this.addBroadcastActionHandler(h.MegawaysBroadcastActions.WHEEL_COMPLETE,this.onWheelComplete.bind(this)),this.addBroadcastActionHandler(h.MegawaysBroadcastActions.CASCADE_SYMBOL_FALLEN,this.onCascadeSymbolFallen.bind(this))},e.prototype.onWheelComplete=function(t,e){this.dispatchSignal(h.MegawaysBroadcastActions.WHEEL_COMPLETE,e.wheelId),this.wheels.reduce((function(t,e){return t||e.spinning}),!1)||this.dispatchSignal(h.MegawaysBroadcastActions.ALL_WHEELS_COMPLETE),this.playSound(y.SlotSoundNames.WHEEL_STOP),this.orderLayers()},e.prototype.onCascadeSymbolFallen=function(t,e){this.dispatchSignal(h.MegawaysBroadcastActions.CASCADE_SYMBOL_FALLEN,e),this.playSound(m.MegawaysSounds.SYMBOL_SINGLE_LAND)},e.prototype.playImpactAnimation=function(t,e){this.impactAnimation&&(this.display.addChild(this.impactAnimations[t]),_.SpineManager.getInstance().addSpine(this.impactAnimations[t]),this.impactAnimations[t].state.update(0),this.impactAnimations[t].state.setAnimation(0,this.impactAnimation,!1),this.impactAnimations[t].y=this.wheelSettings.eplSettings.cascadeSettings.impactOffsetY+this.wheels[t].rowHeight*(e+1))},e.prototype.impactSpineLoaded=function(t,e){var i=this;this.impactAnimation=e;for(var n=function(e){o.impactAnimations[e]=new g(t.spineData),o.impactAnimations[e].skeleton.setToSetupPose(),o.impactAnimations[e].update(0),o.impactAnimations[e].autoUpdate=!1,o.impactAnimations[e].state.timeScale=o.wheelSettings.eplSettings.cascadeSettings.impactTimeScale,o.impactAnimations[e].x=o.wheelAnimationConfig.wheelsBounds[e].x+o.wheelAnimationConfig.wheelsBounds[e].width/2,o.impactAnimations[e].state.addListener({complete:function(){i.display.removeChild(i.impactAnimations[e]),_.SpineManager.getInstance().removeSpine(i.impactAnimations[e])}})},o=this,s=0;s<this.slotGameConfig.wheelsCnt;s++)n(s)},e.prototype.getWheelCompleted=function(t){return!this.wheels[t].spinning},e.prototype.startWheelSpin=function(){var t=this;this.wheels.forEach((function(e,i){var n=c.isNil(t.wheelSettings.eplSettings.randomStart)?t.wheelSettings.eplSettings.startDelays[i]:t.wheelSettings.eplSettings.randomStart*Math.random(),o=i*t.wheelSettings.eplSettings.stopDelay,s=t.wheelSettings.eplSettings.spinTime;t.turboModeSettings&&t.turboModeSettings.isTurboModeActive&&(n=t.turboModeSettings.wheelStartDelay,s=t.turboModeSettings.wheelMinimumDelay,o=0),e.startWheelSpin(n,s,o)})),this.specialSymbolDisplay.stopAnimations(),this.GMAPIShown=!1},e.prototype.stopSpecialSymbolAnimations=function(){this.specialSymbolDisplay.stopAnimations()},e.prototype.setSpinDuration=function(t){this.wheels.forEach((function(e,i){e.setSpinDuration(t)}))},e.prototype.stopWheelSpin=function(){this.wheelSettings.ignoreStop&&this.wheels.forEach((function(t,e){t.stopSpin()}))},e.prototype.stopWheelSpinIndividual=function(t){var e=t;this.wheels.forEach((function(i,n){TweenMax.delayedCall(e,(function(){i.stopSpin()})),e+=t}))},e.prototype.startCascadeSpin=function(t,e){var i=this,n=0;this.nearMissData.nearMissAtStart&&(n=this.wheelSettings.cascadeNearMissSettings.settings.delay),TweenMax.delayedCall(n,this.stopAnticipation.bind(this)),this.wheels.forEach((function(o,s){n+=o.startCascade(t,e[s],n),e[s].length>0&&(n+=i.wheelSettings.eplSettings.cascadeSettings.delayIncrement)}))},e.prototype.updateDisplaySymbols=function(t){this.wheels.forEach((function(e){e.setSymbols(t)}))},e.prototype.updateNearMiss=function(t){this.nearMissData=t,this.wheels.forEach((function(e){e.updateNearMiss(t)})),t.nearMissAtStart&&this.cascadeNearMissDisplay&&this.cascadeNearMissDisplay.onNearMiss(t.nearMissReels)},e.prototype.playAnnounce=function(t,e,i,n){this.GMAPIShown||this.specialSymbolDisplay.startAnnounce(t,e,i,n[t])},e.prototype.startAnticipation=function(t,e){this.specialSymbolDisplay.startAnticipation(t,e),this.playSound(m.MegawaysSounds.ANTICIPATION,!0)},e.prototype.stopAnticipation=function(){this.specialSymbolDisplay.stopAnticipationAnimations(),this.stopSound(m.MegawaysSounds.ANTICIPATION),this.cascadeNearMissDisplay&&this.nearMissData&&!this.nearMissData.nearMissAtEnd&&this.cascadeNearMissDisplay.stopAllNearMiss()},e.prototype.setRowHeights=function(){var t=this;this.wheelSettings.rowHeights=[],this.wheelSettings.eplSettings.rowsAllowed.forEach((function(e){t.wheelSettings.rowHeights.push(t.wheelAnimationConfig.wheelsBounds[0].height/e)}))},e.prototype.createWheels=function(){this.wheels=[],this.layers=[];var t=c.isNil(this.wheelSettings.eplSettings.numLayers)?2:this.wheelSettings.eplSettings.numLayers,e=c.isNil(this.wheelSettings.eplSettings.layersMasked)?1:this.wheelSettings.eplSettings.layersMasked;e&&this.createMask();for(var i=0;i<t;i++){var n=new N;n.name="wheels_layer_"+i,this.display.addChild(n),this.layers.push(n),i<=t-e&&(n.mask=this.wheelsMask)}var o=this.wheelSettings.eplSettings.rowsAllowed.reduce((function(t,e){return Math.max(t,e)}),0);for(i=0;i<this.slotGameConfig.wheelsCnt;i++){var s=this.getWheel(i,this.wheelAnimationConfig.wheelsBounds[i],this.wheelSettings,this.layers,o);s.eventSignal.add(this.callBroadcastHandler.bind(this)),s.setSymbolsPool(this.symbolsPool),this.wheels.push(s)}},e.prototype.getWheel=function(t,e,i,n,o){return new a.MegawaysWheel(t,e,i,n,o)},e.prototype.createMask=function(){var t=r.MegawaysWheelsUtils.getMaskBounds(this.wheelAnimationConfig,this.wheelSettings.eplSettings.maskOffsetRect);this.wheelsMask=new S,this.wheelsMask.beginFill(0),this.wheelsMask.drawRect(t.x,t.y,t.width,t.height),this.display.addChild(this.wheelsMask)},e.prototype.orderLayers=function(){for(var t=0;t<this.layers.length;t++)this.sortSymbolsInLayer(t)},e.prototype.sortSymbolsInLayer=function(t){this.layers[t].children.sort((function(t,e){return t instanceof p.MegawaysSymbolDisplay&&e instanceof p.MegawaysSymbolDisplay?t.priority>e.priority?1:-1:0}))},e.prototype.hideSymbols=function(t){this.wheels.forEach((function(e,i){e.hideSymbols(t[i])}))},e.prototype.lockWheel=function(t,e){},e.prototype.setRandomSymbolsWeights=function(t){this.wheels.forEach((function(e){e.randomSymbolsWeight=t}))},e.prototype.resetRandomSymbolsWeights=function(){this.wheels.forEach((function(t){t.resetRandomSymbolWeights()}))},e.prototype.setTurboMode=function(t){this.turboModeSettings=t},e}(s.PixiView);e.MegawaysWheelsView=A},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(70),s=i(904),a=i(328),r=i(156),l=i(9),c=function(){function t(t,e,i,r,l){this.eventSignal=new o.Signal,this.spinState=n.Stopped,this.stopDelay=0,this.allSymbols=[],this.resultSymbols=[],this.timer=new a.MegawaysWheelTimer,this.vel=0,this._wheelId=Number(t),this.bounds=e,this.settings=i,this.maxRowsPerWheel=l,this.minY=this.bounds.top-this.settings.eplSettings.padding,this.maxY=this.bounds.bottom+this.settings.eplSettings.padding,this.randomSymbolsWeight=this.settings.eplSettings.randomWeights,this.layers=r,this.updateBound=this.onUpdate.bind(this),this.baseSpinController=new s.BaseSpinController(this.settings.eplSettings.cruiseSpeed,this.settings.eplSettings.baseSpinStart,this.settings.eplSettings.baseSpinStop),this.setCascadeEase()}return Object.defineProperty(t.prototype,"spinning",{get:function(){return this.spinState!=n.Stopped},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cascading",{get:function(){return this.spinState==n.Cascading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelId",{get:function(){return this._wheelId},enumerable:!0,configurable:!0}),t.prototype.setSymbolsPool=function(t){this.symbolsPool=t},t.prototype.setSymbols=function(t){this.results=[];for(var e=0;e<t.length;e++)e%this.settings.eplSettings.wheelsCnt==this.wheelId&&-1!=t[e]&&this.results.push(t[e]);if(this.numRows=this.results.length,this.rowHeight=this.bounds.height/this.numRows,this.halfRowHeight=this.rowHeight/2,this.spinning)this.cascading||(this.spinState=n.SpinningGotResults,this.setSpinDuration());else{this.clear();for(e=0;e<this.numRows;e++){var i=this.getSymbol(this.results[e]);this.layers[this.settings.symbolsInfo[this.results[e]].layerAtRest].addChild(i),i.y=this.halfRowHeight+this.rowHeight*e,this.allSymbols.push(i),i.row=e,this.resultSymbols.push(i)}this.addRandomSymbol().y=this.bounds.height+this.halfRowHeight,this.allSymbols.reverse(),this.resultSymbols.reverse()}},t.prototype.padSymbols=function(){},t.prototype.removePadSymbols=function(){},t.prototype.updateNearMiss=function(t){this.nearMissData=t},t.prototype.startCascade=function(t,e,i){var o=this;void 0===i&&(i=0);if(e.length>0){this.spinState=n.Cascading,this.numSymbolsFalling=0,e.forEach((function(t){var e=o.resultSymbols[o.resultSymbols.length-t-1];o.removeSymbol(o.allSymbols.indexOf(e)),o.resultSymbols[o.resultSymbols.indexOf(e)]=null})),this.results=[];for(var s=0;s<t.length;s++)s%this.settings.eplSettings.wheelsCnt==this.wheelId&&-1!=t[s]&&this.results.push(t[s]);var a=this.resultSymbols.filter((function(t){return null!=t}));this.resultSymbols=[];var l=1,c=function(t){var e=a.length>0?a.shift():u.addNewSymbol(u.results[t]);if(e.row!=t){var n=u.halfRowHeight+u.rowHeight*t;e.row<0&&(e.y=-u.rowHeight*l++),e.row=t,u.numSymbolsFalling++,TweenMax.to(e,u.getCascadeTweenTime(n-e.y,!1),{y:n,delay:i,ease:u.cascadeEase,onComplete:function(){var e=6*t+o._wheelId;o.eventSignal.dispatch(r.MegawaysBroadcastActions.CASCADE_SYMBOL_FALLEN,e),0==--o.numSymbolsFalling&&o.onCascadeCompleted()}})}u.resultSymbols.push(e)},u=this;for(s=this.results.length-1;s>=0;s--)c(s)}return 0},t.prototype.setCascadeEase=function(){switch(this.settings.eplSettings.cascadeSettings.ease){case l.MegawaysNames.BOUNCE:this.cascadeEase=Bounce.easeOut;break;case l.MegawaysNames.LINEAR:this.cascadeEase=Linear.easeNone;break;case l.MegawaysNames.BACK:this.cascadeEase=Back.easeOut;break;case l.MegawaysNames.QUAD:this.cascadeEase=Quad.easeOut;break;case l.MegawaysNames.ELASTIC:this.cascadeEase=Elastic.easeOut;break;default:this.cascadeEase=Quad.easeOut}},t.prototype.getCascadeTweenTime=function(t,e){var i=.5*this.settings.eplSettings.cascadeSettings.time;return i+i*t/this.bounds.height},t.prototype.setSpinDuration=function(t){void 0===t&&(t=-1),t>=0&&(this.spinDuration=t),t<0&&this.timer.time>this.spinDuration?(this.timer.reset(),this.timer.setDuration(this.stopDelay,this.stopSpin.bind(this))):this.timer.time>this.spinDuration||this.needsToStop?this.needsToStop?this.stopSpin():(this.timer.reset(),this.timer.setDuration(this.stopDelay,this.stopSpin.bind(this))):this.timer.setDuration(this.spinDuration+this.stopDelay,this.stopSpin.bind(this))},t.prototype.startWheelSpin=function(t,e,i){void 0===i&&(i=0),this.cascading||this.spinning||(PIXI.ticker.shared.add(this.updateBound),this.baseSpinController.start(t),this.timer.reset(),this.timer.start(),this.spinDuration=e,this.symbolNum=0,this.spinState=n.SpinningNoResults,this.needsToStop=!1,this.stopDelay=i)},t.prototype.stopSpin=function(){this.needsToStop=!0},t.prototype.doStop=function(){if(!this.cascading){this.spinState=n.Stopping,this.resultSymbols=[];for(var t=this.results.length-1;t>=0;t--){var e=this.addNewSymbol(this.results[t]);e.row=t,this.resultSymbols.push(e)}this.baseSpinController.completed=!0;var i=this.halfRowHeight-this.resultSymbols[this.resultSymbols.length-1].y;this.baseSpinController.stopToDistance(i)}},t.prototype.startNearMiss=function(){},t.prototype.onUpdate=function(){this.timer.update(),this.baseSpinController.update();for(var t=0;t<this.allSymbols.length;t++)this.allSymbols[t].y+=this.baseSpinController.speed,this.allSymbols[t].top>this.maxY&&(this.removeSymbol(t),t--);for(;this.allSymbols[this.allSymbols.length-1].top>this.minY;)this.addRandomSymbol();this.baseSpinController.completed?this.onBaseSpinCompleted():this.needsToStop&&this.spinState==n.SpinningGotResults&&this.doStop()},t.prototype.onBaseSpinCompleted=function(){PIXI.ticker.shared.remove(this.updateBound),this.abstractSpinComplete()},t.prototype.onCascadeCompleted=function(){this.abstractSpinComplete()},t.prototype.abstractSpinComplete=function(){var t=this;this.spinState=n.Stopped,this.resultSymbols.forEach((function(e){t.layers[t.settings.symbolsInfo[e.symbolId].layerAtRest].addChild(e),e.setStopped()})),this.eventSignal.dispatch(r.MegawaysBroadcastActions.WHEEL_COMPLETE,this)},t.prototype.removeSymbol=function(t){this.allSymbols[t].parent.removeChild(this.allSymbols[t]),this.symbolsPool.putSymbolDisplay(this.allSymbols[t]),this.allSymbols.splice(t,1)},Object.defineProperty(t.prototype,"randomSymbolsWeight",{set:function(t){var e=this;this._randomSymbolsWeight=t,this.randomSymbolPool=[],t.forEach((function(t,i){for(var n=0;n<t;n++)e.randomSymbolPool.push(i)}))},enumerable:!0,configurable:!0}),t.prototype.resetRandomSymbolWeights=function(){this.randomSymbolsWeight=this.settings.eplSettings.randomWeights},t.prototype.addRandomSymbol=function(){return this.addNewSymbol(this.randomSymbolPool[Math.floor(this.randomSymbolPool.length*Math.random())]+1)},t.prototype.getDestinationY=function(t){return this.rowHeight/2+this.rowHeight*t},t.prototype.getSymbol=function(t){var e=this.symbolsPool.getSymbolDisplay(),i=this.settings.symbolsInfo[t].hasBlur&&this.spinning;return e.setSymbol(t,this.numRows,this.settings.symbolsInfo[t].priority,i),e.halfHeight=this.rowHeight/2,e.symbolHeight=this.rowHeight,e.x=this.bounds.x+this.bounds.width/2,e.row=-1,e},t.prototype.addNewSymbol=function(t){var e=this.getSymbol(t);if(this.cascading)this.layers[this.settings.symbolsInfo[t].layerDuringSpin].addChild(e),this.allSymbols.push(e);else{this.spinning?this.layers[this.settings.symbolsInfo[t].layerDuringSpin].addChild(e):this.layers[this.settings.symbolsInfo[t].layerAtRest].addChild(e);var i=this.allSymbols[this.allSymbols.length-1];e.y=i.y-(e.halfHeight+i.halfHeight),this.allSymbols.push(e)}return e.name="Wheel_"+this.wheelId+"_symbol_"+t+"_num_"+this.symbolNum++,e},t.prototype.hideSymbols=function(t){var e=this;t.forEach((function(t,i){e.resultSymbols[e.resultSymbols.length-i-1].visible=1!=t}))},t.prototype.clear=function(){var t=this;this.allSymbols.forEach((function(e){e.parent.removeChild(e),t.symbolsPool.putSymbolDisplay(e)})),this.allSymbols=[],this.resultSymbols=[]},t}();e.MegawaysWheel=c,function(t){t[t.Stopped=0]="Stopped",t[t.SpinningNoResults=1]="SpinningNoResults",t[t.SpinningGotResults=2]="SpinningGotResults",t[t.Stopping=3]="Stopping",t[t.Cascading=4]="Cascading"}(n||(n={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(70),o=function(){function t(){this.onComplete=new n.Signal}return t.prototype.reset=function(){this.onComplete.removeAll(),this.progress=0},t.prototype.start=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!0),this.duration=t,e&&(this.duration*=1e3),this.progress=0,this.lastTime=Date.now(),this.completed=t<0},t.prototype.setDuration=function(t,e,i){void 0===t&&(t=-1),void 0===e&&(e=null),void 0===i&&(i=!0),this.duration=t,i&&(this.duration*=1e3),this.completed=t<0,e&&this.onComplete.add(e)},t.prototype.update=function(){var t=Date.now();this.progress+=t-this.lastTime,this.lastTime=t,!this.completed&&this.progress>this.duration&&(this.completed=!0,this.onComplete.dispatch())},Object.defineProperty(t.prototype,"time",{get:function(){return this.progress/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMs",{get:function(){return this.progress},enumerable:!0,configurable:!0}),t}();e.MegawaysWheelTimer=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(157),o=function(){function t(){this.pool=[]}return t.prototype.populate=function(t){for(var e=0;e<t;e++)this.pool.push(this.createSymbolDisplay())},t.prototype.createSymbolDisplay=function(){return new n.MegawaysSymbolDisplay},t.prototype.getSymbolDisplay=function(){return this.pool.length<=0?this.createSymbolDisplay():this.pool.pop()},t.prototype.putSymbolDisplay=function(t){t.clear(),this.pool.push(t)},t}();e.MegawaysSymbolsPool=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(100),a=i(9),r=i(35),l=PIXI.spine.Spine,c=function(t){function e(e){var i=t.call(this)||this;i.CASH_VALUE_POOL_LENGTH=42,i.spineAtlas=new Map,i.anticipationSpines=[],i.announceSpines=[],i.nonLoopedListener={complete:i.spineComplete.bind(i)},i.slotGameConfig=e;var n=i.slotGameConfig.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANTICIPATION);n&&i.setUpAnticipation(n);var o=i.slotGameConfig.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE);return o&&i.setUpAnnounce(o),i}return o(e,t),e.prototype.setUpAnticipation=function(t){this.anticipationSettings=t,this.setUpConfig(t)},e.prototype.setUpAnnounce=function(t){this.announceSettings=t,this.setUpConfig(t)},e.prototype.setUpConfig=function(t){var e=this;this.spinesPools||(this.spinesPools=new Map),t.spineConfig.forEach((function(i,n){i.forEach((function(i,n){i.forEach((function(i){e.spinesPools.has(i.atlas)||e.spinesPools.set(i.atlas,new s.ObjectPool(5,l,[t.spineData.get(i.atlas)]))}))}))}))},e.prototype.startAnticipation=function(t,e){this.stopAnnounceAnimations();for(var i=0;i<t[0].length;i++)for(var n=0;n<t.length;n++)this.anticipationSettings.spineConfig.has(t[n][i])&&this.anticipationSpines.push(this.playSymbolAt(i,n,e[i],this.anticipationSettings.spineConfig.get(t[n][i]).get(e[i])[0],!0))},e.prototype.startAnnounce=function(t,e,i,n){this.announceSpines.push(this.playSymbolAt(t,e,n,this.announceSettings.spineConfig.get(i).get(n)[0],!1))},e.prototype.playSymbolAt=function(t,e,i,n,o){var s=this,a=this.spinesPools.get(n.atlas).get();a.skeleton.setToSetupPose(),a.autoUpdate=!1,a.state.setAnimation(0,n.animationName,o),a.update(0),a.scale.x=.5*n.width/n.parentWidth,a.scale.y=.5*n.height/n.parentHeight,this.addChild(a);var l=this.getPosition(t,e,i);return a.x=l.x,a.y=l.y,r.SpineManager.getInstance().addSpine(a),this.spineAtlas.set(a,n.atlas),o||a.state.addListener({complete:function(){s.spineComplete(a,!0)}}),a},e.prototype.stopAnticipationAnimations=function(){var t=this;this.anticipationSpines.forEach((function(e){t.spineComplete(e)})),this.anticipationSpines=[]},e.prototype.stopAnnounceAnimations=function(){var t=this;this.announceSpines.forEach((function(e){t.spineComplete(e)})),this.announceSpines=[]},e.prototype.spineComplete=function(t,e){this.removeChild(t),t.state.clearListeners(),r.SpineManager.getInstance().removeSpine(t),this.spinesPools.get(this.spineAtlas.get(t)).recycle(t),e&&(this.announceSpines.indexOf(t)>=0&&this.announceSpines.splice(this.announceSpines.indexOf(t),1),this.anticipationSpines.indexOf(t)>=0&&this.anticipationSpines.splice(this.anticipationSpines.indexOf(t),1))},e.prototype.stopAnimations=function(){this.stopAnticipationAnimations(),this.stopAnnounceAnimations()},e.prototype.getPosition=function(t,e,i){var n=t+e*this.slotGameConfig.wheelsCnt;return this.slotGameConfig.getSymbolPosition(n,i)},e}(PIXI.Container);e.MegawaysSpecialSymbolDisplay=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.SYMBOL_SINGLE_LAND="symbol_single_land",t.ANTICIPATION="anticipation",t.SCATTER_ANNOUNCE="scatter_announce",t}();e.MegawaysSounds=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(262),a=i(5),r=i(333),l=i(2),c=i(912),u=i(334),h=i(913),p=i(914),d=i(915),_=i(335),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.States.END_GAME,r.MegawaysEndGameCommand),this.replaceCommand(l.Notifications.Wheels.WHEELS_ANIMATIONS_COMPLETE,c.MegawaysWheelsAnimationCompleteCommand),this.replaceCommand(l.Notifications.Global.SPIN,u.MegawaysSpinCommand),this.replaceCommand(l.Notifications.Global.INITIALIZE_MODULE,h.MegawaysInitializeSlotLogicCommand),this.replaceCommand(a.States.END_GAME_ENABLE_UI,p.MegawaysEndGameEnableUiCommand),this.replaceCommand(l.Notifications.Global.SKIP_WINNINGS,d.MegawaysSkipWinningsAnimationsCommand),this.replaceCommand(a.States.INITIAL,_.MegawaysInitialCommand),this.addCommand(l.Notifications.Global.SKIP,d.MegawaysSkipWinningsAnimationsCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e}(s.SlotLogic);e.MegawaysLogicModule=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(269),a=i(56),r=i(5),l=i(2),c=i(9),u=i(0),h=i(62),p=i(1),d=i(28),_=i(66),f=p.Names.Proxies,y=p.Names.Modules,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars();var i=!0,n=this.connectionProxy.getServerData(c.MegawaysNames.SPINS_CASCADES),o=this.connectionProxy.getServerData(r.States.DOUBLE_WIN);u.isUndefined(o)&&(o=this.connectionProxy.getServerData("pendingWin"),this.checkUpdateStripbar(),i=!1);var s=this.connectionProxy.getServerData(r.States.END_GAME,!0);if(0==this.megawaysProxy.cascadeStage){var p;if(o.originalMoney=o.money,o.originalTotalWinnings=o.totalWinnings,o.originalTotalWinningsMoney=o.totalWinningsMoney,this.skipBalanceIncrement=parseInt(s.money)+parseInt(s.totalWinningsMoney)>parseInt(o.money),this.megawaysProxy.cascadeStates=[],s.symbolsMatrix=a.SymbolUtil.extractSymbols(s.symbols),this.megawaysProxy.rowsPerWheel=u.fill(new Array(this.slotGameConfig.wheelsCnt),this.megawaysProxy.maxRowsPerWheel),s.symbolsMatrix.forEach((function(t,i){t.forEach((function(t,i){-1==t&&e.megawaysProxy.rowsPerWheel[i]--}))})),!u.isUndefined(n)&&n.spin.length>0){var f=0,y=s[h.WinningTypes.SCATTERS];u.isNil(y)||Number(y.value),n.spin.forEach((function(t,i){e.megawaysProxy.cascadeStates.push(t),0!=i&&(Number(t.winnings),f+=Number(t.winningsMoney),0===parseInt(n.spin[0].combo)&&(t.money=(Number(n.spin[i-1].money)+Number(n.spin[i-1].winningsMoney)).toString())),t.symbolsMatrix=a.SymbolUtil.extractSymbols(t.symbols),e.analyseSpinState(t,p),t.totalWinnings=t.winnings,t.totalWinningsMoney=t.winningsMoney,t.order=i,t.gameSpecific=s.gameSpecific,p=t})),s.money=(parseInt(s.money)+f).toString(),this.validationProxy.toggleValidation(_.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!0)}this.analyseSpinState(s,p),this.megawaysProxy.cascadeStates.push(s),s.order=this.megawaysProxy.cascadeStates.length-1}var m=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage];(this.megawaysProxy.currentSymbolsMatrix=m.symbolsMatrix,this.megawaysWinningsAnimationProxy.doShatterAnimation=m.symbolsRemoved&&m.symbolsRemoved.reduce((function(t,e){return t||e.length>0}),!1),this.megawaysWinningsAnimationProxy.isCascadeWin=this.megawaysProxy.cascadeStates.length>1&&this.megawaysProxy.cascadeStage<this.megawaysProxy.cascadeStates.length-1,this.megawaysWinningsAnimationProxy.isCascadeWin)&&(this.skipBalanceIncrement||this.settings.getValue("maxWinCapReached")?this.settings.map("maxWinCapReached",!0):(o.totalWinnings=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].winnings,o.totalWinningsMoney=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].winningsMoney,i&&this.setDoubleWinMoney(o)));this.updateDisplayValues(),this.sendGlobalNotification(d.MegawaysNotifications.PARSE_SPECIAL_SYMBOLS),this.sendGlobalNotification(r.States.END_GAME_PREPARE),0==this.megawaysProxy.cascadeStage&&this.sendNotification(l.Notifications.Global.UPDATE_DISPLAY_SYMBOLS,m.symbolsMatrix,c.MegawaysNames.MEGAWAYS_WHEELS_MODULE)},e.prototype.hasFeatureWithCelebration=function(t){return!t.freeGames&&!t.freeGamesWin},e.prototype.checkUpdateStripbar=function(){this.sendGlobalNotification(d.MegawaysNotifications.STRIP_ALLOW_UPDATE_BALANCE,!1)},e.prototype.setDoubleWinMoney=function(t){for(var e=parseInt(t.originalMoney),i=this.megawaysProxy.cascadeStage+1;i<this.megawaysProxy.cascadeStates.length-1;i++)e-=parseInt(this.megawaysProxy.cascadeStates[i].winningsMoney);t.money=e.toString()},e.prototype.analyseSpinState=function(t,e){var i=this;void 0===e&&(e=null),t.symbolsRemoved=[];for(var n=0;n<this.slotGameConfig.wheelsCnt;n++)t.symbolsRemoved.push([]);t.lines.line&&(t.lines.line instanceof Array?t.lines.line:[t.lines.line]).forEach((function(e){for(var n=0;n<e.hl.length;n++)if(!(i.symbolsDontShatter.indexOf(parseInt(e.symbolId))>=0)&&"1"==e.hl.charAt(n)){var o=n%i.slotGameConfig.wheelsCnt,s=t.symbolsRemoved[o],a=Math.floor(n/i.slotGameConfig.wheelsCnt);-1==s.indexOf(a+0)&&s.push(a+0)}}));t.existingSymbols=[],t.newSymbols=[];for(var o=0;o<t.symbolsMatrix[0].length;o++)t.newSymbols.push([]),t.existingSymbols.push([]);if(e){t.symbolsRemovedLastSpin=e.symbolsRemoved;for(var s=0;s<t.symbolsMatrix.length;s++)for(o=0;o<t.symbolsMatrix[0].length;o++)s<e.symbolsRemoved[o].length?t.newSymbols[o].push(t.symbolsMatrix[s][o]):t.existingSymbols[o].push(t.symbolsMatrix[s][o])}else{for(s=0;s<t.symbolsMatrix.length;s++)for(o=0;o<t.symbolsMatrix[0].length;o++)t.newSymbols[o].push(t.symbolsMatrix[s][o]);t.symbolsRemovedLastSpin=[]}},e.prototype.initVars=function(){if(t.prototype.initVars.call(this),u.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(c.MegawaysNames.GAME_CONFIG)),u.isNil(this.megawaysProxy)){this.megawaysProxy=this.retrieveGlobalProxy(c.MegawaysNames.MEGAWAYS_PROXY,c.MegawaysNames.MEGAWAYS_WHEELS_MODULE);var e=this.slotGameConfig.getProperty(c.MegawaysNames.MEGAWAYS_WHEELS,c.MegawaysNames.MEGAWAYS_WHEELS_SETTING);this.symbolsDontShatter=u.isNil(e.symbolsDontShatter)?[]:e.symbolsDontShatter}u.isNil(this.megawaysWinningsAnimationProxy)&&(this.megawaysWinningsAnimationProxy=this.retrieveGlobalProxy(f.WINNINGS_ANIMATIONS,y.WINNINGS)),u.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(p.Names.Proxies.VALIDATION,p.Names.Modules.LOADER))},e}(s.EndGameCommand);e.MegawaysEndGameCommand=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(264),a=i(0),r=i(9),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.megawaysProxy.cascadeStage=0},e.prototype.initVars=function(){t.prototype.initVars.call(this),a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE))},e}(s.SpinCommand);e.MegawaysSpinCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(267),a=i(9),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){this.initVars();var i=this.retrieveGlobalProxy(a.MegawaysNames.MEGAWAYS_PROXY,a.MegawaysNames.MEGAWAYS_WHEELS_MODULE);i.initted||i.initProxy(this.slotGameConfig),t.prototype.execute.call(this,e)},e}(s.InitialCommand);e.MegawaysInitialCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(288),a=i(337),r=i(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("CheatToolView",a.MegawaySlotCheatToolPixiView,r.Device.CLASS_INDEX_DESKTOP),this.replaceView("CheatToolView",a.MegawaySlotCheatToolPixiView,r.Device.CLASS_INDEX_MOBILE)},e}(s.SlotCheatTool);e.MegawaysSlotCheatToolModule=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(152),a=i(89),r=i(0),l=i(18),c=i(54),u=i(47),h=i(137),p=i(6),d=i(51),_=i(40),f=i(4),y=i(95),m=i(17),N=i(15),S=i(34),g=i(8),A=i(9),E=i(90),I=i(45),O=PIXI.Container,T=PIXI.Sprite,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EXTRA_ROW_NAME="extraRow",e.EXTRA_SYMBOL_NAME="extraSymbol",e.EXTRA_ROW_BUTTON_NAME="newExtraRow",e}return o(e,t),e.prototype.getTextureForSymbol=function(t){var e,i=Number(t);if(r.isUndefined(this.symbolsTextures[i])){"0"===t&&PIXI.Texture.addToCache(N.TextureUtil.instance().getTextureFromCache("CardCheatToolSettingsButtonUp"),this.PREFIX_SYMBOL_NAME+t+A.MegawaysNames.MEGAWAYS_SYMBOL_SUFFIX_TEXTURE);var n=m.ServiceLocator.instance().get("VisualAssetsMap");if(e=N.TextureUtil.instance().getTextureFromCache(n.visualAssets[S.VisualAssetsNames.SYMBOL_NAME]+t+A.MegawaysNames.MEGAWAYS_SYMBOL_SUFFIX_TEXTURE),!0===this.slotGameConfig.useMasterLayout){var o=new T(e),s=new O;o.anchor.set(.25),s.addChild(o);var a=PIXI.RenderTexture.create(s.width/2,s.height/2,2);g.SceneManager.renderer.render(s,a),e=a.clone()}this.symbolsTextures[i]=e}else e=this.symbolsTextures[i];return e},e.prototype.onStartShowLayer=function(e,i){this.scrollingContainerReel.recalculateScrolling(),t.prototype.onStartShowLayer.call(this,e,i)},e.prototype.initReels=function(){var t=this;return new Promise((function(e,i){try{requestAnimationFrame((function(){t.mobileLayoutPortrait=t.findChild("Main_portrait"),t.mobileLayoutLandscape=t.findChild("Main_landscape"),t.mobileLayoutPortrait&&t.mobileLayoutLandscape&&t.switchMobileLayout(),t.containerReel=new l.ControllerContainer("ctReels",t.findMultipleChild("ctReels")),t.currentSymbols=[],r.each([t.containerReel.componentLandscape,t.containerReel.componentPortrait],(function(e){r.isNil(e)||r.each(e.children,(function(e){if(-1!=e.name.indexOf("ctReel_")){var i=Number(e.name.replace("ctReel_","")),n=i-1;i>t.slotGameConfig.ctWheelsCnt&&p.Log.error("CHEAT TOOL: initReels:"+e.name+" - reel index too high compare to slotGameConfig.ctWheelsCnt "+t.slotGameConfig.ctWheelsCnt),t.currentSymbols[n]=[],r.each(e.children,(function(e){var o=e.name.replace("ctSymbol_","").split("-").map(Number),s=o[1]-1;o[0]!=i&&p.Log.error("CHEAT TOOL: initReels:"+e.name+" - reel Index ("+o[0]+") doesn't correspond to the reel it is in "+i),e[t.PARAM_REEL_ID]=n,e[t.PARAM_SYMBOL_ID]=s,t.currentSymbols[n][s]=new _.ControllerImage(e.name,t.findMultipleChild(e.name)),r.isNil(t.WIDTH_SYMBOL)&&(t.WIDTH_SYMBOL=[],t.WIDTH_SYMBOL[0]=t.currentSymbols[n][s].componentLandscape.width,r.isNil(t.currentSymbols[n][s].componentPortrait)||(t.WIDTH_SYMBOL[1]=t.currentSymbols[n][s].componentPortrait.width)),r.isNil(t.HEIGHT_SYMBOL)&&(t.HEIGHT_SYMBOL=[],t.HEIGHT_SYMBOL[0]=t.currentSymbols[n][s].componentLandscape.height,r.isNil(t.currentSymbols[n][s].componentPortrait)||(t.HEIGHT_SYMBOL[1]=t.currentSymbols[n][s].componentPortrait.height)),t.changeSymbolTo(t.currentSymbols[n][s],t.slotGameConfig.ctSymbolsIds[0].toString()),t.currentSymbols[n][s].interactive=!0,t.currentSymbols[n][s].addClickAction(I.PointerStates.DOWN,t.onClickSymbolDown.bind(t)),t.currentSymbols[n][s].addClickAction(I.PointerStates.UP,t.endMoveListener.bind(t)),1!=f.Device.instance().mobile&&1!=f.Device.instance().tablet||t.currentSymbols[n][s].addClickAction(I.PointerStates.MOVE,t.onMoveOverSymbol.bind(t))}))}}))})),t.initMoveContainerReelsIntoScroll(),t.initCascadingExtraRows(),e()}))}catch(t){i(t)}}))},e.prototype.initMoveContainerReelsIntoScroll=function(){var t,e=new a.ScrollingContainer("ctScrollReels",this.containerReel.componentLandscape.width,this.containerReel.componentLandscape.height+120,"true",0);this.containerReel.componentLandscape.parent.addChild(e),r.isUndefined(this.containerReel.componentPortrait)||(t=new a.ScrollingContainer("ctScrollReels",this.containerReel.componentPortrait.width,this.containerReel.componentPortrait.height+120,"true"),this.containerReel.componentPortrait.parent.addChild(t)),this.scrollingContainerReel=new l.ControllerContainer("ctReels",[e,t]),this.scrollingContainerReel.addChild([this.containerReel.componentLandscape,this.containerReel.componentPortrait]),this.scrollingContainerReel.componentLandscape.x=this.containerReel.componentLandscape.x,this.scrollingContainerReel.componentLandscape.y=this.containerReel.componentLandscape.y,this.containerReel.componentLandscape.x=this.containerReel.componentLandscape.y=0,r.isUndefined(this.containerReel.componentPortrait)||(this.scrollingContainerReel.componentPortrait.x=this.containerReel.componentPortrait.x,this.scrollingContainerReel.componentPortrait.y=this.containerReel.componentPortrait.y,this.containerReel.componentPortrait.x=this.containerReel.componentPortrait.y=0)},e.prototype.initCascadingExtraRows=function(){var t,e=c.Button.createButton(this.EXTRA_ROW_BUTTON_NAME,["CardCheatToolAddButtonUp","CardCheatToolAddButtonDown","CardCheatToolAddButtonOver","CardCheatToolAddButtonDisable"],this.HEIGHT_SYMBOL[0]/2,this.HEIGHT_SYMBOL[0]/2);e.x=this.scrollingContainerReel.componentLandscape.width/2-this.HEIGHT_SYMBOL[0]-e.width/2,e.y=0,r.isUndefined(this.containerReel.componentPortrait)||((t=c.Button.createButton(this.EXTRA_ROW_BUTTON_NAME,["CardCheatToolAddButtonUp","CardCheatToolAddButtonDown","CardCheatToolAddButtonOver","CardCheatToolAddButtonDisable"],this.HEIGHT_SYMBOL[1]/2,this.HEIGHT_SYMBOL[1]/2)).x=this.scrollingContainerReel.componentPortrait.width/2-this.HEIGHT_SYMBOL[1],t.y=0);var i,n=c.Button.createButton(this.EXTRA_ROW_BUTTON_NAME,["CardCheatToolRemoveButtonUp","CardCheatToolRemoveButtonDown","CardCheatToolRemoveButtonOver","CardCheatToolRemoveButtonDisable"],this.HEIGHT_SYMBOL[0]/2,this.HEIGHT_SYMBOL[0]/2);n.x=this.scrollingContainerReel.componentLandscape.width/2+this.HEIGHT_SYMBOL[0]-n.width/2,n.y=0,r.isUndefined(this.containerReel.componentPortrait)||((i=c.Button.createButton(this.EXTRA_ROW_BUTTON_NAME,["CardCheatToolRemoveButtonUp","CardCheatToolRemoveButtonDown","CardCheatToolRemoveButtonOver","CardCheatToolRemoveButtonDisable"],this.HEIGHT_SYMBOL[1]/2,this.HEIGHT_SYMBOL[1]/2)).x=this.scrollingContainerReel.componentPortrait.width/2+this.HEIGHT_SYMBOL[1],i.y=0),this.moveAllChildrenInScroll([1.5*this.HEIGHT_SYMBOL[0],1.5*this.HEIGHT_SYMBOL[1]]),new u.ControllerButton(this.EXTRA_ROW_BUTTON_NAME,[e,t],this.addNewSymbolRow.bind(this)),this.scrollingContainerReel.addChild([e,t]),new u.ControllerButton(this.EXTRA_ROW_BUTTON_NAME,[n,i],this.removeSymbolRow.bind(this)),this.scrollingContainerReel.addChild([n,i])},e.prototype.changeGroup=function(e){var i=this;this.checkNumberRow(e);var n=0,o=0;if(e.length-this.slotGameConfig.ctWheelsCnt*this.slotGameConfig.ctRowsCnt>0){var s=e.slice(e.length-this.slotGameConfig.ctWheelsCnt*this.slotGameConfig.ctRowsCnt),a=e.slice(0,e.length-this.slotGameConfig.ctWheelsCnt*this.slotGameConfig.ctRowsCnt);r.forEach(s,(function(t,e){n=e%i.slotGameConfig.ctWheelsCnt,o=Math.floor(e/i.slotGameConfig.ctWheelsCnt),r.isNil(i.currentSymbols[n])||r.isNil(i.currentSymbols[n][o])||i.changeSymbolTo(i.currentSymbols[n][o],t.toString())})),r.forEach(a,(function(t,e){n=e%i.slotGameConfig.ctWheelsCnt,o=Math.floor(e/i.slotGameConfig.ctWheelsCnt),r.isNil(i.currentSymbols[n])||r.isNil(i.currentSymbols[n][i.currentSymbols[n].length-1-o])||i.changeSymbolTo(i.currentSymbols[n][i.currentSymbols[n].length-1-o],t.toString())}))}else t.prototype.changeGroup.call(this,e)},e.prototype.checkNumberRow=function(t){var e=this,i=Math.floor(t.length/this.slotGameConfig.ctWheelsCnt)-this.currentSymbols[0].length;0!=i&&r.times(Math.abs(i),(function(){i<0?e.removeSymbolRow():e.addNewSymbolRow()}))},e.prototype.changeScenario=function(t){var e=this;r.isNil(t.spinButtons)&&(t.spinButtons=[]),this.modeAreas[this.MODE_SCENARIO].removeAllChild(),r.each(t.spinGroup,(function(i,n){var o,s=e.createButtonAddScenarioPicker(n);r.isNil(e.containerReel.componentPortrait)||(o=e.createButtonAddScenarioPicker(n)),new u.ControllerButton("spinAdd"+n,[s,o],e.clickScenarioPickerAddButton.bind(e)),e.modeAreas[e.MODE_SCENARIO].addChild([s,o]),e.changeCurrentSpin(i);var a,l=e.createButtonForScenarioPicker(n,e.scrollingContainerReel.componentLandscape.contents,i);r.isNil(e.containerReel.componentPortrait)||(a=e.createButtonForScenarioPicker(n,e.scrollingContainerReel.componentPortrait.contents,i)),t.spinButtons[n]=new u.ControllerButton("spin"+n,[l,a],e.clickScenarioPickerButton.bind(e)),e.modeAreas[e.MODE_SCENARIO].addChild([t.spinButtons[n].componentLandscape,t.spinButtons[n].componentPortrait])}));var i,n=this.createButtonAddScenarioPicker(t.spinButtons.length);r.isNil(this.containerReel.componentPortrait)||(i=this.createButtonAddScenarioPicker(t.spinButtons.length)),new u.ControllerButton("spinAdd"+t.spinButtons.length,[n,i],this.clickScenarioPickerAddButton.bind(this)),this.modeAreas[this.MODE_SCENARIO].addChild([n,i]),this.modeAreas[this.MODE_SCENARIO].recalculateScrolling(),this.changeCurrentSpin(t.spinGroup[0]),this.currentScenario=t},e.prototype.getCurrentGroup=function(){var t=this,e=[];if(r.times(this.slotGameConfig.ctRowsCnt,(function(i){r.times(t.slotGameConfig.ctColumnsCnt,(function(n){r.isNil(t.currentSymbols[n][i])?e.push(1):e.push(Number(t.currentSymbols[n][i].componentLandscape.textureID))}))})),this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt>0){var i=this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt;r.times(i,(function(i){r.times(t.slotGameConfig.ctColumnsCnt,(function(n){r.isUndefined(t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-n][i+t.slotGameConfig.ctRowsCnt])?e.unshift(1):e.unshift(Number(t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-n][i+t.slotGameConfig.ctRowsCnt].componentLandscape[t.PARAM_TEXTURE_ID]))}))}))}return e},e.prototype.updateScenarioSpin=function(){var t=this.getCurrentGroup();this.currentScenarioSpinSelected.name=this.compareGroupToGpmGroups(t),this.currentScenario.original=r.isEqual(t,this.currentScenarioSpinSelected.group),this.currentScenarioSpinSelected.group=t,this.currentScenario.original=r.isEqual(this.currentSpeCommand,this.currentScenarioSpinSelected.speCmd)&&this.currentScenario.original,this.currentScenarioSpinSelected.speCmd=this.currentSpeCommand,0==this.currentScenario.original&&(this.currentScenarioSpinSelected.texture=this.convertContainerToSprite(this.scrollingContainerReel.componentLandscape.contents),this.updateButtonWithTexture(this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].componentLandscape,this.currentScenarioSpinSelected.texture),r.isNil(this.containerReel.componentPortrait)||this.updateButtonWithTexture(this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].componentPortrait,this.currentScenarioSpinSelected.texture),this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].enable(!1),this.currentScenario.spinButtons[this.currentScenarioSpinSelected.indexSpin].enable(!0))},e.prototype.updateCheatToolCommand=function(){var t=this,e="";if(r.times(this.slotGameConfig.ctRowsCnt,(function(i){r.times(t.slotGameConfig.ctColumnsCnt,(function(n){if(r.isNil(t.currentSymbols[n][i]))e+=t.slotGameConfig.ctSymbolsIds[0]+",";else{var o=t.currentSymbols[n][i].componentLandscape;r.isNil(o[t.PARAM_TEXTURE_ID])?e+=t.slotGameConfig.ctSymbolsIds[0]+",":e+=o[t.PARAM_TEXTURE_ID]+","}}))})),this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt>0){var i=this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt;r.times(i,(function(i){r.times(t.slotGameConfig.ctColumnsCnt,(function(n){if(r.isUndefined(t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-n][i+t.slotGameConfig.ctRowsCnt]))e=t.slotGameConfig.ctSymbolsIds[0]+","+e;else{var o=t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-n][i+t.slotGameConfig.ctRowsCnt].componentLandscape;e=r.isUndefined(o[t.PARAM_TEXTURE_ID])?t.slotGameConfig.ctSymbolsIds[0]+","+e:o[t.PARAM_TEXTURE_ID]+","+e}}))}))}var n=""+e.substring(0,e.length-1);this.insertHistory(n,this.currentSpeCommand);var o={command:n,clean:!this.checkAllSpins,specialCommand:this.currentSpeCommand};this.dispatchSignal(y.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,o),p.Log.info("CHEAT TOOL: Using symbols: "+n+"\nSpecial Command: "+this.currentSpeCommand)},e.prototype.addNewSymbolRow=function(){var t=this;r.forEach([this.MODE_PICKER,this.MODE_SCENARIO,this.MODE_HISTORY],(function(e){t.modeListLabel[e].updateLabel("")}));var e,i=this.EXTRA_ROW_NAME+"_"+(this.currentSymbols[0].length+1),n=new h.PIXIContainer(i);r.isUndefined(this.scrollingContainerReel.componentPortrait)||(e=new h.PIXIContainer(i));var o=new l.ControllerContainer(i,[n,e]);r.times(this.slotGameConfig.ctColumnsCnt,(function(e){t.addNewSymbol(o,e)})),this.scrollingContainerReel.addChild([o.componentLandscape,o.componentPortrait]),this.moveAllChildrenInScroll(),this.scrollingContainerReel.recalculateScrolling()},e.prototype.removeSymbolRow=function(){var t=this;if(r.forEach([this.MODE_PICKER,this.MODE_SCENARIO,this.MODE_HISTORY],(function(e){t.modeListLabel[e].updateLabel("")})),this.currentSymbols[0].length>this.slotGameConfig.ctRowsCnt){this.moveAllChildrenInScroll([-this.HEIGHT_SYMBOL[0]-10,-this.HEIGHT_SYMBOL[1]-10]);var e=this.scrollingContainerReel.componentLandscape.contents.getChildByName(this.EXTRA_ROW_NAME+"_"+this.currentSymbols[0].length),i=void 0;r.isUndefined(this.scrollingContainerReel.componentPortrait)||(i=this.scrollingContainerReel.componentPortrait.contents.getChildByName(this.EXTRA_ROW_NAME+"_"+this.currentSymbols[0].length)),this.scrollingContainerReel.removeChild([e,i]),r.times(this.slotGameConfig.ctColumnsCnt,(function(e){t.currentSymbols[e].pop()})),this.scrollingContainerReel.recalculateScrolling()}},e.prototype.moveAllChildrenInScroll=function(t){var e=this;void 0===t&&(t=[this.HEIGHT_SYMBOL[0]+10,this.HEIGHT_SYMBOL[1]+10]),r.forEach(this.scrollingContainerReel.componentLandscape.contents.children,(function(i){i.name!=e.EXTRA_ROW_BUTTON_NAME&&(i.position.y=i.y+t[0])})),r.isUndefined(this.scrollingContainerReel.componentPortrait)||r.forEach(this.scrollingContainerReel.componentPortrait.contents.children,(function(i){i.name!=e.EXTRA_ROW_BUTTON_NAME&&(i.position.y=i.y+t[1])}))},e.prototype.addNewSymbol=function(t,e){var i,n=new d.Image(this.EXTRA_SYMBOL_NAME+"_"+e);n.x=this.currentSymbols[e][0].componentLandscape.parent.x,n.y=0,n[this.PARAM_REEL_ID]=e,n[this.PARAM_SYMBOL_ID]=this.currentSymbols[e].length,t.componentLandscape.addChild(n),r.isUndefined(this.scrollingContainerReel.componentPortrait)||((i=new d.Image(this.EXTRA_SYMBOL_NAME+"_"+e)).x=this.currentSymbols[e][0].componentPortrait.parent.x,i.y=this.HEIGHT_SYMBOL[1]/2+10,i[this.PARAM_REEL_ID]=e,i[this.PARAM_SYMBOL_ID]=this.currentSymbols[e].length,t.componentPortrait.addChild(i));var o=new _.ControllerImage(this.EXTRA_SYMBOL_NAME+"_"+e,[n,i]);o.interactive=!0,o.addClickAction(I.PointerStates.DOWN,this.onClickSymbolDown.bind(this)),o.addClickAction(I.PointerStates.UP,this.endMoveListener.bind(this)),1!=f.Device.instance().mobile&&1!=f.Device.instance().tablet||o.addClickAction(I.PointerStates.MOVE,this.onMoveOverSymbol.bind(this)),this.currentSymbols[e][this.currentSymbols[e].length]=o,this.changeSymbolTo(o,(e+1).toString())},e.prototype.createButtonForList=function(e,i,n,o,s,a){if(void 0===s&&(s=50),void 0===a&&(a=0),f.Device.instance().mobile){var r=c.Button.createButton(i+"Button",["SlotCheatToolComandsBackground","CardCheatToolDebugGenericButtonOver","CardCheatToolDebugGenericButtonDown",""],2*o,2*s);r.buttonName=i,r.onClickHandler=this.clickButtonList.bind(this),r.y=a,r.buttonDetails={indexList:e,indexButton:n};var l=new E.ButtonLabel(i+"Label",{labelWidth:r.width/2,labelHeight:r.height/2,labelFontSize:10,labelFontColor:"0xFFFFFF",align:"center",vAlign:"center"});return r.label=l,r.addChild(l),r.updateLabel(i),r}return t.prototype.createButtonForList.call(this,e,i,n,o,s,a)},e}(s.SlotCheatToolAbstractViewPixi);e.MegawaySlotCheatToolPixiView=P},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(309),a=i(7),r=i(339),l=i(916),c=i(917),u=i(4),h=i(340),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.UINotifications.REGISTER_USER_INTERFACE_BEHAVIOR,r.MegawaysRegisterUserBehaviourCommand),this.replaceCommand(a.UINotifications.REGISTER_USER_INTERFACE_ACTIONS,l.MegawaysRegisterUiActionsCommand)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("userInterface",c.MegawaysDesktopUserInterfaceView,u.Device.CLASS_INDEX_DESKTOP)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("userInterface",h.MegawaysUserInterfaceMediatorDesktop,u.Device.CLASS_INDEX_DESKTOP)},e}(s.SlotUserInterface);e.MegawaysUserInterfaceModule=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(314),a=i(1),r=i(10),l=i(7),c=i(125),u=i(36),h=i(65),p=i(66),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerActions=function(){t.prototype.registerActions.call(this),this.registerAction(h.MegawaysUiBehavior.CASCADE_FULL_COMPLETE,this.onCascadeFullCompleteAction.bind(this)),this.registerAction(h.MegawaysUiBehavior.CASCADE_DROP,this.onCascadeDropAction.bind(this)),this.registerAction(h.MegawaysUiBehavior.CASCADES_SUMMARY_STATE,this.onCascadeSummaryStateAction.bind(this)),this.registerAction(h.MegawaysUiBehavior.CASCADES_SUMMARY_SKIPPED,this.onCascadeSummarySkippedAction.bind(this)),this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER),this.winningsAnimationsProxy=this.retrieveGlobalProxy(a.Names.Proxies.WINNINGS_ANIMATIONS,a.Names.Modules.WINNINGS)},e.prototype.onCascadeDropAction=function(){this.sendNotification(l.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(l.UIButtonsNames.SPIN,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.STOP_SPIN,c.ButtonStateVO.VISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.STOP_AUTO_PLAY,c.ButtonStateVO.UNCHANGED,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.AUTO_PLAY,c.ButtonStateVO.UNCHANGED,c.ButtonStateVO.DISABLE)]),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SPIN,activate:!1}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP_WINNINGS,activate:!1})},e.prototype.onCascadeFullCompleteAction=function(){this.validationProxy.validateAll(r.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)||this.sendNotification(l.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!0),this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(l.UIButtonsNames.SPIN,c.ButtonStateVO.VISIBLE,c.ButtonStateVO.ENABLE),this.setButtonBehaviour(l.UIButtonsNames.STOP_SPIN,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE)]),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SPIN,activate:!0})},e.prototype.onCascadeSummaryStateAction=function(){this.sendNotification(l.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1);var t=[this.setButtonBehaviour(l.UIButtonsNames.SPIN,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.STOP_SPIN,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.VISIBLE,c.ButtonStateVO.ENABLE)];this.validationProxy.validateAtLeastOne(r.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&t.push(this.setButtonBehaviour(l.UIButtonsNames.STOP_AUTO_PLAY,c.ButtonStateVO.VISIBLE,c.ButtonStateVO.ENABLE),this.setButtonBehaviour(l.UIButtonsNames.AUTO_PLAY,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE)),this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,t),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP,activate:!0}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SPIN,activate:!1})},e.prototype.switchSkipSpinAction=function(){this.winningsAnimationsProxy.isCascadeWin||(this.validationProxy.validateNone(r.ValidationTypes.FREE_SPINS_IN_PROGRESS)?(this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(l.UIButtonsNames.SPIN,c.ButtonStateVO.VISIBLE,c.ButtonStateVO.ENABLE),this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE)]),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SPIN,activate:!0}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP,activate:!1})):(this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE),this.setButtonBehaviour(l.UIButtonsNames.SPIN,c.ButtonStateVO.INVISIBLE,c.ButtonStateVO.DISABLE)]),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SPIN,activate:!1}),this.sendNotification(l.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:u.UserInterfaceAction.SKIP,activate:!0})))},e.prototype.onCascadeSummarySkippedAction=function(){this.sendNotification(l.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(l.UIButtonsNames.SKIP,c.ButtonStateVO.UNCHANGED,c.ButtonStateVO.DISABLE)])},e.prototype.onFreeRoundsEndGameEnableUIWinAction=function(){this.validationProxy.validateNone(p.MegawaysValidationTypes.CASCADES_IN_PROGRESS)?t.prototype.onFreeRoundsEndGameEnableUIWinAction.call(this):this.onCascadeDropAction()},e}(s.SlotRegisterUserInterfaceBehaviorCommand);e.MegawaysRegisterUserBehaviourCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(315),a=i(9),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.megawaysProxy=this.retrieveGlobalProxy(a.MegawaysNames.MEGAWAYS_PROXY,a.MegawaysNames.MEGAWAYS_WHEELS_MODULE)},e.prototype.updateDisplayValues=function(t){this.view.isInCascades=!this.megawaysProxy.cascadesFinished,this.view.updateDisplayValues(t.body)},e}(s.SlotUserInterfaceMediatorDesktopPixi);e.MegawaysUserInterfaceMediatorDesktop=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(283),a=i(918),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(r.Names.Proxies.PAYTABLE,a.MegawaysPayoutsProxy)},e}(s.Paytable);e.MegawaysPaytable=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(290),a=i(921),r=i(922),l=i(343),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("stripView",a.MegawaysStripMediator,0),this.replaceMediator("stripView",a.MegawaysStripMediator,1),this.replaceMediator("stripView",a.MegawaysStripMediator,2)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("stripView",r.MegawaysStripDesktopView,0),this.replaceView("stripView",l.MegawaysStripMobileView,1),this.replaceView("stripView",a.MegawaysStripMediator,2)},e}(s.SlotStrip);e.MegawaysStrip=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(296),a=i(96),r=i(32),l=i(41),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._allowBalanceUpdate=!0,e}return o(e,t),e.prototype.updateWinLabelOnly=function(t){this.betLevelEnabled?(this.updateWinLabel(l.SlotMoneyUtils.getCoinsAsString(t.winningsInCoins)),this.updateLabelsOutsideStrip("",a.LabelToUpdateVO.WIN,a.LabelToUpdateVO.MONEY)):this.updateWinLabel(t.winningsAsString(!1))},Object.defineProperty(e.prototype,"allowBalanceUpdate",{set:function(t){this._allowBalanceUpdate=t},enumerable:!0,configurable:!0}),e.prototype.updateBalance=function(t){if(this.displayValues=t,this.updateLabel(this.balanceLabel,this.displayValues.balanceAsString(!1)),this.creditLabel){var e=this.displayValues.balance/this.displayValues.coinValue;this.noCurrency&&(e=Math.floor(e)),this.updateLabel(this.creditLabel,r.NumberFormatterUtil.formatNumber(e,0))}},e.prototype.onIncrementUpdateForBalance=function(e){this._allowBalanceUpdate&&t.prototype.onIncrementUpdateForBalance.call(this,e)},e.prototype.onSpin=function(){this.allowBalanceUpdate=!0},e}(s.SlotStripMobilePixiView);e.MegawaysStripMobileView=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(345),a=i(321),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.replaceSlotMasterLayoutLayersProxy=function(){this.replaceProxy(r.Names.Proxies.MASTER_LAYERS,s.MegawaysMasterLayoutLayersProxy)},e}(a.SlotGameSetup);e.MegawaysSlotGameSetupModule=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(322),a=i(0),r=i(34),l=i(37),c=i(2),u=i(1),h=i(28),p=i(9),d=i(75),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelAreaLayers=[u.Names.Layers.WHEELS,u.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,u.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,u.Names.Layers.WHEELS_OVERLAY,u.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,u.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,u.Names.Layers.RESPINS,u.Names.Layers.BONUS],e}return o(e,t),e.prototype.getSceneData=function(t){return a.find(this.masterSkeletonData[d.DTConstants.GAME_CONTENT].scenes,(function(e){return-1!=e.name.indexOf(t)}))},e.prototype.parseMegawaysSymbol=function(t,i,n,o){var s=this;-1!=t.name.toLowerCase().indexOf("megaways")&&t.children.forEach((function(t,r){var l=parseInt(t.name.split("-")[1]);if(a.isNaN(l))throw"Megaways symbol "+n+" :"+t.name+" is not formated correctly :"+l;t.children.forEach((function(t,a){s.parseSymbolStaticSpine(t,i+"_"+l),s.parseSymbolSpine(t,o.spineWinAnimation,e.WIN,n,l,o.hasItems),s.parseSymbolSpine(t,o.spineAnnounceAnimation,e.ANNOUNCE,n,l,o.hasItems),s.parseSymbolSpine(t,o.spineAnticipationAnimation,e.ANTICIPATION,n,l,o.hasItems)}))}))},e.prototype.recreateTheImagesWheelsSymbols=function(t){var i=this,n={spineWinAnimation:new Map,spineAnnounceAnimation:new Map,spineAnticipationAnimation:new Map,hasItems:new Map};a.isUndefined(this.slotGameConfig.symbolsIds)&&(this.slotGameConfig.symbolsIds=[]),a.each(t.children,(function(t){var e=t.name;a.each(t.children,(function(t){var o,s;if(!a.isNil(i.symbolsDefinition)&&i.symbolsDefinition.length>1&&!a.isEmpty(i.symbolsDefinition[0].symbolServerID)){var c=a.filter(i.symbolsDefinition,(function(t){return t.symbolName==e}))[0];o=i.visualAssetsMap.visualAssets[r.VisualAssetsNames.SYMBOL_NAME]+c.symbolServerID,s=parseFloat(c.symbolServerID)}else a.isNil(l.MasterLayoutConfig.getSymbol(e))?(o=e,s=parseFloat(e.replace(/[^0-9]/g,""))):(o=l.MasterLayoutConfig.getSymbol(e),s=parseFloat(l.MasterLayoutConfig.getSymbol(e).replace(/[^0-9]/g,"")));-1==i.slotGameConfig.symbolsIds.indexOf(s)&&i.slotGameConfig.symbolsIds.push(s),i.parseMegawaysSymbol(t,o,s,n)}))})),this.slotGameConfig.symbolsIds=a.sortBy(this.slotGameConfig.symbolsIds),n.hasItems.has(e.WIN)&&this.sendNotification(c.Notifications.MasterLayout.SEND_SPINE_WIN_CONFIGURATION,{config:n.spineWinAnimation},u.Names.Modules.WINNINGS),n.hasItems.has(e.ANNOUNCE)&&this.sendNotification(c.Notifications.MasterLayout.SEND_SPINE_ANNOUNCE_CONFIGURATION,{config:n.spineAnnounceAnimation},p.MegawaysNames.MEGAWAYS_WHEELS_MODULE),n.hasItems.has(e.ANTICIPATION)&&this.sendNotification(h.MegawaysNotifications.SEND_SPINE_ANTICIPATION_CONFIGURATION,{config:n.spineAnticipationAnimation},p.MegawaysNames.MEGAWAYS_WHEELS_MODULE)},e.prototype.parseSymbolSpine=function(t,e,i,n,o,s){t.name.toLowerCase().indexOf(i)>-1&&t.children.length&&"Spine"==t.children[0].getAttachment.type&&(e.has(n)||e.set(n,new Map),e.get(n).has(o)||e.get(n).set(o,[]),a.each(t.children,(function(a){if("Spine"==a.getAttachment.type){var r=a.getAttachment;r.parentWidth=t.width,r.parentHeight=t.height,r.rotation=a.getAttachment.rotation,e.get(n).get(o).push(r),s.set(i,!0)}})))},e.WIN="win",e.ANNOUNCE="announce",e.ANTICIPATION="anticipation",e}(s.SlotMasterLayoutLayersProxy);e.MegawaysMasterLayoutLayersProxy=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(270),a=i(1),r=i(923),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(a.Names.Proxies.CONNECTION,r.MegawaysConnectionProxy)},e}(s.SlotConnection);e.MegawaysConnectionModule=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(962),r=i(100),l=i(9),c=i(20),u=i(24),h=i(348),p=i(159),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentWheels=[],e.multiplierBlocks=[],e.collectAnimationSteps=[],e._incrementSignalSend=!1,e._blockToBeAdded=[],e._runningAnticipation=0,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.slotGameConfig=this.settings.getValue(l.MegawaysNames.GAME_CONFIG)},e.prototype.initWheels=function(t,i){this.wheelPool=new r.ObjectPool(e.MCR_WHEELS_POOL_LENGTH,a.MegawaysCashRespinsWheel,[this.onWheelComplete.bind(this),this.onWheelWinAnimationComplete.bind(this),this.startNextStepCollect.bind(this),this.playSound.bind(this),this.stopSound.bind(this),t,i])},e.prototype.initMultipliers=function(t,i){for(var n,o=0;o<this.slotGameConfig.columnsCnt;o++){var s=new h.MegawaysCashRespinsMultiplierBlock(this.playSound.bind(this),i);n=this.slotGameConfig.symbolsPositions[o],s.position.set(n.x,e.MCR_MULTIPLIER_POSITION_Y),this.multiplierBlocks[o]=s,t.addChild(s)}},e.prototype.sendCmdToServer=function(){this.dispatchSignal(u.MegawaysCashRespinsSignal.SEND_CHOICE_TO_SERVER)},e.prototype.setupMultipliers=function(t,e){for(var i=0;i<this.slotGameConfig.columnsCnt;i++)this.multiplierBlocks[i].setupBlock(t[i])},e.prototype.setupWheels=function(t,e,i,n){var o,s=!1,a=!1,r=0;this._incrementSignalSend=!1;for(var l=0;l<this.slotGameConfig.columnsCnt;l++){this.currentWheels[l]=[],s=!1;for(var u=this.slotGameConfig.getProperty("WHEEL_COLUMNS_DETAILS",(l+1).toString()),h=c.StringUtil.stringToRectangle(u.columnBounds).width,p=0;p<t[l];p++){var d=this.wheelPool.get();this.display.addChild(d),this.currentWheels[l][p]=d,o=this.slotGameConfig.getSymbolPosition(l+this.slotGameConfig.columnsCnt*p,t[l]),a=p===t[l]-1,r=i.scatterValues[l+this.slotGameConfig.columnsCnt*p],d.setupWheel(l,o,t[l],e[t[l]-3],h,a,s,r,n),0!==r&&this.multiplierBlocks[l].addGoldBlock(),s=!s}}},e.prototype.setupSpin=function(t){var i=0,n=0,o=0;this.runningWheels=0;for(var s=0;s<this.currentWheels.length;s++){n=0;for(var a=0;a<this.currentWheels[s].length;a++)!1===this.currentWheels[s][a].isLooked&&n++;for(a=0;a<this.currentWheels[s].length;a++)!1===this.currentWheels[s][a].isLooked&&(i=t.scatterValues[s+this.slotGameConfig.columnsCnt*a],1===n&&(o++,this.playSound(u.MegawaysCashRespinsSounds.ANTICIPATION),this.multiplierBlocks[s].playAnticipationAnimation(this.currentWheels[s][a]),this._runningAnticipation++),this.currentWheels[s][a].setupSpin(i,this.runningWheels+o*e.MCR_EXTRA_STEPS_ANTICIPATION),this.runningWheels++)}for(s=0;s<this.currentWheels.length;s++)for(a=this.currentWheels[s].length-1;a>=0;a--)if(!1===this.currentWheels[s][a].isLooked){this.currentWheels[s][a].playWheelAnimation();break}this._respinsEnded=!t.bonusGameInProgress,this._bonusGameMultipliers=t.bonusGameMultipliers,this.playSound(u.MegawaysCashRespinsSounds.RESPIN_REEL_SPIN),this.playSound(u.MegawaysCashRespinsSounds.RESPIN_ACCELERATION)},e.prototype.onWheelComplete=function(t,e){var i=this;if(!0===e&&(this.playSound(u.MegawaysCashRespinsSounds.INCREMENT_STOP),this.playSound(u.MegawaysCashRespinsSounds.SCATTER_ANNOUNCE),this._blockToBeAdded.push(t)),!0===this.multiplierBlocks[t].anticipationAnimationRunning&&(this.multiplierBlocks[t].stopAnticipationAnimation(),this._runningAnticipation--,this._runningAnticipation<=0&&this.stopSound(u.MegawaysCashRespinsSounds.ANTICIPATION)),this.runningWheels--,this.runningWheels<=0){if(0!==this._blockToBeAdded.length){for(var n=!1,o=void 0,s=0;s<this._blockToBeAdded.length;s++)o=this.multiplierBlocks[this._blockToBeAdded[s]].addGoldBlock(),n=n||o;!1===n&&this.playSound(u.MegawaysCashRespinsSounds.TRANSITION)}this._blockToBeAdded=[],TweenMax.delayedCall(p.MegawaysCashRespinsWheelMediator.DELAY_BEFORE_SPIN,(function(){i.onAllWheelComplete()}))}},e.prototype.onAllWheelComplete=function(){if(this.dispatchSignal(u.MegawaysCashRespinsSignal.RESPINS_ALL_WHEEL_COMPLETED),!1===this._respinsEnded)this.sendCmdToServer();else{this.startWinCollect();for(var t=0;t<this.multiplierBlocks.length;t++)this.multiplierBlocks[t].stopAnticipationAnimation()}},e.prototype.startWinCollect=function(){this.collectingWheels=0;for(var t=0;t<this.currentWheels.length;t++)for(var e=0;e<this.currentWheels[t].length;e++)!0===this.currentWheels[t][e].isLooked&&(this.collectAnimationSteps.unshift({index:t,isLastOfColumn:e===this.currentWheels[t].length-1,wheel:this.currentWheels[t][e],multiplier:this._bonusGameMultipliers[t]}),this.collectingWheels++);this.startNextStepCollect(-1),this.dispatchSignal(u.MegawaysCashRespinsSignal.RESPINS_COLLECT_START,{})},e.prototype.onWheelWinAnimationComplete=function(){!1===this._incrementSignalSend&&(this._incrementSignalSend=!0,this.dispatchSignal(u.MegawaysCashRespinsSignal.RESPINS_START_WIN_INCREMENT)),this.collectingWheels--,this.collectingWheels<=0&&this.onAllWheelAnimationComplete()},e.prototype.startNextStepCollect=function(t){-1!==t&&this.dispatchSignal(u.MegawaysCashRespinsSignal.ON_START_NEXT_COLLECT_STEP,t),t>=e.MCR_PLAY_PARTICLE_THRESHOLD&&(this.playSound(u.MegawaysCashRespinsSounds.COINS_SPILL),this.dispatchSignal(u.MegawaysCashRespinsSignal.RESPINS_PLAY_PARTICLE_COLLECT));var i=this.collectAnimationSteps.pop();i?(1!==i.multiplier&&this.multiplierBlocks[i.index].playWinBlockAnimation(i.wheel,i.isLastOfColumn),i.wheel.collectWins(i.multiplier),this.currentStep=i):this.onAllWheelAnimationComplete()},e.prototype.respinCollectSkipped=function(){this.collectAnimationSteps.forEach((function(t){t.wheel.clearValues()})),this.collectAnimationSteps=[],this.currentStep.wheel.clearValues(),this.cleanMultipliers()},e.prototype.onAllWheelAnimationComplete=function(){this.dispatchSignal(u.MegawaysCashRespinsSignal.RESPINS_COLLECT_END)},e.prototype.cleanMultipliers=function(){for(var t=0;t<this.multiplierBlocks.length;t++)this.multiplierBlocks[t].cleanMultipliers()},e.prototype.cleanWheels=function(){for(var t=0;t<this.currentWheels.length;t++)for(var e=0;e<this.currentWheels[t].length;e++)this.currentWheels[t][e].cleanWheels(),this.display.removeChild(this.currentWheels[t][e]),this.wheelPool.recycle(this.currentWheels[t][e])},e.NAME="MegawaysCashRespinsWheelView",e.MCR_WHEELS_POOL_LENGTH=42,e.MCR_MULTIPLIER_POSITION_Y=-35,e.MCR_PLAY_PARTICLE_THRESHOLD=5,e.MCR_EXTRA_STEPS_ANTICIPATION=40,e}(s.PixiView);e.MegawaysCashRespinsWheelView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(15),r=i(35),l=i(24),c=i(100),u=i(158),h=PIXI.Container,p=PIXI.Sprite,d=PIXI.spine.Spine,_=PIXI.Point,f=function(t){function e(i,n){var o=t.call(this)||this;o.anticipationAnimationRunning=!1,o._playSoundCallback=i,o.name="multiplierBlock",o.scale.set(e.BLOCK_SCALE);return o.backgroundBlocks=new p,o.backgroundBlocks.name="bgBlocks",o.backgroundBlocks.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_BG_ASSET_PREFIX+"3"),o.backgroundBlocks.anchor.set(.5),o.backgroundBlocks.scale.set(1/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE),o.addChild(o.backgroundBlocks),o.winFrame=new p,o.winFrame.name="frame",o.winFrame.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_WIN_FRAME_ASSET_PREFIX),o.winFrame.visible=!1,o.winFrame.anchor.set(.5),o.addChild(o.winFrame),o.winAnimation=new d(n.spineData),o.winAnimation.name="winAnimation",o.winAnimation.skeleton.setToSetupPose(),o.winAnimation.update(0),o.winAnimation.visible=!1,o.winAnimation.autoUpdate=!1,o.winAnimation.y=e.BLOCK_WIN_FRAME_ANIMATION_OFFSET_Y,o.fullFrameBone=o.winAnimation.skeleton.findBone(e.FRAME_ANIMATION_BONE_NAME),o.fullFrameBone.y=e.FRAME_ANIMATION_OFFSET_Y,o.frameAnticipationBone=o.winAnimation.skeleton.findBone(e.ANTICIPATION_ANIMATION_BONE_NAME),o.addChild(o.winAnimation),o.multiplierValue=new p,o.multiplierValue.name="value",o.multiplierValue.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_MULTIPLIER_ASSET_PREFIX+"3"+e.BLOCK_MULTIPLIER_BLACK_ASSET_SUFFIX),o.multiplierValue.anchor.set(.5),o.multiplierValue.scale.set(1/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE),o.addChild(o.multiplierValue),o.multiplierAnimation=new d(n.spineData),o.multiplierAnimation.name="multiplierAnimation",o.multiplierAnimation.skeleton.setToSetupPose(),o.multiplierAnimation.update(0),o.multiplierAnimation.visible=!1,o.multiplierAnimation.autoUpdate=!1,o.multiplierAnimation.scale.set(1/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE),o.addChild(o.multiplierAnimation),o.barPool=new c.ObjectPool(e.MCR_BAR_POOL_LENGTH,p),o}return o(e,t),e.prototype.setupBlock=function(t){this.winFrame.visible=!1,this.winAnimation.visible=!1,this.multiplierValue.visible=!0,this.currentSize=t,r.SpineManager.getInstance().addSpine(this.winAnimation),r.SpineManager.getInstance().addSpine(this.multiplierAnimation),this.backgroundBlocks.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_BG_ASSET_PREFIX+t.toString()),this.multiplierValue.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_MULTIPLIER_ASSET_PREFIX+t.toString()+e.BLOCK_MULTIPLIER_BLACK_ASSET_SUFFIX)},e.prototype.addGoldBlock=function(){var t=this.barPool.get();t.name="value",t.anchor.set(.5),t.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_BLOCK_ASSET_PREFIX+this.currentSize.toString()),t.x=-this.backgroundBlocks.width/2*u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE+t.width/2+t.width*this.backgroundBlocks.children.length,this.backgroundBlocks.addChild(t);var i={val:0};TweenMax.to(i,1,{val:6,ease:Power0.easeNone,onUpdate:function(){t.visible=Math.floor(i.val)%2==0}});var n=this.currentSize===this.backgroundBlocks.children.length;return n&&(this.multiplierValue.visible=!1,this.winAnimation.visible=!0,this._playSoundCallback.call(null,l.MegawaysCashRespinsSounds.LIGHT_SWEEP),this._playSoundCallback.call(null,l.MegawaysCashRespinsSounds.SYMBOL_MONTEZUMA),!0===this.anticipationAnimationRunning&&(this.anticipationAnimationRunning=!1,this.winAnimation.state.setEmptyAnimation(e.ANTICIPATION_ANIMATION_TRACK,0)),this.winAnimation.state.setAnimation(e.FRAME_ANIMATION_TRACK,e.FRAME_ANIMATION_NAME,!1),this.winAnimation.state.setAnimation(e.BLOCK_WIN_FRAME_ANIMATION_TRACK,e.BLOCK_WIN_FRAME_ANIMATION_PREFIX+this.currentSize+e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_IN,!1),this.winAnimation.state.addAnimation(e.BLOCK_WIN_FRAME_ANIMATION_TRACK,e.BLOCK_WIN_FRAME_ANIMATION_PREFIX+this.currentSize+e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_LOOP,!1,0),this.multiplierValue.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_MULTIPLIER_ASSET_PREFIX+this.currentSize.toString()+e.BLOCK_MULTIPLIER_WIN_ASSET_SUFFIX)),n},e.prototype.playAnticipationAnimation=function(t){!1===this.anticipationAnimationRunning&&(this.anticipationAnimationRunning=!0,this.frameAnticipationBone.y=-this.winAnimation.toLocal(new _(0,0),t).y,this.winAnimation.visible=!0,this.winAnimation.state.setAnimation(e.ANTICIPATION_ANIMATION_TRACK,e.ANTICIPATION_ANIMATION_NAME+this.currentSize,!0))},e.prototype.stopAnticipationAnimation=function(){!0===this.anticipationAnimationRunning&&(this.anticipationAnimationRunning=!1,this.winAnimation.state.setEmptyAnimation(e.ANTICIPATION_ANIMATION_TRACK,0))},e.prototype.playWinBlockAnimation=function(t,i){var n=this;this.multiplierValue.visible=!0;var o=2*t.position.y+t.height/2;TweenMax.to(this.multiplierValue,l.MegawaysCashRespinsStrings.MCR_DURATION_CASH_FIRST_SCALE_UP,{y:o,onComplete:function(){n.multiplierValue.y=0,n.multiplierAnimation.visible=!0,n.multiplierAnimation.y=o,n._playSoundCallback.call(null,l.MegawaysCashRespinsSounds.RESPIN_NUMBER),n.multiplierAnimation.state.setAnimation(0,e.MULTIPLICATION_ANIMATION_NAME,!1),i?(n.multiplierValue.visible=!0,n.winAnimation.state.addAnimation(e.BLOCK_WIN_FRAME_ANIMATION_TRACK,e.BLOCK_WIN_FRAME_ANIMATION_PREFIX+n.currentSize+e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_OUT,!1,0),n.winAnimation.state.setEmptyAnimation(e.FRAME_ANIMATION_TRACK,0)):(n.multiplierValue.visible=!1,n.winAnimation.state.setAnimation(e.BLOCK_WIN_FRAME_ANIMATION_TRACK,e.BLOCK_WIN_FRAME_ANIMATION_PREFIX+n.currentSize+e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_LOOP,!1))}}),TweenMax.to(this.multiplierValue.scale,l.MegawaysCashRespinsStrings.MCR_DURATION_CASH_FIRST_SCALE_UP/2,{x:2/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,y:2/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,yoyo:!0,repeat:1})},e.prototype.cleanMultipliers=function(){var t=this;this.winFrame.visible=!1,this.winAnimation.state.setEmptyAnimation(e.ANTICIPATION_ANIMATION_TRACK,0),this.winAnimation.state.setEmptyAnimation(e.FRAME_ANIMATION_TRACK,0),this.winAnimation.state.setEmptyAnimation(e.BLOCK_WIN_FRAME_ANIMATION_TRACK,0),this.winAnimation.update(0),r.SpineManager.getInstance().removeSpine(this.winAnimation),this.winAnimation.visible=!1,this.multiplierAnimation.skeleton.setToSetupPose(),this.multiplierAnimation.visible=!1,r.SpineManager.getInstance().removeSpine(this.multiplierAnimation),TweenMax.killTweensOf(this.multiplierValue),this.multiplierValue.texture=a.TextureUtil.instance().getTextureFromCache(e.BLOCK_MULTIPLIER_ASSET_PREFIX+this.currentSize.toString()+e.BLOCK_MULTIPLIER_BLACK_ASSET_SUFFIX),this.multiplierValue.y=0,this.multiplierValue.visible=!0,this.currentSize=0,s.forEach(this.backgroundBlocks.removeChildren(),(function(e){t.barPool.recycle(e)})),this.anticipationAnimationRunning=!1},e.BLOCK_SCALE=.5,e.BLOCK_BG_ASSET_PREFIX="block_",e.BLOCK_BLOCK_ASSET_PREFIX="gold_bar_",e.BLOCK_MULTIPLIER_ASSET_PREFIX="x",e.BLOCK_MULTIPLIER_BLACK_ASSET_SUFFIX="black",e.BLOCK_MULTIPLIER_WIN_ASSET_SUFFIX="_gold",e.BLOCK_WIN_FRAME_ASSET_PREFIX="gold frame ",e.BLOCK_WIN_FRAME_ANIMATION_TRACK=0,e.BLOCK_WIN_FRAME_ANIMATION_PREFIX="Win Multiplier X",e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_IN=" In",e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_LOOP=" Loop",e.BLOCK_WIN_FRAME_ANIMATION_SUFFIX_OUT=" Out",e.BLOCK_WIN_FRAME_ANIMATION_OFFSET_Y=7,e.MULTIPLICATION_ANIMATION_NAME="Multiplication Flash",e.FRAME_ANIMATION_NAME="Frame Full",e.FRAME_ANIMATION_TRACK=1,e.FRAME_ANIMATION_BONE_NAME="FullFrame",e.FRAME_ANIMATION_OFFSET_Y=-530,e.ANTICIPATION_ANIMATION_TRACK=2,e.ANTICIPATION_ANIMATION_NAME="AnticipationFrame 3x",e.ANTICIPATION_ANIMATION_BONE_NAME="Anticipation",e.MCR_BAR_POOL_LENGTH=7,e}(h);e.MegawaysCashRespinsMultiplierBlock=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(18),r=i(4),l=i(40),c=i(24),u=i(158),h=i(27),p=i(21),d=i(8),_=PIXI.Point,f=PIXI.Rectangle,y=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.titlePosOnReelsLandscape=new _(e.titleX,380),i.titleScaleOnReelsLandscapeStart=.4/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,i.titleScaleOnReelsLandscapeEnd=2/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,i.titlePosOnReelsPortrait=new _(e.titleX,500),i.titleScaleOnReelsPortraitStart=.25/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,i.titleScaleOnReelsPortraitEnd=1/u.MegawaysCashRespinsModule.RESPIN_ASSET_SIZE,i.isShown=!1,i.firstTime=!0,i.startPopupDelay=1,i.endPopupDelay=.3,i.firstTimeLandscape=!0,i.firstTimePortrait=!0,i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.background=new l.ControllerImage(e.ASSET_BG_POPUP,this.findMultipleChild(e.ASSET_BG_POPUP)),this.background.interactive=!0,this.background.addClickAction("pointerup",this.onButtonClick.bind(this)),this.background.componentPortrait&&(this.background.componentPortrait.image.hitArea=new f(-this.background.componentPortrait.width/2,-this.background.componentPortrait.height/2,this.background.componentPortrait.width,3*this.background.componentPortrait.height)),this.popup=new a.ControllerContainer(e.ASSET_POPUP,this.findMultipleChild(e.ASSET_POPUP)),this.title=new l.ControllerImage(e.ASSET_RESPINS_TITLE,this.findMultipleChild(e.ASSET_RESPINS_TITLE)),this.title.setAnchor(.5,.5),this.titlePosInPopupLandscape=new _(this.title.imageLandscape.x,this.title.imageLandscape.y),this.titleScaleInPopupLandscape=this.title.imageLandscape.scale.x,this.title.imagePortrait&&(this.titlePosInPopupPortrait=new _(this.title.imagePortrait.x,this.title.imagePortrait.y),this.titleScaleInPopupPortrait=this.title.imagePortrait.scale.x,this.popup.componentPortrait.x=this.popup.componentPortrait.pivot.x=this.titlePosOnReelsPortrait.x,this.popup.componentPortrait.y=this.popup.componentPortrait.pivot.y=this.titlePosOnReelsPortrait.y),this.tapButton=new a.ControllerContainer(e.ASSET_PRESS_TO_CONTINUE,this.findMultipleChild(e.ASSET_PRESS_TO_CONTINUE)),this.popup.componentLandscape.pivot.set(this.popup.componentLandscape.width/2,this.popup.componentLandscape.height/2),this.popup.componentLandscape.position.set(this.popup.componentLandscape.width/2,this.popup.componentLandscape.height/2),this.textContainer=new a.ControllerContainer(e.TEXT,this.findMultipleChild(e.TEXT));var i=new l.ControllerImage("megawaysLogo",this.findMultipleChild("Megaways_Logo")),n=new h.ControllerTextField("respinsNowLockedLabel",this.findMultipleChild("respinsNowLockedLabel"));this.positionMegawaysLogo(i.imageLandscape,n.componentLandscape,d.SceneManager.SCENE_WIDTH),r.Device.instance().mobile&&this.positionMegawaysLogo(i.imagePortrait,n.componentPortrait,d.SceneManager.SCENE_WIDTH),this.registerToHook("clickButton",this.onButtonClick.bind(this)),this.deviceScreenResized()},e.prototype.positionMegawaysLogo=function(t,e,i,n){void 0===n&&(n=10);var o=t.width+e.textWidth/p.TextField.FONT_MULTIPLIER+n;t.setAnchor(0,.5),t.x=(i-o)/2,e.x=t.x+t.width+n},e.prototype.onStartShowLayer=function(t,e){var i=this;this.display.visible=!0,this.display.alpha=1,this.popup.visible=!1,this.isShown=!1,r.Device.instance().mobile?(this.mobileLayoutLandscape.addChild(this.title.imageLandscape),this.title.imagePortrait&&(this.mobileLayoutPortrait.addChild(this.title.imagePortrait),this.title.imagePortrait.scale.set(this.titleScaleOnReelsPortraitStart),this.title.imagePortrait.x=this.titlePosOnReelsPortrait.x,this.title.imagePortrait.y=this.titlePosOnReelsPortrait.y,this.title.imagePortrait.alpha=0,TweenMax.to(this.title.imagePortrait,.5,{alpha:1}),TweenMax.to(this.title.imagePortrait.scale,1.5,{x:this.titleScaleOnReelsPortraitEnd,y:this.titleScaleOnReelsPortraitEnd,onComplete:function(){i.popup.componentPortrait.addChild(i.title.imagePortrait),i.title.imagePortrait.scale.set(i.titleScaleInPopupPortrait),i.title.imagePortrait.position.set(i.titlePosInPopupPortrait.x,i.titlePosInPopupPortrait.y)}}),TweenMax.to(this.title.imagePortrait,.5,{alpha:0,delay:1}))):this.display.addChild(this.title.imageLandscape),this.title.imageLandscape.scale.set(this.titleScaleOnReelsLandscapeStart),this.title.imageLandscape.x=this.titlePosOnReelsLandscape.x,this.title.imageLandscape.y=this.titlePosOnReelsLandscape.y,this.title.imageLandscape.alpha=0,TweenMax.to(this.title.imageLandscape,.5,{alpha:1}),TweenMax.to(this.title.imageLandscape.scale,1.5,{x:this.titleScaleOnReelsLandscapeEnd,y:this.titleScaleOnReelsLandscapeEnd}),this.playSound(c.MegawaysCashRespinsSounds.TEXT_AZTEC_GOLD_RESPIN_APPEAR),TweenMax.to(this.title.imageLandscape,.5,{alpha:0,delay:1,onComplete:function(){i.bringInPopup(t,e)}})},e.prototype.staggerText=function(){var t,e=this;if(r.Device.isLandscape()&&this.firstTimeLandscape?(this.firstTimeLandscape=!1,t=this.textContainer.componentLandscape):r.Device.isPortrait()&&this.firstTimePortrait&&(this.firstTimePortrait=!1,t=this.textContainer.componentPortrait),t){var i=[];t.children.forEach((function(t){t.visible=!1,i.push(t)})),TweenLite.delayedCall(.1,(function(){e.makeFieldsVisible(i)}))}},e.prototype.makeFieldsVisible=function(t){t.length&&this.makeFieldVisible(t).then(this.makeFieldsVisible.bind(this))},e.prototype.makeFieldVisible=function(t){return new Promise((function(e,i){TweenLite.delayedCall(.1,(function(){t.shift().visible=!0,e(t)}))}))},e.prototype.bringInPopup=function(t,e){var i=this,n=this.startPopupDelay;this.isFromRestore&&(n=0),r.Device.deviceLevel()==r.DeviceLevel.obsolete&&this.firstTime&&this.staggerText(),this.firstTime=!1,this.popup.visible=!0,this.popup.alpha=1,this.popup.scaleX=this.popup.scaleY=0,this.title.alpha=1,this.popup.componentLandscape.addChild(this.title.imageLandscape),this.title.imageLandscape.scale.set(this.titleScaleInPopupLandscape),this.title.imageLandscape.position.set(this.titlePosInPopupLandscape.x,this.titlePosInPopupLandscape.y),TweenMax.to(this.popup.componentLandscape.scale,n,{x:1,y:1,ease:Back.easeOut.config(2),onComplete:function(){i.isShown=!0,i.doTapTween(),i.onCompleteShowLayer(t,e)}}),this.popup.componentPortrait&&TweenMax.to(this.popup.componentPortrait.scale,n,{x:1,y:1,ease:Back.easeOut}),this.playSound(c.MegawaysCashRespinsSounds.POPUP_APPEAR)},e.prototype.doTapTween=function(){if(this.isShown){var t=this.tapButton.currentComponent.alpha>0?0:1;this.tapButton.componentLandscape&&TweenMax.to(this.tapButton.componentLandscape,1,{alpha:t,ease:Linear.easeNone,onComplete:this.doTapTween.bind(this)}),this.tapButton.componentPortrait&&TweenMax.to(this.tapButton.componentPortrait,1,{alpha:t,ease:Linear.easeNone})}},e.prototype.onStartHideLayer=function(t,e){var i=this;this.playSound(c.MegawaysCashRespinsSounds.POPUP_DISSAPPEAR),TweenMax.to(this.popup.componentLandscape.scale,this.endPopupDelay,{x:0,y:0,ease:Power0.easeNone,onComplete:function(){i.onCompleteHideLayer(t,e),i.display.visible=!1}}),this.popup.componentPortrait&&TweenMax.to(this.popup.componentPortrait.scale,this.endPopupDelay,{x:0,y:0,ease:Power0.easeNone,onComplete:function(){i.onCompleteHideLayer(t,e),i.display.visible=!1}}),this.isShown=!1,this.playSound(c.MegawaysCashRespinsSounds.POPUP_DISSAPPEAR)},e.prototype.onButtonClick=function(t){this.isShown&&this.dispatchSignal(c.MegawaysCashRespinsSignal.ON_START_POPUP_BUTTON_CLICK)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.isShown&&r.Device.deviceLevel()==r.DeviceLevel.obsolete&&this.staggerText()},e.NAME="MegawaysCashRespinsPopupStartView",e.ASSET_POPUP="popup",e.ASSET_BG_POPUP="Pop_up_BG",e.ASSET_ANIMATION_POPUP="Screen_pop-up",e.ASSET_RESPINS_TITLE="AztecGoldCashRespinsText",e.ASSET_PRESS_TO_CONTINUE="pressToContinue",e.TEXT="TEXT",e.titleX=792,e}(s.PixiView);e.MegawaysCashRespinsPopupStartView=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Rectangle,a=function(t){function e(e,i){var n=t.call(this)||this;return n.createHitArea(e,i),n}return o(e,t),e.prototype.createHitArea=function(t,e){this.hitArea=new s(0,-300,t,e)},e}(i(981).AbstractButton);e.HitAreaButton=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.MOUSE_DOWN="mousedown",t.MOUSE_MOVE="mousemove",t.MOUSE_UP="mouseup",t.MOUSE_UP_OUTSIDE="mouseupoutside",t.MOUSE_OVER="mouseover",t.MOUSE_OUT="mouseout",t}();e.MouseEvents=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.TOUCH_START="touchstart",t.TOUCH_END="touchend",t.TOUCH_END_OUTSIDE="touchendoutside",t.TOUCH_MOVE="touchmove",t}();e.TouchEvents=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(350),a=i(15),r=PIXI.Sprite,l=function(t){function e(i,n,o){var s=t.call(this,n,o)||this;return s._pageNumber=i,s.createGraphics(),e.locked=!1,s}return o(e,t),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},set:function(t){this._isSelected=t,this._btOn.visible=t,this._btOff.visible=!t},enumerable:!0,configurable:!0}),e.prototype.createGraphics=function(){this._btOn=new r(a.TextureUtil.instance().getTextureFromCache(e.DOT_ON)),this.addChild(this._btOn),this._btOff=new r(a.TextureUtil.instance().getTextureFromCache(e.DOT_OFF)),this.addChild(this._btOff)},e.prototype.interactionDownHandler=function(t){e.locked||(this.clicked.dispatch(this._pageNumber),this._isInteractDown=!0)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.DOT_ON="FeatPageDotOn",e.DOT_OFF="FeatPageDotOff",e.locked=!1,e}(s.HitAreaButton);e.PageNumber=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(80),r=i(97),l=i(81),c=i(17),u=i(34),h=i(37),p=i(8),d=i(98),_=i(9),f=i(360),y=i(423),m=i(346),N=i(926),S=i(73),g=i(933),A=i(936),E=i(944),I=i(29),O=i(155),T=i(49),P=i(949),b=i(955),C=i(158),v=i(972),M=i(24),L=i(975),R=i(977),D=i(985),w=i(88),x=i(4),U=i(117),B=i(74),G=i(988),V=i(2),W=i(989),F=i(159),k=i(991),H=i(160),j=i(997),Y=PIXI.Point,X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerModules=function(){t.prototype.registerModules.call(this),this.addModule(s.Names.Modules.LOGO,this.getLogoModule()),this.addModule(I.AztecModules.MODIFIER_MODULE,this.getModifierModule()),this.addModule(I.AztecModules.RESPINS_MODULE,this.getRespinsModule())},e.prototype.gameVersion=function(){var e=t.prototype.gameVersion.call(this);return e.qaDeploy="46",e.crDeploy="43",e.gameVersion="0",e},e.prototype.defineAbstractGameConfig=function(){var e=t.prototype.defineAbstractGameConfig.call(this);e.hasWays=!0,e.payoutsFixed=!0,e.linesCnt=1,e.columnsCnt=6,e.rowsCnt=7,e.ctRowsCnt=7,e.wheelsCnt=6,e.bonusSymbol=12,e.wildSymbol=11,e.wildSymbolsIDs=[11],e.symbolsIds=[1,2,3,4,5,6,7,8,9,10,11,12,13],e.ctSymbolsIds=[0,1,2,3,4,5,6,7,8,9,10,11,12,100,101,102,103,104,105,106,107,108,109,110,115,120,130,1100,11e3],e.setTotalGameWinningsCount(100),e.hasFreeSpins=!0,e.hasBonuses=!1,e.alwaysMaxLines=!0,e.alwaysMaxBetPerLines=!0,e.sendLineCommand=!0,e.sendCoinCommand=!1,e.useMasterLayout=!0,e.skinID=908999,e.skinIDRange=[908999,909e3,909001],e.useMasterLayout=!0,e.infoBoxBackground[l.SlotInfoBoxHandlerPixi.MOBILE_LANDSCAPE]=!0,e.infoBoxBackground[l.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT]=!0,e.infoBoxBackground[l.SlotInfoBoxHandlerPixi.DESKTOP]=!0;e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,T.MegawaysWinningsAnimationNames.INCREMENT_LINE_WIN,{bitmapInitialScale:"0.7",transitionOutEaseFunction:"Linear.easeOut",winValueFixedPosition:"492,250",winValueFixedPositionBigWinOffsetY:150,backgroundContainerScaleX:"1",backgroundContainerScaleY:"1.2",minTransitionOutDelay:1,startDelay:0}),e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,"WheelShadowWinningsDecorator",{shadowOffsetHeight:10}),e.addProperty(_.MegawaysNames.MEGAWAYS_WHEELS,_.MegawaysNames.MEGAWAYS_WHEELS_SETTING,{numLayers:2,rowsAllowed:[3,4,5,6,7],startDelay:.1,stopDelay:.2,spinTime:1,cruiseSpeed:60,padding:100,baseSpinStart:{accelFactor:.25},baseSpinStop:{ease:_.MegawaysNames.BOUNCE,numBounces:1,bounciness:.15},cascadeSettings:{ease:_.MegawaysNames.BOUNCE,time:.5}});var i=new Map,n=new Y(-49,-47);O.MegawaysWheelsMediator.masterLayoutWheelLayersToResize().forEach((function(t){i.set(t,n)})),e.addProperty(_.MegawaysNames.MEGAWAYS_WHEELS,_.MegawaysNames.MEGAWAYS_WHEELS_CASCADE_NEAR_MISS,{symbols:[{symbolId:e.bonusSymbol,minSymbols:4,maxSymbols:5,onlyOneByReel:!1,hasAnimation:!0}],zoom:1.1,zoomTime:2,zoomOutTime:.4,zoomInDelay:1.2,delay:3,delayIncrement:0,genericZoomOffset:new Y(-80,-60),layerZoomOffsets:i,spineJSON:"NearMiss.json",spineAnimationLoop:"NearMiss",offset:new Y(0,-24),belowWheels:!0}),e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,"dontHideSymbols",!1),e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,T.MegawaysWinningsAnimationNames.ANIMATE_SYMBOL_SPINE_WINNINGS_DECORATOR,{timeScale:1,shakeThreshold:0,scaleTime:.5,scaleDestination:.52,centreOffset:"0,200",offsetX:-.8,offsetY:-.8}),e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,{winDecoratorClass:L.NgsAnimateBonanzaSymbolWinningsDecorator}),e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,_.MegawaysNames.WINNINGS_CASCADE_SETTINGS,{});var o={symbols:[{symbolId:e.bonusSymbol,minSymbols:1,maxSymbols:-1,allowedReels:[],announceSound:w.NgsMwAztecGoldSoundNames.ANNOUNCE_SOUND,announceSoundIncrements:!0,announceSoundMaxIncrements:6}]};return e.addProperty(_.MegawaysNames.MEGAWAYS_WHEELS,_.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE,o,!1),e},e.prototype.defineDesktopGameConfig=function(){var e=t.prototype.defineDesktopGameConfig.call(this);return e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,T.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR,{particlesConfig:{position:new Y(792,400)},offset:new Y(0,-30),celebrationDelay:.1}),e},e.prototype.defineMobileGameConfig=function(){var e=t.prototype.defineMobileGameConfig.call(this);e.addProperty(_.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,T.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR,{particlesConfig:{position:new Y(497,180),maskYOffset:400,maskHeightOffset:400},offset:new Y(-295,-250),celebrationDelay:.1});var i=new Map,n=new Y(-49,-47);return O.MegawaysWheelsMediator.masterLayoutWheelLayersToResize().forEach((function(t){i.set(t,n)})),e.addProperty(_.MegawaysNames.MEGAWAYS_WHEELS,_.MegawaysNames.MEGAWAYS_WHEELS_CASCADE_NEAR_MISS,{symbols:[{symbolId:e.bonusSymbol,minSymbols:4,maxSymbols:5,onlyOneByReel:!1,hasAnimation:!0}],zoom:1.1,zoomTime:2,zoomOutTime:.4,zoomInDelay:1.2,delay:3,delayIncrement:0,genericZoomOffset:new Y(-80,-60),layerZoomOffsets:i,spineJSON:"NearMiss-Mobile.json",spineAnimationLoop:"NearMiss",offset:new Y(0,-24),belowWheels:!0}),e.addProperty("PAYTABLE","rulesContainer","Page 5"),e},e.prototype.initOthers=function(){t.prototype.initOthers.call(this),this.globalTabletAssetPath=this.globalMobileAssetPath;var e=c.ServiceLocator.instance().get("VisualAssetsMap");e.visualAssets[u.VisualAssetsNames.SYMBOL_NAME]="WheelSymbol-",e.visualAssets[u.VisualAssetsNames.WIN_BIG_WIN_COIN_01]="Particle-Coin-1.png",e.visualAssets[u.VisualAssetsNames.WIN_BIG_WIN_COIN_02]="Particle-Coin-2.png",e.visualAssets[u.VisualAssetsNames.WIN_BIG_WIN_COIN_03]="Particle-Coin-3.png",e.visualAssets[u.VisualAssetsNames.WIN_BIG_WIN_COIN_04]="Particle-Coin-4.png",e.visualAssets[M.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX+"X"]=M.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX+"X",e.visualAssets[S.NgsMwAztecGoldBackgroundNames.MEGAWAYS_VALUES+"DIGIT"]=S.NgsMwAztecGoldBackgroundNames.MEGAWAYS_VALUES,e.visualAssets[S.NgsMwAztecGoldBackgroundNames.BONUS_VALUES+"DIGIT"]=S.NgsMwAztecGoldBackgroundNames.BONUS_VALUES,e.visualAssets[S.NgsMwAztecGoldBackgroundNames.BONUS_VALUES+"DOT"]=S.NgsMwAztecGoldBackgroundNames.BONUS_VALUES+"DOT",e.visualAssets[u.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE]="Win-Increment-Background-Middle"},e.prototype.configMasterLayoutsScenes=function(){t.prototype.configMasterLayoutsScenes.call(this),h.MasterLayoutConfig.mapScene("Preloader",s.Names.Modules.PRELOADER),h.MasterLayoutConfig.mapScene("Symbols",s.Names.Modules.WINNINGS),h.MasterLayoutConfig.mapScene("FeatureScreen",s.Names.Modules.INTRO),h.MasterLayoutConfig.mapScene("Main",s.Names.Modules.BACKGROUND),h.MasterLayoutConfig.mapScene("Paytable",s.Names.Modules.PAYTABLE),h.MasterLayoutConfig.mapScene("ReSpins",I.AztecModules.RESPINS_MODULE)},e.prototype.configMasterLayoutsLayers=function(){t.prototype.configMasterLayoutsLayers.call(this),h.MasterLayoutConfig.mapLayout("PreloaderModuleAssets",s.Names.Layers.PRELOADER),h.MasterLayoutConfig.mapLayout("PayTableModuleAssets",s.Names.Layers.PAY_TABLE),h.MasterLayoutConfig.mapLayout("WideBackground",s.Names.Layers.BACKGROUND),h.MasterLayoutConfig.mapLayout("SymbolsOverground",s.Names.Layers.SYMBOLS_FRAME),h.MasterLayoutConfig.mapLayout("Logo",s.Names.Layers.LOGO),h.MasterLayoutConfig.mapLayout("BackgroundModuleAssets",s.Names.Layers.SYMBOLS_BACKGROUND),h.MasterLayoutConfig.mapLayout("FeatureScreenModuleAssets",s.Names.Layers.INTRO_FEATURES),h.MasterLayoutConfig.mapLayout("respinsPopupStart",s.Names.Layers.FREE_GAMES_START),h.MasterLayoutConfig.mapLayout("respinsPopupEnd",s.Names.Layers.FREE_GAMES_END),h.MasterLayoutConfig.mapLayout("respinsUIlayer",s.Names.Layers.FREE_GAMES_UI),h.MasterLayoutConfig.mapLayout("bonusLayer",s.Names.Layers.FREE_GAMES_UI),h.MasterLayoutConfig.mapLayout("gameplayButtons",s.Names.Layers.GAMEPLAY_BUTTONS)},e.prototype.configMasterLayoutsSymbols=function(){t.prototype.configMasterLayoutsSymbols.call(this),this.gameConfig.symbolsIds.forEach((function(t){h.MasterLayoutConfig.mapSymbol("symbol-"+t,"WheelSymbol-"+t)}))},e.prototype.configMasterLayoutsTextfields=function(){t.prototype.configMasterLayoutsTextfields.call(this);var e=r.LanguageUtil.getLanguageExtension(a.Language.ENGLISH),i={customFont:JSON.stringify([{fontFamily:"Dungeons",lang:e}])},n={customFont:JSON.stringify([{fontFamily:"Arial bold"}])},o=r.LanguageUtil.getLanguageExtension(a.Language.THAILAND),s={customFont:JSON.stringify([{fontFamily:"noto_sansthai",lang:o}])};x.Device.deviceLevel()!=x.DeviceLevel.obsolete&&(h.MasterLayoutConfig.mapTextfield("chipsLabel","chipsLabel",i),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_1","IntroScreenDescription1_1",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_2","IntroScreenDescription1_2",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_3","IntroScreenDescription1_3",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_4","IntroScreenDescription1_4",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_5","IntroScreenDescription1_5",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_6","IntroScreenDescription1_6",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_7","IntroScreenDescription1_7",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_8","IntroScreenDescription1_8",n),h.MasterLayoutConfig.mapTextfield("IntroScreenDescription1_9","IntroScreenDescription1_9",n),h.MasterLayoutConfig.mapTextfield("pressToContinue","pressToContinue",n),h.MasterLayoutConfig.mapTextfield("freeSpinsBigTitle","freeSpinsBigTitle",i),h.MasterLayoutConfig.mapTextfield("respinsTriggerLabel","respinsTriggerLabel",i),h.MasterLayoutConfig.mapTextfield("respinsNowLockedLabel","respinsNowLockedLabel",i),h.MasterLayoutConfig.mapTextfield("respinsDescriptionLabel","respinsDescriptionLabel",i),h.MasterLayoutConfig.mapTextfield("paytableTitlePayouts","paytableTitlePayouts",i),h.MasterLayoutConfig.mapTextfield("PTCascadingWinsTitle","PTCascadingWinsTitle",i),h.MasterLayoutConfig.mapTextfield("PTAztecGoldCashRespinsTitle","PTAztecGoldCashRespinsTitle",i),h.MasterLayoutConfig.mapTextfield("paytableTitleRules","paytableTitleRules",i),h.MasterLayoutConfig.mapTextfield("youWonMessage","youWonMessage",i),h.MasterLayoutConfig.mapTextfield("youWonPopup","youWonPopup",i),h.MasterLayoutConfig.mapTextfield("coins","coins",i)),x.Device.instance().mobile&&(h.MasterLayoutConfig.mapTextfield("PT_ways_text_8","PT_ways_text_8",s),h.MasterLayoutConfig.mapTextfield("Megaways_Description2","Megaways_Description2",s))},e.prototype.masterLayoutConfig=function(){t.prototype.masterLayoutConfig.call(this),h.MasterLayoutConfig.designToolEnabled=!0,p.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement={portrait:-40,landscape:0},p.SceneManager.EXTRA_POSITIONS_REALIGNMENT.strip_alignement[l.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT_OFFSET]=-25},e.prototype.getWinningsModule=function(){var e=t.prototype.getWinningsModule.call(this);return e.className=f.NgsMwAztecGoldWinningsAnimationModule,e.spriteSheets=[],e.spriteSheetsMobile=[],e.spriteSheetsTablet=[],x.Device.instance().mobile?e.noLoad={spriteSheets:{group:[new U.SpritesheetVO(h.MasterLayoutConfig.path+"spritesheets/Symbols.mobile.landscape.json"),new U.SpritesheetVO(h.MasterLayoutConfig.path+"spritesheets/Symbols.mobile.landscape1.json")]}}:e.noLoad={spriteSheets:{group:[new U.SpritesheetVO(h.MasterLayoutConfig.path+"spritesheets/Symbols.desktop.json"),new U.SpritesheetVO(h.MasterLayoutConfig.path+"spritesheets/Symbols.desktop1.json")]}},e},e.prototype.getBackgroundModule=function(){var e=t.prototype.getBackgroundModule.call(this);e.className=N.NgsMwAztecGoldBackgroundModule,e.spriteSheets=[];var i="animations/spine/",n=x.Device.instance().mobile?i+B.NgsMwAztecGoldAmbientAnimations.FILE_NAME_MOBILE:i+B.NgsMwAztecGoldAmbientAnimations.FILE_NAME,o=x.Device.instance().mobile?i+B.NgsMwAztecGoldIntroTransitionAnimations.FILE_NAME_MOBILE:i+B.NgsMwAztecGoldIntroTransitionAnimations.FILE_NAME;if(x.Device.deviceLevel()==x.DeviceLevel.obsolete){var s={group:[new U.SpritesheetVO(h.MasterLayoutConfig.path+n),new U.SpritesheetVO(h.MasterLayoutConfig.path+o)]};e.noLoad={spriteSheets:s,spriteSheetsMobile:s,spriteSheetsTablet:s}}else{var a={group:[new U.SpritesheetVO(h.MasterLayoutConfig.path+n)],notification:S.NgsMwAztecGoldBackgroundNames.AMBIENT_ANIMATIONS_LOADED};e.optional={spriteSheets:a,spriteSheetsMobile:a,spriteSheetsTablet:a}}return e},e.prototype.getPaytableModule=function(){var e=t.prototype.getPaytableModule.call(this);return e.spriteSheets=[],e.className=H.NgsMwAztecGoldPaytable,e},e.prototype.getIntroModule=function(){var e=t.prototype.getIntroModule.call(this);return e.className=R.NgsMwAztecGoldIntroModule,e.spriteSheets=[],e.spriteSheetsMobile=[],e.spriteSheetsTablet=[],e},e.prototype.getPreloaderModule=function(){var e=t.prototype.getPreloaderModule.call(this);return e.spriteSheets=[],e.others=[],this.addCommonGraphics(e),e},e.prototype.getWheelsModule=function(){return new d.ModuleConfigVO(_.MegawaysNames.MEGAWAYS_WHEELS_MODULE,A.NgsMwAztecGoldWheelsModule)},e.prototype.getConnectionModule=function(){var e=t.prototype.getConnectionModule.call(this);return e.className=m.MegawaysConnectionModule,e},e.prototype.getLogoModule=function(){return new d.ModuleConfigVO(s.Names.Modules.LOGO,g.NgsMwAztecGoldLogoModule)},e.prototype.getModifierModule=function(){return new d.ModuleConfigVO(I.AztecModules.MODIFIER_MODULE,E.NgsMwAztecGoldModifierModule)},e.prototype.getRespinsModule=function(){var t=new d.ModuleConfigVO(I.AztecModules.RESPINS_MODULE,C.MegawaysCashRespinsModule);if(t.layers=[new d.ModuleLayerVO(s.Names.Layers.FREE_GAMES_UI,this.deviceSpecificLayoutPath+"CashRespinsUIlayer.xml")],x.Device.deviceLevel()==x.DeviceLevel.obsolete){var e={group:[new U.SpritesheetVO(h.MasterLayoutConfig.path+"animations/spine/"+F.MegawaysCashRespinsWheelMediator.WHEEL_SPINE_FILE_NAME)]};t.noLoad={spriteSheets:e,spriteSheetsMobile:e}}return t},e.prototype.getLogicModule=function(){return new d.ModuleConfigVO(s.Names.Modules.SLOT_LOGIC,b.NgsMwAztecGoldLogicModule)},e.prototype.getUserInterfaceModule=function(){var e=t.prototype.getUserInterfaceModule.call(this);return e.className=P.NgsMwAztecGoldUserInterfaceModule,e},e.prototype.getSoundModule=function(){var e=t.prototype.getSoundModule.call(this);return x.Device.instance().ie||(e.sounds=[],e.soundSprites=[],e.optional={soundSeparate:{hasSeparateSounds:!0,notification:V.Notifications.Sound.OPTIONAL_SOUNDS_LOADED}}),e},e.prototype.getSoundEffectsModule=function(){var e=t.prototype.getSoundEffectsModule.call(this);return e.className=v.NgsMwAztecGoldSlotSoundEffectsModule,e},e.prototype.getCheatToolModule=function(){var e=t.prototype.getCheatToolModule.call(this);return e.className=D.RespinsSlotCheatToolModule,e},e.prototype.getAutomatedTestModule=function(){var e=t.prototype.getAutomatedTestModule.call(this);return e.className=G.NgsMwAztecGoldAutomatedTestModule,e},e.prototype.initFonts=function(){this.addFont("Dungeons"),this.addFont("noto_sansthai"),t.prototype.initFonts.call(this)},e.prototype.getStripModule=function(){var t=new d.ModuleConfigVO(s.Names.Modules.STRIP,W.NgsMwStripModule);return t.layers=[new d.ModuleLayerVO(s.Names.Layers.STRIP,this.deviceSpecificLayoutPath+"StripBarLayer.xml")],t},e.prototype.getLoaderModule=function(){var e=t.prototype.getLoaderModule.call(this);return e.className=j.NgsMwAztecGoldLoader,e},e.prototype.getGameSetupModule=function(){var e=t.prototype.getGameSetupModule.call(this);return e.className=k.NgsMwSlotGameSetupModule,e},e}(y.MegawaysEntryPointLogic);e.NgsMwAztecGoldEntryPointLogic=X,window.onload=function(){new X}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this._name="",this._id=0,this._ext="",this._name=t,this._id=e,this._ext=i}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ext",{get:function(){return this._ext},enumerable:!0,configurable:!0}),t}();e.LanguageVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.fsRequestEvents=function(){return t.fullScreenRequestEvents},t.fsExitEvents=function(){return t.fullScreenExitEvents},t.fsCancelEvents=function(){return t.fullScreenCancelEvents},t.fsChangeEvents=function(){return t.fullScreenChangeEvents},t.fsElements=function(){return t.fullScreenElements},t.fullScreenRequestEvents=["requestFullscreen","requestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen"],t.fullScreenExitEvents=["exitFullscreen","msExitFullscreen","mozExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"],t.fullScreenCancelEvents=["cancelFullScreen","msCancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen"],t.fullScreenChangeEvents=["fullscreenchange","MSFullscreenChange","msfullscreenchange","mozfullscreenchange","webkitfullscreenchange"],t.fullScreenElements=["fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement"],t}();e.FullscreenEventsUtil=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=-1),this.event=t,this.handler=e,this.priority=i,this.count=n};e.HardwareEventVO=n},function(t,e,i){var n;!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var s=[],a=i.document,r=Object.getPrototypeOf,l=s.slice,c=s.concat,u=s.push,h=s.indexOf,p={},d=p.toString,_=p.hasOwnProperty,f=_.toString,y=f.call(Object),m={},N=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},S=function(t){return null!=t&&t===t.window},g={type:!0,src:!0,nonce:!0,noModule:!0};function A(t,e,i){var n,o,s=(i=i||a).createElement("script");if(s.text=t,e)for(n in g)(o=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,o);i.head.appendChild(s).parentNode.removeChild(s)}function E(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[d.call(t)]||"object":typeof t}var I=function(t,e){return new I.fn.init(t,e)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,i=E(t);return!N(t)&&!S(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}I.fn=I.prototype={jquery:"3.4.1",constructor:I,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=I.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return I.each(this,t)},map:function(t){return this.pushStack(I.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},I.extend=I.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[r]||{},r++),"object"==typeof a||N(a)||(a={}),r===l&&(a=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(c&&n&&(I.isPlainObject(n)||(o=Array.isArray(n)))?(i=a[e],s=o&&!Array.isArray(i)?[]:o||I.isPlainObject(i)?i:{},o=!1,a[e]=I.extend(c,s,n)):void 0!==n&&(a[e]=n));return a},I.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t))&&(!(e=r(t))||"function"==typeof(i=_.call(e,"constructor")&&e.constructor)&&f.call(i)===y)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){A(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(T(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(O,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(T(Object(t))?I.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,s=t.length,a=!i;o<s;o++)!e(t[o],o)!==a&&n.push(t[o]);return n},map:function(t,e,i){var n,o,s=0,a=[];if(T(t))for(n=t.length;s<n;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return c.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=s[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){p["[object "+e+"]"]=e.toLowerCase()}));var P=function(t){var e,i,n,o,s,a,r,l,c,u,h,p,d,_,f,y,m,N,S,g="sizzle"+1*new Date,A=t.document,E=0,I=0,O=lt(),T=lt(),P=lt(),b=lt(),C=function(t,e){return t===e&&(h=!0),0},v={}.hasOwnProperty,M=[],L=M.pop,R=M.push,D=M.push,w=M.slice,x=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",G="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",V="\\["+B+"*("+G+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+B+"*\\]",W=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",F=new RegExp(B+"+","g"),k=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),H=new RegExp("^"+B+"*,"+B+"*"),j=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Y=new RegExp(B+"|>"),X=new RegExp(W),K=new RegExp("^"+G+"$"),z={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),it=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){p()},at=gt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(M=w.call(A.childNodes),A.childNodes),M[A.childNodes.length].nodeType}catch(t){D={apply:M.length?function(t,e){R.apply(t,w.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function rt(t,e,n,o){var s,r,c,u,h,_,m,N=e&&e.ownerDocument,E=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==E&&9!==E&&11!==E)return n;if(!o&&((e?e.ownerDocument||e:A)!==d&&p(e),e=e||d,f)){if(11!==E&&(h=Q.exec(t)))if(s=h[1]){if(9===E){if(!(c=e.getElementById(s)))return n;if(c.id===s)return n.push(c),n}else if(N&&(c=N.getElementById(s))&&S(e,c)&&c.id===s)return n.push(c),n}else{if(h[2])return D.apply(n,e.getElementsByTagName(t)),n;if((s=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!b[t+" "]&&(!y||!y.test(t))&&(1!==E||"object"!==e.nodeName.toLowerCase())){if(m=t,N=e,1===E&&Y.test(t)){for((u=e.getAttribute("id"))?u=u.replace(nt,ot):e.setAttribute("id",u=g),r=(_=a(t)).length;r--;)_[r]="#"+u+" "+St(_[r]);m=_.join(","),N=tt.test(t)&&mt(e.parentNode)||e}try{return D.apply(n,N.querySelectorAll(m)),n}catch(e){b(t,!0)}finally{u===g&&e.removeAttribute("id")}}}return l(t.replace(k,"$1"),e,n,o)}function lt(){var t=[];return function e(i,o){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=o}}function ct(t){return t[g]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var i=t.split("|"),o=i.length;o--;)n.attrHandle[i[o]]=e}function pt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function _t(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function yt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var o,s=t([],i.length,e),a=s.length;a--;)i[o=s[a]]&&(i[o]=!(n[o]=i[o]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=rt.support={},s=rt.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!q.test(e||i&&i.nodeName||"HTML")},p=rt.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:A;return a!==d&&9===a.nodeType&&a.documentElement?(_=(d=a).documentElement,f=!s(d),A!==d&&(o=d.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",st,!1):o.attachEvent&&o.attachEvent("onunload",st)),i.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ut((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=$.test(d.getElementsByClassName),i.getById=ut((function(t){return _.appendChild(t).id=g,!d.getElementsByName||!d.getElementsByName(g).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var i,n,o,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(o=e.getElementsByName(t),n=0;s=o[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},m=[],y=[],(i.qsa=$.test(d.querySelectorAll))&&(ut((function(t){_.appendChild(t).innerHTML="<a id='"+g+"'></a><select id='"+g+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+B+"*(?:value|"+U+")"),t.querySelectorAll("[id~="+g+"-]").length||y.push("~="),t.querySelectorAll(":checked").length||y.push(":checked"),t.querySelectorAll("a#"+g+"+*").length||y.push(".#.+[+~]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),_.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")}))),(i.matchesSelector=$.test(N=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&ut((function(t){i.disconnectedMatch=N.call(t,"*"),N.call(t,"[s!='']:x"),m.push("!=",W)})),y=y.length&&new RegExp(y.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(_.compareDocumentPosition),S=e||$.test(_.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===d||t.ownerDocument===A&&S(A,t)?-1:e===d||e.ownerDocument===A&&S(A,e)?1:u?x(u,t)-x(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,a=[t],r=[e];if(!o||!s)return t===d?-1:e===d?1:o?-1:s?1:u?x(u,t)-x(u,e):0;if(o===s)return pt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)r.unshift(i);for(;a[n]===r[n];)n++;return n?pt(a[n],r[n]):a[n]===A?-1:r[n]===A?1:0},d):d},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&p(t),i.matchesSelector&&f&&!b[e+" "]&&(!m||!m.test(e))&&(!y||!y.test(e)))try{var n=N.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){b(e,!0)}return rt(e,d,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==d&&p(t),S(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==d&&p(t);var o=n.attrHandle[e.toLowerCase()],s=o&&v.call(n.attrHandle,e.toLowerCase())?o(t,e,!f):void 0;return void 0!==s?s:i.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},rt.escape=function(t){return(t+"").replace(nt,ot)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],o=0,s=0;if(h=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(C),h){for(;e=t[s++];)e===t[s]&&(o=n.push(s));for(;o--;)t.splice(n[o],1)}return u=null,t},o=rt.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=o(e);return i},(n=rt.selectors={cacheLength:50,createPseudo:ct,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&X.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=O[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&O(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var o=rt.attr(n,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(F," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,p,d,_,f=s!==a?"nextSibling":"previousSibling",y=e.parentNode,m=r&&e.nodeName.toLowerCase(),N=!l&&!r,S=!1;if(y){if(s){for(;f;){for(p=e;p=p[f];)if(r?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;_=f="only"===t&&!_&&"nextSibling"}return!0}if(_=[a?y.firstChild:y.lastChild],a&&N){for(S=(d=(c=(u=(h=(p=y)[g]||(p[g]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&c[1])&&c[2],p=d&&y.childNodes[d];p=++d&&p&&p[f]||(S=d=0)||_.pop();)if(1===p.nodeType&&++S&&p===e){u[t]=[E,d,S];break}}else if(N&&(S=d=(c=(u=(h=(p=e)[g]||(p[g]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&c[1]),!1===S)for(;(p=++d&&p&&p[f]||(S=d=0)||_.pop())&&((r?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++S||(N&&((u=(h=p[g]||(p[g]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[E,S]),p!==e)););return(S-=o)===n||S%n==0&&S/n>=0}}},PSEUDO:function(t,e){var i,o=n.pseudos[t]||n.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return o[g]?o(e):o.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,s=o(t,e),a=s.length;a--;)t[n=x(t,s[a])]=!(i[n]=s[a])})):function(t){return o(t,0,i)}):o}},pseudos:{not:ct((function(t){var e=[],i=[],n=r(t.replace(k,"$1"));return n[g]?ct((function(t,e,i,o){for(var s,a=n(t,null,o,[]),r=t.length;r--;)(s=a[r])&&(t[r]=!(e[r]=s))})):function(t,o,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return rt(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:ct((function(t){return K.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=f?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:yt((function(){return[0]})),last:yt((function(t,e){return[e-1]})),eq:yt((function(t,e,i){return[i<0?i+e:i]})),even:yt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:yt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:yt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:yt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=_t(e);function Nt(){}function St(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function gt(t,e,i){var n=e.dir,o=e.next,s=o||n,a=i&&"parentNode"===s,r=I++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,o);return!1}:function(e,i,l){var c,u,h,p=[E,r];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(u=(h=e[g]||(e[g]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[s])&&c[0]===E&&c[1]===r)return p[2]=c[2];if(u[s]=p,p[2]=t(e,i,l))return!0}return!1}}function At(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function Et(t,e,i,n,o){for(var s,a=[],r=0,l=t.length,c=null!=e;r<l;r++)(s=t[r])&&(i&&!i(s,n,o)||(a.push(s),c&&e.push(r)));return a}function It(t,e,i,n,o,s){return n&&!n[g]&&(n=It(n)),o&&!o[g]&&(o=It(o,s)),ct((function(s,a,r,l){var c,u,h,p=[],d=[],_=a.length,f=s||function(t,e,i){for(var n=0,o=e.length;n<o;n++)rt(t,e[n],i);return i}(e||"*",r.nodeType?[r]:r,[]),y=!t||!s&&e?f:Et(f,p,t,r,l),m=i?o||(s?t:_||n)?[]:a:y;if(i&&i(y,m,r,l),n)for(c=Et(m,d),n(c,[],r,l),u=c.length;u--;)(h=c[u])&&(m[d[u]]=!(y[d[u]]=h));if(s){if(o||t){if(o){for(c=[],u=m.length;u--;)(h=m[u])&&c.push(y[u]=h);o(null,m=[],c,l)}for(u=m.length;u--;)(h=m[u])&&(c=o?x(s,h):p[u])>-1&&(s[c]=!(a[c]=h))}}else m=Et(m===a?m.splice(_,m.length):m),o?o(null,a,m,l):D.apply(a,m)}))}function Ot(t){for(var e,i,o,s=t.length,a=n.relative[t[0].type],r=a||n.relative[" "],l=a?1:0,u=gt((function(t){return t===e}),r,!0),h=gt((function(t){return x(e,t)>-1}),r,!0),p=[function(t,i,n){var o=!a&&(n||i!==c)||((e=i).nodeType?u(t,i,n):h(t,i,n));return e=null,o}];l<s;l++)if(i=n.relative[t[l].type])p=[gt(At(p),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[g]){for(o=++l;o<s&&!n.relative[t[o].type];o++);return It(l>1&&At(p),l>1&&St(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(k,"$1"),i,l<o&&Ot(t.slice(l,o)),o<s&&Ot(t=t.slice(o)),o<s&&St(t))}p.push(i)}return At(p)}return Nt.prototype=n.filters=n.pseudos,n.setFilters=new Nt,a=rt.tokenize=function(t,e){var i,o,s,a,r,l,c,u=T[t+" "];if(u)return e?0:u.slice(0);for(r=t,l=[],c=n.preFilter;r;){for(a in i&&!(o=H.exec(r))||(o&&(r=r.slice(o[0].length)||r),l.push(s=[])),i=!1,(o=j.exec(r))&&(i=o.shift(),s.push({value:i,type:o[0].replace(k," ")}),r=r.slice(i.length)),n.filter)!(o=z[a].exec(r))||c[a]&&!(o=c[a](o))||(i=o.shift(),s.push({value:i,type:a,matches:o}),r=r.slice(i.length));if(!i)break}return e?r.length:r?rt.error(t):T(t,l).slice(0)},r=rt.compile=function(t,e){var i,o=[],s=[],r=P[t+" "];if(!r){for(e||(e=a(t)),i=e.length;i--;)(r=Ot(e[i]))[g]?o.push(r):s.push(r);(r=P(t,function(t,e){var i=e.length>0,o=t.length>0,s=function(s,a,r,l,u){var h,_,y,m=0,N="0",S=s&&[],g=[],A=c,I=s||o&&n.find.TAG("*",u),O=E+=null==A?1:Math.random()||.1,T=I.length;for(u&&(c=a===d||a||u);N!==T&&null!=(h=I[N]);N++){if(o&&h){for(_=0,a||h.ownerDocument===d||(p(h),r=!f);y=t[_++];)if(y(h,a||d,r)){l.push(h);break}u&&(E=O)}i&&((h=!y&&h)&&m--,s&&S.push(h))}if(m+=N,i&&N!==m){for(_=0;y=e[_++];)y(S,g,a,r);if(s){if(m>0)for(;N--;)S[N]||g[N]||(g[N]=L.call(l));g=Et(g)}D.apply(l,g),u&&!s&&g.length>0&&m+e.length>1&&rt.uniqueSort(l)}return u&&(E=O,c=A),S};return i?ct(s):s}(s,o))).selector=t}return r},l=rt.select=function(t,e,i,o){var s,l,c,u,h,p="function"==typeof t&&t,d=!o&&a(t=p.selector||t);if(i=i||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&f&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=z.needsContext.test(t)?0:l.length;s--&&(c=l[s],!n.relative[u=c.type]);)if((h=n.find[u])&&(o=h(c.matches[0].replace(et,it),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(s,1),!(t=o.length&&St(l)))return D.apply(i,o),i;break}}return(p||r(t,d))(o,e,!f,i,!e||tt.test(t)&&mt(e.parentNode)||e),i},i.sortStable=g.split("").sort(C).join("")===g,i.detectDuplicates=!!h,p(),i.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ht(U,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),rt}(i);I.find=P,I.expr=P.selectors,I.expr[":"]=I.expr.pseudos,I.uniqueSort=I.unique=P.uniqueSort,I.text=P.getText,I.isXMLDoc=P.isXML,I.contains=P.contains,I.escapeSelector=P.escape;var b=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&I(t).is(i))break;n.push(t)}return n},C=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},v=I.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,i){return N(e)?I.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?I.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?I.grep(t,(function(t){return h.call(e,t)>-1!==i})):I.filter(e,t,i)}I.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?I.find.matchesSelector(n,t)?[n]:[]:I.find.matches(t,I.grep(e,(function(t){return 1===t.nodeType})))},I.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(I(t).filter((function(){for(e=0;e<n;e++)if(I.contains(o[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)I.find(t,o[e],i);return n>1?I.uniqueSort(i):i},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&v.test(t)?I(t):t||[],!1).length}});var D,w=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(I.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||D,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:w.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof I?e[0]:e,I.merge(this,I.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),L.test(n[1])&&I.isPlainObject(e))for(n in e)N(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=a.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):N(t)?void 0!==i.ready?i.ready(t):t(I):I.makeArray(t,this)}).prototype=I.fn,D=I(a);var x=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}I.fn.extend({has:function(t){var e=I(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(I.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,o=this.length,s=[],a="string"!=typeof t&&I(t);if(!v.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&I.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?I.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?h.call(I(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),I.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,"parentNode")},parentsUntil:function(t,e,i){return b(t,"parentNode",i)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return b(t,"nextSibling")},prevAll:function(t){return b(t,"previousSibling")},nextUntil:function(t,e,i){return b(t,"nextSibling",i)},prevUntil:function(t,e,i){return b(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(M(t,"template")&&(t=t.content||t),I.merge([],t.childNodes))}},(function(t,e){I.fn[t]=function(i,n){var o=I.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=I.filter(n,o)),this.length>1&&(U[t]||I.uniqueSort(o),x.test(t)&&o.reverse()),this.pushStack(o)}}));var G=/[^\x20\t\r\n\f]+/g;function V(t){return t}function W(t){throw t}function F(t,e,i,n){var o;try{t&&N(o=t.promise)?o.call(t).done(e).fail(i):t&&N(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}I.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return I.each(t.match(G)||[],(function(t,i){e[i]=!0})),e}(t):I.extend({},t);var e,i,n,o,s=[],a=[],r=-1,l=function(){for(o=o||t.once,n=e=!0;a.length;r=-1)for(i=a.shift();++r<s.length;)!1===s[r].apply(i[0],i[1])&&t.stopOnFalse&&(r=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(r=s.length-1,a.push(i)),function e(i){I.each(i,(function(i,n){N(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==E(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return I.each(arguments,(function(t,e){for(var i;(i=I.inArray(e,s,i))>-1;)s.splice(i,1),i<=r&&r--})),this},has:function(t){return t?I.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||e||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},I.extend({Deferred:function(t){var e=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return I.Deferred((function(i){I.each(e,(function(e,n){var o=N(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=o&&o.apply(this,arguments);t&&N(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var s=0;function a(t,e,n,o){return function(){var r=this,l=arguments,c=function(){var i,c;if(!(t<s)){if((i=n.apply(r,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,N(c)?o?c.call(i,a(s,e,V,o),a(s,e,W,o)):(s++,c.call(i,a(s,e,V,o),a(s,e,W,o),a(s,e,V,e.notifyWith))):(n!==V&&(r=void 0,l=[i]),(o||e.resolveWith)(r,l))}},u=o?c:function(){try{c()}catch(i){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(i,u.stackTrace),t+1>=s&&(n!==W&&(r=void 0,l=[i]),e.rejectWith(r,l))}};t?u():(I.Deferred.getStackHook&&(u.stackTrace=I.Deferred.getStackHook()),i.setTimeout(u))}}return I.Deferred((function(i){e[0][3].add(a(0,i,N(o)?o:V,i.notifyWith)),e[1][3].add(a(0,i,N(t)?t:V)),e[2][3].add(a(0,i,N(n)?n:W))})).promise()},promise:function(t){return null!=t?I.extend(t,o):o}},s={};return I.each(e,(function(t,i){var a=i[2],r=i[5];o[i[1]]=a.add,r&&a.add((function(){n=r}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=a.fireWith})),o.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),o=l.call(arguments),s=I.Deferred(),a=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?l.call(arguments):i,--e||s.resolveWith(n,o)}};if(e<=1&&(F(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||N(o[i]&&o[i].then)))return s.then();for(;i--;)F(o[i],a(i),s.reject);return s.promise()}});var k=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&k.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},I.readyException=function(t){i.setTimeout((function(){throw t}))};var H=I.Deferred();function j(){a.removeEventListener("DOMContentLoaded",j),i.removeEventListener("load",j),I.ready()}I.fn.ready=function(t){return H.then(t).catch((function(t){I.readyException(t)})),this},I.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--I.readyWait:I.isReady)||(I.isReady=!0,!0!==t&&--I.readyWait>0||H.resolveWith(a,[I]))}}),I.ready.then=H.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(I.ready):(a.addEventListener("DOMContentLoaded",j),i.addEventListener("load",j));var Y=function(t,e,i,n,o,s,a){var r=0,l=t.length,c=null==i;if("object"===E(i))for(r in o=!0,i)Y(t,e,r,i[r],!0,s,a);else if(void 0!==n&&(o=!0,N(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(I(t),i)})),e))for(;r<l;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return o?t:c?e.call(t):l?e(t[0],i):s},X=/^-ms-/,K=/-([a-z])/g;function z(t,e){return e.toUpperCase()}function q(t){return t.replace(X,"ms-").replace(K,z)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=I.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[q(e)]=i;else for(n in e)o[q(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(q):(e=q(e))in n?[e]:e.match(G)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||I.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!I.isEmptyObject(e)}};var $=new J,Q=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}I.extend({hasData:function(t){return Q.hasData(t)||$.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return $.access(t,e,i)},_removeData:function(t,e){$.remove(t,e)}}),I.fn.extend({data:function(t,e){var i,n,o,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(o=Q.get(s),1===s.nodeType&&!$.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=q(n.slice(5)),it(s,n,o[n]));$.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Q.set(this,t)})):Y(this,(function(e){var i;if(s&&void 0===e)return void 0!==(i=Q.get(s,t))||void 0!==(i=it(s,t))?i:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),I.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=$.get(t,e),i&&(!n||Array.isArray(i)?n=$.access(t,e,I.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=I.queue(t,e),n=i.length,o=i.shift(),s=I._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,(function(){I.dequeue(t,e)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return $.get(t,i)||$.access(t,i,{empty:I.Callbacks("once memory").add((function(){$.remove(t,[e+"queue",i])}))})}}),I.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?I.queue(this[0],t):void 0===e?this:this.each((function(){var i=I.queue(this,t,e);I._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&I.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){I.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=I.Deferred(),s=this,a=this.length,r=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=$.get(s[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=a.documentElement,rt=function(t){return I.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(rt=function(t){return I.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===I.css(t,"display")},ut=function(t,e,i,n){var o,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];for(s in o=i.apply(t,n||[]),e)t.style[s]=a[s];return o};function ht(t,e,i,n){var o,s,a=20,r=n?function(){return n.cur()}:function(){return I.css(t,e,"")},l=r(),c=i&&i[3]||(I.cssNumber[e]?"":"px"),u=t.nodeType&&(I.cssNumber[e]||"px"!==c&&+l)&&ot.exec(I.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)I.style(t,e,u+c),(1-s)*(1-(s=r()/l||.5))<=0&&(a=0),u/=s;u*=2,I.style(t,e,u+c),i=i||[]}return i&&(u=+u||+l||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var pt={};function dt(t){var e,i=t.ownerDocument,n=t.nodeName,o=pt[n];return o||(e=i.body.appendChild(i.createElement(n)),o=I.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),pt[n]=o,o)}function _t(t,e){for(var i,n,o=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(o[s]=$.get(n,"display")||null,o[s]||(n.style.display="")),""===n.style.display&&ct(n)&&(o[s]=dt(n))):"none"!==i&&(o[s]="none",$.set(n,"display",i)));for(s=0;s<a;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}I.fn.extend({show:function(){return _t(this,!0)},hide:function(){return _t(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?I(this).show():I(this).hide()}))}});var ft=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function St(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?I.merge([t],i):i}function gt(t,e){for(var i=0,n=t.length;i<n;i++)$.set(t[i],"globalEval",!e||$.get(e[i],"globalEval"))}Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td;var At,Et,It=/<|&#?\w+;/;function Ot(t,e,i,n,o){for(var s,a,r,l,c,u,h=e.createDocumentFragment(),p=[],d=0,_=t.length;d<_;d++)if((s=t[d])||0===s)if("object"===E(s))I.merge(p,s.nodeType?[s]:s);else if(It.test(s)){for(a=a||h.appendChild(e.createElement("div")),r=(yt.exec(s)||["",""])[1].toLowerCase(),l=Nt[r]||Nt._default,a.innerHTML=l[1]+I.htmlPrefilter(s)+l[2],u=l[0];u--;)a=a.lastChild;I.merge(p,a.childNodes),(a=h.firstChild).textContent=""}else p.push(e.createTextNode(s));for(h.textContent="",d=0;s=p[d++];)if(n&&I.inArray(s,n)>-1)o&&o.push(s);else if(c=rt(s),a=St(h.appendChild(s),"script"),c&&gt(a),i)for(u=0;s=a[u++];)mt.test(s.type||"")&&i.push(s);return h}At=a.createDocumentFragment().appendChild(a.createElement("div")),(Et=a.createElement("input")).setAttribute("type","radio"),Et.setAttribute("checked","checked"),Et.setAttribute("name","t"),At.appendChild(Et),m.checkClone=At.cloneNode(!0).cloneNode(!0).lastChild.checked,At.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!At.cloneNode(!0).lastChild.defaultValue;var Tt=/^key/,Pt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function vt(){return!1}function Mt(t,e){return t===function(){try{return a.activeElement}catch(t){}}()==("focus"===e)}function Lt(t,e,i,n,o,s){var a,r;if("object"==typeof e){for(r in"string"!=typeof i&&(n=n||i,i=void 0),e)Lt(t,r,i,n,e[r],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=vt;else if(!o)return t;return 1===s&&(a=o,(o=function(t){return I().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=I.guid++)),t.each((function(){I.event.add(this,e,o,n,i)}))}function Rt(t,e,i){i?($.set(t,e,!1),I.event.add(t,e,{namespace:!1,handler:function(t){var n,o,s=$.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(I.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=l.call(arguments),$.set(this,e,s),n=i(this,e),this[e](),s!==(o=$.get(this,e))||n?$.set(this,e,!1):o={},s!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else s.length&&($.set(this,e,{value:I.event.trigger(I.extend(s[0],I.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,e)&&I.event.add(t,e,Ct)}I.event={global:{},add:function(t,e,i,n,o){var s,a,r,l,c,u,h,p,d,_,f,y=$.get(t);if(y)for(i.handler&&(i=(s=i).handler,o=s.selector),o&&I.find.matchesSelector(at,o),i.guid||(i.guid=I.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return void 0!==I&&I.event.triggered!==e.type?I.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(G)||[""]).length;c--;)d=f=(r=bt.exec(e[c])||[])[1],_=(r[2]||"").split(".").sort(),d&&(h=I.event.special[d]||{},d=(o?h.delegateType:h.bindType)||d,h=I.event.special[d]||{},u=I.extend({type:d,origType:f,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&I.expr.match.needsContext.test(o),namespace:_.join(".")},s),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,_,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),I.event.global[d]=!0)},remove:function(t,e,i,n,o){var s,a,r,l,c,u,h,p,d,_,f,y=$.hasData(t)&&$.get(t);if(y&&(l=y.events)){for(c=(e=(e||"").match(G)||[""]).length;c--;)if(d=f=(r=bt.exec(e[c])||[])[1],_=(r[2]||"").split(".").sort(),d){for(h=I.event.special[d]||{},p=l[d=(n?h.delegateType:h.bindType)||d]||[],r=r[2]&&new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;s--;)u=p[s],!o&&f!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(s,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(t,u));a&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,_,y.handle)||I.removeEvent(t,d,y.handle),delete l[d])}else for(d in l)I.event.remove(t,d+e[c],i,n,!0);I.isEmptyObject(l)&&$.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,s,a,r=I.event.fix(t),l=new Array(arguments.length),c=($.get(this,"events")||{})[r.type]||[],u=I.event.special[r.type]||{};for(l[0]=r,e=1;e<arguments.length;e++)l[e]=arguments[e];if(r.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,r)){for(a=I.event.handlers.call(this,r,c),e=0;(o=a[e++])&&!r.isPropagationStopped();)for(r.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!1!==s.namespace&&!r.rnamespace.test(s.namespace)||(r.handleObj=s,r.data=s.data,void 0!==(n=((I.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,r),r.result}},handlers:function(t,e){var i,n,o,s,a,r=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],a={},i=0;i<l;i++)void 0===a[o=(n=e[i]).selector+" "]&&(a[o]=n.needsContext?I(o,this).index(c)>-1:I.find(o,this,null,[c]).length),a[o]&&s.push(n);s.length&&r.push({elem:c,handlers:s})}return c=this,l<e.length&&r.push({elem:c,handlers:e.slice(l)}),r},addProp:function(t,e){Object.defineProperty(I.Event.prototype,t,{enumerable:!0,configurable:!0,get:N(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[I.expando]?t:new I.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ft.test(e.type)&&e.click&&M(e,"input")&&Rt(e,"click",Ct),!1},trigger:function(t){var e=this||t;return ft.test(e.type)&&e.click&&M(e,"input")&&Rt(e,"click"),!0},_default:function(t){var e=t.target;return ft.test(e.type)&&e.click&&M(e,"input")&&$.get(e,"click")||M(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},I.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},I.Event=function(t,e){if(!(this instanceof I.Event))return new I.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:vt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&I.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:vt,isPropagationStopped:vt,isImmediatePropagationStopped:vt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Pt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},(function(t,e){I.event.special[t]={setup:function(){return Rt(this,t,Mt),!1},trigger:function(){return Rt(this,t),!0},delegateType:e}})),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){I.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===n||I.contains(n,o))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}})),I.fn.extend({on:function(t,e,i,n){return Lt(this,t,e,i,n)},one:function(t,e,i,n){return Lt(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,I(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=vt),this.each((function(){I.event.remove(this,t,i,e)}))}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,wt=/<script|<style|<link/i,xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&I(t).children("tbody")[0]||t}function Gt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Vt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Wt(t,e){var i,n,o,s,a,r,l,c;if(1===e.nodeType){if($.hasData(t)&&(s=$.access(t),a=$.set(e,s),c=s.events))for(o in delete a.handle,a.events={},c)for(i=0,n=c[o].length;i<n;i++)I.event.add(e,o,c[o][i]);Q.hasData(t)&&(r=Q.access(t),l=I.extend({},r),Q.set(e,l))}}function Ft(t,e){var i=e.nodeName.toLowerCase();"input"===i&&ft.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function kt(t,e,i,n){e=c.apply([],e);var o,s,a,r,l,u,h=0,p=t.length,d=p-1,_=e[0],f=N(_);if(f||p>1&&"string"==typeof _&&!m.checkClone&&xt.test(_))return t.each((function(o){var s=t.eq(o);f&&(e[0]=_.call(this,o,s.html())),kt(s,e,i,n)}));if(p&&(s=(o=Ot(e,t[0].ownerDocument,!1,t,n)).firstChild,1===o.childNodes.length&&(o=s),s||n)){for(r=(a=I.map(St(o,"script"),Gt)).length;h<p;h++)l=o,h!==d&&(l=I.clone(l,!0,!0),r&&I.merge(a,St(l,"script"))),i.call(t[h],l,h);if(r)for(u=a[a.length-1].ownerDocument,I.map(a,Vt),h=0;h<r;h++)l=a[h],mt.test(l.type||"")&&!$.access(l,"globalEval")&&I.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?I._evalUrl&&!l.noModule&&I._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):A(l.textContent.replace(Ut,""),l,u))}return t}function Ht(t,e,i){for(var n,o=e?I.filter(e,t):t,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||I.cleanData(St(n)),n.parentNode&&(i&&rt(n)&&gt(St(n,"script")),n.parentNode.removeChild(n));return t}I.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,i){var n,o,s,a,r=t.cloneNode(!0),l=rt(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||I.isXMLDoc(t)))for(a=St(r),n=0,o=(s=St(t)).length;n<o;n++)Ft(s[n],a[n]);if(e)if(i)for(s=s||St(t),a=a||St(r),n=0,o=s.length;n<o;n++)Wt(s[n],a[n]);else Wt(t,r);return(a=St(r,"script")).length>0&&gt(a,!l&&St(t,"script")),r},cleanData:function(t){for(var e,i,n,o=I.event.special,s=0;void 0!==(i=t[s]);s++)if(Z(i)){if(e=i[$.expando]){if(e.events)for(n in e.events)o[n]?I.event.remove(i,n):I.removeEvent(i,n,e.handle);i[$.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),I.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return Y(this,(function(t){return void 0===t?I.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return kt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)}))},prepend:function(){return kt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return kt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return kt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(I.cleanData(St(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return I.clone(this,t,e)}))},html:function(t){return Y(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!wt.test(t)&&!Nt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=I.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(I.cleanData(St(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return kt(this,arguments,(function(e){var i=this.parentNode;I.inArray(this,t)<0&&(I.cleanData(St(this)),i&&i.replaceChild(e,this))}),t)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){I.fn[t]=function(t){for(var i,n=[],o=I(t),s=o.length-1,a=0;a<=s;a++)i=a===s?this:this.clone(!0),I(o[a])[e](i),u.apply(n,i.get());return this.pushStack(n)}}));var jt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Yt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Xt=new RegExp(st.join("|"),"i");function Kt(t,e,i){var n,o,s,a,r=t.style;return(i=i||Yt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||rt(t)||(a=I.style(t,e)),!m.pixelBoxStyles()&&jt.test(a)&&Xt.test(e)&&(n=r.width,o=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=o,r.maxWidth=s)),void 0!==a?a+"":a}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",r=36===e(t.right),o=36===e(t.width),u.style.position="absolute",s=12===e(u.offsetWidth/3),at.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,o,s,r,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,I.extend(m,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var qt=["Webkit","Moz","ms"],Zt=a.createElement("div").style,Jt={};function $t(t){var e=I.cssProps[t]||Jt[t];return e||(t in Zt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=qt.length;i--;)if((t=qt[i]+e)in Zt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function ne(t,e,i){var n=ot.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function oe(t,e,i,n,o,s){var a="width"===e?1:0,r=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=I.css(t,i+st[a],!0,o)),n?("content"===i&&(l-=I.css(t,"padding"+st[a],!0,o)),"margin"!==i&&(l-=I.css(t,"border"+st[a]+"Width",!0,o))):(l+=I.css(t,"padding"+st[a],!0,o),"padding"!==i?l+=I.css(t,"border"+st[a]+"Width",!0,o):r+=I.css(t,"border"+st[a]+"Width",!0,o));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-r-.5))||0),l}function se(t,e,i){var n=Yt(t),o=(!m.boxSizingReliable()||i)&&"border-box"===I.css(t,"boxSizing",!1,n),s=o,a=Kt(t,e,n),r="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(a)){if(!i)return a;a="auto"}return(!m.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===I.css(t,"display",!1,n))&&t.getClientRects().length&&(o="border-box"===I.css(t,"boxSizing",!1,n),(s=r in t)&&(a=t[r])),(a=parseFloat(a)||0)+oe(t,e,i||(o?"border":"content"),s,n,a)+"px"}function ae(t,e,i,n,o){return new ae.prototype.init(t,e,i,n,o)}I.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Kt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,r=q(e),l=te.test(e),c=t.style;if(l||(e=$t(r)),a=I.cssHooks[e]||I.cssHooks[r],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:c[e];"string"===(s=typeof i)&&(o=ot.exec(i))&&o[1]&&(i=ht(t,e,o),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=o&&o[3]||(I.cssNumber[r]?"":"px")),m.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var o,s,a,r=q(e);return te.test(e)||(e=$t(r)),(a=I.cssHooks[e]||I.cssHooks[r])&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=Kt(t,e,n)),"normal"===o&&e in ie&&(o=ie[e]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),I.each(["height","width"],(function(t,e){I.cssHooks[e]={get:function(t,i,n){if(i)return!Qt.test(I.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,e,n):ut(t,ee,(function(){return se(t,e,n)}))},set:function(t,i,n){var o,s=Yt(t),a=!m.scrollboxSize()&&"absolute"===s.position,r=(a||n)&&"border-box"===I.css(t,"boxSizing",!1,s),l=n?oe(t,e,n,r,s):0;return r&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-oe(t,e,"border",!1,s)-.5)),l&&(o=ot.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=I.css(t,e)),ne(0,i,l)}}})),I.cssHooks.marginLeft=zt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Kt(t,"marginLeft"))||t.getBoundingClientRect().left-ut(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),I.each({margin:"",padding:"",border:"Width"},(function(t,e){I.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+st[n]+e]=s[n]||s[n-2]||s[0];return o}},"margin"!==t&&(I.cssHooks[t+e].set=ne)})),I.fn.extend({css:function(t,e){return Y(this,(function(t,e,i){var n,o,s={},a=0;if(Array.isArray(e)){for(n=Yt(t),o=e.length;a<o;a++)s[e[a]]=I.css(t,e[a],!1,n);return s}return void 0!==i?I.style(t,e,i):I.css(t,e)}),t,e,arguments.length>1)}}),I.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||I.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(I.cssNumber[i]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,i=ae.propHooks[this.prop];return this.options.duration?this.pos=e=I.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=I.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){I.fx.step[t.prop]?I.fx.step[t.prop](t):1!==t.elem.nodeType||!I.cssHooks[t.prop]&&null==t.elem.style[$t(t.prop)]?t.elem[t.prop]=t.now:I.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},I.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},I.fx=ae.prototype.init,I.fx.step={};var re,le,ce=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function he(){le&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(he):i.setTimeout(he,I.fx.interval),I.fx.tick())}function pe(){return i.setTimeout((function(){re=void 0})),re=Date.now()}function de(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=st[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function _e(t,e,i){for(var n,o=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),s=0,a=o.length;s<a;s++)if(n=o[s].call(i,e,t))return n}function fe(t,e,i){var n,o,s=0,a=fe.prefilters.length,r=I.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=re||pe(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),s=0,a=c.tweens.length;s<a;s++)c.tweens[s].run(n);return r.notifyWith(t,[c,n,i]),n<1&&a?i:(a||r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:I.extend({},e),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},i),originalProperties:e,originalOptions:i,startTime:re||pe(),duration:i.duration,tweens:[],createTween:function(e,i){var n=I.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return e?(r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c,e])):r.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var i,n,o,s,a;for(i in t)if(o=e[n=q(i)],s=t[i],Array.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(a=I.cssHooks[n])&&"expand"in a)for(i in s=a.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=o);else e[n]=o}(u,c.opts.specialEasing);s<a;s++)if(n=fe.prefilters[s].call(c,t,u,c.opts))return N(n.stop)&&(I._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return I.map(u,_e,c),N(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),I.fx.timer(I.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}I.Animation=I.extend(fe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ht(i.elem,t,ot.exec(e),i),i}]},tweener:function(t,e){N(t)?(e=t,t=["*"]):t=t.match(G);for(var i,n=0,o=t.length;n<o;n++)i=t[n],fe.tweeners[i]=fe.tweeners[i]||[],fe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,s,a,r,l,c,u,h="width"in e||"height"in e,p=this,d={},_=t.style,f=t.nodeType&&ct(t),y=$.get(t,"fxshow");for(n in i.queue||(null==(a=I._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,r=a.empty.fire,a.empty.fire=function(){a.unqueued||r()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,I.queue(t,"fx").length||a.empty.fire()}))}))),e)if(o=e[n],ce.test(o)){if(delete e[n],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!y||void 0===y[n])continue;f=!0}d[n]=y&&y[n]||I.style(t,n)}if((l=!I.isEmptyObject(e))||!I.isEmptyObject(d))for(n in h&&1===t.nodeType&&(i.overflow=[_.overflow,_.overflowX,_.overflowY],null==(c=y&&y.display)&&(c=$.get(t,"display")),"none"===(u=I.css(t,"display"))&&(c?u=c:(_t([t],!0),c=t.style.display||c,u=I.css(t,"display"),_t([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===I.css(t,"float")&&(l||(p.done((function(){_.display=c})),null==c&&(u=_.display,c="none"===u?"":u)),_.display="inline-block")),i.overflow&&(_.overflow="hidden",p.always((function(){_.overflow=i.overflow[0],_.overflowX=i.overflow[1],_.overflowY=i.overflow[2]}))),l=!1,d)l||(y?"hidden"in y&&(f=y.hidden):y=$.access(t,"fxshow",{display:c}),s&&(y.hidden=!f),f&&_t([t],!0),p.done((function(){for(n in f||_t([t]),$.remove(t,"fxshow"),d)I.style(t,n,d[n])}))),l=_e(f?y[n]:0,n,p),n in y||(y[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),I.speed=function(t,e,i){var n=t&&"object"==typeof t?I.extend({},t):{complete:i||!i&&e||N(t)&&t,duration:t,easing:i&&e||e&&!N(e)&&e};return I.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in I.fx.speeds?n.duration=I.fx.speeds[n.duration]:n.duration=I.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){N(n.old)&&n.old.call(this),n.queue&&I.dequeue(this,n.queue)},n},I.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=I.isEmptyObject(t),s=I.speed(e,i,n),a=function(){var e=fe(this,I.extend({},t),s);(o||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",s=I.timers,a=$.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ue.test(o)&&n(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(i),e=!1,s.splice(o,1));!e&&i||I.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=$.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=I.timers,a=n?n.length:0;for(i.finish=!0,I.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),I.each(["toggle","show","hide"],(function(t,e){var i=I.fn[e];I.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(de(e,!0),t,n,o)}})),I.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){I.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),I.timers=[],I.fx.tick=function(){var t,e=0,i=I.timers;for(re=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||I.fx.stop(),re=void 0},I.fx.timer=function(t){I.timers.push(t),I.fx.start()},I.fx.interval=13,I.fx.start=function(){le||(le=!0,he())},I.fx.stop=function(){le=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(t,e){return t=I.fx&&I.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}}))},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ye,me=I.expr.attrHandle;I.fn.extend({attr:function(t,e){return Y(this,I.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){I.removeAttr(this,t)}))}}),I.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?I.prop(t,e,i):(1===s&&I.isXMLDoc(t)||(o=I.attrHooks[e.toLowerCase()]||(I.expr.match.bool.test(e)?ye:void 0)),void 0!==i?null===i?void I.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=I.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&M(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(G);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),ye={set:function(t,e,i){return!1===e?I.removeAttr(t,i):t.setAttribute(i,i),i}},I.each(I.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=me[e]||I.find.attr;me[e]=function(t,e,n){var o,s,a=e.toLowerCase();return n||(s=me[a],me[a]=o,o=null!=i(t,e,n)?a:null,me[a]=s),o}}));var Ne=/^(?:input|select|textarea|button)$/i,Se=/^(?:a|area)$/i;function ge(t){return(t.match(G)||[]).join(" ")}function Ae(t){return t.getAttribute&&t.getAttribute("class")||""}function Ee(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(G)||[]}I.fn.extend({prop:function(t,e){return Y(this,I.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[I.propFix[t]||t]}))}}),I.extend({prop:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&I.isXMLDoc(t)||(e=I.propFix[e]||e,o=I.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=I.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(I.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){I.propFix[this.toLowerCase()]=this})),I.fn.extend({addClass:function(t){var e,i,n,o,s,a,r,l=0;if(N(t))return this.each((function(e){I(this).addClass(t.call(this,e,Ae(this)))}));if((e=Ee(t)).length)for(;i=this[l++];)if(o=Ae(i),n=1===i.nodeType&&" "+ge(o)+" "){for(a=0;s=e[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");o!==(r=ge(n))&&i.setAttribute("class",r)}return this},removeClass:function(t){var e,i,n,o,s,a,r,l=0;if(N(t))return this.each((function(e){I(this).removeClass(t.call(this,e,Ae(this)))}));if(!arguments.length)return this.attr("class","");if((e=Ee(t)).length)for(;i=this[l++];)if(o=Ae(i),n=1===i.nodeType&&" "+ge(o)+" "){for(a=0;s=e[a++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");o!==(r=ge(n))&&i.setAttribute("class",r)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):N(t)?this.each((function(i){I(this).toggleClass(t.call(this,i,Ae(this),e),e)})):this.each((function(){var e,o,s,a;if(n)for(o=0,s=I(this),a=Ee(t);e=a[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||((e=Ae(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ge(Ae(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ie=/\r/g;I.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=N(t),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,I(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=I.map(o,(function(t){return null==t?"":t+""}))),(e=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(Ie,""):null==i?"":i:void 0}}),I.extend({valHooks:{option:{get:function(t){var e=I.find.attr(t,"value");return null!=e?e:ge(I.text(t))}},select:{get:function(t){var e,i,n,o=t.options,s=t.selectedIndex,a="select-one"===t.type,r=a?null:[],l=a?s+1:o.length;for(n=s<0?l:a?s:0;n<l;n++)if(((i=o[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!M(i.parentNode,"optgroup"))){if(e=I(i).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=I.makeArray(e),a=o.length;a--;)((n=o[a]).selected=I.inArray(I.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),I.each(["radio","checkbox"],(function(){I.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=I.inArray(I(t).val(),e)>-1}},m.checkOn||(I.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in i;var Oe=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};I.extend(I.event,{trigger:function(t,e,n,o){var s,r,l,c,u,h,p,d,f=[n||a],y=_.call(t,"type")?t.type:t,m=_.call(t,"namespace")?t.namespace.split("."):[];if(r=d=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!Oe.test(y+I.event.triggered)&&(y.indexOf(".")>-1&&(m=y.split("."),y=m.shift(),m.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[I.expando]?t:new I.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:I.makeArray(e,[t]),p=I.event.special[y]||{},o||!p.trigger||!1!==p.trigger.apply(n,e))){if(!o&&!p.noBubble&&!S(n)){for(c=p.delegateType||y,Oe.test(c+y)||(r=r.parentNode);r;r=r.parentNode)f.push(r),l=r;l===(n.ownerDocument||a)&&f.push(l.defaultView||l.parentWindow||i)}for(s=0;(r=f[s++])&&!t.isPropagationStopped();)d=r,t.type=s>1?c:p.bindType||y,(h=($.get(r,"events")||{})[t.type]&&$.get(r,"handle"))&&h.apply(r,e),(h=u&&r[u])&&h.apply&&Z(r)&&(t.result=h.apply(r,e),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),e)||!Z(n)||u&&N(n[y])&&!S(n)&&((l=n[u])&&(n[u]=null),I.event.triggered=y,t.isPropagationStopped()&&d.addEventListener(y,Te),n[y](),t.isPropagationStopped()&&d.removeEventListener(y,Te),I.event.triggered=void 0,l&&(n[u]=l)),t.result}},simulate:function(t,e,i){var n=I.extend(new I.Event,i,{type:t,isSimulated:!0});I.event.trigger(n,null,e)}}),I.fn.extend({trigger:function(t,e){return this.each((function(){I.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return I.event.trigger(t,e,i,!0)}}),m.focusin||I.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){I.event.simulate(e,t.target,I.event.fix(t))};I.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=$.access(n,e);o||n.addEventListener(t,i,!0),$.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=$.access(n,e)-1;o?$.access(n,e,o):(n.removeEventListener(t,i,!0),$.remove(n,e))}}}));var Pe=i.location,be=Date.now(),Ce=/\?/;I.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+t),e};var ve=/\[\]$/,Me=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;function De(t,e,i,n){var o;if(Array.isArray(e))I.each(e,(function(e,o){i||ve.test(t)?n(t,o):De(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)}));else if(i||"object"!==E(e))n(t,e);else for(o in e)De(t+"["+o+"]",e[o],i,n)}I.param=function(t,e){var i,n=[],o=function(t,e){var i=N(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!I.isPlainObject(t))I.each(t,(function(){o(this.name,this.value)}));else for(i in t)De(i,t[i],e,o);return n.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=I.prop(this,"elements");return t?I.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!I(this).is(":disabled")&&Re.test(this.nodeName)&&!Le.test(t)&&(this.checked||!ft.test(t))})).map((function(t,e){var i=I(this).val();return null==i?null:Array.isArray(i)?I.map(i,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:i.replace(Me,"\r\n")}})).get()}});var we=/%20/g,xe=/#.*$/,Ue=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:GET|HEAD)$/,Ve=/^\/\//,We={},Fe={},ke="*/".concat("*"),He=a.createElement("a");function je(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(G)||[];if(N(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ye(t,e,i,n){var o={},s=t===Fe;function a(r){var l;return o[r]=!0,I.each(t[r]||[],(function(t,r){var c=r(e,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function Xe(t,e){var i,n,o=I.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&I.extend(!0,t,n),t}He.href=Pe.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,I.ajaxSettings),e):Xe(I.ajaxSettings,t)},ajaxPrefilter:je(We),ajaxTransport:je(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,s,r,l,c,u,h,p,d,_=I.ajaxSetup({},e),f=_.context||_,y=_.context&&(f.nodeType||f.jquery)?I(f):I.event,m=I.Deferred(),N=I.Callbacks("once memory"),S=_.statusCode||{},g={},A={},E="canceled",O={readyState:0,getResponseHeader:function(t){var e;if(u){if(!r)for(r={};e=Be.exec(s);)r[e[1].toLowerCase()+" "]=(r[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=r[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=A[t.toLowerCase()]=A[t.toLowerCase()]||t,g[t]=e),this},overrideMimeType:function(t){return null==u&&(_.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)O.always(t[O.status]);else for(e in t)S[e]=[S[e],t[e]];return this},abort:function(t){var e=t||E;return n&&n.abort(e),T(0,e),this}};if(m.promise(O),_.url=((t||_.url||Pe.href)+"").replace(Ve,Pe.protocol+"//"),_.type=e.method||e.type||_.method||_.type,_.dataTypes=(_.dataType||"*").toLowerCase().match(G)||[""],null==_.crossDomain){c=a.createElement("a");try{c.href=_.url,c.href=c.href,_.crossDomain=He.protocol+"//"+He.host!=c.protocol+"//"+c.host}catch(t){_.crossDomain=!0}}if(_.data&&_.processData&&"string"!=typeof _.data&&(_.data=I.param(_.data,_.traditional)),Ye(We,_,e,O),u)return O;for(p in(h=I.event&&_.global)&&0==I.active++&&I.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!Ge.test(_.type),o=_.url.replace(xe,""),_.hasContent?_.data&&_.processData&&0===(_.contentType||"").indexOf("application/x-www-form-urlencoded")&&(_.data=_.data.replace(we,"+")):(d=_.url.slice(o.length),_.data&&(_.processData||"string"==typeof _.data)&&(o+=(Ce.test(o)?"&":"?")+_.data,delete _.data),!1===_.cache&&(o=o.replace(Ue,"$1"),d=(Ce.test(o)?"&":"?")+"_="+be+++d),_.url=o+d),_.ifModified&&(I.lastModified[o]&&O.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&O.setRequestHeader("If-None-Match",I.etag[o])),(_.data&&_.hasContent&&!1!==_.contentType||e.contentType)&&O.setRequestHeader("Content-Type",_.contentType),O.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+("*"!==_.dataTypes[0]?", "+ke+"; q=0.01":""):_.accepts["*"]),_.headers)O.setRequestHeader(p,_.headers[p]);if(_.beforeSend&&(!1===_.beforeSend.call(f,O,_)||u))return O.abort();if(E="abort",N.add(_.complete),O.done(_.success),O.fail(_.error),n=Ye(Fe,_,e,O)){if(O.readyState=1,h&&y.trigger("ajaxSend",[O,_]),u)return O;_.async&&_.timeout>0&&(l=i.setTimeout((function(){O.abort("timeout")}),_.timeout));try{u=!1,n.send(g,T)}catch(t){if(u)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,a,r){var c,p,d,g,A,E=e;u||(u=!0,l&&i.clearTimeout(l),n=void 0,s=r||"",O.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(g=function(t,e,i){for(var n,o,s,a,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in r)if(r[o]&&r[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}a||(a=o)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),i[s]}(_,O,a)),g=function(t,e,i,n){var o,s,a,r,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=c[l+" "+s]||c["* "+s]))for(o in c)if((r=o.split(" "))[1]===s&&(a=c[l+" "+r[0]]||c["* "+r[0]])){!0===a?a=c[o]:!0!==c[o]&&(s=r[0],u.unshift(r[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(_,g,O,c),c?(_.ifModified&&((A=O.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=A),(A=O.getResponseHeader("etag"))&&(I.etag[o]=A)),204===t||"HEAD"===_.type?E="nocontent":304===t?E="notmodified":(E=g.state,p=g.data,c=!(d=g.error))):(d=E,!t&&E||(E="error",t<0&&(t=0))),O.status=t,O.statusText=(e||E)+"",c?m.resolveWith(f,[p,E,O]):m.rejectWith(f,[O,E,d]),O.statusCode(S),S=void 0,h&&y.trigger(c?"ajaxSuccess":"ajaxError",[O,_,c?p:d]),N.fireWith(f,[O,E]),h&&(y.trigger("ajaxComplete",[O,_]),--I.active||I.event.trigger("ajaxStop")))}return O},getJSON:function(t,e,i){return I.get(t,e,i,"json")},getScript:function(t,e){return I.get(t,void 0,e,"script")}}),I.each(["get","post"],(function(t,e){I[e]=function(t,i,n,o){return N(i)&&(o=o||n,n=i,i=void 0),I.ajax(I.extend({url:t,type:e,dataType:o,data:i,success:n},I.isPlainObject(t)&&t))}})),I._evalUrl=function(t,e){return I.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){I.globalEval(t,e)}})},I.fn.extend({wrapAll:function(t){var e;return this[0]&&(N(t)&&(t=t.call(this[0])),e=I(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return N(t)?this.each((function(e){I(this).wrapInner(t.call(this,e))})):this.each((function(){var e=I(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=N(t);return this.each((function(i){I(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){I(this).replaceWith(this.childNodes)})),this}}),I.expr.pseudos.hidden=function(t){return!I.expr.pseudos.visible(t)},I.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},ze=I.ajaxSettings.xhr();m.cors=!!ze&&"withCredentials"in ze,m.ajax=ze=!!ze,I.ajaxTransport((function(t){var e,n;if(m.cors||ze&&!t.crossDomain)return{send:function(o,s){var a,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)r[a]=t.xhrFields[a];for(a in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)r.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?s(0,"error"):s(r.status,r.statusText):s(Ke[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=e(),n=r.onerror=r.ontimeout=e("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),I.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return I.globalEval(t),t}}}),I.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),I.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,o){e=I("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}}));var qe,Ze=[],Je=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ze.pop()||I.expando+"_"+be++;return this[t]=!0,t}}),I.ajaxPrefilter("json jsonp",(function(t,e,n){var o,s,a,r=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=N(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Je,"$1"+o):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||I.error(o+" was not called"),a[0]},t.dataTypes[0]="json",s=i[o],i[o]=function(){a=arguments},n.always((function(){void 0===s?I(i).removeProp(o):i[o]=s,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ze.push(o)),a&&N(s)&&s(a[0]),a=s=void 0})),"script"})),m.createHTMLDocument=((qe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),I.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(m.createHTMLDocument?((n=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(n)):e=a),s=!i&&[],(o=L.exec(t))?[e.createElement(o[1])]:(o=Ot([t],e,s),s&&s.length&&I(s).remove(),I.merge([],o.childNodes)));var n,o,s},I.fn.load=function(t,e,i){var n,o,s,a=this,r=t.indexOf(" ");return r>-1&&(n=ge(t.slice(r)),t=t.slice(0,r)),N(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&I.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){s=arguments,a.html(n?I("<div>").append(I.parseHTML(t)).find(n):t)})).always(i&&function(t,e){a.each((function(){i.apply(this,s||[t.responseText,e,t])}))}),this},I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){I.fn[e]=function(t){return this.on(e,t)}})),I.expr.pseudos.animated=function(t){return I.grep(I.timers,(function(e){return t===e.elem})).length},I.offset={setOffset:function(t,e,i){var n,o,s,a,r,l,c=I.css(t,"position"),u=I(t),h={};"static"===c&&(t.style.position="relative"),r=u.offset(),s=I.css(t,"top"),l=I.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(a=(n=u.position()).top,o=n.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),N(e)&&(e=e.call(t,i,I.extend({},r))),null!=e.top&&(h.top=e.top-r.top+a),null!=e.left&&(h.left=e.left-r.left+o),"using"in e?e.using.call(t,h):u.css(h)}},I.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){I.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===I.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===I.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=I(t).offset()).top+=I.css(t,"borderTopWidth",!0),o.left+=I.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-I.css(n,"marginTop",!0),left:e.left-o.left-I.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===I.css(t,"position");)t=t.offsetParent;return t||at}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;I.fn[t]=function(n){return Y(this,(function(t,n,o){var s;if(S(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:o,i?o:s.pageYOffset):t[n]=o}),t,n,arguments.length)}})),I.each(["top","left"],(function(t,e){I.cssHooks[e]=zt(m.pixelPosition,(function(t,i){if(i)return i=Kt(t,e),jt.test(i)?I(t).position()[e]+"px":i}))})),I.each({Height:"height",Width:"width"},(function(t,e){I.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){I.fn[n]=function(o,s){var a=arguments.length&&(i||"boolean"!=typeof o),r=i||(!0===o||!0===s?"margin":"border");return Y(this,(function(e,i,o){var s;return S(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===o?I.css(e,i,r):I.style(e,i,o,r)}),e,a?o:void 0,a)}}))})),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){I.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),I.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),I.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),I.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),N(t))return n=l.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(l.call(arguments)))}).guid=t.guid=t.guid||I.guid++,o},I.holdReady=function(t){t?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=M,I.isFunction=N,I.isWindow=S,I.camelCase=q,I.type=E,I.now=Date.now,I.isNumeric=function(t){var e=I.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return I}.apply(e,[]))||(t.exports=n);var $e=i.jQuery,Qe=i.$;return I.noConflict=function(t){return i.$===I&&(i.$=Qe),t&&i.jQuery===I&&(i.jQuery=$e),I},o||(i.jQuery=i.$=I),I}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this._name="",this._id=0,this._name=t,this._id=e,this._fo=new FontFaceObserver(this._name),this._loaded=!1,this._loadTries=0}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fo",{get:function(){return this._fo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),t.prototype.fontHasLoaded=function(){this._loaded=!0},Object.defineProperty(t.prototype,"loadTries",{get:function(){return this._loadTries},enumerable:!0,configurable:!0}),t.prototype.fontHasFailedToLoad=function(){this._loadTries++},t}();e.FontObserverVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(163),a=i(133),r=i(49),l=i(1),c=i(417),u=i(129),h=i(418),p=i(2),d=i(196),_=i(419),f=i(43),y=i(420),m=i(421),N=i(4),S=i(28),g=i(422),A=l.Names.Layers,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(p.Notifications.MasterLayout.CONFIGURE_WINNINGS_DECORATORS,_.NgsMwSendWinningsConfigurationCommand),this.replaceCommand(p.Notifications.Winning.CELEBRATION_CHECK,d.NgsMwAztecGoldCelebrationCheckCommand),this.replaceCommand(f.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,y.NgsMwAztecGoldStartAnimateStepWinningsAnimationsCommand),this.addCommand(S.MegawaysNotifications.START_CASCADE_SUMMARY,g.NgsMwAztecGoldStartCascadeSummaryCommand)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,c.NgsMwAztecGoldWinningsMediator,N.Device.CLASS_INDEX_DESKTOP),this.replaceMediator(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,c.NgsMwAztecGoldWinningsMediator,N.Device.CLASS_INDEX_MOBILE)},e.prototype.registerDecorators=function(){this.addDecorator(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,r.MegawaysWinningsAnimationNames.INCREMENT_LINE_WIN,a.NgsMwIncrementLineWinAnimationDecorator,A.WINNINGS_ANIMATIONS_INCREMENT),this.addDecorator(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,r.MegawaysWinningsAnimationNames.ANIMATE_SYMBOL_OPTIONAL_STATIC_WINNING_DECORATOR,u.AnimateSymbolOptionalStaticWinningDecorator,A.WINNINGS_ANIMATIONS_OVERGROUND),this.addDecorator(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,r.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR,h.NgsMwAztecGoldBigWinAnimationDecorator,A.WINNINGS_ANIMATIONS_BIG_WIN)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,m.NgsMwAztecGoldWinningsAnimationsView,N.Device.CLASS_INDEX_DESKTOP),this.replaceView(r.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,m.NgsMwAztecGoldWinningsAnimationsView,N.Device.CLASS_INDEX_MOBILE)},e}(s.MegawaysWinningsAnimationModule);e.NgsMwAztecGoldWinningsAnimationModule=E},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(165),l=i(362),c=i(5),u=i(43),h=i(1),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars();var i=t.body,n=!1;s.each(i,(function(t){1==t.skipWinnings&&(n=!0)})),!this.connectionProxy.getServerData(c.States.INITIAL)||this.winningsAnimationsProxy.showWinningsAtRestore||n||this.sendNotification(u.WinningsAnimationsNotifications.CREATE_WINNINGS_LINES,{endGame:this.connectionProxy.getServerData(c.States.END_GAME),isFromRestore:!0,skipLineWinCreated:!0}),s.each(i,(function(t){var i=e.getLineWin(t);e.winningsAnimationsProxy.addOrReplaceLineAnimation(i)})),this.sendNotification(u.WinningsAnimationsNotifications.WINNINGS_LINES_CREATED,!1),i=null,t.body=null},e.prototype.initVars=function(){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(h.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.getLineWin=function(t){var e=new r.WinLineVO;return s.isNil(t.name)||(e.type=t.name),s.isNil(t.infoBoxMessage)||(e.infoBoxMessage=t.infoBoxMessage),s.isNil(t.showAllMessage)||(e.showAllMessage=t.showAllMessage),s.isNil(t.skipWinnings)||(e.skipWinnings=t.skipWinnings),s.isNil(t.id)||(e.id=t.id),s.isNil(t.highlight)?e.highlight=this.getEmptyLineHighlight():e.highlight=t.highlight,s.isNil(t.smallHighlight)?e.smallHighlight=this.convertToSmallHighligt(e.highlight):e.smallHighlight=t.smallHighlight,s.isNil(t.soundName)||(e.soundName=t.soundName),s.isNil(t.onlyShowAll)||(e.onlyShowAll=t.onlyShowAll),s.isNil(t.skipIncrement)||(e.skipIncrement=t.skipIncrement),s.isNil(t.valueCoins)||(e.winValue=t.valueCoins),s.isNil(t.valueMoney)||(e.winValueMoney=t.valueMoney),s.isNil(t.hasSymbolsInInfobox)||(e.hasSymbolsInInfobox=t.hasSymbolsInInfobox),s.isNil(t.showSingleSymbol)||(e.showSingleSymbol=t.showSingleSymbol),s.isNil(t.showOnlyThisWin)||(e.showOnlyThisWin=t.showOnlyThisWin),s.isNil(t.allowSkipIncrement)||(e.allowSkipIncrement=t.allowSkipIncrement),s.isNil(t.incrementHasMaxDuration)||(e.incrementHasMaxDuration=t.incrementHasMaxDuration),s.isNil(t.excludeThisWin)||(e.excludeThisWin=t.excludeThisWin),e.featureRequests=this.getWinningsFeatureRequestVO(t.featureRequest),e},e.prototype.getEmptyLineHighlight=function(){var t=[];return s.each(s.range(this.slotGameConfig.columnsCnt*this.slotGameConfig.rowsCnt),(function(){t.push(0)})),t},e.prototype.getWinningsFeatureRequestVO=function(t){if(!t)return null;var e=new l.WinningsFeaturesRequestVO;return e.skipFiveOfAKindAnimation=t.skipFiveOfAKindAnimation,e.skipBigWinAnimation=t.skipBigWinAnimation,e.ignoreIncrement=t.ignoreIncrement,e},e.prototype.convertToSmallHighligt=function(t){var e=this,i="",n=!1;return s.each(s.range(this.slotGameConfig.columnsCnt),(function(o){n=!1,0!=t[o]&&(i+="1",n=!0),0!=t[o+e.slotGameConfig.columnsCnt]&&(i+="2",n=!0),0!=t[o+2*e.slotGameConfig.columnsCnt]&&(i+="3",n=!0),n||(i+="0")})),i},e}(a.Controller);e.AddLinesWinningsCommand=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.skipBigWinAnimation=!1,this.skipFiveOfAKindAnimation=!1,this.ignoreIncrement=!1};e.WinningsFeaturesRequestVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(110),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i;t.prototype.execute.call(this,e),s.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveProxy(l.Names.Proxies.SYMBOL_ANIMATION)),i=s.isNil(e.body.symbolAnimationVO)?new r.SymbolAnimationVO(e.body.symbolId,e.body.displayObject,e.body.playFunction,e.body.stopFunction,e.body.playFunctionParams,e.body.stopFunctionParams):e.body.symbolAnimationVO instanceof r.SymbolAnimationVO?e.body.symbolAnimationVO:new r.SymbolAnimationVO(e.body.symbolAnimationVO.symbolId,e.body.symbolAnimationVO.displayObject,e.body.symbolAnimationVO.playFunction,e.body.symbolAnimationVO.stopFunction,e.body.playFunctionParams,e.body.stopFunctionParams),this.symbolsAnimationsProxy.addAnimationForSymbolToPool(i)},e}(a.Controller);e.AddSymbolAnimationToPoolCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.hasToPlayBigWinAnimation=!1},e}(a.Controller);e.BigWinAnimationCanceledCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.hasToPlayBigWinAnimation=!1},e}(a.Controller);e.BigWinIncrementEndedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(5),u=i(7),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWinLimit=1,e._fantasticWinLimit=1,e._ultraWinLimit=1,e._totalBetMoney=-1,e._winningsInMoney=-1,e._incrementDuration=10,e._hasCelebration=!0,e.startVCelebration=0,e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.startVCelebration=0;var e=this.connectionProxy.getServerData(c.States.END_GAME);if(!s.isNil(e.freeRespinsGames)){var i=parseInt(e.freeRespinsGames.totalFreeGamesWinningsMoney);this.sendNotification(l.Notifications.Winning.CELEBRATION_START,{valueInMoney:i},r.Names.Modules.STRIP)}if(this.checkForFreeSpins()){var n=this.settings.getValue("CELEBRATION_SETTINGS");if(s.isNil(n.hasCelebration)||(this._hasCelebration=n.hasCelebration),this._hasCelebration)if(this.bigWinLimit=n.bigWinLimit,this._incrementDuration=n.duration,n.fantasticWinLimit&&(this._fantasticWinLimit=n.fantasticWinLimit),n.ultraWinLimit&&(this._ultraWinLimit=n.ultraWinLimit),this.canPlayBigWinAnimation()){var o=-1;if(this._fantasticWinLimit>0&&this._winningsInMoney/this._totalBetMoney>=this._fantasticWinLimit)if(o=this._fantasticWinLimit*this._totalBetMoney/(this._winningsInMoney/this._incrementDuration),this._winningsInMoney>=this._fantasticWinLimit*this._totalBetMoney&&this._winningsInMoney<=(this._fantasticWinLimit+this._fantasticWinLimit/10)*this._totalBetMoney)o-=25*o/100;var a=-1;if(this._ultraWinLimit>0&&this._winningsInMoney/this._totalBetMoney>=this._ultraWinLimit)if(a=this._ultraWinLimit*this._totalBetMoney/(this._winningsInMoney/this._incrementDuration),this._winningsInMoney>=this._ultraWinLimit*this._totalBetMoney&&this._winningsInMoney<=(this._ultraWinLimit+this._ultraWinLimit/10)*this._totalBetMoney)a-=25*a/100;var h=1;-1!=o&&h++,-1!=a&&h++,h>1&&(-1!=o&&(o=this._incrementDuration/h),-1!=a&&(a=o+this._incrementDuration/h)),this._winningsAnimationsProxy.celebrationInProgress=!0;var p=this.getBigWinNeedToBeShown();this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.UpdateUIAction.SHOW_CELEBRATION),this.sendGlobalNotification(l.Notifications.Winning.CELEBRATION_START,{startV:this.startVCelebration,endV:this.getCoinsValueForCelebration(),isInstant:!0,duration:this._incrementDuration,bigWinNeedToShow:p,fantasticWinDelay:o,ultraWinDelay:a,valueInMoney:this.getValueMoneyForCelebration()})}}},e.prototype.checkForFreeSpins=function(){return this.connectionProxy.getServerData(c.States.END_GAME).freeGames},e.prototype.getValueMoneyForCelebration=function(){var t=this.connectionProxy.getServerData(c.States.END_GAME);return parseInt(t.freeGames.totalFreeGamesWinningsMoney)},e.prototype.getCoinsValueForCelebration=function(){var t=this.connectionProxy.getServerData(c.States.END_GAME),e=parseInt(t.freeGames.totalFreeGamesWinningsMoney),i=this._moneyProxy.getClientValue(this._freeSpinsProxy.currentCoinValue,!1);return Math.floor(this._moneyProxy.getClientValue(Math.round(e/i*100)/100,!1))},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this._winningsAnimationsProxy)&&(this._winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this._freeSpinsProxy)&&(this._freeSpinsProxy=this.retrieveGlobalProxy(r.Names.Proxies.FREESPIN,r.Names.Modules.FREE_SPIN)),this._moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)},e.prototype.canPlayBigWinAnimation=function(){this._totalBetMoney=this._moneyProxy.displayValues.totalBetInCoins*this._moneyProxy.displayValues.coinValue;var t=this.connectionProxy.getServerData(c.States.END_GAME);return!!(t.hasOwnProperty("freeGames")&&(this._winningsInMoney=this._moneyProxy.getClientValue(t.freeGames.totalFreeGamesWinningsMoney,!1),this._winningsInMoney>0))},e.prototype.getBigWinNeedToBeShown=function(){var t=this.connectionProxy.getServerData(c.States.END_GAME);if(t.hasOwnProperty("freeGames"))return this._winningsInMoney=this._moneyProxy.getClientValue(t.freeGames.totalFreeGamesWinningsMoney,!1),this._winningsInMoney/this._totalBetMoney>=this.bigWinLimit||(this.startVCelebration=this.getCoinsValueForCelebration(),this._incrementDuration=0,!1)},e}(a.Controller);e.CelebrationCheckCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.SYMBOL_ANIMATION));var i=this.symbolsAnimationsProxy.getAnimationForSymbol(e.body.symbolId);e.body.callback.call(null,i,e.body.callbackParams)},e}(a.Controller);e.GetSymbolAnimationCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.symbolsAnimationsProxy.resetAnimationForSymbolToPool(e.body.symbolID)},e.prototype.initVars=function(){s.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.SYMBOL_ANIMATION))},e}(a.Controller);e.ResetSymbolAnimationToPoolCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),(this.winningsAnimationsProxy.animationsSteps||this.winningsAnimationsProxy.celebrationInProgress)&&(this.sendGlobalNotification(l.Notifications.Increment.STOP_ALL_INCREMENTS),this.winningsAnimationsProxy.stopAnimations(),this.sendGlobalNotification(l.Notifications.Winning.STOP_WINNINGS_ANIMATIONS_SOUNDS))},e}(a.Controller);e.StopWinningsAnimationsCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.lines=new Array};e.AnimationStepVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(62),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(l.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.onlyShowAllAfterCycleComplete&&this.removeOneByOneSteps()},e.prototype.removeOneByOneSteps=function(){1!=this.winningsAnimationsProxy.animationsSteps.length&&s.remove(this.winningsAnimationsProxy.animationsSteps,(function(t){return t.type!=r.WinningTypes.SHOW_ALL}))},e}(a.Controller);e.FullCycleCompleteCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(68),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i=this;t.prototype.execute.call(this,e),this.initVars();var n=e.body.spineInfo;n.atlasData=[],"string"==typeof n.json?n.atlasData.push(this.preloadProxy.getSpineData(n.json)):s.each(n.json,(function(t){n.atlasData.push(i.preloadProxy.getSpineData(t))}))},e.prototype.initVars=function(){s.isNil(this.preloadProxy)&&(this.preloadProxy=this.retrieveGlobalProxy(r.PreloadProxy.NAME,r.PreloadProxy.SCOPE))},e}(a.Controller);e.GetSpineDataCommand=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){void 0===e&&(e=0),void 0===i&&(i="normal"),this._id=t,this._winningValue=e,this._type=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"winningValue",{get:function(){return this._winningValue},set:function(t){this._winningValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.id,this.winningValue,this.type)},t}();e.MoneyWinning=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(38),l=i(63),c=i(1),u=i(2),h=i(10),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInstant=!1,e}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),this.canPlayBigWinAnimation()&&(this.getIncrementStatus(this.isIncrementing.bind(this)),this._isIncrementing)){this.getIncrementDuration(this.incrementDuration.bind(this)),this.winningsAnimationsProxy.hasToPlayBigWinAnimation=!0;var e=-1;if(this.winningsAnimationsProxy.bigWinLimit>0&&this._incrementWin/this._totalBet>=this.winningsAnimationsProxy.bigWinLimit)if(e=this.winningsAnimationsProxy.bigWinLimit*this._totalBet/(this._incrementWin/this._incrementDuration),this._incrementWin>=this.winningsAnimationsProxy.bigWinLimit*this._totalBet&&this._incrementWin<=(this.winningsAnimationsProxy.bigWinLimit+this.winningsAnimationsProxy.bigWinLimit/10)*this._totalBet)e-=25*e/100;var i=-1;if(this.winningsAnimationsProxy.fantasticWinLimit>0&&this._incrementWin/this._totalBet>=this.winningsAnimationsProxy.fantasticWinLimit)if(i=this.winningsAnimationsProxy.fantasticWinLimit*this._totalBet/(this._incrementWin/this._incrementDuration),this._incrementWin>=this.winningsAnimationsProxy.fantasticWinLimit*this._totalBet&&this._incrementWin<=(this.winningsAnimationsProxy.fantasticWinLimit+this.winningsAnimationsProxy.fantasticWinLimit/10)*this._totalBet)i-=25*i/100;var n=-1;if(this.winningsAnimationsProxy.ultraWinLimit>0&&this._incrementWin/this._totalBet>=this.winningsAnimationsProxy.ultraWinLimit)if(n=this.winningsAnimationsProxy.ultraWinLimit*this._totalBet/(this._incrementWin/this._incrementDuration),this._incrementWin>=this.winningsAnimationsProxy.ultraWinLimit*this._totalBet&&this._incrementWin<=(this.winningsAnimationsProxy.ultraWinLimit+this.winningsAnimationsProxy.ultraWinLimit/10)*this._totalBet)n-=25*n/100;var o=1;-1!=i&&o++,-1!=n&&o++,o>1&&(-1!=i&&(i=this._incrementDuration/o),-1!=n&&(n=i+this._incrementDuration/o)),this.sendNotification(u.Notifications.Winning.PREPARE_BIG_WIN_ANIMATION,{fantasticWinDelay:i,ultraWinDelay:n,bigWinDelay:e,isInstant:this.isInstant})}},e.prototype.initVars=function(){this.isInstant=!1,s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(c.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this._modulesProxy)&&(this._modulesProxy=this.retrieveGlobalProxy(c.Names.Proxies.MODULES,c.Names.Modules.GAME_SETUP)),this._modulesProxy.isAdded(c.Names.Modules.FREE_SPIN)&&s.isNil(this.freeSpinProxy)&&(this.freeSpinProxy=this.retrieveGlobalProxy(c.Names.Proxies.FREESPIN,c.Names.Modules.FREE_SPIN)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER))},e.prototype.getIncrementStatus=function(t){var e=r.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=r.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.sendGlobalNotification(u.Notifications.Increment.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this._isIncrementing=t==l.IncrementStatusNames.INCREMENTING},e.prototype.getIncrementDuration=function(t){var e=r.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=r.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.sendGlobalNotification(u.Notifications.Increment.GET_INCREMENT_DURATION,{incrementId:e,callback:t})},e.prototype.incrementDuration=function(t){this._incrementDuration=t},e.prototype.canPlayBigWinAnimation=function(){var t=this,e=!0,i=this.winningsAnimationsProxy.animationsSteps[0];if(s.isNil(i))return!1;if(s.each(i.lines,(function(t){t.featureRequests&&t.featureRequests.skipBigWinAnimation&&(e=!1)})),!e)return e;this._totalBet=this.moneyProxy.displayValues.totalBetInCoins,this.slotGameConfig.allWinValuesInCurrency&&(this._totalBet=this._totalBet*this.moneyProxy.displayValues.coinValue),this._incrementWin=i.totalStepWinValue,s.each(i.lines,(function(e){e.previousLine&&e.previousLine.excludeThisWin&&(t._incrementWin+=e.previousLine.winValue,t.isInstant=!0)}));var n=1;return this.validationProxy.validateAll(h.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&!s.isNil(this.freeSpinProxy)&&!s.isNil(this.freeSpinProxy.multiplier)&&this.freeSpinProxy.multiplier>0&&(n=this.freeSpinProxy.multiplier),this._incrementWin*n/this._totalBet>=this.winningsAnimationsProxy.bigWinLimit},e}(a.Controller);e.ManageBigWinAnimationCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.canPlayFiveOfAKind()&&this.sendGlobalNotification(l.Notifications.Winning.PLAY_FIVE_OF_A_KIND_ANIMATION)},e.prototype.initVars=function(){s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.canPlayFiveOfAKind=function(){if(!this.winningsAnimationsProxy.hasFiveOfAKind)return!1;if(this.slotGameConfig.hasWays)return!1;var t=this.winningsAnimationsProxy.animationsSteps[0];if(s.isNil(t))return!1;var e=!0;return s.each(t.lines,(function(t){t.featureRequests&&t.featureRequests.skipFiveOfAKindAnimation&&(e=!1)})),e?!this.winningsAnimationsProxy.hasToPlayBigWinAnimation&&(e=!1,s.each(t.lines,(function(t){var i=t.smallHighlight;i.length>0&&-1==i.indexOf("0")&&(e=!0)})),e):e},e}(a.Controller);e.ManageFiveOfAKindAnimationCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(174),r=i(3),l=i(17),c=i(1),u=c.Names.Layers,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initOther(),this.configDecorator(e.body.config),this.addingDecorator()},e.prototype.configDecorator=function(t){var e=[],i=[];s.each(t,(function(t,n){e.push(n);var o,a,r,l,c,u,h=[],p=[],d=[],_=[],f=[],y=[],m=[];s.each(t,(function(t){h.push(t.name),p.push(t.animationName),d.push(t.scaleX),_.push(t.scaleY),o=t.parentWidth/2,a=t.parentHeight/2,r=t.x/2,l=t.y/2,c=r-o/2,u=l-a/2,f.push(c),y.push(u),m.push(t.rotation)})),i.push({symbol:parseFloat(n),json:h,animation:p,scaleX:d,scaleY:_,offsetX:f,offsetY:y,rotation:m})})),this.slotGameConfig.addProperty("WINNINGS_ANIMATIONS_DECORATORS","AnimateSymbolSpineWinningsDecorator",{symbolsToAnimate:e.toString(),symbolAtlas:i},!1),this.slotGameConfig.getProperty("WINNINGS_ANIMATIONS_SETTINGS","useKeyOptimizedPool")&&i.length>0&&(this.symbolsAnimationsProxy.symbolAtlas=i)},e.prototype.addingDecorator=function(){this.viewFactory.hasDecorator("WinningsAnimationsView","AnimateSymbolSpineWinningsDecorator")||this.viewFactory.addDecorator("WinningsAnimationsView","AnimateSymbolSpineWinningsDecorator",a.AnimateSymbolSpineWinningsDecorator,u.WINNINGS_ANIMATIONS_OVERGROUND_FRAME)},e.prototype.initOther=function(){s.isNil(this.viewFactory)&&(this.viewFactory=l.ServiceLocator.instance().get("ViewFactory")),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveGlobalProxy(c.Names.Proxies.SYMBOL_ANIMATION,c.Names.Modules.WINNINGS))},e}(r.Controller);e.SendSpineWinConfigurationCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(35),r=i(20),l=PIXI.Container,c=PIXI.spine.Spine,u=function(t){function e(e,i,n,o,r){void 0===o&&(o=1);var l=t.call(this)||this;return l.events=[],l.name=e,l.spines=[],l.animations=n,l.loop=r,s.times(i.length,(function(t){l.setEvents(i[t].data,t);var e=new c(i[t].spineData);e.skeleton.setToSetupPose(),a.SpineManager.getInstance().setDefaultSkin(n[t],e),e.update(0),e.autoUpdate=!1,s.isEmpty(n[t])?e.state.setAnimation(0,e.spineData.animations[0].name,l.loop):e.state.setAnimation(0,n[t],l.loop),e.state.timeScale=o,l.spines.push(e),l.addChild(e)})),l}return o(e,t),e.prototype.setEvents=function(t,i){var n=this;s.each(this.animations,(function(o){var a=r.StringUtil.sprintf(e.EVENTS_PATH,o);s.has(t,a)&&(n.events[i]=s.get(t,a))}))},e.prototype.update=function(t){s.each(this.spines,(function(e){e.update(t)}))},e.prototype.resetAnimations=function(){var t=this;s.times(this.spines.length,(function(e){t.spines[e].state.setAnimation(0,t.animations[e],t.loop),t.spines[e].update(0)}))},e.prototype.getDuration=function(t){var e=this,i=0;return s.times(this.spines.length,(function(t){i=Math.max(i,e.spines[t].spineData.findAnimation(e.animations[t]).duration)})),i},Object.defineProperty(e.prototype,"onComplete",{set:function(t){var e,i=this,n=0;s.times(this.spines.length,(function(t){var o=i.spines[t].spineData.findAnimation(i.animations[t]);o.duration>n&&(n=o.duration,e=i.spines[t])})),e&&(e.state.clearListeners(),e.state.addListener({complete:function(e){return t(e.trackIndex,e.loopsCount())}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addListeners",{set:function(t){var e,i=this,n=0;s.times(this.spines.length,(function(t){var o=i.spines[t].spineData.findAnimation(i.animations[t]);o.duration>n&&(n=o.duration,e=i.spines[t])})),e&&(e.state.clearListeners(),e.state.addListener(t))},enumerable:!0,configurable:!0}),e.EVENTS_PATH="animations.{1}.events",e}(l);e.AnimateSymbolSpineContainer=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(175),o=i(0),s=function(){function t(t){this.spine=t,this.initDictionary(),this.initEvents()}return t.prototype.addEvent=function(t,e){this._ev[t].weakEvents.push(e)},t.prototype.addPersistentEvent=function(t,e){this._ev[t].persistentEvents.push(e)},t.prototype.removeEvent=function(t,e){var i=this._ev[t].weakEvents.indexOf(e);-1!=i&&this._ev[t].weakEvents.splice(i,1)},t.prototype.clearEvents=function(){this._ev[n.SpineEvent.start].weakEvents=[],this._ev[n.SpineEvent.end].weakEvents=[],this._ev[n.SpineEvent.dispose].weakEvents=[],this._ev[n.SpineEvent.interrupt].weakEvents=[],this._ev[n.SpineEvent.interrupt].weakEvents=[],this._ev[n.SpineEvent.event].weakEvents=[]},t.prototype.initDictionary=function(){this._ev={},this.addDictionaryType(n.SpineEvent.start),this.addDictionaryType(n.SpineEvent.end),this.addDictionaryType(n.SpineEvent.dispose),this.addDictionaryType(n.SpineEvent.interrupt),this.addDictionaryType(n.SpineEvent.complete),this.addDictionaryType(n.SpineEvent.event)},t.prototype.addDictionaryType=function(t){this._ev[t]={weakEvents:[],persistentEvents:[]}},t.prototype.initEvents=function(){var t=this;this.spine.state.addListener({start:function(e){t.callEvent(n.SpineEvent.start,e)}}),this.spine.state.addListener({end:function(e){t.callEvent(n.SpineEvent.end,e)}}),this.spine.state.addListener({dispose:function(e){t.callEvent(n.SpineEvent.dispose,e)}}),this.spine.state.addListener({interrupt:function(e){t.callEvent(n.SpineEvent.interrupt,e)}}),this.spine.state.addListener({complete:function(e){t.callEvent(n.SpineEvent.complete,e)}}),this.spine.state.addListener({event:function(e,i){t.callEvent(n.SpineEvent.event,e,i)}})},t.prototype.callEvent=function(t,e,i){this._ev.hasOwnProperty(t)&&(o.forEach(this._ev[t].persistentEvents,(function(t){t.call(null,e,i)})),o.forEach(this._ev[t].weakEvents,(function(t){t.call(null,e,i)})))},t}();e.SpineEventVO=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e){this._animationName=t,this._skinName=e,this._defaultSkinSet=!1}return Object.defineProperty(t.prototype,"animationName",{get:function(){return this._animationName},enumerable:!0,configurable:!0}),t.prototype.setDefaultSkin=function(t){this._defaultSkinSet||n.isNil(t.spineData.findAnimation(this._animationName))||""==this._skinName||(t.skeleton.setSkinByName(this._skinName),this._defaultSkinSet=!0)},t}();e.SpineSkinVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.animateNextStep()},e}(a.Controller);e.StartNextStepWinningsAnimationsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.onlyShowAll=e.body},e}(a.Controller);e.UpdateOnlyShowAllCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.showOneCycle=e.body},e}(a.Controller);e.UpdateShowOnlyOneCycleCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(83),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.WINNINGS_ANIMATIONS)),this.winningsAnimationsProxy.linesAnimations.length>0){var i=!1;s.some(this.winningsAnimationsProxy.linesAnimations,(function(t){return t.skipWinnings}))&&(i=!0);var n={};n.name=c.SlotEndGameDecisionNames.LINES,n.startNotification=l.Notifications.Winning.START_WINNINGS_ANIMATIONS,n.endNotification=l.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS,n.sendImmediatelyEndGameEnableUI=!0,e.body?this.winningsAnimationsProxy.showWinningsAtRestore?this.sendGlobalNotification(l.Notifications.SlotLogic.ADD_ENDGAME_ACTION,n):this.sendGlobalNotification(l.Notifications.SlotLogic.NO_REROUTE_ACTION,c.SlotEndGameDecisionNames.LINES):i?this.sendGlobalNotification(l.Notifications.SlotLogic.NO_REROUTE_ACTION,c.SlotEndGameDecisionNames.LINES):this.sendGlobalNotification(l.Notifications.SlotLogic.ADD_ENDGAME_ACTION,n)}else e.body?this.sendGlobalNotification(l.Notifications.SlotLogic.NO_REROUTE_ACTION,c.SlotEndGameDecisionNames.LINES):this.sendGlobalNotification(l.Notifications.SlotLogic.NO_ENDGAME_ACTION,c.SlotEndGameDecisionNames.LINES)},e}(a.Controller);e.WinningLinesCreatedCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(128),r=i(182),l=function(t){function e(e,i){var n=t.call(this,e)||this;return n.hasRegister=!1,n.viewComponent=i,n}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.addNotifications(),this.signalsManager||(this.signalsManager=r.Mvc.getInstance().signalsManager,this.viewComponent.signalsManager=this.signalsManager),this.addSignalListeners()},e.prototype.listNotificationInterests=function(){return s.map(this.notifications,"notificationName")},e.prototype.handleNotification=function(t){var e=s.find(this.notifications,{notificationName:t.name});e&&e.notificationHandler(t)},e.prototype.addNotifications=function(){},e.prototype.addNotification=function(t,e){this.notifications.push({notificationName:t,notificationHandler:e}),this.mvc.addNotification(t,this.currentScope,this)},e.prototype.removeNotification=function(t){var e=s.findIndex(this.notifications,{notificationName:t});-1!=e&&this.notifications.splice(e,1),this.mvc.unregisterNotification(t,this.currentScope)},e.prototype.dispatchSignal=function(t,e){this.signalsManager.dispatch(t,e)},e.prototype.addSignalListeners=function(){},e.prototype.addListenerToSignal=function(t,e,i,n,o){this.signalsManager.createBinding(t,e,i,this.viewComponent,n,o)},e.prototype.removeListener=function(t,e){this.signalsManager.removeListener(t,e)},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e}(a.MVCEntity);e.Mediator=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.Notification=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(43),l=i(20),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolsPool={},e}return o(e,t),e.prototype.addAnimationForSymbolToPool=function(t){var e=this.getKey(t.symbolId);s.isNil(this.symbolsPool[e])&&(this.symbolsPool[e]=[]),this.symbolsPool[e].push(t)},e.prototype.resetAnimationForSymbolToPool=function(t){var e=this.getKey(t);s.isNil(this.symbolsPool[e])||delete this.symbolsPool[e]},e.prototype.getAnimationForSymbol=function(t){var i=this.getKey(t);s.isNil(this.symbolsPool[i])&&(this.symbolsPool[i]=[]),0==this.symbolsPool[i].length&&this.sendNotification(r.WinningsAnimationsNotifications.GET_SYMBOL_ANIMATION_FROM_DECORATOR,{callback:this.addAnimationForSymbolToPool.bind(this),symbolId:t});var n=this.symbolsPool[i].pop(),o=this.getSymbolAtlas(t);return o&&(n.displayObject.animations=o[e.ANIMATION],n.symbolId=t,this.updateEvents(o,n),!s.isNil(o[e.SCALE_X])&&o[e.SCALE_X].length>0?n.displayObject.scale.x=o[e.SCALE_X][0]/2:o[e.SCALE_X]&&(n.displayObject.scale.x=o[e.SCALE_X]/2),!s.isNil(o[e.SCALE_Y])&&o[e.SCALE_Y].length>0?n.displayObject.scale.y=o[e.SCALE_Y][0]/2:o[e.SCALE_Y]&&(n.displayObject.scale.y=o[e.SCALE_Y]/2),!s.isNil(o[e.ROTATION])&&o[e.ROTATION].length>0?n.displayObject.rotation=o[e.ROTATION][0]:o[e.ROTATION]&&(n.displayObject.rotation=o[e.ROTATION])),n},e.prototype.updateEvents=function(t,i){var n=[];s.each(i.displayObject.animations,(function(i,o){var a=l.StringUtil.sprintf(e.SPINE_EVENTS_PATH,i);s.has(t,a)&&(n[o]=s.get(t,a))})),i.displayObject.events=n},e.prototype.getKey=function(t){var i=this.getSymbolAtlas(t);if(!i)return t.toString();var n=i[e.ANIMATION].length;return i[e.JSON][0]+n},e.prototype.getSymbolAtlas=function(t){return this.symbolAtlas&&s.find(this.symbolAtlas,(function(e){return e.symbol==t}))},e.JSON="json",e.ANIMATION="animation",e.SCALE_X="scaleX",e.SCALE_Y="scaleY",e.ROTATION="rotation",e.SPINE_EVENTS_PATH="atlasData.0.data.animations.{1}.events",e}(a.Proxy);e.SymbolAnimationProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numberOfRepeats=4,e}return o(e,t),e.prototype.postConstructor=function(e){void 0===e&&(e=!1),t.prototype.postConstructor.call(this,e),s.isNil(this.decoratorSettings)||s.isNil(this.decoratorSettings.numberOfRepeatsPerCycle)||(this.numberOfRepeats=this.decoratorSettings.numberOfRepeatsPerCycle)},e.prototype.doTransitionIn=function(t){this._display.addChild(t),t.scale.x=this._initialScales[t.name],t.scale.y=this._initialScales[t.name],t.alpha=1;var e=0;TweenMax.to(t,this._transitionInDuration,{delay:this._transitionInDelay,ease:this.getEaseFunction(this._transitionInEaseFunction),onComplete:this.doTransitionOut,onCompleteScope:this,onCompleteParams:[t],onRepeat:function(){t.alpha=e%2==0?0:1,e++},repeat:this.numberOfRepeats})},e.prototype.doTransitionOut=function(t){t.alpha=1,0!==this._transitionOutDuration?TweenLite.to(t,this._transitionOutDuration,{delay:this._transitionOutDelay,alpha:this._transitionOutAlpha,onComplete:this.announceAnimationCompleted,onCompleteScope:this,ease:this.getEaseFunction(this._transitionOutEaseFunction)}):this.symbolAnimationComplete()},e}(i(184).AnimateSymbolStaticWinningDecorator);e.BlinkAnimateStaticSymbolWinningsDecorator=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.validateObject=function(t,e){return n.every(e,n.partial(n.has,t))},t}();e.ObjectUtil=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(45),r=i(4),l=i(31),c=i(76),u=function(t){function e(e){var i=t.call(this,e)||this;return i.buttonDetails={},i._isEnabled=!0,i.initVars(),i.setEventHandlers(),i}return o(e,t),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=t,this.buttonMode=t,this.changeState(t?c.ButtonState.UP:c.ButtonState.DISABLED)},enumerable:!0,configurable:!0}),e.prototype.showButton=function(t){this.visible=t},e.prototype.enable=function(t){this.isEnabled=t,this.interactive=t||void 0},e.prototype.enableButton=function(t){void 0===t&&(t=!0),this.enable(t)},e.prototype.isVisible=function(){},e.prototype.initVars=function(){this._skin=new PIXI.Container,this._skin.name="button_skin",this.addChild(this._skin),this.interactive=!0,this.buttonMode=!0},e.prototype.setEventHandlers=function(){this.isEnabled&&(r.Device.instance().desktop&&(this.on(a.PointerStates.OVER,this.handlePointerOverGesture,this),this.on(a.PointerStates.OUT,this.handlePointerOutGesture,this)),this.on(a.PointerStates.DOWN,this.handlePointerDownGesture,this),this.on(a.PointerStates.UP,this.handlePointerUpGesture,this),this.on(a.PointerStates.CANCEL,this.handlePointerUpGesture,this),this.on(a.PointerStates.UP_OUTSIDE,this.handlePointerUpOutsideGesture,this))},e.prototype.handlePointerOverGesture=function(t){this.previousState=this.currentState,this.changeState(c.ButtonState.OVER)},e.prototype.handlePointerUpOutsideGesture=function(t){var e=r.Device.instance();!this._buttonDown||this.currentState!==c.ButtonState.DOWN||e.mobile||e.tablet||e.touch?this.changeState(c.ButtonState.UP):this.changeState(c.ButtonState.DOWN)},e.prototype.handlePointerOutGesture=function(t){this.currentState!==c.ButtonState.OVER&&this.currentState!==c.ButtonState.DOWN||(s.isNil(this.previousState)?this.changeState(c.ButtonState.UP):this.changeState(this.previousState))},e.prototype.handlePointerDownGesture=function(t){this.changeState(c.ButtonState.DOWN),this._buttonDown=!0,this.onDownHandler&&this.onDownHandler.call(this,this.buttonName,t,this.buttonDetails),this.stopClickPropagation&&t.stopPropagation()},e.prototype.handlePointerUpGesture=function(t){var e=r.Device.instance();e.mobile||e.tablet||e.touch?this.changeState(c.ButtonState.UP):this.changeState(c.ButtonState.OVER),this._buttonDown&&(this.onClickHandler&&this.onClickHandler.call(this,this.buttonName,t,this.buttonDetails),this._buttonDown=!1,this.stopClickPropagation&&t.stopPropagation())},e}(l.BaseComponent);e.AbstractButton=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(48),r=i(4),l=i(8),c=i(42),u=i(34),h=i(38),p=i(63),d=i(85),_=i(52),f=i(44),y=i(11),m=i(35),N=i(175),S=PIXI.particles.Emitter,g=PIXI.Point,A=PIXI.spine.Spine,E=PIXI.particles.AnimatedParticle,I=PIXI.Graphics,O=function(t){function e(e,i){void 0===i&&(i="");var n=t.call(this,e,i)||this;return n.BIG_WIN_STEP="big_win",n.MEGA_WIN_STEP="mega_win",n.ULTRA_WIN_STEP="ultra_win",n._skipped=!1,n._longestAnimationDuration=0,n._startBigWinAnimationDelay=2,n._startMegaWinAnimationDelay=4,n._startUltraWinAnimationDelay=6,n._stopBigWinAnimationDelay=3,n._stopBigWinAnimationDelayMin=1,n._stopBigWinAnimationDelayDefault=3,n._hasParticleSystem=!0,n._bigWinParticleSystemMaskOffset=200,n._bigWinParticleSystemPosition=new g(400,360),n._hasStartDelay=.5,n._startBigWinTimersTweenDelay=.5,n._fixedDuration=10,n._hasBigWinDelay=!1,n._hasLabelZoomInAnimation=!0,n._bigWinLabelTransitionInDuration=.75,n._bigWinLabelTransitionOutDuration=.3,n._transitionInDurationOffset=.5,n._decoratorActivated=!1,n._celebrationInProgress=!1,n._celebrationSkipped=!1,n._specialMessagesTrack=2,n._bigWinSpineJson="Special_messages",n._slotName="Special Messages",n._bigWinSpineAnimationIn="Big Win In",n._bigWinSpineAnimationLoop="Big Win Loop",n._bigWinSpineAnimationOut="Big Win Out",n._megaWinSpineAnimationIn="Mega Win In",n._megaWinSpineAnimationLoop="Mega Win Loop",n._megaWinSpineAnimationOut="Mega Win Out",n._ultraWinSpineAnimationIn="Ultra Win In",n._ultraWinSpineAnimationLoop="Ultra Win Loop",n._ultraWinSpineAnimationOut="Ultra Win Out",n._specialMessagesSpinePosition=new g(790,335),n._specialMessagesSpineInitialScale=.5,n._spineAnimationInSoundName="text_effect",n._hasScaleInAnimation=!1,n._spineAnimationScaleDuration=2,n._spineAnimationTransitionInScale=.7,n._spineAnimationTransitionInEase="Linear.easeIn",n._raysTrack=1,n._hasRaysSpineAnimation=!0,n._raysSpineAnimationIn="Rays In",n._raysSpineAnimationLoop="Rays Loop",n._raysSpineAnimationOut="Rays Out",n._characterTrack=0,n._hasCharacterSpineAnimation=!0,n._characterSpineAnimationIn="Character In",n._characterSpineAnimationLoop="Character Loop",n._characterSpineAnimationOut="Character Out",n._hasDarkBackground=!1,n._darkBackgroundFinalAlpha=.8,n._darkBackgroundOffsetPosition=new g(0,0),n._darkBackgroundOffsetSize=new g(0,0),n._incrementSoundName=y.SlotSoundNames.INCREMENT,n._incrementStopSoundName=y.SlotSoundNames.INCREMENT_STOP,n}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings&&(this.decoratorSettings.hasOwnProperty("bigWinParticleSystemPosition")&&"string"==typeof this.decoratorSettings.bigWinParticleSystemPosition&&(this._bigWinParticleSystemPosition.x=this.decoratorSettings.bigWinParticleSystemPosition.split(",").map(Number)[0],this._bigWinParticleSystemPosition.y=this.decoratorSettings.bigWinParticleSystemPosition.split(",").map(Number)[1]),this.decoratorSettings.hasOwnProperty("specialMessagesSpinePosition")&&(this._specialMessagesSpinePosition.x=this.decoratorSettings.specialMessagesSpinePosition.split(",").map(Number)[0],this._specialMessagesSpinePosition.y=this.decoratorSettings.specialMessagesSpinePosition.split(",").map(Number)[1]),this.decoratorSettings.hasOwnProperty("darkBackgroundOffsetPosition")&&(this._darkBackgroundOffsetPosition.x=this.decoratorSettings.darkBackgroundOffsetPosition.split(",").map(Number)[0],this._darkBackgroundOffsetPosition.y=this.decoratorSettings.darkBackgroundOffsetPosition.split(",").map(Number)[1]),this.decoratorSettings.hasOwnProperty("darkBackgroundOffsetSize")&&(this._darkBackgroundOffsetSize.x=this.decoratorSettings.darkBackgroundOffsetSize.split(",").map(Number)[0],this._darkBackgroundOffsetSize.y=this.decoratorSettings.darkBackgroundOffsetSize.split(",").map(Number)[1])),this._spineManager=m.SpineManager.getInstance()},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.PREPARE_BIG_WIN_ANIMATION,this.onPrepareBigWinAnimation.bind(this)),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.WINNINGS_INCREMENT_ENDED,this.onIncrementEnded.bind(this)),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.LONGEST_ANIMATION_DURATION,this.onLongestAnimationDuration.bind(this)),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,this.onCelebrationSkip.bind(this))},e.prototype.onDisplayReceived=function(e){if(t.prototype.onDisplayReceived.call(this,e),this.initBigWinAnimation(),this.initBigWinSpineAnimation(),this._hasDarkBackground){if(this._darkBackground=new PIXI.Graphics,this._darkBackground.beginFill(0),this.slotGameConfig.useMasterLayout&&r.Device.instance().mobile){var i=Math.max(l.SceneManager.SCENE_WIDTH,l.SceneManager.SCENE_HEIGHT);this._darkBackground.drawRect(-i/2,-i/2,2*i,2*i)}else this._darkBackground.drawRect(this._darkBackgroundOffsetPosition.x,this._darkBackgroundOffsetPosition.y,l.SceneManager.SCENE_WIDTH+this._darkBackgroundOffsetSize.x,l.SceneManager.SCENE_HEIGHT+this._darkBackgroundOffsetSize.y);this._darkBackground.endFill(),this._darkBackground.alpha=0}if(this.decoratorSettings.hasOwnProperty("maskParticles")&&0!=this.decoratorSettings.maskParticles&&r.Device.instance().mobile){if(this._bigWinParticleSystemMask=new I,this._bigWinParticleSystemMask.beginFill(16711680),this.slotGameConfig.useMasterLayout){i=Math.max(l.SceneManager.SCENE_WIDTH,l.SceneManager.SCENE_HEIGHT);var n=l.SceneManager.SCENE_HEIGHT-a.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT;this._bigWinParticleSystemMask.drawRect(-i/2,-this._bigWinParticleSystemMaskOffset,2*i,n+this._bigWinParticleSystemMaskOffset)}else this._bigWinParticleSystemMask.drawRect(this._darkBackgroundOffsetPosition.x,this._darkBackgroundOffsetPosition.y,l.SceneManager.SCENE_WIDTH+this._darkBackgroundOffsetSize.x,l.SceneManager.SCENE_HEIGHT+this._darkBackgroundOffsetSize.y);this._bigWinParticleSystemContainer.mask=this._bigWinParticleSystemMask}},e.prototype.onLongestAnimationDuration=function(t){this._longestAnimationDuration<t.duration&&(this._longestAnimationDuration=t.duration),this._hasStartDelay>0?this._startBigWinAnimationDelay=this._hasStartDelay:this._startBigWinAnimationDelay=this._longestAnimationDuration},e.prototype.initBigWinAnimation=function(){this._hasParticleSystem&&this.initBigWinAnimationParticleSystem()},e.prototype.initBigWinSpineAnimation=function(){var t=this,e={json:[this._bigWinSpineJson]};this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:e}),this.currentSpine=new A(e.atlasData[0].spineData),this.currentSpine.skeleton.setToSetupPose(),this._spineManager.addSpine(this.currentSpine),this._spineManager.addPersistentEvent(this.currentSpine,N.SpineEvent.start,(function(e){t.broadcastAction(f.WinningsDecoratorBroadcastActionNames.PLAY_SOUND_MASTER_LAYOUT,{animationName:e.animation.name,slotName:t._slotName})}))},e.prototype.initBigWinAnimationParticleSystem=function(){this._bigWinParticleSystemContainer=new PIXI.Container,this._bigWinParticleSystem=new S(this._bigWinParticleSystemContainer,[{textures:[{texture:c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_BIG_WIN_COIN_01),count:2},{texture:c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_BIG_WIN_COIN_02),count:2},{texture:c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_BIG_WIN_COIN_03),count:2},{texture:c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_BIG_WIN_COIN_04),count:1}],loop:!0}],{alpha:{start:1,end:1},scale:{start:.4,end:.8,minimumScaleMultiplier:1},color:{start:"#ffffff",end:"#fafafa"},speed:{start:350,end:300,minimumSpeedMultiplier:2.5},acceleration:{x:0,y:750},maxSpeed:0,startRotation:{min:220,max:320},noRotation:!1,rotationSpeed:{min:130,max:360},lifetime:{min:2,max:4},blendMode:"normal",frequency:.005,emitterLifetime:-1,maxParticles:50,pos:{x:this._bigWinParticleSystemPosition.x,y:this._bigWinParticleSystemPosition.y},addAtBack:!1,spawnType:"circle",spawnCircle:{x:1,y:1,r:20}}),this._bigWinParticleSystem.particleConstructor=E,this._bigWinParticleSystemTimer=Date.now(),this._bigWinParticleSystem.emit=!1,this.updateEmitter()},e.prototype.updateEmitter=function(){if(this._bigWinParticleSystem.emit){requestAnimationFrame(this.updateEmitter.bind(this));var t=Date.now();this._bigWinParticleSystem&&this._bigWinParticleSystem.update(.001*(t-this._bigWinParticleSystemTimer)),this._bigWinParticleSystemTimer=t}},e.prototype.onCelebrationStart=function(t){var e=this;t.body.bigWinNeedToShow&&(this.onPrepareBigWinAnimation(t),this._celebrationInProgress=!0,this._celebrationSkipped=!1,TweenLite.delayedCall(.5,(function(){e._celebrationInProgress&&!e._celebrationSkipped&&e.broadcastAction(f.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:e._incrementSoundName,loop:!0})})),this._bigWinCelebrationEndTween=TweenLite.delayedCall(t.body.duration,this.onCelebrationEnd.bind(this)))},e.prototype.onCelebrationSkip=function(t){this._celebrationSkipped||(this._celebrationSkipped=!0,this.onIncrementEnded(null),s.isNil(this._bigWinCelebrationEndTween)||TweenLite.killDelayedCallsTo(this._bigWinCelebrationEndTween.target),this._celebrationInProgress&&this.playIncrementStopSound(),this._celebrationInProgress=!1)},e.prototype.playIncrementStopSound=function(){this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:this._incrementSoundName}),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:this._incrementStopSoundName})},e.prototype.onCelebrationEnd=function(){this.playIncrementStopSound(),this.onIncrementEnded(null),this._celebrationInProgress=!1},e.prototype.onPrepareBigWinAnimation=function(t){this._decoratorActivated=!0,this._shouldPlayBigWin=!0,this._animationStarted=!1,this._prepareTime=Date.now(),this.startBigWinTimersTween&&TweenLite.killDelayedCallsTo(this.startBigWinTimersTween.target),this.startBigWinTimersTween=TweenLite.delayedCall(this._startBigWinTimersTweenDelay,this.startBigWinTimers.bind(this),[t]);var e=t.body;e.hasOwnProperty("isInstant")&&e.isInstant?this._spineAnimationScaleDuration=0:this._spineAnimationScaleDuration=3*this._fixedDuration},e.prototype.startBigWinTimers=function(t){(t=t.body).hasOwnProperty("isInstant")&&t.isInstant?this.playBigWinAnimationTween=TweenLite.delayedCall(.1,this.playBigWinAnimation.bind(this)):(t.bigWinDelay>0&&!0===this._hasBigWinDelay&&(this._startBigWinAnimationDelay=t.bigWinDelay),this.playBigWinAnimationTween=TweenLite.delayedCall(this._startBigWinAnimationDelay-.5,this.playBigWinAnimation.bind(this))),t.fantasticWinDelay>0&&(this._startMegaWinAnimationDelay=t.fantasticWinDelay,this.fadeOutBigWinTitleMegaTween=TweenLite.delayedCall(this._startMegaWinAnimationDelay-.5-this._bigWinLabelTransitionOutDuration,this.fadeOutBigWinTitle.bind(this)),this.playMegaWinTween=TweenLite.delayedCall(this._startMegaWinAnimationDelay-.5,this.playMegaWin.bind(this)),this._shouldPlayMegaWin=!0),t.ultraWinDelay>0&&(this._startUltraWinAnimationDelay=t.ultraWinDelay,this.fadeOutMegaTitleUltraTween=TweenLite.delayedCall(this._startUltraWinAnimationDelay-.5-this._bigWinLabelTransitionOutDuration,this.fadeOutBigWinTitle.bind(this)),this.playUltraWinTween=TweenLite.delayedCall(this._startUltraWinAnimationDelay-.5,this.playUltraWin.bind(this)),this._shouldPlayUltraWin=!0),this._currentAnimationStep=this.BIG_WIN_STEP},e.prototype.playBigWinAnimation=function(){(this._celebrationInProgress||(this.getIncrementStatus(this.isIncrementing.bind(this)),this._incrementing))&&(this.decoratorAnimationFinished=!1,this._animationStarted=!0,this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_STARTED),this.playTitleAnimation(),this.playBigWinAnimations())},e.prototype.playCharacterSpineAnimation=function(){var t=this._characterSpineAnimationIn,e=this._characterSpineAnimationLoop;this.currentSpine.state.setAnimation(this._characterTrack,t,!1),e&&this.currentSpine.state.addAnimation(this._characterTrack,e,!0,0)},e.prototype.playRaysSpineAnimation=function(){var t=this._raysSpineAnimationIn,e=this._raysSpineAnimationLoop;this.currentSpine.state.setAnimation(this._raysTrack,t,!1),e&&this.currentSpine.state.addAnimation(this._raysTrack,e,!0,0)},e.prototype.playSpecialMessagesSpineAnimation=function(){var t=this._bigWinSpineAnimationIn,e=this._bigWinSpineAnimationLoop;switch(this._currentAnimationStep){case this.MEGA_WIN_STEP:t=this._megaWinSpineAnimationIn,e=this._megaWinSpineAnimationLoop;break;case this.ULTRA_WIN_STEP:t=this._ultraWinSpineAnimationIn,e=this._ultraWinSpineAnimationLoop}TweenLite.killTweensOf(this.currentSpine),s.includes(this._display.children,this.currentSpine)||(this._display.addChild(this.currentSpine),this.currentSpine.position.x=this._specialMessagesSpinePosition.x,this.currentSpine.position.y=this._specialMessagesSpinePosition.y,this.currentSpine.scale.set(this._specialMessagesSpineInitialScale),this.currentSpine.autoUpdate=!0,this.currentSpine.autoUpdateTransform()),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:this._spineAnimationInSoundName}),this.currentSpine.state.setAnimation(this._specialMessagesTrack,t,!1),e&&(this._spineManager.addEvent(this.currentSpine,N.SpineEvent.complete,this.setSpecialMessagesSpineLooping.bind(this)),this.currentSpine.state.addAnimation(this._specialMessagesTrack,e,!0,0))},e.prototype.setSpecialMessagesSpineLooping=function(){this.playLabelZoomInAnimation(),this._spineManager.clearEvents()},e.prototype.removeCurrentSpineAnimation=function(){var t=this._bigWinSpineAnimationOut;switch(this._currentAnimationStep){case this.MEGA_WIN_STEP:t=this._megaWinSpineAnimationOut;break;case this.ULTRA_WIN_STEP:t=this._ultraWinSpineAnimationOut}this.currentSpine.state.setAnimation(this._specialMessagesTrack,t,!1)},e.prototype.getIncrementStatus=function(t){var e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this._incrementing=t==p.IncrementStatusNames.INCREMENTING},e.prototype.playMegaWin=function(){this._shouldPlayMegaWin=!1,this._animationStarted&&(this.fadeOutBigWinTitleMegaTween&&TweenLite.killDelayedCallsTo(this.fadeOutBigWinTitleMegaTween.target),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.FANTASTIC_WIN_ANIMATION_STARTED)),this._currentAnimationStep=this.MEGA_WIN_STEP,this.playSpecialMessagesSpineAnimation()},e.prototype.playUltraWin=function(){this._shouldPlayUltraWin=!1,this._animationStarted&&(this.fadeOutMegaTitleUltraTween&&TweenLite.killDelayedCallsTo(this.fadeOutMegaTitleUltraTween.target),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.ULTRA_WIN_ANIMATION_STARTED)),this._currentAnimationStep=this.ULTRA_WIN_STEP,this.playSpecialMessagesSpineAnimation()},e.prototype.playTitleAnimation=function(){var t=(Date.now()-this._prepareTime)/1e3;this._currentAnimationStep==this.BIG_WIN_STEP?this._startMegaWinAnimationDelay-t<this._bigWinLabelTransitionInDuration+this._transitionInDurationOffset&&this._shouldPlayMegaWin?(this._currentAnimationStep=this.MEGA_WIN_STEP,this.playMegaWinTween&&TweenLite.killDelayedCallsTo(this.playMegaWinTween.target),this.playMegaWin(),this._shouldPlayMegaWin=!1):this.playBigWinTitleAnimation():this._currentAnimationStep==this.MEGA_WIN_STEP&&this._startUltraWinAnimationDelay-t<this._bigWinLabelTransitionInDuration+this._transitionInDurationOffset&&this._shouldPlayUltraWin&&(this._currentAnimationStep=this.ULTRA_WIN_STEP,this.playUltraWinTween&&TweenLite.killDelayedCallsTo(this.playUltraWinTween.target),this.playUltraWin(),this._shouldPlayUltraWin=!1),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.PLAY_BIG_WIN_VOICE,this._currentAnimationStep)},e.prototype.playBigWinTitleAnimation=function(){this.playSpecialMessagesSpineAnimation(),this._hasScaleInAnimation&&(this._spineAnimationScaleInTween=TweenMax.to(this.currentSpine.scale,this._spineAnimationScaleDuration,{x:this._spineAnimationTransitionInScale,y:this._spineAnimationTransitionInScale,ease:this.getEaseFunction(this._spineAnimationTransitionInEase)}))},e.prototype.playLabelZoomInAnimation=function(){this._hasLabelZoomInAnimation&&(this._currentAnimationStep==this.BIG_WIN_STEP&&this._hasParticleSystem&&(this._bigWinParticleSystem.maxParticles=100),this._currentAnimationStep==this.MEGA_WIN_STEP&&this._hasParticleSystem&&(this._bigWinParticleSystem.maxParticles=200),this._currentAnimationStep==this.ULTRA_WIN_STEP&&this._hasParticleSystem&&(this._bigWinParticleSystem.maxParticles=300),this._skipped&&this._hasParticleSystem&&(this._bigWinParticleSystem.maxParticles=0))},e.prototype.playBigWinAnimations=function(){this._hasParticleSystem&&this.playParticleSystemAnimation(),this._hasDarkBackground&&this.fadeInDarkBackground(),this._hasRaysSpineAnimation&&this.playRaysSpineAnimation(),this._hasCharacterSpineAnimation&&this.playCharacterSpineAnimation()},e.prototype.fadeInDarkBackground=function(){this._darkBackground.alpha=0,this._display.addChildAt(this._darkBackground,0),TweenMax.to(this._darkBackground,this._bigWinLabelTransitionInDuration,{alpha:this._darkBackgroundFinalAlpha})},e.prototype.onIncrementEnded=function(t){if(this._shouldPlayBigWin){this._shouldPlayBigWin=!1,this.playBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.playBigWinAnimationTween.target),this._animationStarted||(this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_STARTED),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_CANCELED)),this.playMegaWinTween&&TweenLite.killDelayedCallsTo(this.playMegaWinTween.target),this._shouldPlayMegaWin&&this.playMegaWin(),this.playUltraWinTween&&TweenLite.killDelayedCallsTo(this.playUltraWinTween.target),this._shouldPlayUltraWin&&this.playUltraWin(),this.startBigWinTimersTween&&TweenLite.killDelayedCallsTo(this.startBigWinTimersTween.target),this.fadeOutBigWinTitleMegaTween&&TweenLite.killDelayedCallsTo(this.fadeOutBigWinTitleMegaTween.target),this.fadeOutMegaTitleUltraTween&&TweenLite.killDelayedCallsTo(this.fadeOutMegaTitleUltraTween.target),this._skipped||(this._skipped=!0),this._animationStarted?this._stopBigWinAnimationDelay=this._stopBigWinAnimationDelayDefault:this._stopBigWinAnimationDelay=this._stopBigWinAnimationDelayMin,this.stopBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.stopBigWinAnimationTween.target),this.stopBigWinAnimationTween=TweenLite.delayedCall(this._stopBigWinAnimationDelay,this.stopBigWinAnimation.bind(this));var e=this._stopBigWinAnimationDelay;this.fadeBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.fadeBigWinAnimationTween.target),this.fadeBigWinAnimationTween=TweenLite.delayedCall(e,this.fadeBigWinAnimation.bind(this)),this.playBigWinIncrementEndedSound(e),this._hasParticleSystem&&this.fadeOutParticleSystem()}},e.prototype.playBigWinIncrementEndedSound=function(t){this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.BIG_WIN_INCREMENT_ENDED,{fadeOutDelay:t})},e.prototype.fadeOutDarkBackground=function(){TweenMax.to(this._darkBackground,this._bigWinLabelTransitionOutDuration,{alpha:0})},e.prototype.fadeBigWinAnimation=function(){this.fadeOutBigWinTitle(),this._hasDarkBackground&&this.fadeOutDarkBackground(),this._hasRaysSpineAnimation&&this.currentSpine.spineData.findAnimation(this._raysSpineAnimationOut)&&this.currentSpine.state.setAnimation(this._raysTrack,this._raysSpineAnimationOut,!1),this._hasCharacterSpineAnimation&&this.currentSpine.spineData.findAnimation(this._characterSpineAnimationOut)&&this.currentSpine.state.setAnimation(this._characterTrack,this._characterSpineAnimationOut,!1)},e.prototype.fadeOutBigWinTitle=function(){this.removeCurrentSpineAnimation()},e.prototype.playParticleSystemAnimation=function(){this._display.addChildAt(this._bigWinParticleSystemContainer,0),this._bigWinParticleSystemMask&&this._display.addChild(this._bigWinParticleSystemMask),this._bigWinParticleSystemTimer=Date.now(),this._bigWinParticleSystem.emit=!0,this.updateEmitter()},e.prototype.fadeOutParticleSystem=function(){this._bigWinParticleSystem.maxParticles=0},e.prototype.stopParticleSystemAnimation=function(){this._display.removeChild(this._bigWinParticleSystemContainer),this._bigWinParticleSystem.cleanup(),this._bigWinParticleSystem.emit=!1},e.prototype.stopBigWinAnimation=function(){this._hasScaleInAnimation&&!s.isNil(this._spineAnimationScaleInTween)&&this._spineAnimationScaleInTween.kill(),this.stopBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.stopBigWinAnimationTween.target),this.fadeBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.fadeBigWinAnimationTween.target),this._animationStarted=!1,this.decoratorAnimationFinished=!0,this._hasParticleSystem&&this.stopParticleSystemAnimation(),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.BIG_WIN_ANIMATION_COMPLETED),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP),this.emptyDisplayForBigWin(),this._celebrationInProgress&&(this._celebrationInProgress=!1,this._bigWinCelebrationEndTween&&TweenLite.killDelayedCallsTo(this._bigWinCelebrationEndTween.target),this.playIncrementStopSound())},e.prototype.onStopAnimation=function(e){this._decoratorActivated&&(this._decoratorActivated=!1,this._longestAnimationDuration=0,this.playBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.playBigWinAnimationTween.target),this.playMegaWinTween&&TweenLite.killDelayedCallsTo(this.playMegaWinTween.target),this.playUltraWinTween&&TweenLite.killDelayedCallsTo(this.playUltraWinTween.target),this.stopBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.stopBigWinAnimationTween.target),this.startBigWinTimersTween&&TweenLite.killDelayedCallsTo(this.startBigWinTimersTween.target),this.fadeBigWinAnimationTween&&TweenLite.killDelayedCallsTo(this.fadeBigWinAnimationTween.target),this.fadeOutBigWinTitleMegaTween&&TweenLite.killDelayedCallsTo(this.fadeOutBigWinTitleMegaTween.target),this.fadeOutMegaTitleUltraTween&&TweenLite.killDelayedCallsTo(this.fadeOutMegaTitleUltraTween.target),this._skipped=!1,this.decoratorAnimationFinished=!0,this._shouldPlayBigWin=!1,this._shouldPlayMegaWin=!1,this._shouldPlayUltraWin=!1,this._incrementing=!1,this._animationStarted&&this.stopBigWinAnimation(),t.prototype.onStopAnimation.call(this,e))},e.prototype.emptyDisplayForBigWin=function(){this.currentSpine.state.clearTracks(),this._spineManager.clearEvents(),this.currentSpine.skeleton.setToSetupPose(),this._display.removeChild(this.currentSpine),this.currentSpine.autoUpdate=!1,t.prototype.emptyDisplay.call(this)},e}(d.AbstractWinningsDecorator);e.SpineBigWinAnimationDecorator=O},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.BIG_WIN="BigWinComponent",t.NEAR_MISS="NearMissComponent",t.INCREMENT="IncrementComponent",t}();e.SlotDTWinningsType=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(6),l=i(77),c=i(64),u=i(69),h=i(35),p=PIXI.Point,d=PIXI.spine.Spine,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._offset=new p(0,0),e._scale=new p(1,1),e._transitionInDuration=.2,e._transitionOutDuration=.2,e._decoratorSymbols=[],e._animationRunning=!1,e}return o(e,t),e.prototype.initVars=function(){if(t.prototype.initVars.call(this),!s.isNil(this.decoratorSettings)){if(s.has(this.decoratorSettings,"decoratorSymbols")&&(this._decoratorSymbols=this.decoratorSettings.decoratorSymbols.split(",")),s.has(this.decoratorSettings,"duration")&&(this._duration=this.decoratorSettings.duration),s.has(this.decoratorSettings,"offset")&&(this._offset.x=this.decoratorSettings.offset.split(",").map(Number)[0],this._offset.y=this.decoratorSettings.offset.split(",").map(Number)[1]),s.has(this.decoratorSettings,"scale")&&(this._scale.x=this.decoratorSettings.scale.split(",").map(Number)[0],this._scale.y=this.decoratorSettings.scale.split(",").map(Number)[1]),s.has(this.decoratorSettings,"spineJSON")&&(this._spineJSON={json:this.decoratorSettings.spineJSON,atlasData:null}),!s.has(this.decoratorSettings,"spineAnimationLoop"))throw new Error("You need to provide a spineAnimationLoop in your near miss decorator config");this._spineAnimationLoop=this.decoratorSettings.spineAnimationLoop,s.has(this.decoratorSettings,"spineAnimationIn")&&(this._spineAnimationIn=this.decoratorSettings.spineAnimationIn),s.has(this.decoratorSettings,"spineAnimationOut")&&(this._spineAnimationOut=this.decoratorSettings.spineAnimationOut)}e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0))},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.NEAR_MISS,this.onNearMiss.bind(this)),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.PLAY_NEAR_MISS_ANIMATION,this.onPlayNearMissAnimation.bind(this)),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,this.onStopNearMissAnimation.bind(this))},e.prototype.onAnimationConfig=function(e){t.prototype.onAnimationConfig.call(this,e),this._spineJSON&&this.broadcastAction(u.WheelDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:this._spineJSON}),this.initNearMissAnimation(),this.removeAnimation(),this.decoratorAnimationFinished=!0},e.prototype.onSpin=function(e){t.prototype.onSpin.call(this,e),this.nearMiss=!1,this.resetNearMiss(),this._stopAnimationTween&&this._stopAnimationTween.kill(),this.onStopNearMissAnimation(e)},e.prototype.onStop=function(e){t.prototype.onStop.call(this,e),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(u.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE)),this.decoratorAnimationFinished=!0},e.prototype.resetNearMiss=function(){e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0)),r.Log.info("resetNearMiss() - this.nearMissDelays : "+e.nearMissDelays),this.broadcastAction(u.WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS,e.nearMissDelays)},e.prototype.onResetAnimation=function(e){t.prototype.onResetAnimation.call(this,e),this.decoratorAnimationFinished=!0},e.prototype.initNearMissAnimation=function(){this._spineJSON&&(s.isNil(this._nearMissAnimation)&&(this._nearMissAnimation=new d(this._spineJSON.atlasData[0].spineData),this._nearMissAnimation.autoUpdate=!1),this._nearMissAnimation.scale.x=this._scale.x,this._nearMissAnimation.scale.y=this._scale.y,this._nearMissAnimation.y=a.SceneManager.getScreenHeight+this._nearMissAnimation.height,this.display.addChild(this._nearMissAnimation),h.SpineManager.getInstance().addSpine(this._nearMissAnimation))},e.prototype.onNearMiss=function(t){var i=this.slotGameConfig.wheelsCnt,n=Number(t.wheelID);this.wheel_id==n&&(this.nearMiss=!0,s.each(s.range(n,i),(function(i,n){e.nearMissDelays[i]+=t.delay})),r.Log.info("onNearMiss() - this.nearMissDelays : "+e.nearMissDelays),this.broadcastAction(u.WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS,e.nearMissDelays))},e.prototype.onPlayNearMissAnimation=function(t){if(s.has(t,"completeNearMiss"))this.doTransitionOut();else{var e=t.nearMissSymbol;if(-1==this._decoratorSymbols.indexOf(e.toString()))return;var i=t.wheelId;if(i==this.wheel_id){var n=this.getNearMissPosition(i);this.addAnimation(n),this._animationRunning=!0,this.decoratorAnimationFinished=!1}}},e.prototype.addAnimation=function(t){this.doTransitionIn(t),this._stopAnimationTween&&this._stopAnimationTween.kill()},e.prototype.getNearMissPosition=function(t){var e=new p;return e.x+=this._offset.x,e.y+=this._offset.y,r.Log.info("getNearMissPosition() - Wheel Id: "+t+" Position: "+e.x+", "+e.y),e},e.prototype.onStopNearMissAnimation=function(t){this._animationRunning?(this._stopAnimationTween&&this._stopAnimationTween.kill(),this.doTransitionOut(),this.decoratorAnimationFinished=!0):this.decoratorAnimationFinished=!0},e.prototype.doTransitionIn=function(t){var e=this;this._animationRunning||this.display.addChild(this._nearMissAnimation),this._nearMissAnimation.visible=!0,this._spineAnimationIn?(this._nearMissAnimation.alpha=1,this._nearMissCompleteListener={complete:function(){e._nearMissAnimation.state.removeListener(e._nearMissCompleteListener),e._nearMissAnimation.state.setAnimation(0,e._spineAnimationLoop,!0)}},this._nearMissAnimation.state.addListener(this._nearMissCompleteListener),this._nearMissAnimation.state.setAnimation(0,this._spineAnimationIn,!1)):(this.killTransitionTween(),this._nearMissAnimation.state.setAnimation(0,this._spineAnimationLoop,!0),this._nearMissAnimation.alpha=0,this._transitionTween=TweenMax.to(this._nearMissAnimation,this._transitionInDuration,{alpha:1})),h.SpineManager.getInstance().addSpine(this._nearMissAnimation),this._nearMissAnimation.x=t.x,this._nearMissAnimation.y=t.y},e.prototype.killTransitionTween=function(){this._transitionTween&&this._transitionTween.isActive()&&this._transitionTween.kill()},e.prototype.doTransitionOut=function(){var t=this;this._spineAnimationOut?(this._nearMissCompleteListener={complete:function(){t._nearMissAnimation.state.removeListener(t._nearMissCompleteListener),t.onTransitionOutComplete()}},this._nearMissAnimation.state.addListener(this._nearMissCompleteListener),this._nearMissAnimation.state.setAnimation(0,this._spineAnimationOut,!1)):(this.killTransitionTween(),this._transitionTween=TweenMax.to(this._nearMissAnimation,this._transitionOutDuration,{alpha:0,onComplete:function(){t.onTransitionOutComplete()}})),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0)},e.prototype.onTransitionOutComplete=function(){this.removeAnimation(),this._animationRunning=!1,this._nearMissAnimation.visible=!1},e.prototype.removeAnimation=function(){this._nearMissAnimation&&(this.display.removeChild(this._nearMissAnimation),h.SpineManager.getInstance().removeSpine(this._nearMissAnimation))},e}(l.AbstractWheelDecorator);e.NearMissSpineWheelDecorator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(183),a=i(43),r=i(2),l=i(28),c=i(0),u=i(1),h=i(49),p=i(6),d=i(9),_=i(4),f=PIXI.Point,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){var e=this;t.prototype.onRegister.call(this);var i=this.settings.getValue(h.MegawaysWinningsAnimationNames.BIG_WIN_THRESHOLDS);if(i){var n=this.settings.getValue(d.MegawaysNames.GAME_CONFIG),o=n.getProperty(d.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,h.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR);c.isNil(o)&&(o={states:[]}),c.isNil(o.states)&&(o.states=[]),c.isNil(o.hasDarkBackground)&&(o.hasDarkBackground=!0),c.isNil(o.darkBackgroundFinalAlpha)&&(o.darkBackgroundFinalAlpha=.5),c.isNil(o.celebrationDelay)&&(o.celebrationDelay=.5),c.isNil(o.transitionInDuration)&&(o.transitionInDuration=.5),c.isNil(o.transitionOutDuration)&&(o.transitionOutDuration=.5);var s=this.retrieveGlobalProxy(u.Names.Proxies.MASTER_LAYERS,u.Names.Modules.GAME_SETUP),a=_.Device.instance().mobile?s.getSceneData(h.MegawaysWinningsAnimationNames.MAIN_LAYOUT_MOBILE_LANDSCAPE):s.getSceneData(h.MegawaysWinningsAnimationNames.MAIN_LAYOUT_DESKTOP);a||p.Log.error("Could not find main scene data");var r=c.find(a.bones,(function(t){return t.name==h.MegawaysWinningsAnimationNames.WIN_ANIMATIONS}));i.forEach((function(t,i){o.states.push(e.getBigWinState(i,t,r))}));var l=c.find(r.children,(function(t){return t.name==h.MegawaysWinningsAnimationNames.BACKGROUND}));l&&(o.backgroundAnimations=new Map,l.children.forEach((function(t){var e=t.getAttachment;o.backgroundAnimations.set(t.name.split("!")[0],e)})));var y=c.find(a.bones,(function(t){return t.name==h.MegawaysWinningsAnimationNames.PARTICLES}));y&&(o.particles=[],y.children.forEach((function(t){o.particles.push(t.name)})),o.particlesConfig||(o.particlesConfig={position:new f(792,360)}),c.isNil(o.particlesConfig.maskYOffset)&&(o.particlesConfig.maskYOffset=200),c.isNil(o.particlesConfig.maskHeightOffset)&&(o.particlesConfig.maskHeightOffset=200),c.isNil(o.particlesConfig.hasMask)&&(o.particlesConfig.hasMask=!0)),n.addProperty(d.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,h.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR,o)}},e.prototype.getBigWinState=function(t,e,i){var n={threshold:e,animations:new Map},o=c.find(i.children,(function(e){return e.name==h.MegawaysWinningsAnimationNames.WIN_THRESHOLDS+(t+1)}));return o&&o.children.forEach((function(t){var e=t.getAttachment;n.animations.set(t.name.split("!")[0],e)})),n},e.prototype.animateNextStep=function(){if(!c.isNil(this.animationsSteps)){this._currentAnimationStepIndex++;var t=!1;if(this._currentAnimationStepIndex>=this.animationsSteps.length&&(this._currentAnimationStepIndex=0,this.fullCycleComplete||(this.fullCycleComplete=!0,t=!0)),this.sendGlobalNotification(a.WinningsAnimationsNotifications.ANIMATION_STEP_STOPPED,{resetAnimation:this.showOneCycle&&t}),t)return this.sendGlobalNotification(l.MegawaysNotifications.SYMBOLS_REMOVE_FINISHED),this.sendNotification(a.WinningsAnimationsNotifications.FULL_CYCLE_COMPLETE),void this.sendGlobalNotification(r.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS);this.sendGlobalNotification(a.WinningsAnimationsNotifications.ANIMATION_STEP_STARTED,{animationStep:this.animationsSteps[this._currentAnimationStepIndex]}),t&&this.sendGlobalNotification(r.Notifications.Winning.FULL_CYCLE_COMPLETE_WINNINGS_ANIMATIONS)}},e.prototype.addOrReplaceLineAnimation=function(t){this.initVars();var e=!1;this.megawaysProxy.cascadeStage<this.megawaysProxy.cascadeStates.length-1&&(t.skipIncrement=!1),this.linesAnimations||(this.linesAnimations=new Array);var i=c.findIndex(this.linesAnimations,(function(e){return e.type==t.type&&e.id==t.id}));if(i>-1){var n=this.linesAnimations[i];this.linesAnimations[i]=t,t.previousLine=n,e=!0}e||this.linesAnimations.push(t)},e.prototype.initVars=function(){this.megawaysProxy||(this.megawaysProxy=this.retrieveGlobalProxy(d.MegawaysNames.MEGAWAYS_PROXY,d.MegawaysNames.MEGAWAYS_WHEELS_MODULE))},e}(s.WinningsAnimationsProxy);e.MegawaysWinningsAnimationProxy=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(171).CreateWinningLinesCommand);e.MegawaysCreateWinningLinesCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(170),a=i(0),r=i(9),l=i(62),c=i(49),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SHOW_ALL_WAYS_WAYS="showAllWaysWays",e.SHOW_ALL_WAY_WAY="showAllWayWay",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this._animationsSteps=[],this._linesAnimations=this.winningsAnimationsProxy.linesAnimations;var e=this.getExclusiveLine();e?this.createStep(e):!a.isNil(this._linesAnimations)&&this._linesAnimations.length>0&&this.createShowAllStep(),this.winningsAnimationsProxy.animationsSteps=this._animationsSteps},e.prototype.getShowAllFullHighlight=function(t){var e=a.times(this.slotGameConfig.wheelsCnt*this.megawaysProxy.maxRowsPerWheel,a.constant(0));return a.each(t,(function(t){t.excludeThisWin||a.each(t.highlight,(function(t,i){1==t&&(e[i]=1)}))})),e},e.prototype.initVars=function(){if(t.prototype.initVars.call(this),a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),!this.bigWinData){var e=this.settings.getValue(r.MegawaysNames.GAME_CONFIG);this.bigWinData=e.getProperty(r.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,c.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR)}},e.prototype.getShowAllMessage=function(){var t=this,e="",i=0,n="",o=0,s=0;a.each(this._linesAnimations,(function(a,r){a.type==l.WinningTypes.LINE?(t.slotGameConfig.allWinValuesInCurrency?s+=t.moneyProxy.getClientValue(a.winValueMoney,!1):s+=a.winValue,a.id>=0&&(n+=""==n?a.id+1:t.COMMA+(a.id+1),o+=a.id)):(i>0&&(e+=t.COMMA),""!=a.showAllMessage&&(e+=a.showAllMessage,i++))}));this.settings.getValue(this.TOKENUSE);var r=this.moneyProxy.displayValues.decimalsCount;this.moneyProxy.decimalsCount=0;var c=this.moneyProxy.getStringValueFrom(s);if(this.moneyProxy.decimalsCount=r,s>0){var u=s/this.moneyProxy.displayValues.totalBetInCoins,h=this.bigWinData.states.reduce((function(t,e,i){return u>=e.threshold?Math.max(t,i):t}),-1);i>0&&(e+=this.COMMA),e+=o+this.SPACE,h>=0&&!a.isNil(this.translations.getValue(this.SHOW_ALL_WAYS_WAYS))?1!=o||a.isNil(this.translations.getValue(this.SHOW_ALL_WAY_WAY))?e+=this.translations.getValue(this.SHOW_ALL_WAYS_WAYS):e+=this.translations.getValue(this.SHOW_ALL_WAY_WAY):1!=o||a.isNil(this.translations.getValue(this.SHOW_ALL_WAY))?e+=this.translations.getValue(this.SHOW_ALL_WAYS,c):e+=this.translations.getValue(this.SHOW_ALL_WAY,c)}return e},e}(s.CreateAnimationStepsCommand);e.MegawaysCreateAnimationStepsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(43),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolsPool=new Map,e}return o(e,t),e.prototype.addAnimationForSymbolToPool=function(t){var e=this.getKey(t.symbolId,t.size);this.symbolsPool.has(e)||this.symbolsPool.set(e,[]),this.symbolsPool.get(e).push(t)},e.prototype.resetAnimationForSymbolToPool=function(t,e){var i=this.getKey(t,e);this.symbolsPool.has(i)&&this.symbolsPool.delete(i)},e.prototype.getAnimationForSymbol=function(t,e){var i=this.getKey(t,e);this.symbolsPool.has(i)||this.symbolsPool.set(i,[]),0==this.symbolsPool.get(i).length&&this.sendNotification(r.WinningsAnimationsNotifications.GET_SYMBOL_ANIMATION_FROM_DECORATOR,{callback:this.addAnimationForSymbolToPool.bind(this),symbolId:t,size:e});var n=this.symbolsPool.get(i).pop(),o=this.getSymbolAtlas(t,e);return o&&(n.displayObject.animations=o.animation,n.symbolId=t,n.size=e),n},e.prototype.getKey=function(t,e){var i=this.getSymbolAtlas(t,e);if(!i)return t.toString();var n=i.animation.length;return i.json[0]+n},e.prototype.getSymbolAtlas=function(t,e){return this.symbolAtlas&&s.find(this.symbolAtlas,(function(i){return i.symbol==t&&i.size==e}))},e}(a.Proxy);e.MegawaysSymbolAnimationProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),a.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveProxy(r.Names.Proxies.SYMBOL_ANIMATION));var i=e.body,n=this.symbolsAnimationsProxy.getAnimationForSymbol(i.symbolId,i.size);i.callback.call(null,n,i.callbackParams)},e}(s.Controller);e.MegawaysGetSymbolAnimationCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(9),l=i(5),c=i(2),u=i(1),h=i(28),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.megawaysProxy.cascadeStage++,this.megawaysProxy.cascadesFinished||(this.connectionProxy.removeCascadeState(),this.endGameProxy.resetEndGameActions(),this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,l.States.END_GAME),this.sendGlobalNotification(c.Notifications.Global.PREPARE_GMAPI_RESPONSE),this.sendGlobalNotification(h.MegawaysNotifications.DO_CASCADE_SPIN))},e.prototype.initVars=function(){a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(u.Names.Proxies.CONNECTION,u.Names.Modules.CONNECTION)),a.isNil(this.endGameProxy)&&(this.endGameProxy=this.retrieveGlobalProxy(u.Names.Proxies.END_GAME,u.Names.Modules.SLOT_LOGIC))},e}(s.Controller);e.MegawaysSymbolsRemoveDoneCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(180),a=i(0),r=i(9),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getSymbolsToHide=function(){return a.times(this.megawaysProxy.maxRowsPerWheel*this.slotGameConfig.columnsCnt,a.constant(0))},e.prototype.initVars=function(){t.prototype.initVars.call(this),a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE))},e}(s.StopAnimateStepWinningsAnimationsCommand);e.MegawaysStopAnimateStepWinningsAnimationCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(9),l=i(2),c=i(1),u=i(49),h=i(66),p=i(5),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.toggleValidation(h.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!1),this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,p.States.END_GAME_DECISION)},e.prototype.initVars=function(){if(a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),a.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),this.megawaysWinningsSettings||(this.megawaysWinningsSettings=this.settings.getValue(r.MegawaysNames.GAME_CONFIG).getProperty(r.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,r.MegawaysNames.WINNINGS_CASCADE_SETTINGS)),!this.bigWinData){var t=this.settings.getValue(r.MegawaysNames.GAME_CONFIG);this.bigWinData=t.getProperty(r.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,u.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR)}a.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER))},e}(s.Controller);e.MegawaysEndCascadesCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(166),a=i(62),r=i(2),l=i(0),c=i(9),u=i(65),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.startIncrement=function(){var t=this,e=this.winningsAnimationsProxy.animationsSteps[0],i=0,n=0,o=-1,s=-1,c=!1;if(!l.isNil(e)){var h=!1;if(l.each(e.lines,(function(e){e.skipIncrement?h=!0:(e.excludeThisWin||e.type===a.WinningTypes.PROGRESSIVE&&!e.showOnlyThisWin?(i+=e.winValue,n+=t.moneyProxy.getClientValue(e.winValueMoney,!1)):e.previousLine&&e.previousLine.excludeThisWin&&(i+=e.previousLine.winValue,n+=t.moneyProxy.getClientValue(e.previousLine.winValueMoney,!1)),e.showOnlyThisWin&&(o=e.winValue,s=t.moneyProxy.getClientValue(e.winValueMoney,!1)),e.incrementHasMaxDuration&&(c=!0))})),!h){var p=-1;if(this.winningsAnimationsProxy.isCascadeWin){this.sendGlobalNotification(r.Notifications.Global.UPDATE_USER_INTERFACE,u.MegawaysUiBehavior.CASCADE_DROP),p=this.megawaysWinningsSettings.cascadeIncrementDuration,i=0,n=0;for(var d=0;d<this.megawaysProxy.cascadeStage;d++)i+=parseInt(this.megawaysProxy.cascadeStates[d].winnings),n+=parseInt(this.megawaysProxy.cascadeStates[d].winningsMoney);o=i+parseInt(this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].winnings),s=n+parseInt(this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].winningsMoney),n=this.moneyProxy.getClientValue(n,!1),s=this.moneyProxy.getClientValue(s,!1)}this.sendGlobalNotification(r.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(r.Notifications.Increment.START_WINNINGS_INCREMENT,{startWinningsIncrementCoins:i,startWinningsIncrementMoney:n,endWinningsIncrementCoins:o,endWinningsIncrementMoney:s,hasMaxDuration:c,duration:p})}}},e.prototype.initVars=function(){if(t.prototype.initVars.call(this),!this.megawaysWinningsSettings){var e=this.settings.getValue(c.MegawaysNames.GAME_CONFIG);this.megawaysWinningsSettings=e.getProperty(c.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,c.MegawaysNames.WINNINGS_CASCADE_SETTINGS)}l.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(c.MegawaysNames.MEGAWAYS_PROXY,c.MegawaysNames.MEGAWAYS_WHEELS_MODULE))},e}(s.StartWinningsAnimationsCommand);e.MegawaysStartWinningsAnimationsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(403).StaticLineWinAnimationDecorator);e.MegawaysStaticLineWinAnimationDecorator=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(189),r=i(99),l=i(15),c=i(42),u=i(34),h=i(38),p=i(63),d=i(85),_=i(52),f=i(44),y=PIXI.Point,m=function(t){function e(e,i){void 0===i&&(i="");var n=t.call(this,e,i)||this;return n._backgroundContainerScaleX=1,n._backgroundContainerScaleY=1,n._hasWinValueBackground=!0,n._winValueBackgroundAlpha=1,n._bitmapInitialScale=.5,n._commaPercent=1,n._digitPercent=1,n._transitionInDelay=.5,n._transitionOutDelay=1.5,n._transitionInDuration=.2,n._transitionOutDuration=.2,n._transitionInEaseFunction="Linear.easeIn",n._transitionOutEaseFunction="Linear.easeIn",n._transitionInScale=1,n._transitionOutScale=1,n._transitionInAlpha=1,n._transitionOutAlpha=0,n._hasFixedPosition=!0,n._winValueFixedPosition=new y(400,250),n._linesSymbolPositions=[],n._startSymbolPosition=0,n._cycle=!1,n._longestAnimationDuration=0,n._maxValueWidth=700,n._transitionInScaleSetting=1,n._transitionOutScaleSetting=1,n}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings&&this.decoratorSettings.hasOwnProperty("winValueFixedPosition")&&"string"==typeof this.decoratorSettings.winValueFixedPosition&&(this._winValueFixedPosition.x=this.decoratorSettings.winValueFixedPosition.split(",").map(Number)[0],this._winValueFixedPosition.y=this.decoratorSettings.winValueFixedPosition.split(",").map(Number)[1]),this.decoratorSettings&&this.decoratorSettings.hasOwnProperty("startDelay")&&(this._transitionInDelay=this.decoratorSettings.startDelay),this.decoratorSettings&&this.decoratorSettings.hasOwnProperty("backgroundContainerScale")&&(this._backgroundContainerScaleX=this._backgroundContainerScaleY=this.decoratorSettings.backgroundContainerScale)},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(_.WinningsDecoratorInjectActionNames.LONGEST_ANIMATION_DURATION,this.onLongestAnimationDuration.bind(this))},e.prototype.onAnimationConfig=function(e){if(t.prototype.onAnimationConfig.call(this,e),!this._hasFixedPosition){this._linesSymbolPositions=[];var i=void 0;for(i=0;i<this.linesConfig.length;i++){var n=this.linesConfig[i].split("").map(Number),o=new y,s=(n[this._startSymbolPosition]-1)*this.slotGameConfig.wheelsCnt+this._startSymbolPosition;o.x=this.slotGameConfig.symbolsPositions[s].x+this._offset.x+this.wheelAnimationConfig.symbolWidth/2,o.y=this.slotGameConfig.symbolsPositions[s].y+this._offset.y,this._linesSymbolPositions.push(o)}}},e.prototype.onDisplayReceived=function(e){t.prototype.onDisplayReceived.call(this,e),this._bitmapValueContainer=new PIXI.Container,this._bitmapValueContainer.name="BitmapValueContainer",this._bitmapValue=new r.BitmapValue(this._bitmapValueContainer,this._bitmapInitialScale,this._digitPercent,this._commaPercent),this._hasWinValueBackground&&this.createResizableBackground()},e.prototype.createResizableBackground=function(){var t=new PIXI.Sprite(l.TextureUtil.instance().getTextureFromCache(c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_LEFT)));t.name=c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_LEFT);var e=new PIXI.Sprite(l.TextureUtil.instance().getTextureFromCache(c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE)));e.name=c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE);var i=new PIXI.Sprite(l.TextureUtil.instance().getTextureFromCache(c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_RIGHT)));i.name=c.VisualAssetsMap.instance().getVisualAsset(u.VisualAssetsNames.WIN_VALUE_BACKGROUND_RIGHT),this._backgroundContainer=new PIXI.Container,this._backgroundContainer.name="WinValueBackgroundContainer",this._background=new a.ResizableBackground(this._backgroundContainer,t,e,i),this._backgroundContainer.scale.x=this._backgroundContainerScaleX,this._backgroundContainer.scale.y=this._backgroundContainerScaleY},e.prototype.onStartAnimation=function(e){if(t.prototype.onStartAnimation.call(this,e),this.getIncrementStatus(this.isIncrementing.bind(this)),!this._incrementing&&(!this._fullCycleComplete||this._cycle)){var i=e.animationStep;s.isNil(i)||this.animateBitmapValue(i.totalStepWinValue,i.lines[0].id)}},e.prototype.animateWinValueBackground=function(){this._backgroundContainer.alpha=0,this._background.updateWidth(2.2*this._bitmapValueContainer.width),this._background.updateHeight(2.2*this._bitmapValueContainer.height),this._backgroundContainer.pivot.x=this._backgroundContainer.width/this._backgroundContainerScaleX/2,this._backgroundContainer.pivot.y=this._backgroundContainer.height/this._backgroundContainerScaleY/2,this._backgroundContainer.x=this._bitmapValueContainer.x,this._backgroundContainer.y=this._bitmapValueContainer.y,this._display.addChildAt(this._backgroundContainer,0),this._valueBackgroundTween=TweenLite.to(this._backgroundContainer,this._transitionInDuration,{alpha:this._winValueBackgroundAlpha,delay:this._transitionInDelay})},e.prototype.onStopAnimation=function(e){this._longestAnimationDuration=0,this._bitmapTween&&(this._bitmapTween.kill(),this.removeBitmapValue()),this._valueBackgroundTween&&this._valueBackgroundTween.kill(),t.prototype.onStopAnimation.call(this,e)},e.prototype.onLongestAnimationDuration=function(t){this._longestAnimationDuration<t.duration&&(this._longestAnimationDuration=t.duration),this._transitionOutDelay=this._longestAnimationDuration-2*this._transitionOutDuration},e.prototype.startAnimation=function(){this._display.addChild(this._bitmapValueContainer)},e.prototype.getIncrementStatus=function(t){var e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this._incrementing=t==p.IncrementStatusNames.INCREMENTING},e.prototype.animateBitmapValue=function(t,e,i){if(void 0===i&&(i=""),!(t<=0)){var n=this._bitmapValueContainer.width;this._bitmapValueContainer.width>this._maxValueWidth?(this._transitionInScale=this._maxValueWidth/n,this._transitionOutScale=this._maxValueWidth/n):(this._transitionInScale=this._transitionInScaleSetting,this._transitionOutScale=this._transitionOutScaleSetting),this._bitmapValueContainer.scale.x=this._bitmapValueContainer.scale.y=this._transitionOutScale,this.updateBitmapValue(t,e,i),this._hasWinValueBackground&&this.animateWinValueBackground(),this._bitmapTween=TweenLite.to(this._bitmapValueContainer,this._transitionInDuration,{onStart:this.startAnimation.bind(this),delay:this._transitionInDelay,alpha:this._transitionInAlpha,pixi:{scaleX:this._transitionInScale,scaleY:this._transitionInScale},ease:this.getEaseFunction(this._transitionInEaseFunction),onComplete:this.transitionOut.bind(this)})}},e.prototype.transitionOut=function(){this._hasWinValueBackground&&(this._valueBackgroundTween=TweenLite.to(this._backgroundContainer,this._transitionOutDuration,{alpha:0,delay:this._transitionOutDelay})),this._bitmapTween=TweenLite.to(this._bitmapValueContainer,this._transitionOutDuration,{onStart:this.onTransitionOutStart.bind(this),delay:this._transitionOutDelay,alpha:this._transitionOutAlpha,pixi:{scaleX:this._transitionOutScale,scaleY:this._transitionOutScale},ease:this.getEaseFunction(this._transitionOutEaseFunction),onComplete:this.removeBitmapValue.bind(this)})},e.prototype.onTransitionOutStart=function(){this.broadcastAction(f.WinningsDecoratorBroadcastActionNames.START_HIDE_INCREMENT)},e.prototype.updateBitmapValue=function(t,e,i){void 0===i&&(i="");var n=0;this.slotGameConfig.allWinValuesInCurrency&&(n=2),this._bitmapValue.updateBitmapValue(t,i,n),this._hasFixedPosition||e<0?(this._bitmapValueContainer.x=this._winValueFixedPosition.x,this._bitmapValueContainer.y=this._winValueFixedPosition.y):(this._bitmapValueContainer.x=this._linesSymbolPositions[e].x,this._bitmapValueContainer.y=this._linesSymbolPositions[e].y)},e.prototype.removeBitmapValue=function(){this._bitmapValue.resetBitmapValue(),this._display.removeChild(this._bitmapValueContainer),this._display.removeChild(this._backgroundContainer)},e}(d.AbstractWinningsDecorator);e.StaticLineWinAnimationDecorator=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(173),a=i(9),r=i(0),l=i(39),c=i(5),u=i(2),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initCascadesSettings(),this.injectStatesIntoFSM(),this.sendGlobalNotification(u.Notifications.SlotLogic.NO_ENDGAME_ACTION,a.MegawaysNames.CASCADE_SUMMARY_END_GAME_DECISION)},e.prototype.initDecoratorSettings=function(){},e.prototype.initCascadesSettings=function(){var t=this.slotGameConfig.getProperty(a.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,a.MegawaysNames.WINNINGS_CASCADE_SETTINGS);r.isNil(t)&&(t={},this.slotGameConfig.addProperty(a.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,a.MegawaysNames.WINNINGS_CASCADE_SETTINGS,t)),r.isNil(t.cascadeIncrementDuration)&&(t.cascadeIncrementDuration=.5),r.isNil(t.winFeedbackMinThreshhold)&&(t.winFeedbackMinThreshhold=2),r.isNil(t.winFeedbackIncrementThreshhold)&&(t.winFeedbackIncrementThreshhold=6),r.isNil(t.winFeedbackBigWinThreshhold)&&(t.winFeedbackBigWinThreshhold=10),r.isNil(t.winDurationRatio)&&(t.winDurationRatio=2),r.isNil(t.winDurationMax)&&(t.winDurationMax=15)},e.prototype.injectStatesIntoFSM=function(){var t=[];t.push(new l.StateVO(a.MegawaysNames.CASCADES_SUMMARY_STATE,a.MegawaysNames.CASCADES_SUMMARY_STATE,[c.States.END_GAME_DECISION,c.States.END_GAME_ENABLE_UI])),t.push(new l.StateVO(c.States.END_GAME_DECISION,c.States.END_GAME_DECISION,[a.MegawaysNames.CASCADES_SUMMARY_STATE])),t.push(new l.StateVO(c.States.BEGIN_GAME,c.States.BEGIN_GAME,[a.MegawaysNames.CASCADES_SUMMARY_STATE])),t.push(new l.StateVO(c.States.AUTO_PLAY_BEGIN_GAME,c.States.AUTO_PLAY_BEGIN_GAME,[a.MegawaysNames.CASCADES_SUMMARY_STATE])),this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,t)},e}(s.InitializeWinningsAnimationsModuleCommand);e.MegawaysInitializeWinningsAnimationModuleCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(17),l=i(1),c=i(9),u=i(190),h=i(49),p=l.Names.Layers,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initOther(),this.configDecorator(e.body.config),this.addingDecorator()},e.prototype.configDecorator=function(t){var e=[],i=[];t.forEach((function(t,n){e.push(n),t.forEach((function(t,e){var o,s,r,l,c,u,h=[],p=[],d=[],_=[],f=[],y=[],m=[];a.each(t,(function(t){h.push(t.name),p.push(t.animationName),d.push(t.scaleX),_.push(t.scaleY),o=t.parentWidth/2,s=t.parentHeight/2,r=t.x/2,l=t.y/2,c=r-o/2,u=l-s/2,f.push(c),y.push(u),m.push(t.rotation)})),i.push({symbol:n,size:e,json:h,animation:p,scaleX:d,scaleY:_,offsetX:f,offsetY:y,rotation:m})}))})),this.slotGameConfig.addProperty(c.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,this.decoratorSettings.winDecoratorName,{symbolsToAnimate:e.toString(),symbolAtlas:i},!1),i.length>0&&(this.symbolsAnimationsProxy.symbolAtlas=i)},e.prototype.addingDecorator=function(){this.viewFactory.hasDecorator(h.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,this.decoratorSettings.winDecoratorName)||this.viewFactory.addDecorator(h.MegawaysWinningsAnimationNames.WINNINGS_ANIMATION_VIEW,this.decoratorSettings.winDecoratorName,this.decoratorSettings.winDecoratorClass,this.decoratorSettings.winDecoratorLayer)},e.prototype.initOther=function(){a.isNil(this.viewFactory)&&(this.viewFactory=r.ServiceLocator.instance().get("ViewFactory")),a.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(c.MegawaysNames.GAME_CONFIG)),a.isNil(this.symbolsAnimationsProxy)&&(this.symbolsAnimationsProxy=this.retrieveGlobalProxy(l.Names.Proxies.SYMBOL_ANIMATION,l.Names.Modules.WINNINGS)),a.isNil(this.decoratorSettings)&&(this.decoratorSettings=this.slotGameConfig.getProperty(c.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,c.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS),a.isNil(this.decoratorSettings)&&(this.decoratorSettings={},this.slotGameConfig.addProperty(c.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,c.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,this.decoratorSettings)),a.isNil(this.decoratorSettings.winDecoratorName)&&(this.decoratorSettings.winDecoratorName=h.MegawaysWinningsAnimationNames.ANIMATE_SYMBOL_SPINE_WINNINGS_DECORATOR),a.isNil(this.decoratorSettings.winDecoratorClass)&&(this.decoratorSettings.winDecoratorClass=u.MegawaysAnimateSymbolsSpineWinningsDecorator),a.isNil(this.decoratorSettings.winDecoratorLayer)&&(this.decoratorSettings.winDecoratorLayer=p.WINNINGS_ANIMATIONS_OVERGROUND_FRAME))},e}(s.Controller);e.MegawaysSendSpineWinConfigurationCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(110).SymbolAnimationVO);e.MegawaysSymbolAnimationVo=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(85),a=i(115),r=i(100),l=i(99),c=i(101),u=PIXI.Container,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.runningValues=[],e._animationStartDelay=1,e._animationTime=.9,e._animationDistance=50,e.delayTweens=[],e}return o(e,t),e.prototype.onAnimationConfig=function(e){t.prototype.onAnimationConfig.call(this,e),this.valuesPool=new r.ObjectPool(5,p);var i=c.MegawaysWheelsUtils.getWheelsDetails(this.slotGameConfig);this.halfColumnWidth=i.wheelsBounds[0].width/2,this.columnHeight=i.wheelsBounds[0].height},e.prototype.registerInjectActionHandlers=function(){var e=this;t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(a.MegawaysWinningsDecoratorInjectActionNames.SET_SIZE,(function(t){e.symbolSize=t}))},e.prototype.onStartAnimation=function(e){var i=this;if(t.prototype.onStartAnimation.call(this,e),e.animationStep.totalStepWinValue>0){var n=this.valuesPool.get();this._display.addChild(n.container),n.bitmapValue.updateBitmapValue(e.animationStep.totalStepWinValue),this.runningValues.push(n);var o=0,s=0,a=0;e.animationStep.fullHighlight.forEach((function(t,e){if(1==t){var n=e%i.slotGameConfig.wheelsCnt,r=Math.floor(e/i.slotGameConfig.wheelsCnt);(n>o||n==o&&r<s)&&(o=n,s=r,a=e)}})),n.container.alpha=0;var r=TweenMax.delayedCall(this._animationStartDelay,(function(){var t=i.getMegawaysPositionForSymbol(a,i.symbolSize[o]);n.container.x=t.x+i.halfColumnWidth,n.container.y=t.y-i.columnHeight/i.symbolSize[o]/2,n.container.alpha=1,TweenMax.to(n.container,i._animationTime,{y:n.container.y-i._animationDistance}),TweenMax.to(n.container,i._animationTime,{alpha:0,onComplete:function(){i.removeValue(n)}}),i.delayTweens.splice(i.delayTweens.indexOf(r),1)}));this.delayTweens.push(r)}},e.prototype.getMegawaysPositionForSymbol=function(t,e){var i=this.slotGameConfig.getSymbolPosition(t,e).clone();return i.x+=this._offset.x,i.y+=this._offset.y,i},e.prototype.onStopAnimation=function(e){for(;this.runningValues.length>0;)this.removeValue(this.runningValues[0]);this.delayTweens.forEach((function(t){t.kill()})),this.delayTweens=[],t.prototype.onStopAnimation.call(this,e)},e.prototype.removeValue=function(t){this.runningValues.splice(this.runningValues.indexOf(t),1),TweenMax.killTweensOf(t.container),this._display.removeChild(t.container),this.valuesPool.recycle(t)},e}(s.AbstractWinningsDecorator);e.MegawaysWayValueWinningsDecorator=h;var p=function(){this.container=new u,this.bitmapValue=new l.BitmapValue(this.container,.2,1,1)}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Container,a=PIXI.particles.Emitter,r=PIXI.particles.AnimatedParticle,l=PIXI.Graphics,c=i(4),u=i(8),h=i(48),p=i(70),d=function(t){function e(e,i){var n=t.call(this)||this;return n.onFinish=new p.Signal,n.updatebound=n.update.bind(n),n.createEmitter(e,i),n}return o(e,t),e.prototype.createEmitter=function(t,e){this.container=new s,this.addChild(this.container);var i={loop:!0,textures:[]};if(t.forEach((function(t){i.textures.push({texture:t+".png",count:2})})),this.emitter=new a(this.container,[i],this.getConfig(e.position.x,e.position.y)),this.emitter.particleConstructor=r,this.emitter.emit=!1,e.hasMask&&c.Device.instance().mobile){this.particlesMask=new l,this.particlesMask.beginFill(16711680);var n=Math.max(u.SceneManager.SCENE_WIDTH,u.SceneManager.SCENE_HEIGHT),o=u.SceneManager.SCENE_HEIGHT-h.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT;this.particlesMask.drawRect(-n/2,-e.maskYOffset,2*n,o+e.maskHeightOffset),this.addChild(this.particlesMask),this.container.mask=this.particlesMask}},e.prototype.getConfig=function(t,e){return{alpha:{start:1,end:1},scale:{start:.2,end:.4,minimumScaleMultiplier:1},color:{start:"#ffffff",end:"#fafafa"},speed:{start:350,end:300,minimumSpeedMultiplier:2.5},acceleration:{x:0,y:750},maxSpeed:0,startRotation:{min:220,max:320},noRotation:!1,rotationSpeed:{min:130,max:360},lifetime:{min:2,max:4},blendMode:"normal",frequency:.005,emitterLifetime:-1,maxParticles:50,pos:{x:t,y:e},addAtBack:!1,spawnType:"circle",spawnCircle:{x:1,y:1,r:20}}},e.prototype.start=function(){this.time=Date.now(),this.emitter.emit=!0,PIXI.ticker.shared.add(this.updatebound),this.visible=!0},e.prototype.fadeOut=function(){this.emitter.emit=!1},e.prototype.kill=function(){this.emitter.emit=!1,PIXI.ticker.shared.remove(this.updatebound),this.visible=!1,this.emitter.cleanup()},e.prototype.update=function(){if(this.active){var t=Date.now();this.emitter.update(.001*(t-this.time)),this.time=t}else PIXI.ticker.shared.remove(this.updatebound),this.visible=!1,this.onFinish.dispatch()},Object.defineProperty(e.prototype,"active",{get:function(){return this.emitter.particleCount>0||this.emitter.emit},enumerable:!0,configurable:!0}),e}(s);e.MegawaysBigWinParticleSystem=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.CASCADE_SUMMARY_CELEBRATION_STARTED="CASCADE_SUMMARY_CELEBRATION_STARTED",t.CASCADE_SUMMARY_INCREMENT_ENDED="CASCADE_SUMMARY_INCREMENT_ENDED",t}();e.MegawaysWinningsDecoratorBroadcastActionNames=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(9),l=i(2),c=i(65),u=i(0),h=i(23),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.stateMachineProxy.state==r.MegawaysNames.CASCADES_SUMMARY_STATE&&(this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,c.MegawaysUiBehavior.CASCADE_FULL_COMPLETE),this.endGameProxy.endEndGameActions(),this.autoPlayProxy.autoplayInProgress&&this.freeRoundsProxy.hasToFinishFR&&this.freeRoundsProxy.hasToStartFreeRoundFeature())},e.prototype.initVars=function(){this.stateMachineProxy||(this.stateMachineProxy=this.retrieveGlobalProxy(a.Names.Proxies.STATE_MACHINE,a.Names.Modules.GAME_SETUP)),this.autoPlayProxy||(this.autoPlayProxy=this.retrieveGlobalProxy(a.Names.Proxies.AUTO_PLAY,a.Names.Modules.AUTO_PLAY)),this.freeRoundsProxy||(this.freeRoundsProxy=this.retrieveGlobalProxy(h.FRProxiesName.FREE_ROUNDS_PROXY,a.Names.Modules.FREE_ROUNDS)),this.validationProxy||(this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER)),u.isNil(this.endGameProxy)&&(this.endGameProxy=this.retrieveGlobalProxy(a.Names.Proxies.END_GAME,a.Names.Modules.SLOT_LOGIC))},e}(s.Controller);e.MegawaysFinishCascadeSummaryCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(167),a=i(0),r=i(1),l=i(5),c=i(9),u=i(2),h=i(132),p=i(28),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.checkWin()?this.sendGlobalNotification(u.Notifications.SlotLogic.ADD_ENDGAME_ACTION,this.createEndGameAction()):this.sendGlobalNotification(u.Notifications.SlotLogic.NO_ENDGAME_ACTION,c.MegawaysNames.CASCADE_SUMMARY_END_GAME_DECISION)},e.prototype.checkWin=function(){var t=this.connectionProxy.getServerData(l.States.END_GAME,!0);return this.moneyProxy.getClientValue(parseInt(t.totalWinningsMoney),!1)>0},e.prototype.createEndGameAction=function(){var t;return(t=new h.EndGameActionDetailsVO).name=c.MegawaysNames.CASCADE_SUMMARY_END_GAME_DECISION,t.startNotification=p.MegawaysNotifications.START_CASCADE_SUMMARY,t.endNotification="fsd",t.startChangeState=!1,t.sendImmediatelyEndGameEnableUI=!1,t.isComplete=!1,t.oneTimeOnly=!1,t},e.prototype.initVars=function(){t.prototype.initVars.call(this),a.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),this.megawaysWinningsSettings||(this.megawaysWinningsSettings=this.settings.getValue(c.MegawaysNames.GAME_CONFIG).getProperty(c.MegawaysNames.WINNINGS_ANIMATIONS_SETTINGS,c.MegawaysNames.WINNINGS_CASCADE_SETTINGS))},e}(s.WinningsEndgameCommand);e.MegawaysWinningsEndgameCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(9),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(s.Notifications.SlotLogic.NO_ENDGAME_ACTION,a.MegawaysNames.CASCADE_SUMMARY_END_GAME_DECISION)},e}(i(168).WinningsRerouteCommand);e.MegawaysCascadeSummaryRerouteCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(17),r=i(131),l=i(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){l.isUndefined(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(s.Names.Proxies.MASTER_LAYERS,s.Names.Modules.GAME_SETUP)),l.isNil(this.viewFactory)&&(this.viewFactory=a.ServiceLocator.instance().get("ViewFactory")),l.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(r.SendWinningsConfigurationCommand);e.MegawaysSendWinningsConfigurationCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(415),a=i(0),r=i(44),l=i(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transitionOutOverride=-1,e}return o(e,t),e.prototype.transitionOut=function(){this.getTransitionOutDelay()?(this._doTransitionOutIncrementTween&&TweenLite.killDelayedCallsTo(this._doTransitionOutIncrementTween.target),this._doTransitionOutIncrementTween=TweenLite.delayedCall(this.getTransitionOutDelay(),this.doTransitionOutIncrement.bind(this))):(this._doTransitionOutIncrementTween&&TweenLite.killDelayedCallsTo(this._doTransitionOutIncrementTween.target),this.doTransitionOutIncrement())},e.prototype.onCelebrationStart=function(e){t.prototype.onCelebrationStart.call(this,e),this.transitionOutOverride=-1},e.prototype.onStartAnimation=function(e){e.isCascadeWin||t.prototype.onStartAnimation.call(this,e),this.transitionOutOverride=-1},e.prototype.onCelebrationSkip=function(t){!isNaN(t.duration)&&t.duration>=0?this.transitionOutOverride=t.duration:this.transitionOutOverride=-1,this._celebrationSkipped||(this._celebrationSkipped=!0,a.isNil(this._celebrationTween)||(this._celebrationTween.kill(),this.onIncrementComplete(this._celebrationMoney.endV)),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.STOP_SOUND,{soundName:l.SlotSoundNames.INCREMENT}),this.broadcastAction(r.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:l.SlotSoundNames.INCREMENT_STOP}))},e.prototype.getTransitionOutDelay=function(){var t=this._transitionOutDelay;return this.transitionOutOverride>=0&&(t=this.transitionOutOverride),t},e}(s.IncrementLineWinAnimationDecorator);e.MegawaysIncrementLineWinAnimationDecorator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(189),r=i(416),l=i(6),c=i(32),u=i(15),h=i(42),p=i(34),d=i(38),_=i(63),f=i(85),y=i(52),m=i(44),N=i(102),S=PIXI.Point,g=function(t){function e(e,i){void 0===i&&(i="");var n=t.call(this,e,i)||this;return n._backgroundContainerScaleX=1,n._backgroundContainerScaleY=1,n._hasWinValueBackground=!0,n._winValueBackgroundAlpha=1,n._bitmapInitialScale=1,n._commaPercent=1,n._digitPercent=1,n._narrowOnes=!1,n._spaceWidth=1,n._winValueInitialScale=.8,n._winValueInitialAlpha=1,n._transitionInDuration=.2,n._transitionInDelay=0,n._transitionInEaseFunction="Linear.easeIn",n._transitionInScale=1,n._transitionInAlpha=1,n._transitionOutDuration=.2,n._transitionOutDelay=1,n._minTransitionOutDelay=.1,n._transitionOutEaseFunction="Linear.easeIn",n._transitionOutScale=1.5,n._transitionOutAlpha=0,n._bigWinTransitionScale=1,n._bigWinTransitionDuration=1,n._progressiveTransitionDuration=1,n._bigWinAnimationStarted=!1,n._fiveOfAKindAnimationStarted=!1,n._progressiveAnimationStarted=!1,n._bigWinEndedTransitionDuration=.2,n._bigWinEndedTransitionScale=2,n._skipEffects=!1,n._hasFixedPosition=!0,n._winValueFixedPosition=new S(400,270),n._winValueFixedPositionBigWinOffsetY=120,n._winValueFixedPositionBigWinOffsetX=0,n._winValueFixedPositionProgressiveOffsetY=120,n._winValueFixedPositionProgressiveOffsetX=0,n._startSymbolPosition=2,n._longestAnimationDuration=0,n._hasIncrementCompleteAnimation=!1,n._incrementCompleteAnimationFPS=24,n._maxValueWidth=700,n._transitionOutBounceMultiplier=2,n._startDelay=.5,n._celebrationInProgress=!1,n._incrementStarted=!1,n._bounceEnabled=!1,n._celebrationSkipped=!1,n.ON_INCREMENT_UPDATE_CURRENT_KEY="IncrementLineWinAnimationDecorator.onIncrementUpdate"+d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,n.ON_INCREMENT_COMPLETE_CURRENT_KEY="IncrementLineWinAnimationDecorator.onIncrementComplete"+d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,n}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.decoratorSettings&&(this.decoratorSettings.hasOwnProperty("winValueFixedPosition")&&"string"==typeof this.decoratorSettings.winValueFixedPosition&&(this._winValueFixedPosition.x=this.decoratorSettings.winValueFixedPosition.split(",").map(Number)[0],this._winValueFixedPosition.y=this.decoratorSettings.winValueFixedPosition.split(",").map(Number)[1]),this.decoratorSettings.hasOwnProperty("bigWinTransitionDuration")&&(this._bigWinTransitionDuration=this.decoratorSettings.bigWinTransitionDuration),this.decoratorSettings.hasOwnProperty("fiveOfAKindTransitionDuration")?this._fiveOfAKindTransitionDuration=this.decoratorSettings.fiveOfAKindTransitionDuration:this._fiveOfAKindTransitionDuration=this._bigWinTransitionDuration,this.decoratorSettings.hasOwnProperty("winValueFixedPositionFiveOfAKindOffsetY")?this._winValueFixedPositionFiveOfAKindOffsetY=this.decoratorSettings.winValueFixedPositionFiveOfAKindOffsetY:this._winValueFixedPositionFiveOfAKindOffsetY=this._winValueFixedPositionBigWinOffsetY,this.decoratorSettings.hasOwnProperty("winValueFixedPositionFiveOfAKindOffsetX")?this._winValueFixedPositionFiveOfAKindOffsetX=this.decoratorSettings.winValueFixedPositionFiveOfAKindOffsetX:this._winValueFixedPositionFiveOfAKindOffsetX=this._winValueFixedPositionBigWinOffsetX,this.decoratorSettings.hasOwnProperty("startDelay")&&(this._startDelay=this.decoratorSettings.startDelay),this.decoratorSettings.hasOwnProperty("narrowOnes")&&(this._narrowOnes=this.decoratorSettings.narrowOnes),this.decoratorSettings.hasOwnProperty("transitionInScale")&&(this._transitionInScale=this.decoratorSettings.transitionInScale),this.decoratorSettings.hasOwnProperty("backgroundContainerScale")&&(this._backgroundContainerScaleX=this._backgroundContainerScaleY=this.decoratorSettings.backgroundContainerScale))},e.prototype.onDisplayReceived=function(e){if(t.prototype.onDisplayReceived.call(this,e),this._bitmapIncrementContainer=new PIXI.Container,this._bitmapIncrementContainer.name="bitmapIncrement",this._bitmapIncrementContainer.scale.x=this._winValueInitialScale,this._bitmapIncrementContainer.scale.y=this._winValueInitialScale,this._bitmapIncrement=new r.BitmapValueForIncrement(this._bitmapIncrementContainer,this._bitmapInitialScale,this._digitPercent,this._commaPercent,this._spaceWidth),this._bitmapIncrement.narrowOnes=this._narrowOnes,this._hasIncrementCompleteAnimation){var i=h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_INCREMENT_COMPLETE_ANIMATION);this._incrementCompleteAnimation=u.TextureUtil.instance().createAnimatedSprite(i),this._incrementCompleteAnimation.animationSpeed=this._incrementCompleteAnimationFPS/60,this._incrementCompleteAnimation.stop()}var n=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_BIG_WIN_DIGIT)+"0"));this._digitWidth=n.width*this._bitmapInitialScale,n.destroy();var o=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_BIG_WIN_DOT)));this._dotWidth=o.width*this._bitmapInitialScale,o.destroy();var s=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_BIG_WIN_COMMA)));this._commaWidth=s.width*this._bitmapInitialScale,s.destroy(),this._hasWinValueBackground&&this.createResizableBackground()},e.prototype.createResizableBackground=function(){var t=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_LEFT)));t.name=h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_LEFT);var e=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE)));e.name=h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_MIDDLE);var i=new PIXI.Sprite(u.TextureUtil.instance().getTextureFromCache(h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_RIGHT)));i.name=h.VisualAssetsMap.instance().getVisualAsset(p.VisualAssetsNames.WIN_VALUE_BACKGROUND_RIGHT),this._backgroundContainer=new PIXI.Container,this._backgroundContainer.name="WinValueBackgroundContainer",this._background=new a.ResizableBackground(this._backgroundContainer,t,e,i),this._backgroundContainer.scale.x=this._backgroundContainerScaleX,this._backgroundContainer.scale.y=this._backgroundContainerScaleY},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.BIG_WIN_ANIMATION_STARTED,this.onBigWinAnimationStarted.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.BIG_WIN_INCREMENT_ENDED,this.onBigWinIncrementEnded.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.PROGRESSIVE_ANIMATION_STARTED,this.onProgressiveAnimationStarted.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.PROGRESSIVE_ANIMATION_COMPLETED,this.onProgressiveAnimationCompleted.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.LONGEST_ANIMATION_DURATION,this.onLongestAnimationDuration.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.SKIP_INCREMENT_EFFECTS,this.onSkipIncrementEffects.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.FIVE_OF_A_KIND_ANIMATION_STARTED,this.onFiveOfAKindAnimationStarted.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.FIVE_OF_A_KIND_ANIMATION_ENDED,this.onFiveOfAKindAnimationEnded.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.CELEBRATION_START,this.onCelebrationStart.bind(this)),this.addInjectActionHandler(y.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,this.onCelebrationSkip.bind(this))},e.prototype.onStartAnimation=function(e){var i=this;if(t.prototype.onStartAnimation.call(this,e),this._ignoreIncrementAnimation=!1,this.getIncrementStatus(this.isIncrementing.bind(this)),this._incrementing){var n=e.animationStep;if(this._totalWin=n.totalStepWinValue,0!=this._totalWin){s.each(n.lines,(function(t,e){if(t.featureRequests&&t.featureRequests.ignoreIncrement)return i._ignoreIncrementAnimation=!0,!1})),this._ignoreIncrementAnimation?this.decoratorAnimationFinished=!0:this.decoratorAnimationFinished=!1,this.startLineWinIncrement(this._totalWin);var o=d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(o=d.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.ADD_ON_UPDATE_FUNCTION,{incrementId:o,onUpdate:this.onIncrementUpdate.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_CURRENT_KEY,updateType:N.IncrementUpdateTypeNames.INCREMENT_TYPE_PIXI}),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.ADD_ON_COMPLETE_FUNCTION,{incrementId:d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,onComplete:this.onIncrementComplete.bind(this),onCompleteKey:this.ON_INCREMENT_COMPLETE_CURRENT_KEY})}}},e.prototype.onStopAnimation=function(e){this._ignoreIncrementAnimation||(this._longestAnimationDuration=0,this._transitionOutDelay=this._minTransitionOutDelay,this._bitmapIncrementContainer&&(this._bitmapTween&&this._bitmapTween.totalTime(this._bitmapTween.totalDuration()).kill(),this._valueBackgroundTween&&this._valueBackgroundTween.totalTime(this._valueBackgroundTween.totalDuration()).kill(),this._bounceAnimation&&this._bounceAnimation.progress(1,!1),this._doTransitionOutIncrementTween&&TweenLite.killDelayedCallsTo(this._doTransitionOutIncrementTween.target),this._startAnimation&&this._startAnimation.kill(),this._celebrationInProgress&&(this._celebrationInProgress=!1,this._celebrationTween.kill()),this.resetIncrement(),this._bigWinAnimationStarted=!1,this._fiveOfAKindAnimationStarted=!1,this._progressiveAnimationStarted=!1,this._hasIncrementCompleteAnimation&&this._incrementCompleteAnimation.stop(),this._skipEffects=!1,t.prototype.onStopAnimation.call(this,e),this.decoratorAnimationFinished=!0))},e.prototype.onSkipIncrementEffects=function(t){this._skipEffects=!0},e.prototype.animateWinValueBackground=function(){this.getIncrementStatus(this.isIncrementing.bind(this)),(this._incrementing||this._celebrationInProgress)&&this._hasWinValueBackground&&this.updateWinValueBackground()},e.prototype.updateWinValueBackground=function(){this._background.updateWidth(2.2*this._bitmapIncrementContainer.width),this._background.updateHeight(2.2*this._bitmapIncrementContainer.height),this._backgroundContainer.pivot.x=this._backgroundContainer.width/this._backgroundContainerScaleX/2,this._backgroundContainer.pivot.y=this._backgroundContainer.height/this._backgroundContainerScaleY/2,this._backgroundContainer.x=this._bitmapIncrementContainer.x,this._backgroundContainer.y=this._bitmapIncrementContainer.y},e.prototype.onLongestAnimationDuration=function(t){this._longestAnimationDuration<t.duration&&(this._longestAnimationDuration=t.duration),this._transitionOutDelay<this._longestAnimationDuration-this._transitionOutDuration&&(this._transitionOutDelay=this._longestAnimationDuration-this._transitionOutDuration)},e.prototype.getIncrementStatus=function(t){var e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_STATUS,{incrementId:e,callback:t})},e.prototype.isIncrementing=function(t){this._incrementing=t==_.IncrementStatusNames.INCREMENTING},e.prototype.startLineWinIncrement=function(t,e){void 0===e&&(e=0),this.getIncrementStatus(this.isIncrementing.bind(this)),this._incrementing&&(this._incrementStarted=!0,this._display.addChild(this._bitmapIncrementContainer),this.updateBitmapIncrement(e),this.getEndValueForIncrement(this.setDigitScale.bind(this)),this.doTransitionInIncrement())},e.prototype.getEndValueForIncrement=function(t){var e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.GET_INCREMENT_END_VALUE,{incrementId:e,callback:t})},e.prototype.setDigitScale=function(t){for(var e=c.NumberFormatterUtil.formatNumber(t),i=0,n=e.length;n>=0;n--){var o=e.charAt(n);i+="."==o?this._dotWidth:","==o?this._commaWidth:"0"==o||"1"==o||"2"==o||"3"==o||"4"==o||"5"==o||"6"==o||"7"==o||"8"==o||"9"==o?this._digitWidth:this._dotWidth}if(i>=this._maxValueWidth){var s=this._maxValueWidth/i;this._transitionInScale=s-.3*s,this._transitionOutScale=s-.1*s,this._bigWinTransitionScale=s-.1*s,this._bigWinEndedTransitionScale=s}},e.prototype.updateBitmapIncrement=function(t){var e=0;this.slotGameConfig.allWinValuesInCurrency&&(e=2),this._bitmapIncrement.initBitmapIncrement(t,e),this._hasFixedPosition&&!this._progressiveAnimationStarted&&(this._bitmapIncrementContainer.x=this._winValueFixedPosition.x,this._bitmapIncrementContainer.y=this._winValueFixedPosition.y)},e.prototype.doTransitionInIncrement=function(){this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this._bitmapIncrementContainer.alpha=0,this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._transitionInDuration,{delay:this._startDelay,pixi:{scaleX:this._transitionInScale,scaleY:this._transitionInScale},alpha:this._transitionInAlpha,ease:this.getEaseFunction(this._transitionInEaseFunction)}),this._hasWinValueBackground&&!s.includes(this._display.children,this._backgroundContainer)&&(this._backgroundContainer.alpha=0,this._display.addChildAt(this._backgroundContainer,0),this._valueBackgroundTween=TweenLite.to(this._backgroundContainer,this._transitionInDuration,{alpha:this._winValueBackgroundAlpha,delay:this._transitionInDelay+this._startDelay}))},e.prototype.onIncrementUpdate=function(t){if(this._incrementStarted){var e=0;this.slotGameConfig.allWinValuesInCurrency&&(e=2),this._bitmapIncrement.updateBitmapValue(t,"",e),this._hasWinValueBackground&&this.animateWinValueBackground()}},e.prototype.onIncrementComplete=function(t){var e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;if(this.slotGameConfig.allWinValuesInCurrency&&(e=d.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.REMOVE_ON_UPDATE_FUNCTION,{incrementId:e,onUpdateKey:this.ON_INCREMENT_UPDATE_CURRENT_KEY}),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.REMOVE_ON_COMPLETE_FUNCTION,{incrementId:e,onCompleteKey:this.ON_INCREMENT_COMPLETE_CURRENT_KEY}),this._incrementStarted){this._bitmapTween&&this._bitmapTween.totalTime(this._bitmapTween.totalDuration()).kill(),this._valueBackgroundTween&&this._valueBackgroundTween.totalTime(this._valueBackgroundTween.totalDuration()).kill();var i=0;this.slotGameConfig.allWinValuesInCurrency&&(i=2),this._bitmapIncrement.updateBitmapValue(t,"",i),!this._hasWinValueBackground||this._bigWinAnimationStarted&&!this._celebrationSkipped||this.animateWinValueBackground(),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.WINNINGS_INCREMENT_ENDED),this._hasIncrementCompleteAnimation&&(this._bigWinAnimationStarted||this.playIncrementCompleteAnimation()),this._bounceEnabled?(this._bigWinAnimationStarted||this._progressiveAnimationStarted||this._celebrationInProgress||(this._bounceAnimation=this.defineBounceAnimation()),this._celebrationInProgress&&!this._bigWinAnimationStarted&&this.transitionOut()):this.transitionOut()}else this.decoratorAnimationFinished=!0},e.prototype.doWinningBackgroundTransitionOut=function(t){void 0===t&&(t=0),this._valueBackgroundTween&&(TweenLite.killTweensOf(this._valueBackgroundTween.target),this._backgroundContainer.alpha=1,this._valueBackgroundTween=TweenLite.to(this._backgroundContainer,this._transitionOutDuration,{alpha:0,delay:t,onComplete:this.removeWinningBackground.bind(this)}))},e.prototype.removeWinningBackground=function(){this._display.removeChild(this._backgroundContainer)},e.prototype.playIncrementCompleteAnimation=function(){this._incrementCompleteAnimation.anchor.set(.5),this._incrementCompleteAnimation.x=this._winValueFixedPosition.x,this._incrementCompleteAnimation.y=this._winValueFixedPosition.y,this._incrementCompleteAnimation.loop=!1,this._incrementCompleteAnimation.play(),this._display.addChildAt(this._incrementCompleteAnimation,0),this._incrementCompleteAnimation.onComplete=this.incrementCompleteAnimationEnded.bind(this)},e.prototype.incrementCompleteAnimationEnded=function(t,e){t==this._incrementCompleteAnimation.name&&(this._display.removeChild(this._incrementCompleteAnimation),this._incrementCompleteAnimation.destroy())},e.prototype.doTransitionOutIncrement=function(){this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.START_HIDE_INCREMENT),this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._transitionOutDuration,{alpha:this._transitionOutAlpha,onComplete:this.onTransitionOutComplete.bind(this),ease:this.getEaseFunction(this._transitionOutEaseFunction)}),this.doWinningBackgroundTransitionOut(0)},e.prototype.onTransitionOutComplete=function(){this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.ANIMATE_NEXT_STEP)),this._celebrationInProgress&&(this._celebrationInProgress=!1,this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.CELEBRATION_END))},e.prototype.resetIncrement=function(){this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this._bitmapTween&&this._bitmapTween.seek(this._bitmapTween.duration(),!1),this._bitmapIncrement.resetBitmapValue(),this._bitmapIncrementContainer.scale.x=this._winValueInitialScale,this._bitmapIncrementContainer.scale.y=this._winValueInitialScale,this._bitmapIncrementContainer.alpha=this._winValueInitialAlpha,this._incrementStarted=!1},e.prototype.onFiveOfAKindAnimationStarted=function(t){this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this._fiveOfAKindAnimationStarted=!0,this._bitmapIncrementContainer.alpha=1,this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._fiveOfAKindTransitionDuration,{pixi:{scaleX:this._bigWinTransitionScale,scaleY:this._bigWinTransitionScale},y:this._bitmapIncrementContainer.y+this._winValueFixedPositionFiveOfAKindOffsetY,onUpdate:this.animateWinValueBackground.bind(this),onComplete:this.onFiveOfAKindAnimationTweenComplete.bind(this)}),this._bitmapIncrement.hasNewDigitEffect=!1},e.prototype.onBigWinAnimationStarted=function(t){this._bigWinAnimationStarted=!0,this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this._bitmapIncrementContainer.alpha=1,this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._bigWinTransitionDuration,{pixi:{scaleX:this._bigWinTransitionScale,scaleY:this._bigWinTransitionScale},y:this._bitmapIncrementContainer.y+this._winValueFixedPositionBigWinOffsetY,x:this._bitmapIncrementContainer.x+this._winValueFixedPositionBigWinOffsetX,onUpdate:this.animateWinValueBackground.bind(this),onComplete:this.onBigWinAnimationTweenComplete.bind(this)}),this._bitmapIncrement.hasNewDigitEffect=!1},e.prototype.onProgressiveAnimationStarted=function(t){this._progressiveAnimationStarted=!0,this._bitmapTween&&TweenLite.killTweensOf(this._bitmapTween.target),this._bitmapIncrementContainer.alpha=1,this._bitmapTween=TweenLite.to(this._bitmapIncrementContainer,this._progressiveTransitionDuration,{pixi:{scaleX:this._bigWinTransitionScale,scaleY:this._bigWinTransitionScale},y:this._bitmapIncrementContainer.y+this._winValueFixedPositionProgressiveOffsetY,x:this._bitmapIncrementContainer.x+this._winValueFixedPositionProgressiveOffsetX,onUpdate:this.animateWinValueBackground.bind(this),onComplete:this.onProgressiveAnimationTweenComplete.bind(this)}),this._bitmapIncrement.hasNewDigitEffect=!1},e.prototype.onProgressiveAnimationCompleted=function(t){this.onStopAnimation(t),l.Log.info("onProgressiveAnimationCompleted()")},e.prototype.onProgressiveAnimationTweenComplete=function(){this._hasWinValueBackground&&this.animateWinValueBackground()},e.prototype.onBigWinAnimationTweenComplete=function(){this._hasWinValueBackground&&this.animateWinValueBackground()},e.prototype.onFiveOfAKindAnimationTweenComplete=function(){this._hasWinValueBackground&&this.updateWinValueBackground()},e.prototype.onFiveOfAKindAnimationEnded=function(t){this._fiveOfAKindAnimationStarted=!1},e.prototype.onBigWinIncrementEnded=function(t){this._bigWinAnimationStarted&&(this._transitionOutDelay=t.fadeOutDelay,this._bitmapTween&&this._bitmapTween.progress(1).kill(),this._doTransitionOutIncrementTween=TweenLite.delayedCall(this._transitionOutDelay,this.doTransitionOutIncrement.bind(this)))},e.prototype.onCelebrationStart=function(t){s.isNil(t.body)||s.isNil(t.body.duration)||0!==t.body.duration?(this._celebrationInProgress=!0,this._incrementStarted=!0,this._celebrationSkipped=!1,this._celebrationMoney=t.body,this._celebrationMoney.value=this._celebrationMoney.startV,this._celebrationTween=TweenLite.to(this._celebrationMoney,this._celebrationMoney.duration,{value:this._celebrationMoney.endV,onUpdate:this.onCelebrationUpdate.bind(this),onComplete:this.onCelebrationEnd.bind(this)}),this._display.addChild(this._bitmapIncrementContainer),this.updateBitmapIncrement(this._celebrationMoney.startV),this.setDigitScale(this._celebrationMoney.endV),this.doTransitionInIncrement()):this.broadcastAction(m.WinningsDecoratorBroadcastActionNames.CELEBRATION_END)},e.prototype.onCelebrationSkip=function(t){this._celebrationSkipped||(this._celebrationSkipped=!0,s.isNil(this._celebrationTween)||(this._celebrationTween.kill(),this.onIncrementComplete(this._celebrationMoney.endV)))},e.prototype.onCelebrationUpdate=function(){this.onIncrementUpdate(this._celebrationMoney.value)},e.prototype.onCelebrationEnd=function(){this.onIncrementComplete(this._celebrationMoney.endV)},e.prototype.defineBounceAnimation=function(){var t=new TimelineMax({delay:this._transitionOutDelay});return t.add(TweenMax.to(this._bitmapIncrementContainer.scale,this._transitionOutDuration,{x:this._bitmapIncrementContainer.scale.x*this._transitionOutBounceMultiplier,y:this._bitmapIncrementContainer.scale.y*this._transitionOutBounceMultiplier,ease:Back.easeIn}),0),t.add(TweenMax.to(this._backgroundContainer.scale,this._transitionOutDuration,{x:this._backgroundContainer.scale.x*this._transitionOutBounceMultiplier,y:this._backgroundContainer.scale.y*this._transitionOutBounceMultiplier,ease:Back.easeIn}),0),t.add(TweenMax.to(this._bitmapIncrementContainer.scale,this._transitionOutDuration,{x:this._bitmapIncrementContainer.scale.x,y:this._bitmapIncrementContainer.scale.y,ease:Back.easeIn}),2*this._transitionOutDuration),t.add(TweenMax.to(this._backgroundContainer.scale,this._transitionOutDuration,{x:this._backgroundContainer.scale.x,y:this._backgroundContainer.scale.y,ease:Back.easeIn}),2*this._transitionOutDuration),t.vars.onComplete=this.doTransitionOutIncrement.bind(this),t},e.prototype.transitionOut=function(){this._transitionOutDelay?(this._doTransitionOutIncrementTween&&TweenLite.killDelayedCallsTo(this._doTransitionOutIncrementTween.target),this._doTransitionOutIncrementTween=TweenLite.delayedCall(this._transitionOutDelay,this.doTransitionOutIncrement.bind(this))):(this._doTransitionOutIncrementTween&&TweenLite.killDelayedCallsTo(this._doTransitionOutIncrementTween.target),this.doTransitionOutIncrement())},e}(f.AbstractWinningsDecorator);e.IncrementLineWinAnimationDecorator=g},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(99),r=i(42),l=i(32),c=PIXI.Container,u=PIXI.Sprite,h=PIXI.Point,p=function(t){function e(e,i,n,o,s,a){void 0===a&&(a="WIN_BIG_WIN_");var r=t.call(this,e,i,n,o,a)||this;return r._digitsHolder=[],r._decimalsHolder=[],r._hasNewDigitEffect=!1,r._spaceWidth=1,r.actualScale=new h(1,1),r.actualWidth=0,r.actualHeight=0,r._spaceWidth=s,r.initIncrement(),r}return o(e,t),Object.defineProperty(e.prototype,"hasNewDigitEffect",{set:function(t){this._hasNewDigitEffect=t},enumerable:!0,configurable:!0}),e.prototype.initIncrement=function(){for(var t=0;t>0;)this.addNewDecimalHolder("0"),t--;var e=this.getDigitFromPool("0");e.scale.x=this.initialScale,e.scale.y=this.initialScale,this.digitWidth=e.width,this._valueContainer.pivot.y=this._valueContainer.height/2,this._valueContainer.pivot.x=this._valueContainer.width/2},e.prototype.updateImageForHolder=function(t,e){var i,n=e.removeChildAt(0);n.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA"))?this.addCommaToPool(n):n.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT"))?this.addDotToPool(n):n.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE"))?this.addSpaceToPool(n):this.addDigitToPool(n),(i=","==t?this.getCommaFromPool():"."==t?this.getDotFromPool():"0"==t||"1"==t||"2"==t||"3"==t||"4"==t||"5"==t||"6"==t||"7"==t||"8"==t||"9"==t?this.getDigitFromPool(t):this.getSpaceFromPool()).scale.x=n.scale.x,i.scale.y=n.scale.y,i.x=n.x,e.addChild(i)},e.prototype.removeImageFromDigitHolder=function(t){var e=t.removeChildAt(0);e.scale.x=1,e.scale.y=1,e.x=0,e.y=0,e.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA"))?this.addCommaToPool(e):e.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT"))?this.addDotToPool(e):e.name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE"))?this.addSpaceToPool(e):this.addDigitToPool(e)},e.prototype.initBitmapIncrement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.resetBitmapValue(),this.updateBitmapValue(t,"",e)},e.prototype.updateBitmapValue=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),this.formatedValue=l.NumberFormatterUtil.formatNumber(t,i),this.updateDigits(this.formatedValue),this.narrowOnes?this.positionDigits():(this._valueContainer.pivot.y=this.actualHeight/this.actualScale.x/2,this._valueContainer.pivot.x=this.actualWidth/this.actualScale.y/2)},e.prototype.updateDigits=function(t){for(var e=0,i=t.length-1;i>=0;i--){var n=t.charAt(i);if(this._digitsHolder.length<=e)this.addNewDigitHolder(n),e++;else{var o=this._digitsHolder[e];0!=o.children.length?(e++,this.updateImageForHolder(n,o)):(this.addNewDigitHolder(n,o),e++)}}},e.prototype.addNewDigitHolder=function(t,e){void 0===e&&(e=null),e||((e=new c).name="incrementDigitHolder"+this._digitsHolder.length,this._digitsHolder.push(e));var i=!1;","==t?(this.addNewComma(e),this.moveAllDigitsToRight(e.width)):"."==t?(this.addNewDot(e),this.moveAllDigitsToRight(e.width)):"0"==t||"1"==t||"2"==t||"3"==t||"4"==t||"5"==t||"6"==t||"7"==t||"8"==t||"9"==t?(this.addNewDigit(t,e),i=!0,this.moveAllDigitsToRight(e.width)):(this.addNewSpace(e),this.moveAllDigitsToRight(e.width*this._spaceWidth)),this._valueContainer.addChild(e),this.updateActualContainerSize(),this._hasNewDigitEffect&&i&&this.playNewDigitEffect(e)},e.prototype.updateActualContainerSize=function(){s.each(this._valueContainer.children,(function(t){TweenLite.killTweensOf(t),t.scale.x=1,t.scale.y=1,t.rotation=0})),this.actualWidth=this._valueContainer.width,this.actualHeight=this._valueContainer.height,this.actualScale=new h(this._valueContainer.scale.x,this._valueContainer.scale.y)},e.prototype.addNewDecimalHolder=function(t,e){void 0===e&&(e=null),e||((e=new u).name="incrementDecimalHolder"+this._decimalsHolder.length,this._decimalsHolder.push(e)),this.addNewDecimal(t,e),e.x=this._valueContainer.width,this._valueContainer.addChild(e)},e.prototype.playNewDigitEffect=function(t){var e=t.scale.x,i=t.scale.y;t.scale.x=2*e,t.scale.y=2*e,t.rotation=2*Math.random()*Math.PI,TweenLite.to(t,1,{pixi:{scaleX:e,scaleY:i},rotation:0,ease:Elastic.easeOut})},e.prototype.moveAllDigitsToRight=function(t){if(!this.narrowOnes)for(var e=0;e<this._valueContainer.children.length;e++){var i=this._valueContainer.getChildAt(e);i.getChildAt(0).name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("DOT"))||i.getChildAt(0).name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("COMMA"))?i.x+=t-i.width*(1-this.commaPercent):i.getChildAt(0).name==r.VisualAssetsMap.instance().getVisualAsset(this.getVisualAssetName("SPACE"))?i.x+=t:i.x+=t-i.width*(1-this.digitPercent)}},e.prototype.positionDigits=function(){this.totalWidth=0;for(var t=0;t<this._valueContainer.children.length;t++){var e=this._valueContainer.getChildAt(this._valueContainer.children.length-t-1),i=this.formatedValue.charAt(t);"."==i||","==i?(e.x=this.totalWidth,this.totalWidth+=e.width):" "==i?(e.x=this.totalWidth,this.totalWidth+=e.width*this._spaceWidth):"1"==i&&0==t?(e.x=0,this.totalWidth+=e.width):(e.x=this.totalWidth,this.totalWidth+=this.digitWidth)}this.positionWholeNumber()},e.prototype.positionWholeNumber=function(){this._valueContainer.pivot.y=this._valueContainer.height/this._valueContainer.scale.x/2,this._valueContainer.pivot.x=this.totalWidth/this._valueContainer.scale.y/2},e.prototype.updateDecimals=function(t,e){if(t&&0!=t.length)for(var i=0;i<this._decimalsHolder.length;i++){var n=this._decimalsHolder[i],o=t.charAt(i);0==n.children.length?this.addNewDecimalHolder(o,n):this.updateImageForHolder(o,n)}},e.prototype.resetBitmapValue=function(){for(;this._valueContainer.children.length>0;){var t=this._valueContainer.removeChildAt(0);TweenLite.killTweensOf(t),this.removeImageFromDigitHolder(t),t.x=0,t.y=0,t.scale.x=1,t.scale.y=1,t.rotation=0}},e}(a.BitmapValue);e.BitmapValueForIncrement=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(188),a=i(29),r=i(115),l=i(52),c=i(28),u=i(2),h=i(65),p=i(9),d=i(49),_=i(1),f=i(5),y=i(196),m=i(133),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.endDelay=1.5,e.skipLockOut=1,e}return o(e,t),e.prototype.addNotifications=function(){var e=this;t.prototype.addNotifications.call(this),this.addNotification(a.AztecNotifications.SEND_SCATTER_VALUES,(function(t){e.view.injectDecoratorsProperty(r.MegawaysWinningsDecoratorInjectActionNames.SET_SCATTER_VALUES,t.body)}))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this);var e=this.settings.getValue(p.MegawaysNames.GAME_CONFIG);this.bigWinData=e.getProperty(p.MegawaysNames.WINNINGS_ANIMATIONS_DECORATORS,d.MegawaysWinningsAnimationNames.MEGAWAYS_BIG_WIN_ANIMATION_DECORATOR),this.featureBigWinData=this.settings.getValue(y.NgsMwAztecGoldCelebrationCheckCommand.BIG_WIN_THRESHOLDS_FEATURE),this.moneyProxy=this.retrieveGlobalProxy(_.Names.Proxies.COINS_MONEY,_.Names.Modules.MONEY),this.connectionProxy=this.retrieveGlobalProxy(_.Names.Proxies.CONNECTION,_.Names.Modules.CONNECTION)},e.prototype.onCelebrationStart=function(e){var i=this;t.prototype.onCelebrationStart.call(this,e),this.skippedCelebration=this.skipAllowed=!1;var n=this.connectionProxy.getServerData(f.States.END_GAME,!0);(n.gameSpecific&&"0"==n.gameSpecific.bonusGameSpinsLeft?parseInt(n.gameSpecific.bonusOnlyGain):parseInt(n.totalWinnings))>m.NgsMwIncrementLineWinAnimationDecorator.MIN_WIN_FOR_COUNTUP&&(this.skipLockOutDelay=TweenMax.delayedCall(this.skipLockOut,(function(){i.skipAllowed=!0,i.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,a.AztecUiActions.BIG_WIN_ALLOW_SKIP_ACTION)})))},e.prototype.onAutoplayStopped=function(t){this.stateMachineProxy.state==p.MegawaysNames.CASCADES_SUMMARY_STATE&&(this.skipAllowed=!0,this.onSkipCascadeSummary(null))},e.prototype.onSkipCascadeSummary=function(t){var e=this;!this.skippedCelebration&&this.skipAllowed&&(this.skipLockOutDelay&&(this.skipLockOutDelay.kill(),this.skipLockOutDelay=null),this.view.injectDecoratorsProperty(l.WinningsDecoratorInjectActionNames.CELEBRATION_SKIP,{duration:this.endDelay}),this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,h.MegawaysUiBehavior.CASCADES_SUMMARY_SKIPPED),this.autoPlayProxy.autoplayInProgress||TweenLite.delayedCall(this.endDelay,(function(){e.sendNotification(c.MegawaysNotifications.FINISH_CASCADE_SUMMARY)})),this.skippedCelebration=!0,this.view.publicRemoveClickCaptureDisplay())},e.prototype.onCelebrationSkip=function(t){this.onSkipCascadeSummary(null)},e}(s.MegawaysWinningsAnimationsMediator);e.NgsMwAztecGoldWinningsMediator=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(191),a=i(49),r=i(88),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWinAnimationStartSound=r.NgsMwAztecGoldSoundNames.BIG_WIN_TEXT_EFFECT,e}return o(e,t),e.prototype.playWinSpine=function(e,i){void 0===e&&(e=-1),void 0===i&&(i=-1),t.prototype.playWinSpine.call(this,e,i);var n=this.getBackgroundScale();TweenLite.to(this.background,.5,{pixi:{scaleX:n,scaleY:n}})},e.prototype.getBackgroundScale=function(){return.5*this.bigWinConfig.backgroundAnimations.get(a.MegawaysWinningsAnimationNames.BACKGROUND_LOOP).scaleX*(1+.2*this.celebrationState)},e}(s.MegawaysBigWinAnimationDecorator);e.NgsMwAztecGoldBigWinAnimationDecorator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(17),r=i(131),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){s.isUndefined(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(l.Names.Proxies.MASTER_LAYERS,l.Names.Modules.GAME_SETUP)),s.isNil(this.viewFactory)&&(this.viewFactory=a.ServiceLocator.instance().get("ViewFactory")),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(r.SendWinningsConfigurationCommand);e.NgsMwSendWinningsConfigurationCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(179),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.playStepAnimationSound=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_WINNINGS_ANIMATIONS_SOUNDS,{animationStep:t,showAllOverride:!0})},e}(s.StartAnimateStepWinningsAnimationsCommand);e.NgsMwAztecGoldStartAnimateStepWinningsAnimationsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(194),a=i(112),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onClickCaptureDisplay=function(t){this.dispatchSignal(a.WAActionNames.SKIP_BIG_WIN_ANIMATION)},e.prototype.publicRemoveClickCaptureDisplay=function(){this.removeClickCaptureDisplay()},e}(s.MegawaysWinningsAnimationView);e.NgsMwAztecGoldWinningsAnimationsView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(195),a=i(66),r=i(9),l=i(2),c=i(7),u=i(65),h=i(28),p=i(133),d=i(29),_=l.Notifications.Global,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.toggleValidation(a.MegawaysValidationProperties.CASCADES_IN_PROGRESS,!1);var e=this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStates.length-1],i=parseInt(e.totalWinnings)/this.moneyProxy.displayValues.totalBetInCoins;if(this.sendGlobalNotification(_.CHANGE_STATE,r.MegawaysNames.CASCADES_SUMMARY_STATE),i>=this.megawaysWinningsSettings.winFeedbackMinThreshhold){var n=this.bigWinData.states.reduce((function(t,e,n){return i>=e.threshold?Math.max(t,n):t}),-1),o=this.megawaysWinningsSettings.winDurationMax/(this.bigWinData.states.length+1)*(n+2);this.sendGlobalNotification(l.Notifications.Winning.CELEBRATION_START,{startV:0,endV:parseInt(e.totalWinnings),isInstant:!0,duration:o,winLimit:n,valueInMoney:parseInt(e.totalWinningsMoney)}),parseInt(e.totalWinnings)>p.NgsMwIncrementLineWinAnimationDecorator.MIN_WIN_FOR_COUNTUP?(this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.SHOW_CELEBRATION),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,u.MegawaysUiBehavior.CASCADES_SUMMARY_STATE)):this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,d.AztecUiActions.STATIC_WIN_SUMMARY)}else this.sendGlobalNotification(h.MegawaysNotifications.FINISH_CASCADE_SUMMARY)},e}(s.MegawaysStartCascadeSummaryCommand);e.NgsMwAztecGoldStartCascadeSummaryCommand=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(424),a=i(902),r=i(98),l=i(9),c=i(325),u=i(1),h=i(332),p=i(163),d=i(81),_=i(336),f=i(338),y=i(117),m=i(341),N=i(919),S=i(342),g=i(344),A=i(346),E=i(924),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.defineAbstractGameConfig=function(){var t=new a.MegawaysSlotGameConfig;return t.infoBoxBackground[d.SlotInfoBoxHandlerPixi.DESKTOP]=!1,t.infoBoxBackground[d.SlotInfoBoxHandlerPixi.MOBILE_LANDSCAPE]=!1,t.infoBoxBackground[d.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT]=!1,t.addProperty("WINNINGS_ANIMATIONS_DECORATORS","AnimateSymbolOptionalStaticWinningDecorator",{symbolsToAnimate:-1}),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","onlyShowAllAfterCycleComplete",!0),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","showWinningsAtRestore",!1),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","orderWinningsByWinningValue",!0),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","hideLoseSymbols",!1),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","dontHideSymbols",!0),t.addProperty("STRIP_VIEW","equalizeLabelSize",!0),t.addProperty("WHEEL_DECORATORS","tweenWheelDecorator",{symbolScaleCorrection:1}),t},e.prototype.getWinningsModule=function(){var e=t.prototype.getWinningsModule.call(this);return e.className=p.MegawaysWinningsAnimationModule,e.spriteSheets=[],e.spriteSheetsMobile=[],e.spriteSheetsTablet=[],e},e.prototype.getWheelsModule=function(){return new r.ModuleConfigVO(l.MegawaysNames.MEGAWAYS_WHEELS_MODULE,c.MegawaysWheelsModule)},e.prototype.getLogicModule=function(){return new r.ModuleConfigVO(u.Names.Modules.SLOT_LOGIC,h.MegawaysLogicModule)},e.prototype.getCheatToolModule=function(){var e=t.prototype.getCheatToolModule.call(this);return e.className=_.MegawaysSlotCheatToolModule,e},e.prototype.getUserInterfaceModule=function(){var e=t.prototype.getUserInterfaceModule.call(this);return e.className=f.MegawaysUserInterfaceModule,e},e.prototype.getPaytableModule=function(){var t=new r.ModuleConfigVO(u.Names.Modules.PAYTABLE,m.MegawaysPaytable);return t.layers=[new r.ModuleLayerVO(u.Names.Layers.PAY_TABLE,this.deviceSpecificLayoutPath+"PaytableLayer.xml")],t.spriteSheets=[new y.SpritesheetVO(this.globalAssetPath+"PayTableModuleAssets.json")],t},e.prototype.getFreeRoundsModule=function(){var t=new r.ModuleConfigVO(u.Names.Modules.FREE_ROUNDS,N.MegawaysFreeRounds);return t.layers=[new r.ModuleLayerVO(u.Names.Layers.FREE_ROUNDS_START,this.deviceSpecificLayoutPath+"FreeRoundsStartPopupLayer.xml"),new r.ModuleLayerVO(u.Names.Layers.FREE_ROUNDS_UI,this.deviceSpecificLayoutPath+"FreeRoundsUILayer.xml"),new r.ModuleLayerVO(u.Names.Layers.FREE_ROUNDS_END,this.deviceSpecificLayoutPath+"FreeRoundsEndPopupLayer.xml")],t.spriteSheets=[new y.SpritesheetVO(this.globalAssetPath+"FreeRoundsModuleAssets.json")],t},e.prototype.getStripModule=function(){var t=new r.ModuleConfigVO(u.Names.Modules.STRIP,S.MegawaysStrip);return t.layers=[new r.ModuleLayerVO(u.Names.Layers.STRIP,this.deviceSpecificLayoutPath+"StripBarLayer.xml")],t},e.prototype.getConnectionModule=function(){var e=t.prototype.getConnectionModule.call(this);return e.className=A.MegawaysConnectionModule,e},e.prototype.getCertificationModule=function(){var e=t.prototype.getCertificationModule.call(this);return e.className=E.MegawaysCertificationModule,e},e.prototype.getGameSetupModule=function(){var e=t.prototype.getGameSetupModule.call(this);return e.className=g.MegawaysSlotGameSetupModule,e},e}(s.SlotEntryPointLogic);e.MegawaysEntryPointLogic=I},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(425),r=i(258),l=i(98),c=i(117),u=i(81),h=i(145),p=i(187),d=i(580),_=i(21),f=i(583),y=i(262),m=i(1),N=i(270),S=i(271),g=i(276),A=i(278),E=i(687),I=i(693),O=i(283),T=i(288),P=i(201),b=i(84),C=i(722),v=i(290),M=i(164),L=i(297),R=i(766),D=i(770),w=i(300),x=i(307),U=i(309),B=i(321),G=i(75),V=i(894),W=i(37),F=i(17),k=i(105),H=i(895),j=i(4),Y=i(897),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerModules=function(){t.prototype.registerModules.call(this),this.addModule(m.Names.Modules.AUTOMATED_TEST,this.getAutomatedTestModule()),this.addModule(m.Names.Modules.CHEAT_TOOL,this.getCheatToolModule()),this.addModule(m.Names.Modules.BACKGROUND,this.getBackgroundModule()),this.addModule(m.Names.Modules.PAYTABLE,this.getPaytableModule()),this.addModule(m.Names.Modules.SLOT_LOGIC,this.getLogicModule()),this.addModule(m.Names.Modules.CERTIFICATION,this.getCertificationModule()),this.addModule(m.Names.Modules.INTRO,this.getIntroModule()),this.addModule(m.Names.Modules.USER_INTERFACE,this.getUserInterfaceModule()),this.addModule(m.Names.Modules.STRIP,this.getStripModule()),this.addModule(m.Names.Modules.MENU,this.getMenuModule()),this.addModule(m.Names.Modules.WHEELS,this.getWheelsModule()),this.addModule(m.Names.Modules.AUTO_PLAY,this.getAutoPlayModule()),this.addModule(m.Names.Modules.WINNINGS,this.getWinningsModule()),this.addModule(m.Names.Modules.SOUND_EFFECT_MODULE,this.getSoundEffectsModule()),this.addModule(m.Names.Modules.FREE_ROUNDS,this.getFreeRoundsModule()),this.addModule(m.Names.Modules.LOGGER,this.getLoggerModule()),this.addModule(m.Names.Modules.BONUS_SYSTEM,this.getBonusSystemModule())},e.prototype.getGraphicsEngineModule=function(){var e=t.prototype.getGraphicsEngineModule.call(this);return e.className=Y.SlotGraphicsEngine,e},e.prototype.getGameSetupModule=function(){var e=t.prototype.getGameSetupModule.call(this);return e.className=B.SlotGameSetup,e},e.prototype.getConnectionModule=function(){var e=t.prototype.getConnectionModule.call(this);return e.className=N.SlotConnection,e},e.prototype.getPreloaderModule=function(){var e=t.prototype.getPreloaderModule.call(this);return e.className=H.SlotPreloader,e.others=[],e.layers=[new l.ModuleLayerVO(m.Names.Layers.PRELOADER,this.deviceSpecificLayoutPath+"PreloaderLayer.xml"),new l.ModuleLayerVO(m.Names.Layers.WARNING,this.deviceSpecificLayoutPath+"DialogueBoxesLayer.xml")],e.others.push(new P.OtherVO(j.Device.getGlobalBackgroundPath()+"BackgroundWide.jpg",b.FileTypes.IMAGE_FILE)),e.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"PreloaderModuleAssets.json")],this.addCommonGraphics(e),e},e.prototype.registerFonts=function(){t.prototype.registerFonts.call(this),this.addFont("noto_sanscondensed_bold")},e.prototype.defineMobileGameConfig=function(){var e=t.prototype.defineMobileGameConfig.call(this);return e.hasFreeSpins&&e.addProperty("FREE_SPINS_SETTINGS","freeSpinsSettings",{freeSpinsValues:[{name:"freeSpinsLeftValue"},{name:"freeSpinsTotalWinValue"},{name:"freeSpinsCurrentWinValue"}]}),_.TextField.FONT_MULTIPLIER=1,_.TextField.FONT_SCALE=1,e},e.prototype.defineDesktopGameConfig=function(){var e=t.prototype.defineDesktopGameConfig.call(this);return e.hasFreeSpins&&e.addProperty("FREE_SPINS_SETTINGS","freeSpinsSettings",{freeSpinsValues:[{name:"freeSpinsLeftValue"},{name:"freeSpinsTotalWinValue"},{name:"freeSpinsCurrentWinValue"}]}),e},e.prototype.defineAbstractGameConfig=function(){var t=new r.SlotGameConfigVO;return t.addProperty("WHEEL_COLUMNS_DETAILS","1",{columnBounds:"50,92,134,345",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),t.addProperty("WHEEL_COLUMNS_DETAILS","2",{columnBounds:"195,92,134,345",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),t.addProperty("WHEEL_COLUMNS_DETAILS","3",{columnBounds:"340,92,134,345",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),t.addProperty("WHEEL_COLUMNS_DETAILS","4",{columnBounds:"485,92,134,345",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),t.addProperty("WHEEL_COLUMNS_DETAILS","5",{columnBounds:"630,92,134,345",symbolRowSpacing:0,allowedSymbols:"1,2,3,4,5,6,7,8,9,10"}),t.addProperty("WHEEL_DECORATORS","decorators",[{decoratorDefinition:d.TweenWheelDecorator,decoratorName:"tweenWheelDecorator"},{decoratorDefinition:p.NearMissWheelDecorator,decoratorName:"nearMissWheelDecorator"},{decoratorDefinition:h.AnnounceSpecialSymbolWheelDecorator,decoratorName:"announceSpecialSymbolWheelDecorator"}]),t.addProperty("WHEEL_DECORATORS","tweenWheelDecorator",{wheelAnimationSpeed:80,acceleratingAnimationFramesCount:20,typeBumpStart:1,typeBumpEnd:1,startDelay:.1,stopDelay:.5,minimumDelay:.3,minimumSymbols:6,weightRandomSymbols:"5,5,5,5,5,5,3,3,3,3,3,3,1,1,1,1",symbolHeight:115,symbolScaleCorrection:1}),t.addProperty("WHEEL_DECORATORS","maskWheelDecorator",{limits:"0,0.02,0.98,1",layer:"overground"}),t.infoBoxBackground[u.SlotInfoBoxHandlerPixi.DESKTOP]=!1,t.infoBoxBackground[u.SlotInfoBoxHandlerPixi.MOBILE_LANDSCAPE]=!1,t.infoBoxBackground[u.SlotInfoBoxHandlerPixi.MOBILE_PORTRAIT]=!1,t.addProperty("WINNINGS_ANIMATIONS_DECORATORS","AnimateSymbolStaticWinningDecorator",{symbolsToAnimate:"1,2,3"}),t.addProperty("WINNINGS_ANIMATIONS_DECORATORS","AnimateSymbolOptionalStaticWinningDecorator",{symbolsToAnimate:-1}),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","useKeyOptimizedPool",!0),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","onlyShowAllAfterCycleComplete",!0),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","showWinningsAtRestore",!1),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","orderWinningsByWinningValue",!0),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","hideLoseSymbols",!1),t.addProperty("WINNINGS_ANIMATIONS_SETTINGS","dontHideSymbols",!0),t.addProperty("STRIP_VIEW","equalizeLabelSize",!0),t},e.prototype.getMoneyModule=function(){var e=t.prototype.getMoneyModule.call(this);return e.className=f.SlotMoney,e},e.prototype.getLogicModule=function(){return new l.ModuleConfigVO(m.Names.Modules.SLOT_LOGIC,y.SlotLogic)},e.prototype.getUserInterfaceModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.USER_INTERFACE,U.SlotUserInterface);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.GAMEPLAY_BUTTONS,this.deviceSpecificLayoutPath+"UserInterfaceLayer.xml")],t},e.prototype.getBackgroundModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.BACKGROUND,S.Background);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.BACKGROUND,this.deviceSpecificLayoutPath+"BackgroundLayer.xml"),new l.ModuleLayerVO(m.Names.Layers.SYMBOLS_BACKGROUND,this.deviceSpecificLayoutPath+"BackgroundModuleSymbolsBackgroundLayerLayout.xml"),new l.ModuleLayerVO(m.Names.Layers.SYMBOLS_FRAME,this.deviceSpecificLayoutPath+"BackgroundModuleSymbolsFrameLayerLayout.xml")],t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"BackgroundModuleAssets.json")],t},e.prototype.getCertificationModule=function(){var e=t.prototype.getCertificationModule.call(this);return e.className=g.SlotCertification,e},e.prototype.getIntroModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.INTRO,A.Intro);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.INTRO_FEATURES,this.deviceSpecificLayoutPath+"IntroLayer.xml")],t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"FeatureScreenModuleAssets.json")],t},e.prototype.getMenuModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.MENU,E.SlotMenu);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.MENU,this.deviceSpecificLayoutPath+"MenuLayer.xml")],t},e.prototype.getWheelsModule=function(){return new l.ModuleConfigVO(m.Names.Modules.WHEELS,I.Wheels)},e.prototype.getPaytableModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.PAYTABLE,O.Paytable);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.PAY_TABLE,this.deviceSpecificLayoutPath+"PaytableLayer.xml")],t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"PayTableModuleAssets.json")],t},e.prototype.getCheatToolModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.CHEAT_TOOL,T.SlotCheatTool);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.CHEAT_TOOL,this.deviceSpecificLayoutPath+"CheatToolLayer.xml")],t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"graphicsCommon/CheatTool.json")],t.others.push(new P.OtherVO(this.deviceSpecificLayoutPath+"CheatToolScenarios.json",b.FileTypes.ATLAS_FILE)),t},e.prototype.addCommonGraphics=function(t){t.others.push(new P.OtherVO(this.globalAssetPath+"graphicsCommon/SpriteSheets1.json",b.FileTypes.ATLAS_FILE)),t.others.push(new P.OtherVO(this.globalAssetPath+"graphicsCommon/SpriteSheets2.json",b.FileTypes.ATLAS_FILE)),t.others.push(new P.OtherVO(this.globalAssetPath+"graphicsCommon/SpriteSheets3.json",b.FileTypes.ATLAS_FILE))},e.prototype.getAutoPlayModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.AUTO_PLAY,C.AutoPlay);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.AUTO_PLAY,this.deviceSpecificLayoutPath+"AutoPlayLayer.xml")],t},e.prototype.getStripModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.STRIP,v.SlotStrip);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.STRIP,this.deviceSpecificLayoutPath+"StripBarLayer.xml")],t},e.prototype.getWinningsModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.WINNINGS,M.WinningsAnimations);return t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"SpecialMessagesModuleAssets.json"),new c.SpritesheetVO(this.globalAssetPath+"WinningsAnimationsModuleAssets.json"),new c.SpritesheetVO(this.globalAssetPath+"WinningsAnimationsModuleAssets1.json")],t},e.prototype.getSoundEffectsModule=function(){var e=t.prototype.getSoundEffectsModule.call(this);return e.className=x.SlotSoundEffects,e},e.prototype.getFreeRoundsModule=function(){var t=new l.ModuleConfigVO(m.Names.Modules.FREE_ROUNDS,L.FreeRounds);return t.layers=[new l.ModuleLayerVO(m.Names.Layers.FREE_ROUNDS_START,this.deviceSpecificLayoutPath+"FreeRoundsStartPopupLayer.xml"),new l.ModuleLayerVO(m.Names.Layers.FREE_ROUNDS_UI,this.deviceSpecificLayoutPath+"FreeRoundsUILayer.xml"),new l.ModuleLayerVO(m.Names.Layers.FREE_ROUNDS_END,this.deviceSpecificLayoutPath+"FreeRoundsEndPopupLayer.xml")],t.spriteSheets=[new c.SpritesheetVO(this.globalAssetPath+"FreeRoundsModuleAssets.json")],t},e.prototype.getAutomatedTestModule=function(){var e=t.prototype.getAutomatedTestModule.call(this);return e.className=w.SlotAutomatedTest,e},e.prototype.getBonusSystemModule=function(){var e=t.prototype.getBonusSystemModule.call(this);return e.className=R.SlotBonusSystem,e.layers=[new l.ModuleLayerVO(m.Names.Layers.BONUS_SYSTEM_END,this.deviceSpecificLayoutPath+"BonusSystemEndPopupLayer.xml")],e},e.prototype.masterLayoutConfig=function(){t.prototype.masterLayoutConfig.call(this),this.configMasterLayoutsSymbols(),this.configMasterLayoutsTextfields()},e.prototype.configMasterLayoutsFontFamilies=function(){t.prototype.configMasterLayoutsFontFamilies.call(this),W.MasterLayoutConfig.mapFontFamily("NotoSans-CondensedBold","noto_sanscondensed_bold")},e.prototype.configMasterLayoutsManifest=function(){var t=void 0;W.MasterLayoutConfig.symbolPrefabsVersion&&(t=[this.globalAssetPath+"bundles/bundle_Main.desktop.json",this.globalAssetPath+"bundles/bundle_Main.mobile.landscape.json"]);var e=new V.DTProjectDetails(G.DTConstants.GAME_CONTENT,this.globalAssetPath,[this.globalAssetPath+"manifest_desktop.json",this.globalAssetPath+"manifest_mobile.json"]);if(e.symbols=t,W.MasterLayoutConfig.mapProject(e.projectType,e),this.gameConfig.usesUIv3){var i=new V.DTProjectDetails(G.DTConstants.UI_CONTENT,this.globalUIAssetPath,[this.globalUIAssetPath+"manifest_desktop.json",this.globalUIAssetPath+"manifest_mobile.json"]);W.MasterLayoutConfig.mapProject(i.projectType,i)}},e.prototype.configMasterLayoutsSymbols=function(){},e.prototype.configMasterLayoutsTextfields=function(){},e.prototype.retrieveAutomatedTestCode=function(){var t=F.ServiceLocator.instance().get("Settings"),e=t.contains(["test_api_endpoint","test_job"]);if(t.map("hasAutomationTest",e),e){k.ATMPublicApiService.instance;var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",s.isNil(t.getValue("test_module_url"))?"https://demo.isoftbet.com/flashgames/automate_testing/test_module.min.js":t.getValue("test_module_url")),document.body.appendChild(i)}},e.prototype.getLoggerModule=function(){var e=t.prototype.getLoggerModule.call(this);return e.className=D.SlotLogger,e},e}(a.EntryPointLogic);e.SlotEntryPointLogic=X},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(98),r=i(127),l=i(80),c=i(97),u=i(6),h=i(37),p=i(17),d=i(426),_=i(221),f=i(233),y=i(234),m=i(236),N=i(240),S=i(531),g=i(4),A=i(1),E=i(241),I=i(242),O=i(243),T=i(247),P=i(559),b=i(578),C=i(248),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fonts=new Array,e}return o(e,t),e.prototype.configGame=function(){var e=this;t.prototype.configGame.call(this),this.doPerformanceTest().then((function(){e.registerServices(),e.instantiateDevice(),e.initContextMenu()}))},e.prototype.configureSceneManager=function(){},e.prototype.postSceneManagerConfiguration=function(){},e.prototype.initContextMenu=function(){u.Log.forceLogConsolech("Version","Game Version : "+this.gameVersion().getComposedVersion()),u.Log.forceLogConsolech("Version","Client Review : "+this.gameVersion().crDeploy),u.Log.forceLogConsolech("Version","QA : "+this.gameVersion().qaDeploy)},e.prototype.gameVersion=function(){return new S.GameVersionVO},e.prototype.instantiateDevice=function(){g.Device.setReadyCallback(this.deviceReady.bind(this)),p.ServiceLocator.instance().instantiate("Device"),p.ServiceLocator.instance().instantiate("HardwareEvents")},e.prototype.deviceReady=function(){t.prototype.deviceReady.call(this),g.Device.pixiInitialized(),this.initGlobalAssetsPaths(),this.initFonts(),this.initOthers(),this.parseLauncherParams(),this.retrieveAutomatedTestCode(),this.saveGameConfig(),this.initGraphicsEngineModule(),this.configureSceneManager(),this.postSceneManagerConfiguration(),this.gameConfig.useMasterLayout&&this.masterLayoutConfig(),g.Device.handleTouchEvents(),this.registerCoreModules(),this.registerModules(),this.startApplication(),window.isb_start_time=new Date},e.prototype.defineDesktopGameConfig=function(){return this.defineAbstractGameConfig()},e.prototype.defineMobileGameConfig=function(){return this.defineAbstractGameConfig()},e.prototype.defineMiniGameConfig=function(){return this.defineAbstractGameConfig()},e.prototype.defineAbstractGameConfig=function(){return new N.GameConfigVO},e.prototype.defineGameConfig=function(){var t=null;switch(g.Device.CLASS_INDEX){case g.Device.CLASS_INDEX_DESKTOP:t=this.defineDesktopGameConfig();break;case g.Device.CLASS_INDEX_MOBILE:t=this.defineMobileGameConfig();break;case g.Device.CLASS_INDEX_MINIGAME:t=this.defineMiniGameConfig();break;default:u.Log.warning("Unknow device")}return t},e.prototype.initGlobalAssetsPaths=function(){this.globalAssetPath=g.Device.getGlobalAssetPath(),this.globalUIAssetPath=g.Device.getUIAssetPath(),this.globalMobileAssetPath=g.Device.getMobileGlobalAssetPath(),this.globalMiniAssetPath=g.Device.getMiniGlobalAssetPath(),this.globalTabletAssetPath=g.Device.getTabletGlobalAssetPath(),this.deviceSpecificLayoutPath=g.Device.getDeviceSpecificLayoutPath(),this.deviceGlobalIconsPath=g.Device.getGlobalIconsPath(),this.deviceGlobalSoundPath=g.Device.getGlobalSoundPath(),this.deviceGlobalSoundSpritesPath=g.Device.getGlobalSoundSpritesPath(),this.deviceGlobalSoundSeparatePath=g.Device.getGlobalSoundSeparatePath(),this.deviceGlobalSoundOptionalPath=g.Device.getGlobalSoundOptionalPath()},e.prototype.saveGameConfig=function(){this.gameConfig=this.defineGameConfig();var t=p.ServiceLocator.instance().get("Settings");t.map("GameConfig",this.gameConfig),t.map("gameVersion",this.gameVersion().getComposedVersion()),t.map("crDeploy",this.gameVersion().crDeploy),t.map("qaDeploy",this.gameVersion().qaDeploy)},e.prototype.registerCoreModules=function(){this.addModule(A.Names.Modules.LOADER,this.getLoaderModule()),this.addModule(A.Names.Modules.CONNECTION,this.getConnectionModule()),this.addModule(A.Names.Modules.MONEY,this.getMoneyModule()),this.addModule(A.Names.Modules.SOUND,this.getSoundModule()),this.addModule(A.Names.Modules.PRELOADER,this.getPreloaderModule())},e.prototype.registerModules=function(){},e.prototype.addFont=function(t){this.fonts.push(t)},e.prototype.registerFonts=function(){this.addFont("noto_sansregular")},e.prototype.initFonts=function(){this.registerFonts(),r.FontObserver.FONT_NAMES=this.fonts,r.FontObserver.instance().loadAllFonts()},e.prototype.initOthers=function(){var t=p.ServiceLocator.instance();t.instantiate("Settings"),t.instantiate("Translations"),t.instantiate("ViewFactory"),t.instantiate("MediatorFactory"),t.instantiate("TextureUtil"),t.instantiate("SVGUtil"),t.instantiate("VisualAssetsMap"),t.instantiate("SpineManager")},e.prototype.startApplication=function(){this.initGameConfigModule(),this.sendGlobalNotification(s.Notifications.Global.START_APPLICATION)},e.prototype.getLoaderModule=function(){var t=new a.ModuleConfigVO(A.Names.Modules.LOADER,E.Loader);return t.configs={soundManifest:this.deviceGlobalSoundSeparatePath+"manifest.json",optionalSoundManifest:this.deviceGlobalSoundOptionalPath+"manifest.json"},t},e.prototype.getConnectionModule=function(){return new a.ModuleConfigVO(A.Names.Modules.CONNECTION,m.Connection)},e.prototype.getMoneyModule=function(){return new a.ModuleConfigVO(A.Names.Modules.MONEY,I.Money)},e.prototype.getSoundModule=function(){var t=new a.ModuleConfigVO(A.Names.Modules.SOUND,P.Sound),e=this.getSoundDetails();return t.sounds=[],t.soundSprites=[],t.optional={soundSeparate:{hasSeparateSounds:!1,notification:s.Notifications.Sound.OPTIONAL_SOUNDS_LOADED},soundSprites:{group:[{sound:e.path+e.soundName,json:e.path+e.jsonName}],notification:s.Notifications.Sound.OPTIONAL_SOUNDS_LOADED}},t},e.prototype.getSoundDetails=function(){var t=new b.SoundDetails;return t.path=this.deviceGlobalSoundSpritesPath,t.soundName="all_sounds.mp3",t.jsonName="all_sounds.json",t},e.prototype.getPreloaderModule=function(){return new a.ModuleConfigVO(A.Names.Modules.PRELOADER,O.Preloader)},e.prototype.addCommonGraphics=function(t){},e.prototype.getCertificationModule=function(){return new a.ModuleConfigVO(A.Names.Modules.CERTIFICATION,y.Certification)},e.prototype.getSoundEffectsModule=function(){return new a.ModuleConfigVO(A.Names.Modules.SOUND_EFFECT_MODULE,T.SoundEffects)},e.prototype.getAutomatedTestModule=function(){return new a.ModuleConfigVO(A.Names.Modules.AUTOMATED_TEST,_.AutomatedTest)},e.prototype.getBonusSystemModule=function(){return new a.ModuleConfigVO(A.Names.Modules.BONUS_SYSTEM,f.BonusSystem)},e.prototype.setDefaultParams=function(t){t.map("name","237,fun"),t.map("password","fun"),t.map("currency","EUR"),t.map("tokenuse",0),t.map("funmode",!0),t.map("newSkinIDFormat",!1),t.map("isLocal",!0);var e=l.Language.ENGLISH;t.map("lang",c.LanguageUtil.getLanguageExtension(e)),t.map("langue",c.LanguageUtil.getLanguageId(e))},e.prototype.masterLayoutConfig=function(){this.configMasterLayoutsManifest(),this.configMasterLayoutsScenes(),this.configMasterLayoutsLayers(),this.configMasterLayoutsFontFamilies()},e.prototype.configMasterLayoutsScenes=function(){},e.prototype.configMasterLayoutsLayers=function(){},e.prototype.configMasterLayoutsFontFamilies=function(){h.MasterLayoutConfig.mapFontFamily("NotoSans-Regular","noto_sansregular")},e.prototype.configMasterLayoutsManifest=function(){},e.prototype.parseLauncherParams=function(){var t=p.ServiceLocator.instance().get("Settings");this.setDefaultParams(t),t.parseParameters(),document.documentElement.lang=t.getValue("lang")},e.prototype.retrieveAutomatedTestCode=function(){},e.prototype.getLoggerModule=function(){return new a.ModuleConfigVO(A.Names.Modules.LOGGER,C.Logger)},e}(d.AbstractEntryPointLogic);e.EntryPointLogic=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),s=i(98),a=i(182),r=i(17),l=i(197),c=i(2),u=i(218),h=i(501),p=i(502),d=i(4),_=i(109),f=i(87),y=i(116),m=i(139),N=i(15),S=i(82),g=i(42),A=i(35),E=function(){function t(){this.modules=[],this.services={},this.configGame()}return t.prototype.addModule=function(t,e){this.modules.push(e)},t.prototype.deleteModule=function(t){n.remove(this.modules,(function(e){return e.moduleId==t}))},t.prototype.addService=function(t,e){this.hasService(t)||(this.services[t]=e)},t.prototype.deleteService=function(t){this.hasService(t)&&delete this.services[t]},t.prototype.replaceService=function(t,e){this.deleteService(t),this.addService(t,e)},t.prototype.getService=function(t){var e;return this.hasService(t)&&(e=this.services[t]),e},t.prototype.hasService=function(t){return n.has(this.services,t)},t.prototype.initGraphicsEngineModule=function(){var t=r.ServiceLocator.instance(),e=this.getGraphicsEngineModule();t.register(e.moduleId,e.className),t.instantiate(e.moduleId,e.moduleId)},t.prototype.initGameConfigModule=function(){var t=r.ServiceLocator.instance(),e=this.getGameSetupModule();t.register(e.moduleId,e.className),t.instantiate(e.moduleId,e.moduleId),this.sendGlobalNotification(c.Notifications.GameSetup.SET_GAME_MODULES,{modules:this.modules})},t.prototype.addServices=function(){this.addService("SignalsManager",this.getSignalsManagerService()),this.addService("MVC",this.getMvcService()),this.addService("Device",this.getDeviceService()),this.addService("HardwareEvents",this.getHardwareEventsService()),this.addService("Settings",this.getSettingsService()),this.addService("Translations",this.getTranslationsService()),this.addService("ViewFactory",this.getViewFactoryService()),this.addService("MediatorFactory",this.getMediatorFactoryService()),this.addService("TextureUtil",this.getTextureUtilService()),this.addService("SVGUtil",this.getSVGUtilService()),this.addService("VisualAssetsMap",this.getVisualAssetsMapService()),this.addService("SpineManager",this.getSpineManagerService())},t.prototype.registerServices=function(){this.addServices();var t=r.ServiceLocator.instance();n.each(this.services,(function(e){t.register(e.id,e.implementation,e.isSingleton)}))},t.prototype.deviceReady=function(){this.initMvc()},t.prototype.initMvc=function(){var t=r.ServiceLocator.instance(),e=t.instantiate("SignalsManager");t.instantiate("MVC",e)},t.prototype.getGraphicsEngineModule=function(){return new s.ModuleConfigVO(o.Names.Modules.GRAPHICS_ENGINE,u.GraphicsEngine)},t.prototype.getGameSetupModule=function(){return new s.ModuleConfigVO(o.Names.Modules.GAME_SETUP,l.GameSetup)},t.prototype.sendNotification=function(t,e,i,n){a.Mvc.getInstance().sendNotification(t,e,i,n)},t.prototype.sendGlobalNotification=function(t,e,i){a.Mvc.getInstance().sendGlobalNotification(t,e,i)},t.prototype.configGame=function(){},t.prototype.getSignalsManagerService=function(){return new h.ServiceVo("SignalsManager",p.SignalsManager,!0)},t.prototype.getMvcService=function(){return new h.ServiceVo("MVC",a.Mvc,!0)},t.prototype.getDeviceService=function(){return new h.ServiceVo("Device",d.Device,!0)},t.prototype.getHardwareEventsService=function(){return new h.ServiceVo("HardwareEvents",_.HardwareEvents,!0)},t.prototype.getSettingsService=function(){return new h.ServiceVo("Settings",f.Settings,!0)},t.prototype.getTranslationsService=function(){return new h.ServiceVo("Translations",y.Translations,!0)},t.prototype.getViewFactoryService=function(){return new h.ServiceVo("ViewFactory",m.ViewFactory,!0)},t.prototype.getMediatorFactoryService=function(){return new h.ServiceVo("MediatorFactory",m.MediatorFactory,!0)},t.prototype.getTextureUtilService=function(){return new h.ServiceVo("TextureUtil",N.TextureUtil,!0)},t.prototype.getSVGUtilService=function(){return new h.ServiceVo("SVGUtil",S.SVGUtil,!0)},t.prototype.getVisualAssetsMapService=function(){return new h.ServiceVo("VisualAssetsMap",g.VisualAssetsMap,!0)},t.prototype.getSpineManagerService=function(){return new h.ServiceVo("SpineManager",A.SpineManager,!0)},t.prototype.doPerformanceTest=function(){return new Promise((function(t,e){var i=new PerformanceDetector.Core;PerformanceDetector.Core.device.isDesktop?t():(i.createRenderer(document.body),i.measure((function(){i.concludeTest(!1,(function(){i.report(console.log),t()}))})))}))},t}();e.AbstractEntryPointLogic=E},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(5),r=i(134),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.States.ERROR,{code:r.Errors.ASSET_DOWNLOAD_ERROR,details:e.body}),this.sendGlobalNotification(l.Notifications.GameSetup.MODULE_LOAD_ERROR,e.body),this.sendGlobalNotification(l.Notifications.Global.TERMINATE_GAME)},e}(s.Controller);e.ModuleAssetDownloadErrorCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validateStartGameProxy.validateCondition(t.name)},e.prototype.initVars=function(){s.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(r.Names.Proxies.VALIDATE_START_GAME))},e}(a.Controller);e.AllModulesInitializedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.sendGlobalNotification(r.Notifications.Global.UPDATE_LOADING_STEP),this.layersProxy.drawLayers()},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(l.Names.Proxies.LAYERS))},e}(a.Controller);e.AllModulesLoadedCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){},e}(i(3).Controller);e.AssetsFileCompletedCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(3).Controller);e.AssetsFileErrorCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.validateStartGameProxy.validateCondition(e.name)},e.prototype.initVars=function(){s.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(r.Names.Proxies.VALIDATE_START_GAME))},e}(a.Controller);e.AutomationLibraryInitializedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.changeState(t.body)},e.prototype.changeState=function(t){this.stateMachineProxy.changeState(t)},e.prototype.initVars=function(){s.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveProxy(r.Names.Proxies.STATE_MACHINE))},e}(a.Controller);e.ChangeStateCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(103),l=i(20),c=i(4),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SETTINGS_URL=window.location.protocol+"//gpm.isoftbet.com/generate-xml/games/{1}/7/{2}/{3}/{4}",e.CONNECTION_URL=window.location.protocol+"//gpm.isoftbet.com/generate-xml/games/{1}/5/{2}/{3}/{4}",e.TRANSLATIONS_URL=window.location.protocol+"//gpm.isoftbet.com/generate-xml/games/{1}/3/{2}/{3}/{4}",e.skinID="",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.skinID=this.gameConfigVO.skinID.toString();var e=this.settings.getValue("langue");this.settings.getValue("isLocal")?(this.SETTINGS_URL=l.StringUtil.replacePlaceHolders(this.SETTINGS_URL,["{1}","{2}","{3}","{4}"],["77",this.skinID,e,"1"]),s.isNil(t.body)||s.isNil(t.body.reload)||"TRANSLATIONS_URL"!=t.body.reload||1!=this.settings.getValue("ALLOW_CHEAT_TOOL")||(this.TRANSLATIONS_URL=window.location.protocol+"//gpm.isoftbet.com/generate-xml/games/{1}/3/{2}/{3}/{4}"),this.TRANSLATIONS_URL=l.StringUtil.replacePlaceHolders(this.TRANSLATIONS_URL,["{1}","{2}","{3}","{4}"],["77",this.skinID,e,"1"]),this.CONNECTION_URL=l.StringUtil.replacePlaceHolders(this.CONNECTION_URL,["{1}","{2}","{3}","{4}"],["77",this.skinID,e,"1"])):(s.isNil(this.settings.getValue("market"))?this.SETTINGS_URL=c.Device.ASSET_PATH_BASE+"assets/xml/settings.xml":(this.SETTINGS_URL=c.Device.ASSET_PATH_BASE+"assets/xml/settings_"+this.settings.getValue("market").toUpperCase()+".xml",r.FileUtil.isFileExist(this.SETTINGS_URL)||(this.SETTINGS_URL=c.Device.ASSET_PATH_BASE+"assets/xml/settings.xml")),this.TRANSLATIONS_URL=c.Device.ASSET_PATH_BASE+"assets/xml/translation_"+this.settings.getValue("lang").toLowerCase()+".xml"),this.settings.map("settings_url",this.cacheBuster(this.SETTINGS_URL)),this.settings.map("connection_url",this.CONNECTION_URL),this.settings.map("translations_url",this.cacheBuster(this.TRANSLATIONS_URL))},e.prototype.initVars=function(){s.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig"))},e.prototype.cacheBuster=function(t){return-1==t.indexOf("?")?t+="?v="+Date.now():t+="&v="+Date.now(),t},e}(a.Controller);e.ConfigAssetsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.modulesProxy.destroyModule(t.body)},e.prototype.initVars=function(){s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(r.Names.Proxies.MODULES))},e}(a.Controller);e.DestroyModuleCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars(),this.layersProxy.drawNextLayer().then((function(t){t?e.sendNotification(r.Notifications.GameSetup.DRAW_NEXT_LAYER):(e.sendGlobalNotification(r.Notifications.Global.UPDATE_LOADING_STEP),e.viewInitProxy.start(),e.validateStartGameProxy.validateCondition(r.Notifications.GameSetup.ALL_MODULES_LOADED))}))},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(l.Names.Proxies.LAYERS)),s.isNil(this.viewInitProxy)&&(this.viewInitProxy=this.retrieveProxy(l.Names.Proxies.VIEWS)),s.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(l.Names.Proxies.VALIDATE_START_GAME))},e}(a.Controller);e.DrawNextLayerCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body.exceptions;i||(i=[]),e.body.visible?this.layersProxy.showPixiLayers(i):this.layersProxy.hidePixiLayers(i)},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(r.Names.Proxies.LAYERS))},e}(a.Controller);e.HideLayersCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.layersProxy.displayAllLayerAfterInitial()},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(r.Names.Proxies.LAYERS))},e}(a.Controller);e.InitialSetupCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars(),this.viewInitProxy.initializeNextViewsFromAModule().then((function(t){t&&e.sendNotification(r.Notifications.GameSetup.INITIALIZE_NEXT_MODULE)}))},e.prototype.initVars=function(){s.isNil(this.viewInitProxy)&&(this.viewInitProxy=this.retrieveProxy(l.Names.Proxies.VIEWS))},e}(a.Controller);e.InitializeNextModuleCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){for(var e=this.retrieveProxy(a.Names.Proxies.STATE_MACHINE),i=t.body.length,n=0;n<i;n++){var o=t.body[n];e.addState(o.stateName,{from:o.from,enter:o.onEnter,exit:o.onExit,removeFrom:o.removeFrom})}},e}(s.Controller);e.InjectFSMCommand=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.loaded=!1,this.loaderOptions={crossOrigin:!0}};e.GroupFileDetails=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(116),l=i(135),c=i(199),u=i(84),h=i(2),p=i(37),d=i(4),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=new l.GroupFileVO(c.GroupFileNames.ASSETS_FILES);s.isNil(t.body)||s.isNil(t.body.reload)?(1==JSON.parse(this.settings.getValue("isLocal"))&&e.addFile("connection",this.settings.getValue("connection_url"),u.FileTypes.XML_FILE),e.addFile("settings",this.settings.getValue("settings_url"),u.FileTypes.XML_FILE),e.addFile("translations",this.settings.getValue("translations_url"),u.FileTypes.XML_FILE)):e.addFile(r.Translations.RELOAD_LANG_FILE+t.body.reload,this.settings.getValue("translations_url"),u.FileTypes.XML_FILE),this.gameConfig.useMasterLayout&&s.each(p.MasterLayoutConfig.projects,(function(t){e.addFile(t.urlKey,t.manifests[d.Device.CLASS_INDEX],u.FileTypes.JSON_FILE),p.MasterLayoutConfig.symbolPrefabsVersion&&!s.isEmpty(t.symbols)&&e.addFile("manifest_symbols",t.symbols[d.Device.CLASS_INDEX],u.FileTypes.JSON_FILE)})),e.completeNotification=h.Notifications.Global.XML_ASSETS_FILE_DOWNLOADED,e.errorNotification=h.Notifications.Global.XML_ASSETS_FILE_DOWNLOAD_ERROR,e.isUrgent=!0,this.loadGroup(e)},e.prototype.loadGroup=function(t){this.sendGlobalNotification(h.Notifications.Global.LOAD_GROUP,t)},e.prototype.initVars=function(){s.isNil(this.gameConfig)&&(this.gameConfig=this.settings.getValue("GameConfig"))},e}(a.Controller);e.LoadXmlAssetsCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(84),l=i(6),c=i(37),u=i(135),h=i(2),p=i(199),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=t.body.project;e.groupId.replace("{1}",p.GroupFileNames.MANIFEST_MASTER_LAYOUTS);var i=new u.GroupFileVO(e.groupId),n=t.body.data;s.isEmpty(n)?l.Log.error("LoadMasterLayoutsCommand-> Please check the manifest. No files found to load."):(s.each(n,(function(t,e){var n=c.MasterLayoutConfig.projects[t.projectType].path+"layout_"+t.path;i.addFile(t.module,n,r.FileTypes.MASTER_LAYOUT)})),this.addExtraFileToFileGroup(i),this.initFileGroupSettings(i),this.sendGlobalNotification(h.Notifications.Global.LOAD_GROUP,i))},e.prototype.initFileGroupSettings=function(t){t.completeNotification=h.Notifications.MasterLayout.MASTER_LAYOUTS_DOWNLOADED,t.errorNotification=h.Notifications.MasterLayout.MASTER_LAYOUTS_DOWNLOAD_ERROR,t.isUrgent=!0},e.prototype.addExtraFileToFileGroup=function(t){},e}(a.Controller);e.LoadMasterLayoutsCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=i(37),u=i(104),h=PIXI.loaders.Resource,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var i=this;this.initVars(),e.timesExecuted++;var n=t.body,o=c.MasterLayoutConfig.getProjectWithKey(n.id),a=[];s.each(n,(function(t,e){if(t instanceof h){var n=c.MasterLayoutConfig.getScene(e),o=i.modulesProxy.getModuleIndex(n),s=u.LayoutType.DESKTOP;t.name.indexOf("."+u.LayoutType.LANDSCAPE)>-1?s=u.LayoutType.LANDSCAPE:t.name.indexOf("."+u.LayoutType.PORTRAIT)>-1&&(s=u.LayoutType.PORTRAIT),a.push({data:t.data,order:o,layoutType:s,name:t.name})}})),this.masterLayoutProxy.parseLayouts(a,o),e.timesExecuted==this.getProjectsCount()&&this.sendGlobalNotification(r.Notifications.Global.SETTINGS_LOADED)},e.prototype.initVars=function(){s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(l.Names.Proxies.MODULES)),s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(l.Names.Proxies.MASTER_LAYERS,l.Names.Modules.GAME_SETUP))},e.prototype.getProjectsCount=function(){var t=0;return s.each(c.MasterLayoutConfig.projects,(function(){t++})),t},e.timesExecuted=0,e}(a.Controller);e.MasterLayoutsDownloadedCommand=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._hasSkeleton=!1,this.checkSpriteToOptional=!1}return Object.defineProperty(t.prototype,"hasSkeleton",{get:function(){return this._hasSkeleton},enumerable:!0,configurable:!0}),t.prototype.setSkeleton=function(t,e){this.skeletonFilePath=t,this.skeletonFileType=e,this._hasSkeleton=!0},t.prototype.setAtlas=function(t,e){this.atlasFilePath=t,this.atlasFileType=e},t}();e.SpineAnimationVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.ManifestData=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.ManifestDependencyVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.IMAGE="image",t.SPRITESHEET="spritesheet",t.SPINE="spine",t.SPINE_ATLAS="spineAtlas",t.SPINE_WITH_ATLAS="spineWithAtlas",t.PARTICLES="particles",t}();e.ManifestDependencyTypes=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),t.body&&(this.modulesProxy.hasBeenInitialized(t.body),t.body!=r.Names.Modules.PRELOADER?this.sendNotification(l.Notifications.Global.INITIALIZING_MODULE,t.body,t.body):this.sendGlobalNotification(l.Notifications.Global.CONNECT_TO_SERVER))},e.prototype.initVars=function(){s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(r.Names.Proxies.MODULES))},e}(a.Controller);e.ModuleInitializedCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(5),l=i(1),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),t.body==l.Names.Modules.PRELOADER){this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,r.States.PRELOADER),this.sendNotification(c.Notifications.Global.INITIALIZE_MODULE,t.body,t.body,!0);var e=this.modulesProxy.getModule(l.Names.Modules.SOUND);new e.className(l.Names.Modules.SOUND),this.sendNotification(c.Notifications.GameSetup.LOAD_MODULE,e,l.Names.Modules.GAME_SETUP,!0)}else this.sendNotification(c.Notifications.Global.INITIALIZE_MODULE,t.body,t.body,!0)},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(l.Names.Proxies.LAYERS)),s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(l.Names.Proxies.MODULES))},e}(a.Controller);e.ModuleLoadedCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.responsiveLayoutProxy.recalculatePositions()},e.prototype.initVars=function(){r.isNil(this.responsiveLayoutProxy)&&(this.responsiveLayoutProxy=this.retrieveGlobalProxy(a.Names.Proxies.RESPONSIVE_LAYOUT,a.Names.Modules.GAME_SETUP))},e}(s.Controller);e.ScreenResizedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.START_DISPATCHING_DATA)},e}(s.Controller);e.PostStartValidationCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(8),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){a.SceneManager.resizeEvent(this.gameResized.bind(this))},e.prototype.gameResized=function(){this.sendGlobalNotification(r.Notifications.Global.DEVICE_SCREEN_RESIZED,null,!0)},e}(s.Controller);e.ScreenResizeCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(8),r=i(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){t.body.visible?(a.SceneManager.renderer.view.style.display="",a.SceneManager.layerContainer.style.display="",r.Device.goFullScreen(),a.SceneManager.resizeEvent()):(a.SceneManager.renderer.view.style.display="none",a.SceneManager.layerContainer.style.display="none")},e}(s.Controller);e.SetCanvasVisibilityCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.settings.getValue("hasAutomationTest")&&this.validateStartGameProxy.validateCondition(e.name)},e.prototype.initVars=function(){s.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(r.Names.Proxies.VALIDATE_START_GAME))},e}(a.Controller);e.SoundParsedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.layersProxy.initializeLayers(),this.sendNotification(r.Notifications.GameSetup.CONFIG_XML_ASSETS),this.sendNotification(r.Notifications.GameSetup.LOAD_XML_ASSETS)},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveProxy(l.Names.Proxies.LAYERS))},e}(a.Controller);e.StartApplicationCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.startDispatchingDataFromConnectionProxy()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e.prototype.startDispatchingDataFromConnectionProxy=function(){this.connectionProxy.startDispatchingData()},e}(a.Controller);e.StartDispatchingDataCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validateStartGameProxy.validateCondition(t.name)},e.prototype.initVars=function(){s.isNil(this.validateStartGameProxy)&&(this.validateStartGameProxy=this.retrieveProxy(r.Names.Proxies.VALIDATE_START_GAME))},e}(a.Controller);e.TranslationsLoadedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"modules",{get:function(){return this._modules},enumerable:!0,configurable:!0}),e.prototype.setModules=function(t){this._modules=t},e.prototype.initializeModules=function(){var t=this;this.filesDownloadTime=performance.now(),PIXI.loader.loading=!0,s.each(this._modules,(function(e){e.moduleId!=r.Names.Modules.PRELOADER&&e.moduleId!=r.Names.Modules.LOADER&&e.moduleId!=r.Names.Modules.SOUND&&(new e.className(e.moduleId),t.sendNotification(l.Notifications.GameSetup.LOAD_MODULE,e,t.currentScope,!0))}))},e.prototype.initializePreloader=function(){var t=s.find(this.modules,["moduleId",r.Names.Modules.PRELOADER]);new t.className(t.moduleId),this.sendNotification(l.Notifications.GameSetup.LOAD_MODULE,t)},e.prototype.initializeLoader=function(){var t=s.find(this.modules,["moduleId",r.Names.Modules.LOADER]);new t.className(t.moduleId),this.sendNotification(l.Notifications.GameSetup.LOAD_MODULE,t)},e.prototype.addModule=function(t,e){this.isAdded(t)||this._modules.push(e)},e.prototype.removeModule=function(t){if(this.isAdded(t)){var e=this.getModuleIndex(t);this._modules.splice(e,1)}},e.prototype.getModule=function(t){var e;return this.isAdded(t)&&(e=s.filter(this._modules,["moduleId",t])[0]),e},e.prototype.getModuleIndex=function(t){return s.findIndex(this._modules,["moduleId",t])},e.prototype.hasBeenInitialized=function(t){s.find(this._modules,["moduleId",t]).initialized=!0,this.checkForFinality()},e.prototype.hasBeenLoaded=function(t){var e=this;this.sendNotification(l.Notifications.GameSetup.MODULE_LOADED,t,r.Names.Modules.GAME_SETUP),this.sendNotification(l.Notifications.GameSetup.MODULE_LOADED,t,t),requestAnimationFrame((function(){e.checkForLoading(t)}))},e.prototype.isAdded=function(t){var e=!1;return s.find(this._modules,["moduleId",t])&&(e=!0),e},e.prototype.destroyModule=function(t){},e.prototype.checkForFinality=function(){s.filter(this._modules,["initialized",!0]).length===this._modules.length&&this.sendGlobalNotification(l.Notifications.GameSetup.ALL_MODULES_INITIALIZED)},e.prototype.checkForLoading=function(t){s.find(this._modules,["moduleId",t]).loaded=!0,s.filter(this._modules,["loaded",!0]).length===this._modules.length&&(this.filesDownloadTime=(performance.now()-this.filesDownloadTime)/1e3,this.settings.map("filesDownloadTime",this.filesDownloadTime),this.sendGlobalNotification(l.Notifications.GameSetup.ALL_MODULES_LOADED))},e}(a.Proxy);e.ModulesProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(8),l=i(2),c=i(4),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addReloadHandler=function(t){e._destroyHandlers.push({functionToCall:t,functionCalled:!1})},e}return o(e,t),e.prototype.postRegister=function(){var t=this;s.isNil(this._destroyHandlers)&&(this._destroyHandlers=[]),window.onbeforeunload=function(){t._onDestroy()},window.onunload=function(){t._onDestroy()},window.onhashchange=function(){t._onDestroy()},this.addReloadHandler((function(){r.SceneManager.destroy()})),this.addReloadHandler((function(){t.destroyLoader()})),this.addReloadHandler((function(){t.destoryForIE()})),this.addReloadHandler((function(){t.destoryForHTML()}))},e.prototype._onDestroy=function(){this.sendGlobalNotification(l.Notifications.Global.UNLOADING_GAME),s.forEach(this._destroyHandlers,(function(t){0==t.functionCalled&&"function"==typeof t.functionToCall&&(t.functionToCall(),t.functionCalled=!0)}))},e.prototype.destroyLoader=function(){PIXI.loader.resources={},PIXI.loader.reset(),PIXI.loader.destroy()},e.prototype.destoryForHTML=function(){$("html").remove()},e.prototype.destoryForIE=function(){c.Device.instance().ie&&s.isFunction(window.CollectGarbage)&&window.CollectGarbage()},e}(a.Proxy);e.ReloadGameProxy=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13),a=i(462),r=i(5),l=i(2),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateMachineHolder=new a.StateMachine,e.onEnterDictionary={},e.onExitDictionary={},e}return o(e,t),e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),this.addState(r.States.START,{from:r.States.START}),this.addState(r.States.PRELOADER,{from:r.States.START}),this.addState(r.States.END,{from:r.States.END}),this.stateMachineHolder.initialState=r.States.START},e.prototype.addState=function(t,e){void 0===e&&(e=void 0),"string"==typeof e.enter&&(this.onEnterDictionary[t]=e.enter,e.enter=this.onEnterState.bind(this)),"string"==typeof e.exit&&(this.onExitDictionary[t]=e.exit,e.exit=this.onExitState),this.stateMachineHolder.addState(t,e)},e.prototype.deleteState=function(t){this.stateMachineHolder.deleteState(t)},e.prototype.changeState=function(t){this.stateMachineHolder.changeState(t)},e.prototype.canChangeStateTo=function(t){return this.stateMachineHolder.canChangeStateTo(t)},Object.defineProperty(e.prototype,"state",{get:function(){return this.stateMachineHolder.state},enumerable:!0,configurable:!0}),e.prototype.onExitState=function(t){this.sendGlobalNotification(this.onExitDictionary[t.fromState])},e.prototype.onEnterState=function(t){this.sendGlobalNotification(l.Notifications.Global.STATE_CHANGED,this.onEnterDictionary[t.toState]),this.sendGlobalNotification(this.onEnterDictionary[t.toState])},e}(s.Proxy);e.StateMachineProxy=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(463),s=i(464),a=i(6),r=function(){function t(){this._states={}}return t.prototype.addState=function(t,e){if(void 0===e&&(e=void 0),t in this._states&&(e&&e.from?e.from=n.uniq(e.from.concat(this._states[t].from)):e.from=this._states[t].from,e.removeFrom))for(var i=e.removeFrom.length,s=0;s<i;s++)e&&e.from&&-1!=e.from.indexOf(e.removeFrom[s])&&(e.from=n.difference(e.from,[e.removeFrom[s]]));null==e&&(e={}),this._states[t]=new o.State(t,e.from,e.enter,e.exit,this._states[e.parent])},t.prototype.deleteState=function(t){t in this._states&&(this.states[t].enter=void 0,this.states[t].exit=void 0,this.states[t].from=void 0,this.states[t].parent=void 0,this._states[t]=void 0)},Object.defineProperty(t.prototype,"initialState",{set:function(t){if(null==this._state&&t in this._states){this._state=t;var e=new s.StateMachineEvent(s.StateMachineEvent.ENTER_CALLBACK);if(e.toState=t,this._states[this._state].root){this.parentStates=this._states[this._state].parents;for(var i=this._states[this._state].parents.length-1;i>=0;i--)this.parentStates[i].enter&&(e.currentState=this.parentStates[i].name,this.parentStates[i].enter.call(null,e))}this._states[this._state].enter&&(e.currentState=this._state,this._states[this._state].enter.call(null,e)),this._outEvent=new s.StateMachineEvent(s.StateMachineEvent.TRANSITION_COMPLETE),this._outEvent.toState=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),t.prototype.getStateByName=function(t){return this._states[t]},t.prototype.canChangeStateTo=function(t){return t!=this._state&&(-1!=this._states[t].from.indexOf(this._state)||"*"==this._states[t].from)},t.prototype.getChangeStateTo=function(t){for(var e=[],i=0,n=this._states;i<n.length;i++){var o=n[i];"*"!=o.from&&-1==o.from.indexOf(t)||e.push(o.name)}return e},t.prototype.findPath=function(t,e){for(var i=this._states[t],n=0,o=0;i;){o=0;for(var s=this._states[e];s;){if(i==s)return[n,o];o++,s=s.parent}n++,i=i.parent}return[n,o]},t.prototype.changeState=function(t){if(t in this._states){if(!this.canChangeStateTo(t))return a.Log.infoch("FSM","[StateMachine] Transition to ["+t+"] denied"),this._outEvent=new s.StateMachineEvent(s.StateMachineEvent.TRANSITION_DENIED),this._outEvent.fromState=this._state,this._outEvent.toState=t,void(this._outEvent.allowedStates=this._states[t].from);if(this.path=this.findPath(this._state,t),this.path[0]>0){var e=new s.StateMachineEvent(s.StateMachineEvent.EXIT_CALLBACK);e.toState=t,e.fromState=this._state,this._states[this._state].exit&&(e.currentState=this._state,this._states[this._state].exit.call(null,e)),this.parentState=this._states[this._state];for(var i=0;i<this.path[0]-1;i++)this.parentState=this.parentState.parent,null!=this.parentState.exit&&(e.currentState=this.parentState.name,this.parentState.exit.call(null,e))}var n=this._state;if(this._state=t,this.path[1]>0){var o=new s.StateMachineEvent(s.StateMachineEvent.ENTER_CALLBACK);o.toState=t,o.fromState=n,a.Log.infoch("FSM","[StateMachine] State changed from state ["+n+"] to ["+this._state+"]"),a.Log.infoch("FSM","[StateMachine] Current state ["+this._state+"]");var r=this.getChangeStateTo(this._state),l=r.length;if(l>0&&this._state!=r[0])for(i=0;i<l;i++)a.Log.infoch("FSM","[StateMachine] State accepted ["+r[i]+"]");if(this._states[t].root){this.parentStates=this._states[t].parents;for(var c=this.path[1]-2;c>=0;c--)this.parentStates[c]&&this.parentStates[c].enter&&(o.currentState=this.parentStates[c].name,this.parentStates[c].enter.call(null,o))}this._states[this._state].enter&&(o.currentState=this._state,this._states[this._state].enter.call(null,o))}this._outEvent=new s.StateMachineEvent(s.StateMachineEvent.TRANSITION_COMPLETE),this._outEvent.fromState=n,this._outEvent.toState=t}else a.Log.infoch("FSM","[StateMachine] Cannot make transition: State ["+t+"] is not defined")},t.prototype.removeDuplicate=function(t,e){void 0===e&&(e=!1);var i=1;e&&(i=2),t.sort();for(var n=t.length;n>0;n--)t.indexOf(t[n-1])!=n-1&&t.splice(n-i,i);return t},t}();e.StateMachine=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null),this.name=t,e||(e="*"),this.from=e,this.enter=i,this.exit=n,this.children=[],o&&(this._parent=o,this._parent.children.push(this))}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t,this._parent.children.push(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=this._parent;if(t)for(;t.parent;)t=t.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parents",{get:function(){var t=[],e=this._parent;if(e)for(t.push(e);e.parent;)e=e.parent,t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.name},t}();e.State=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.type=t}return t.EXIT_CALLBACK="exit",t.ENTER_CALLBACK="enter",t.TRANSITION_COMPLETE="transition complete",t.TRANSITION_DENIED="transition denied",t}();e.StateMachineEvent=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(2),l=i(6),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._requirements=[],e}return o(e,t),e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),this._requirements.push(this.createEntry(r.Notifications.GameSetup.ALL_MODULES_INITIALIZED)),this._requirements.push(this.createEntry(r.Notifications.GameSetup.ALL_MODULES_LOADED)),this._requirements.push(this.createEntry(r.Notifications.Global.SETTINGS_LOADED)),this._requirements.push(this.createEntry(r.Notifications.Global.TRANSLATIONS_LOADED)),this.settings.getValue("hasAutomationTest")&&(this._requirements.push(this.createEntry(r.Notifications.Global.SOUND_PARSED)),this._requirements.push(this.createEntry(r.Notifications.Global.AUTOMATION_LIBRARY_INITIALIZED)))},e.prototype.validateCondition=function(t){var e=s.findIndex(this._requirements,{condition:t});-1!==e?(this._requirements[e].status=!0,this.checkForFinality()):l.Log.errorch("GameSetup","ValidateStartGameProxy.validateCondition: an attempt was made to validate a start condition that was not previously declared: CONDITION: "+t)},e.prototype.createEntry=function(t){var e={};return e.condition=t,e.status=!1,e},e.prototype.checkForFinality=function(){s.filter(this._requirements,(function(t){return!0===t.status})).length===this._requirements.length&&this.sendGlobalNotification(r.Notifications.Global.START_GAME_IS_VALID)},e}(a.Proxy);e.ValidateStartGameProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(2),l=i(4),c=i(1),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._moduleListThatNeedInitialization={},e._allViewInitialized=!1,e._initializedModules={},e}return o(e,t),e.prototype.initializeAllViewsFromAModule=function(t){var e=this;return new Promise((function(i,n){requestAnimationFrame((function(){if(e._allViewInitialized||(e.getAllModules(),e.getAllViews(),e.getAllMediators(),e.getAllViewsFromAModule()),!s.has(e._initializedModules,t)){e._initializedModules[t]={initialized:!0};var n=e._moduleListThatNeedInitialization[t];n.length>0&&s.each(n,(function(t){e.instantiateView(t)}))}i(t)}))}))},e.prototype.start=function(){this.getAllModules(),this.getAllViews(),this.getAllMediators(),this.getAllViewsFromAModule(),this.initializeViewsFromAModule(),this._allViewInitialized=!0},e.prototype.instantiateView=function(t){var e;e=new t.classesArray[l.Device.CLASS_INDEX](t.identifier),this.instantiateMediator(t.identifier,e),s.isNil(e.initDecorators)||e.initDecorators(t)},e.prototype.instantiateMediator=function(t,e){var i=s.filter(this._mediators,(function(e){return e.identifierView==t}))[0];if(i){var n=new i.classesArray[l.Device.CLASS_INDEX](i.identifierView,e);this.registerMediatorToMVC(n,i)}else{this.serviceLocator.get("ViewFactory").storeViewWithoutMediator(t,e)}},e.prototype.registerMediatorToMVC=function(t,e){this.mvc.registerMediator(e.identifierView,t,e.moduleName)},e.prototype.getAllModules=function(){var t=this.retrieveProxy(c.Names.Proxies.MODULES);this._moduleList=t.modules},e.prototype.getAllViews=function(){var t=this.serviceLocator.get("ViewFactory");this._views=t.getAllViews()},e.prototype.getAllMediators=function(){var t=this.serviceLocator.get("MediatorFactory");this._mediators=t.getAllMediators()},e.prototype.initializeViewsFromAModule=function(){this.nbModuleLeft=this._moduleList.length-1,this.sendNotification(r.Notifications.GameSetup.INITIALIZE_NEXT_MODULE)},e.prototype.initializeNextViewsFromAModule=function(){var t=this;return new Promise((function(e,i){var n=s.find(t._moduleList,["initialized",!1]);n?t.initializeAllViewsFromAModule(n.moduleId).then((function(){t.completeModuleInitialisation(n.moduleId),e(!0)})):e(!1)}))},e.prototype.completeModuleInitialisation=function(t){this.sendGlobalNotification(r.Notifications.GameSetup.MODULE_INITIALIZED,t),this.sendGlobalNotification(r.Notifications.Global.UPDATE_PROGRESS,{total:this._moduleList.length,left:this.nbModuleLeft}),this.nbModuleLeft--},e.prototype.getAllViewsFromAModule=function(){var t=this;s.each(this._moduleList,(function(e){e.initialized=!1,t._moduleListThatNeedInitialization[e.moduleId]=s.filter(t._views,(function(t){return e.moduleId==t.moduleName}))}))},e}(a.Proxy);e.ViewsInitProxy=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13),a=i(0),r=i(203),l=i(469),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.responsiveItems={},e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this)},e.prototype.recalculatePositions=function(){a.each(this.responsiveItems,(function(t){t.watched&&t.calculatePosition()}))},e.prototype.addResponsiveItem=function(t,i,n,o){void 0===o&&(o=!1);var s=e.getPathAsString(i);a.has(this.responsiveItems,s)||(this.responsiveItems[s]=new l.ResponsiveItemVO(s,t,i,n),o&&(this.responsiveItems[s].watched=!0)),this.responsiveItems[s].calculatePosition()},e.getPathAsString=function(t){for(var e=t.name,i=t.parent;!(a.isNil(i)||i instanceof r.GameScene)&&(e+="-"+i.name,a.has(i,"parent"));)i=i.parent;return e},e}(s.Proxy);e.ResponsiveLayoutProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=t.call(this)||this;return e.paused=!1,e}return o(e,t),e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.isPaused=function(){return this.paused},e}(PIXI.Container);e.Scene=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),o=i(75),s=i(4),a=PIXI.Point,r=function(){function t(t,e,i,n){this.watched=!1,this.content=e,this.pulseLayerContainer=i,this.layerContainer=n}return t.prototype.calculatePosition=function(){var t=new a;t.x=this.content.anchorMinX*this.layerContainer.declaredWidth,t.y=this.content.anchorMaxY*this.layerContainer.declaredHeight,t.x*=(n.SceneManager.getScreenWidth-2*(s.Device.isLandscape()||s.Device.instance().desktop?n.SceneManager.getHMargin:0))/o.DTConstants.getDTLayerDimensions().x,t.y*=(n.SceneManager.getScreenHeight-2*(s.Device.isLandscape()||s.Device.instance().desktop?n.SceneManager.getVMargin:0))/o.DTConstants.getDTLayerDimensions().y;var e=.5*this.layerContainer.declaredWidth,i=.5*this.layerContainer.declaredHeight,r=this.content.anchorMinX*this.layerContainer.declaredWidth+this.content.offsetMinX-e,l=this.content.anchorMaxX*this.layerContainer.declaredWidth+this.content.offsetMaxX-e,c=this.content.anchorMaxY*this.layerContainer.declaredHeight+this.content.offsetMaxY-i,u=this.content.anchorMinY*this.layerContainer.declaredHeight+this.content.offsetMinY-i,h=new a(l-r,c-u),p=new a(this.content.pivotX*h.x+r+(.5-this.content.anchorMinX)*this.layerContainer.declaredWidth,this.content.pivotY*h.y+u+(.5-this.content.anchorMaxY)*this.layerContainer.declaredHeight);this.pulseLayerContainer.x=t.x+p.x/2-this.content.width*this.content.scaleX/2*this.content.pivotX,this.pulseLayerContainer.y=t.y+p.y/2-this.content.height*this.content.scaleY/2*this.content.pivotY,this.content.isSnappedToLeft&&(this.pulseLayerContainer.x+=this.content.leftScreenOffset),this.content.isSnappedToRight&&(this.pulseLayerContainer.x+=this.content.rightScreenOffset)},t}();e.ResponsiveItemVO=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(21),r=i(76),l=i(113),c=PIXI.Container,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._labels={},e._labelNameToReceiveUpdatedValues=[],e}return o(e,t),e.prototype.pushLabelNameToReceiveUpdatedValues=function(t){this._labelNameToReceiveUpdatedValues.indexOf(t)<0&&this._labelNameToReceiveUpdatedValues.push(t)},Object.defineProperty(e.prototype,"label",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.setUpLabels=function(){s.isNil(this.upSkin)||(this._labels[r.ButtonState.UP]=this.getTextFieldsOfContainer(this.upSkin),this._labels[r.ButtonState.DOWN]=this.getTextFieldsOfContainer(this.downSkin),this._labels[r.ButtonState.OVER]=this.getTextFieldsOfContainer(this.overSkin),this._labels[r.ButtonState.DISABLED]=this.getTextFieldsOfContainer(this.disabledSkin))},e.prototype.getTextFieldsOfContainer=function(t){var e=this,i=[];return s.each(t.children,(function(t){t instanceof a.TextField?i.push(t):t instanceof c&&(i=i.concat(e.getTextFieldsOfContainer(t)))})),i},e.prototype.updateLabel=function(t){var e=this;s.each(this._labels,(function(i){if(i.length>1){if(!(e._labelNameToReceiveUpdatedValues.length>0))throw new Error("Button "+e.name+" does not have a label set to receive text updates");s.each(i,(function(i){e._labelNameToReceiveUpdatedValues.indexOf(i.name)>=0&&i.updateLabel(t)}))}else s.each(i,(function(e){e.updateLabel(t)}))}))},e}(l.SimpleButton);e.LabelByStateButton=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.itemIndex=-1,this.item=null};e.CustomListItemVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.type=t,this.name=e,this.data=i};e.MasterSlotComponent=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(474),s=i(475),a=i(211),r=i(476),l=function(){function t(t){this.details=t,this.parseDetails()}return t.prototype.parseDetails=function(){var t=this;n.has(this.details,"map")&&(this.spineComponentsData=new Array,n.each(this.details.map,(function(e){t.spineComponentsData.push(new s.MasterSpineComponentData(e))}))),n.has(this.details,"actions")&&(this.soundComponentsData=new Array,n.each(this.details.actions,(function(e){t.soundComponentsData.push(new o.MasterSoundComponentData(e))}))),this.details.type==a.MasterSlotComponentType.MASK_FOR_PARENT&&(this.maskForParentComponentsData=new Array,this.maskForParentComponentsData.push(new r.MasterMaskForParentComponentData(this.details)))},t}();e.MasterSlotComponentData=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){n.has(t,"isLoop")&&(this.isLoop=t.isLoop),n.has(t,"actionName")&&(this.actionName=t.actionName),n.has(t,"frameName")&&(this.frameName=t.frameName),n.has(t,"stageEventName")&&(this.stageEventName=t.stageEventName),n.has(t,"customEventName")&&(this.customEventName=t.customEventName),n.has(t,"volume")&&(this.volume=t.volume)};e.MasterSoundComponentData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){n.has(t,"contextName")&&(this.contextName=t.contextName),n.has(t,"componentName")&&(this.componentName=t.componentName),n.has(t,"localPath")&&(this.localPath=t.localPath)};e.MasterSpineComponentData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){n.has(t,"type")&&(this.type=t.type),n.has(t,"useImage")&&(this.useImage=t.useImage),n.has(t,"renderableSelf")&&(this.renderableSelf=t.renderableSelf)};e.MasterMaskForParentComponentData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(478),s=i(479),a=i(209),r=i(211),l=i(210),c=i(480),u=i(37),h=function(){function t(){this.symbolNames=[]}return t.prototype.parseMasterLayoutData=function(t){var e=this,i=new o.MasterScenesData;return n.each(t,(function(t){var o,a=new s.SceneData;n.has(t,"name")&&(a.name=t.name),i.currentScene=a;var r=JSON.parse(t.data);if(n.has(r,"bones")&&n.each(r.bones,(function(i){u.MasterLayoutConfig.symbolPrefabsVersion&&"ReelsArea"==i.name&&(o=i.components[0]);var n=e.createMasterBoneData(i,t.layoutType);a.bones.push(n)})),n.has(r,"slots")){var h=r.slots;n.each(h,(function(t){var o=t.bone,s=i.findBoneData(o),r=t.name,c=new l.MasterSlotData(r,s);c.attachmentName=t.attachment,n.has(t,"components")&&!n.isEmpty(t.components)&&(c.addComponents(t.components),e.parseSlotComponents(a,c)),a.slots.push(c)}))}if(n.has(r,"skins")){var p=new Array;n.each(r.skins,(function(t,e){p.push({name:e,attachments:t})})),n.each(p,(function(e){var o=e.attachments;n.each(o,(function(e,o){var s=new c.SkinData(o),r=i.findSlotData(s.name),l=e[o];n.has(l,"type")||(l.type="image"),e[o].layoutType=t.layoutType,r.setAttachment(o,e[o]),s.slotData=r,a.addSkinData(s)})),i.scenes.push(a)}))}u.MasterLayoutConfig.symbolPrefabsVersion?n.isUndefined(o)||(e.parseSymbolsFromPrefabs(i,t.layoutType),e.parseWheels(o,i),i.reelsArea.push({layoutType:t.layoutType,reelsArea:o})):n.has(r,"reelsArea")&&!n.has(i.reelsArea,t.layoutType)&&i.reelsArea.push({layoutType:t.layoutType,reelsArea:r.reelsArea}),i.currentScene.layerTree=e.findChildren(i,i.currentScene.bones[1]),i.currentScene=void 0})),i},t.prototype.parseSymbolsFromPrefabs=function(t,e){var i=this,o=t.findBoneData("ReelsArea");if(null==t.findBoneData("ALL_SYMBOLS")&&o){var s=new a.MasterBoneData("ALL_SYMBOLS",o.parent);s.type="container",t.currentScene.bones.push(s)}n.each(u.MasterLayoutConfig.symbolPrefabs,(function(o){i.symbolNames.push(o.symbolName);var s=o.data.content.bones;s=s.slice(1),n.each(s,(function(n,o){var s=n.parent;0==o&&(s="ALL_SYMBOLS");var a=i.createMasterBoneData(n,e,s);t.currentScene.bones.push(a)}));var a=o.data.content.slots;n.each(a,(function(e){var s=e.bone,a=t.findBoneDataByNameAndParent(s,o.symbolName),r=e.name,c=new l.MasterSlotData(r,a);c.attachmentName=e.attachment,n.has(e,"components")&&!n.isEmpty(e.components)&&(c.addComponents(e.components),i.parseSlotComponents(t.currentScene,c)),t.currentScene.slots.push(c)}));var r=new Array;n.each(o.data.content.skins,(function(t,e){r.push({name:e,attachments:t})})),n.each(r,(function(i){var s=i.attachments;n.each(s,(function(i,s){var a=new c.SkinData(s),r=t.findSlotDataByNameAndParent(a.name,o.symbolName),l=i[s];n.has(l,"type")||(l.type="image"),i[s].layoutType=e,r.setAttachment(s,i[s]),a.slotData=r,t.currentScene.addSkinData(a)}))})),console.log("test")}))},t.prototype.createMasterBoneData=function(t,e,i){var o=t.name,s=i||t.parent,r=new a.MasterBoneData(o,s);return r.type="container",r.x=t.x,r.y=t.y,r.width=t.width,r.height=t.height,r.widthRelative=t.widthRelative,r.heightRelative=t.heightRelative,r.rotation=t.rotation,r.scaleX=t.scaleX,r.scaleY=t.scaleY,r.pivotX=t.pivotX,r.pivotY=t.pivotY,r.visibleSelf=t.visibleSelf,r.visibleAtInit=t.visibleAtInit,n.has(t,"offsetMax")&&(r.offsetMaxX=t.offsetMax[0],r.offsetMaxY=t.offsetMax[1]),n.has(t,"offsetMin")&&(r.offsetMinX=t.offsetMin[0],r.offsetMinY=t.offsetMin[1]),n.has(t,"anchorMin")&&(r.anchorMinX=t.anchorMin[0],r.anchorMinY=t.anchorMin[1]),n.has(t,"anchorMax")&&(r.anchorMaxX=t.anchorMax[0],r.anchorMaxY=t.anchorMax[1]),r.layoutType=e,r.isMask=t.isMask,r},t.prototype.parseWheels=function(t,e){var i=e.findBoneData("ReelsArea");t.numberOfReels=t.reels.length,t.symbolsPerReel=u.MasterLayoutConfig.slotGameSettings.formats_per_strip[0].symbols_per_reel[0],t.symbolsPerReelsByIndex=[];var o=u.MasterLayoutConfig.slotGameSettings.formats_per_strip[0].symbols_per_reel;n.each(o,(function(e){t.symbolsPerReelsByIndex.push(e)})),t.symbolsGap=t.reels[0].symbolsGap,t.x=i.x,t.y=i.y,t.width=i.width,t.height=i.height,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.pivotX=i.pivotX,t.pivotY=i.pivotY,t.symbols=u.MasterLayoutConfig.symbolPrefabs},t.prototype.parseSlotComponents=function(t,e){n.isEmpty(e.components)||n.each(e.components,(function(i){var o=e.name;(i.type===r.MasterSlotComponentType.CONTEXT_REPLACER&&i.data.details.map&&i.data.details.map.length>0||i.type===r.MasterSlotComponentType.SOUND||i.type===r.MasterSlotComponentType.MASK_FOR_PARENT)&&(n.isUndefined(t.slotComponents[o])&&(t.slotComponents[o]=new Array),t.slotComponents[o].push(i)),i.type===r.MasterSlotComponentType.WINNINGS&&(n.isUndefined(t.winningsComponents[o])&&(t.winningsComponents[o]=new Array),t.winningsComponents[o].push(i))}))},t.prototype.findChildren=function(t,e){var i=this,o=t.currentScene.bones,s=[];n.each(o,(function(o){n.isNil(o.parent)||o.parent!==e.name||s.push(i.findChildren(t,o))})),e.children=s;var a=t.findSlotDataByParent(e.name);return a.length>0&&(u.MasterLayoutConfig.symbolPrefabsVersion&&-1!=this.symbolNames.indexOf(e.parent)&&(a=n.filter(a,(function(t){return t.boneData.parent==e.parent}))),e.children=e.children.concat(a)),e},t}();e.MasterLayoutParser=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this.scenes=new Array,this.reelsArea=[]}return t.prototype.findBoneData=function(t){var e=void 0;return n.each(this.currentScene.bones,(function(i){if(i.name===t)return e=i,!1})),e},t.prototype.findBoneDataByNameAndParent=function(t,e){var i=void 0;return n.each(this.currentScene.bones,(function(n){if(n.name===t&&e==n.parent)return i=n,!1})),i},t.prototype.findBoneDataInScenes=function(t,e){void 0===e&&(e=!0);var i=[];return n.each(this.scenes,(function(o){n.each(o.bones,(function(n){if(n.name===t&&n.parent.indexOf("root")>-1){if(e)return i=n,!1;i.push(n)}}))})),i},t.prototype.findBoneDataInScene=function(t,e){var i=void 0;return n.each(this.scenes,(function(o){o.name===e&&n.each(o.bones,(function(e){if(e.name===t)return i=e,!1}))})),i},t.prototype.findSlotData=function(t){var e=void 0;return n.each(this.currentScene.slots,(function(i){if(i.name===t)return e=i,!1})),e},t.prototype.findSlotDataByNameAndParent=function(t,e){var i=void 0;return n.each(this.currentScene.slots,(function(n){if(n.name===t&&n.boneData.parent==e)return i=n,!1})),i},t.prototype.findSlotDataByParent=function(t){var e=[];return n.each(this.currentScene.slots,(function(i){i.boneData.name===t&&e.push(i)})),e},t.prototype.findSlotComponents=function(t){var e=void 0;return n.each(this.scenes,(function(i){if(n.has(i.slotComponents,t))return e=i.slotComponents[t],!1})),e},t.prototype.findSpineComponent=function(t,e){var i=this,o=this.findSlotComponents(t),s=void 0;return n.isUndefined(o)||n.isEmpty(o)||(s=n.find(o,(function(t){var o="";n.isUndefined(t.data.spineComponentsData)||n.isEmpty(t.data.spineComponentsData)||(o=i.findSpineComponentDataByContext(t,e).contextName);return o===e}))),s},t.prototype.findSpineComponentDataByContext=function(t,e){var i=void 0;return n.isUndefined(t.data.spineComponentsData)||n.isEmpty(t.data.spineComponentsData)||(i=n.find(t.data.spineComponentsData,(function(t){return t.contextName===e}))),i},t.prototype.findComponentsBySlotName=function(t){return this.findSlotComponents(t)},t.prototype.findWinningsComponents=function(){var t=[];return n.each(this.scenes,(function(e){n.each(e.winningsComponents,(function(e){n.each(e,(function(e){t.push(e)}))}))})),t},t}();e.MasterScenesData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.skinsData=new Array,this.layerTree={},this.bones=[],this.slots=[],this.slotComponents={},this.winningsComponents={}}return t.prototype.addSkinData=function(t){this.skinsData.push(t)},t}();e.SceneData=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.name=t};e.SkinData=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.TEXTFIELD="textField",t.SPINE="Spine",t.IMAGE="image",t.PARTICLES="PixiParticles",t}();e.AssetTypes=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(51),s=i(21),a=i(483),r=i(17),l=i(484),c=i(485),u=i(487),h=i(90),p=i(488),d=i(54),_=i(490),f=i(15),y=i(82),m=i(214),N=i(136),S=i(491),g=i(492),A=i(137),E=i(89),I=i(493),O=i(206),T=i(494),P=i(496),b=PIXI.Sprite,C=PIXI.Point,v=PIXI.Graphics,M=PIXI.TextStyle,L=function(){function t(){this._elementTobeAdded=[],this._hasValidation=!1}return Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureUtil",{get:function(){return r.ServiceLocator.instance().get("TextureUtil")},enumerable:!0,configurable:!0}),t.prototype.parseLayout=function(t,e,i,o,s){this._xml=t,this._layout=new a.LayoutVO,this._fontStyles={},this._classes={},this._elementTobeAdded=[],this._layerVO=e,this._elementAddedCallBackFunction=i,n.isNil(o)||(this._callBackFunction=o,this._layerName=s,this._hasValidation=!0),this.parseXML()},t.prototype.parseXML=function(){var t=this;if(this.removeWhitespaceNodes(this._xml),1!=this._xml.childNodes.length)throw new Error("Invalid XML loaded. The XML should have a single root node.");if("Layout"!=this._xml.childNodes[0].nodeName)throw new Error('Invalid XML loaded. The XML should have a root node called "Layout".');if(this.removeWhitespaceNodes(this._xml.childNodes[0]),this._layoutNode=this._xml.childNodes[0],this.childNodesHaveError())throw new Error('"Invalid "'+this._layerName+'" layout parse.\n'+this._layoutNode.textContent);if(this._layoutNode.childNodes.length<1)throw new Error('Invalid XML loaded. The "'+this._layerName+'" layout node must have at least a child node.');if(-1==this._layoutNode.childNodes[0].nodeName.indexOf("Main"))throw new Error('Invalid XML loaded. The "'+this._layerName+'" layout node must have a child node called "Main".');this.removeWhitespaceNodes(this._layoutNode.childNodes[0]),this._mainNode=this._layoutNode.childNodes[0],n.each(this._layoutNode.childNodes,(function(e){"Styles"==e.nodeName&&(t.removeWhitespaceNodes(e),n.each(e.childNodes,t.createStyle.bind(t))),"Classes"==e.nodeName&&(t.removeWhitespaceNodes(e),n.each(e.childNodes,t.createClasses.bind(t)))})),n.each(this._layoutNode.childNodes,(function(e){var i;if("Main"==e.nodeName)i="Main";else{if("Styles"==e.nodeName||"Classes"==e.nodeName)return;i=e.attributes.getNamedItem("name").value}t.removeWhitespaceNodes(e),"SubLayer"==e.childNodes[0].nodeName&&(e=e.childNodes[0],t.removeWhitespaceNodes(e)),n.each(e.childNodes,(function(e){t._hasValidation?t.addElementsToContainer(e,i):(t.addClassAttributes(e),t.createGUIElement(e,i,t._layout))}))})),this._hasValidation&&this._elementTobeAdded.length>0?this.addElementToDisplay():this._elementAddedCallBackFunction(this._layerVO,this)},t.prototype.childNodesHaveError=function(){return n.some(this._layoutNode.childNodes,(function(t){return"parsererror"===t.nodeName}))},t.prototype.addElementsToContainer=function(t,e){this._elementTobeAdded.push({element:t,container:e,added:!1})},t.prototype.addElementToDisplay=function(){var t=this;n.each(this._elementTobeAdded,(function(e){t.addClassAttributes(e.element),t.createGUIElement(e.element,e.container,t._layout),t.validateElementValidation(e.element,e.container)}))},t.prototype.validateElementValidation=function(t,e){n.each(this._elementTobeAdded,(function(i){i.element===t&&i.container===e&&(i.added=!0)}));var i=!1;n.each(this._elementTobeAdded,(function(t){t.added||(i=!0)})),i||(this._elementAddedCallBackFunction(this._layerVO,this),this._callBackFunction(this._layerName))},t.prototype.createStyle=function(t){if("FontStyle"==t.nodeName){var e={};e.fontSize=parseFloat(t.attributes.getNamedItem("fontSize").value)*s.TextField.FONT_MULTIPLIER,e.fill=parseInt(t.attributes.getNamedItem("fontColor").value),n.isNil(t.attributes.getNamedItem("fontFamily"))?e.fontFamily="noto_sansregular":e.fontFamily=t.attributes.getNamedItem("fontFamily").value,n.isNil(t.attributes.getNamedItem("align"))||(e.align=t.attributes.getNamedItem("align").value),n.isNil(t.attributes.getNamedItem("vAlign"))?e.vAlign="center":e.vAlign=t.attributes.getNamedItem("vAlign").value,n.isNil(t.attributes.getNamedItem("fontWeight"))||(e.fontWeight=t.attributes.getNamedItem("fontWeight").value),this._fontStyles[t.attributes.getNamedItem("name").value]=e}},t.prototype.createClasses=function(t){if("Class"==t.nodeName){for(var e={},i=0;i<t.attributes.length;i++){var n=t.attributes[i];"name"!=n.name&&(e[n.name]=n.value)}this._classes[t.attributes.getNamedItem("name").value]=e}},t.prototype.addClassAttributes=function(t){if(!n.isNil(t.attributes.getNamedItem("class"))){var e=this._classes[t.attributes.getNamedItem("class").value];n.each(e,(function(e,i){if(n.isNil(t.attributes.getNamedItem(i))){var o=document.createAttributeNS(i,i);o.value=e,t.attributes.setNamedItem(o)}})),t.attributes.removeNamedItem("class")}},t.prototype.createGUIElement=function(t,e,i){i.layouts[e]||(i.layouts[e]=new l.LayerLayoutVO),"layerProperties"==t.attributes.getNamedItem("type").value?i.layouts[e].properties=this.getLayerProperties(t.attributes):i.layouts[e].elements.push(this.getGUIElement(t))},t.prototype.getGUIElement=function(t){this.addClassAttributes(t);var e=t.attributes.getNamedItem("type");if(e){var i;switch(e.value){case"textField":i=this.createTextField(t);break;case"button":i=this.createButton(t);break;case"customButton":i=this.createCustomButton(t);break;case"buttonSVG":i=this.createSVGButton(t);break;case"image":i=this.createImage(t);break;case"imageSVG":i=this.createSVGImage(t);break;case"toggleButton":i=this.createToggleButton(t);break;case"slider":i=this.createSlider(t);break;case"stepper":i=this.createStepper(t);break;case"container":i=this.createContainer(t);break;case"list":i=this.createList(t);break;case"customList":i=this.createCustomList(t);break;case"dropDownList":i=this.createDropDownList(t);break;case"tooltip":i=this.createToolTip(t);break;case"tooltipSVG":i=this.createSVGToolTip(t);break;case"scrollingContainer":i=this.createScrollingContainer(t);break;case"graphicsButton":i=this.createGraphicsButton(t);break;case"payout":i=this.createPayout(t);break;case"inputField":i=this.createInputField(t)}return this.removeWhitespaceNodes(t),t.childNodes.length>0&&"positionDynamic"==t.firstChild.nodeName&&(i.positionDynamic=[],this.removeWhitespaceNodes(t.firstChild),n.each(t.firstChild.childNodes,(function(t){var e={};t.attributes.getNamedItem("idReferenceObject")&&(e.idReferenceObject=t.attributes.getNamedItem("idReferenceObject").value),t.attributes.getNamedItem("positionTo")&&(e.positionTo=t.attributes.getNamedItem("positionTo").value),t.attributes.getNamedItem("marginBetween")&&(e.marginBetween=parseFloat(t.attributes.getNamedItem("marginBetween").value)),i.positionDynamic.push(e)}))),i}},t.prototype.getLayerProperties=function(t){var e={};return n.each(t,(function(t){e[t.name]=t.value})),e},t.prototype.createDropDownList=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=parseFloat(t.attributes.getNamedItem("width").value),s=parseFloat(t.attributes.getNamedItem("height").value),a=0;n.isNil(t.attributes.getNamedItem("viewport"))||(a=parseFloat(t.attributes.getNamedItem("viewport").value));var r=new c.DropDownList(i,o,s,a);return r.position.x=parseFloat(t.attributes.getNamedItem("x").value),r.position.y=parseFloat(t.attributes.getNamedItem("y").value),r.depth=parseFloat(t.attributes.getNamedItem("depth").value),this.removeWhitespaceNodes(t),n.each(t.childNodes,(function(t){r.elements.push(e.getGUIElement(t))})),r.initSettingsFromLayout(t),r.createList(),r},t.prototype.createInputField=function(t){var e=t.attributes.getNamedItem("name").value,i=parseFloat(t.attributes.getNamedItem("width").value),n=parseFloat(t.attributes.getNamedItem("height").value),o=new u.InputField(e,i,n);return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),this.removeWhitespaceNodes(t),o.initSettingsFromLayout(t),o.createInputField(),o},t.prototype.createTextField=function(t){var e,i=t.attributes.getNamedItem("name").value,o=new s.TextField(i);if(n.isNil(t.attributes.getNamedItem("style"))||(e=this._fontStyles[t.attributes.getNamedItem("style").value]),n.isNil(e)?o.layout=t:o.setLayoutAndStyle(t,e),t.attributes.getNamedItem("rotation")){var a=this.toRadians(parseFloat(t.attributes.getNamedItem("rotation").value));o.rotation=a}if(t.attributes.getNamedItem("visible")&&(o.visible="true"==t.attributes.getNamedItem("visible").value),t.attributes.getNamedItem("letterSpacing")&&(o.textStyle.letterSpacing=parseInt(t.attributes.getNamedItem("letterSpacing").value)),n.isNil(t.attributes.getNamedItem("scaleX"))||(o.scale.x=parseFloat(t.attributes.getNamedItem("scaleX").value)),n.isNil(t.attributes.getNamedItem("scaleY"))||(o.scale.y=parseFloat(t.attributes.getNamedItem("scaleY").value)),t.attributes.getNamedItem("fontClarity")){var r=1/parseFloat(t.attributes.getNamedItem("fontClarity").value);o.scale=new C(r,r)}if(!n.isNil(t.attributes.getNamedItem("equalizeID"))){var l=t.attributes.getNamedItem("equalizeID").value;o.equalizeID=l}return o},t.prototype.createButtonLabel=function(t){var e,i=new h.ButtonLabel(t.attributes.getNamedItem("name").value+"Label");return n.isNil(t.attributes.getNamedItem("labelStyle"))||(e=this._fontStyles[t.attributes.getNamedItem("labelStyle").value]),e?i.setLayoutAndStyle(t,e):i.layout=t,i.position.set(0),i},t.prototype.createCustomButtonLabel=function(t){var e,i=new p.CustomButtonLabel(t.attributes.getNamedItem("name").value+"Label");return n.isNil(t.attributes.getNamedItem("labelStyle"))||(e=this._fontStyles[t.attributes.getNamedItem("labelStyle").value]),e?i.setLayoutAndStyle(t,e):i.layout=t,i.position.set(0),i},t.prototype.createButton=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=new d.Button(i);if(n.each({upSkin:"up",downSkin:"pressed",overSkin:"over",disabledSkin:"disabled"},(function(i,n){var s=e.textureUtil.getTextureFromCache(t.attributes.getNamedItem(i+"State").value);s&&(o[n]=new b(s),o[n].width=t.attributes.getNamedItem("width").value,o[n].height=t.attributes.getNamedItem("height").value)})),t.attributes.getNamedItem("alpha")&&(o.alpha=parseFloat(t.attributes.getNamedItem("alpha").value)),t.attributes.getNamedItem("visible")&&(o.visible="true"==t.attributes.getNamedItem("visible").value),""!=t.attributes.getNamedItem("name").value&&(o.buttonName=t.attributes.getNamedItem("name").value),t.attributes.getNamedItem("labelWidth")&&""!=t.attributes.getNamedItem("labelWidth").value&&""!=t.attributes.getNamedItem("labelHeight").value){var a=this.createButtonLabel(t);o.label=a,o.addChild(a),t.attributes.getNamedItem("labelX")?a.position.x=(o.width-2*a.width/s.TextField.FONT_MULTIPLIER)/2+parseFloat(t.attributes.getNamedItem("labelX").value):a.position.x=(o.width-2*a.width/s.TextField.FONT_MULTIPLIER)/2,t.attributes.getNamedItem("labelY")?a.position.y=(o.height-2*a.height/s.TextField.FONT_MULTIPLIER)/2+parseFloat(t.attributes.getNamedItem("labelY").value):a.position.y=(o.height-2*a.height/s.TextField.FONT_MULTIPLIER)/2}return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),o},t.prototype.createCustomButton=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=new _.CustomButton(i);if(n.each({upSkin:"up",downSkin:"pressed",overSkin:"over",disabledSkin:"disabled"},(function(i,n){var s=e.textureUtil.getTextureFromCache(t.attributes.getNamedItem(i+"State").value);s&&(o[n]=new b(s),o[n].width=t.attributes.getNamedItem("width").value,o[n].height=t.attributes.getNamedItem("height").value)})),t.attributes.getNamedItem("visible")&&(o.visible="true"==t.attributes.getNamedItem("visible").value),""!=t.attributes.getNamedItem("name").value&&(o.buttonName=t.attributes.getNamedItem("name").value),t.attributes.getNamedItem("labelBackgrounds")&&""!=t.attributes.getNamedItem("labelBackgrounds").value){var s=t.attributes.getNamedItem("labelBackgrounds").value.split(",");n.each(s,(function(e,i){var n=f.TextureUtil.instance().getTextureFromCache(e),s=new b(n);s.width=parseFloat(t.attributes.getNamedItem("width").value),s.height=parseFloat(t.attributes.getNamedItem("height").value),o.labelBackgrounds.push(s)}))}if(t.attributes.getNamedItem("labelSizes")&&""!=t.attributes.getNamedItem("labelSizes").value){var a=this.createCustomButtonLabel(t);o.label=a,o.addChild(a);var r=t.attributes.getNamedItem("labelSizes").value;n.each(r.split("-"),(function(t){var e=t.split(","),i=new C(parseFloat(e[0]),parseFloat(e[1]));o.labelSizes.push(i)}));var l="";t.attributes.getNamedItem("labelPositions")&&""!=t.attributes.getNamedItem("labelPositions").value&&(l=t.attributes.getNamedItem("labelPositions").value,n.each(l.split("-"),(function(t){var e=t.split(","),i=new C(parseFloat(e[0]),parseFloat(e[1]));o.labelPositions.push(i)}))),o.labelPositions.length>0&&n.each(o.labelPositions,(function(t,e){var i=o.labelSizes[e];t.x=(o.width-i.x)/2+t.x,t.y=(o.height-i.y)/2+t.y}))}return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),o},t.prototype.createSVGButton=function(t){var e=t.attributes.getNamedItem("name").value,i=new d.Button(e),o=parseFloat(t.attributes.getNamedItem("width").value),s=parseFloat(t.attributes.getNamedItem("height").value);if(n.each({upSkin:"up",downSkin:"pressed",overSkin:"over",disabledSkin:"disabled"},(function(e,n){var a=y.SVGUtil.instance().getImage(t.attributes.getNamedItem(e+"State").value,o,s);a&&(i[n]=a,i[n].width=o,i[n].height=s)})),""!=t.attributes.getNamedItem("name").value&&(i.buttonName=t.attributes.getNamedItem("name").value),t.attributes.getNamedItem("labelWidth")&&""!=t.attributes.getNamedItem("labelWidth").value&&t.attributes.getNamedItem("labelHeight")&&""!=t.attributes.getNamedItem("labelHeight").value){var a=this.createButtonLabel(t);i.label=a,i.addChild(a),t.attributes.getNamedItem("labelX")&&(a.position.x=(i.width-a.width)/2+parseFloat(t.attributes.getNamedItem("labelX").value)),t.attributes.getNamedItem("labelY")&&(a.position.y=(i.height-a.height)/2+parseFloat(t.attributes.getNamedItem("labelY").value))}return i.position.x=parseFloat(t.attributes.getNamedItem("x").value),i.position.y=parseFloat(t.attributes.getNamedItem("y").value),i.depth=parseFloat(t.attributes.getNamedItem("depth").value),i},t.prototype.createGraphicsButton=function(t){var e=t.attributes.getNamedItem("name").value,i=new d.Button(e),o=parseFloat(t.attributes.getNamedItem("width").value),a=parseFloat(t.attributes.getNamedItem("height").value),r=0;t.attributes.getNamedItem("cornerRadius")&&""!=t.attributes.getNamedItem("cornerRadius").value&&(r=parseFloat(t.attributes.getNamedItem("cornerRadius").value)*s.TextField.FONT_MULTIPLIER);var l=parseInt(t.attributes.getNamedItem("upState").value),c=1;if(t.attributes.getNamedItem("alpha")&&(c=parseFloat(t.attributes.getNamedItem("alpha").value)),n.each({upSkin:"up",downSkin:"pressed",overSkin:"over",disabledSkin:"disabled"},(function(e,n){i[n]=new v,t.attributes.getNamedItem(e+"State")?i[n].beginFill(parseInt(t.attributes.getNamedItem(e+"State").value),c):i[n].beginFill(l,c),i[n].drawRoundedRect(0,0,o*s.TextField.FONT_MULTIPLIER,a*s.TextField.FONT_MULTIPLIER,r),i[n].endFill(),i[n].width=t.attributes.getNamedItem("width").value,i[n].height=t.attributes.getNamedItem("height").value})),""!=t.attributes.getNamedItem("name").value&&(i.buttonName=t.attributes.getNamedItem("name").value),t.attributes.getNamedItem("labelWidth")&&""!=t.attributes.getNamedItem("labelWidth").value&&t.attributes.getNamedItem("labelHeight")&&""!=t.attributes.getNamedItem("labelHeight").value){var u=this.createButtonLabel(t);i.label=u,i.addChild(u)}return i.position.x=parseFloat(t.attributes.getNamedItem("x").value),i.position.y=parseFloat(t.attributes.getNamedItem("y").value),i.depth=parseFloat(t.attributes.getNamedItem("depth").value),i},t.prototype.createImage=function(t){var e=this.getLayerProperties(t.attributes),i=new o.Image(e.name,e);return t.attributes.getNamedItem("alpha")&&(i.alpha=parseFloat(t.attributes.getNamedItem("alpha").value)),t.attributes.getNamedItem("visible")&&(i.visible="true"==t.attributes.getNamedItem("visible").value),i},t.prototype.createSVGImage=function(t){var e=t.attributes.getNamedItem("name").value,i=parseFloat(t.attributes.getNamedItem("width").value),n=parseFloat(t.attributes.getNamedItem("height").value),o=y.SVGUtil.instance().getImage(t.attributes.getNamedItem("resource").value,i,n,e);return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),o.image.width=i,o.image.height=n,t.attributes.getNamedItem("rotation")&&(o.rotation=this.toRadians(parseFloat(t.attributes.getNamedItem("rotation").value))),o},t.prototype.createPayout=function(t){var e=this.getLayerProperties(t.attributes);return new m.Payout(e.name,e)},t.prototype.createToggleButton=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=!0;t.attributes.getNamedItem("pointerDown")&&(o="true"===t.attributes.getNamedItem("pointerDown").value);var s,a=new N.ToggleButton(i,o),r=t.attributes.getNamedItem("assetsType")&&"svg"==t.attributes.getNamedItem("assetsType").value,l=parseFloat(t.attributes.getNamedItem("width").value),c=parseFloat(t.attributes.getNamedItem("height").value);t.attributes.getNamedItem("labelWidth")&&""!=t.attributes.getNamedItem("labelWidth").value&&""!=t.attributes.getNamedItem("labelHeight").value&&(s=this.createButtonLabel(t),a.addChild(s),t.attributes.getNamedItem("labelX")?s.position.x=(a.width-s.width)/2+parseFloat(t.attributes.getNamedItem("labelX").value):s.position.x=(a.width-s.width)/2,t.attributes.getNamedItem("labelY")?s.position.y=(a.height-s.height)/2+parseFloat(t.attributes.getNamedItem("labelY").value):s.position.y=(a.height-s.height)/2),n.each({onSkin:"on",offSkin:"off",onSkinOver:"onOver",offSkinOver:"offOver"},(function(i,o){var s;if(t.attributes.getNamedItem(i+"State")){var u=t.attributes.getNamedItem(i+"State").value;if(r)s=y.SVGUtil.instance().getImage(u,l,c);else{var h=e.textureUtil.getTextureFromCache(u);s=new b(h)}}n.isNil(s)||(a[o]=s,a[o].width=l,a[o].height=c)})),a.position.x=parseFloat(t.attributes.getNamedItem("x").value),a.position.y=parseFloat(t.attributes.getNamedItem("y").value),a.depth=parseFloat(t.attributes.getNamedItem("depth").value);var u="toggle_button_state_"+t.attributes.getNamedItem("defaultState").value;return a.changeState(u),a},t.prototype.createSlider=function(t){var e=t.attributes.getNamedItem("name").value,i=parseFloat(t.attributes.getNamedItem("x").value),o=parseFloat(t.attributes.getNamedItem("y").value),s=parseFloat(t.attributes.getNamedItem("width").value),a=parseFloat(t.attributes.getNamedItem("minValue").value),r=parseFloat(t.attributes.getNamedItem("maxValue").value),l=24;n.isNil(t.attributes.getNamedItem("height"))||(l=parseFloat(t.attributes.getNamedItem("height").value));var c=0;n.isNil(t.attributes.getNamedItem("defaultValue"))||(c=parseFloat(t.attributes.getNamedItem("defaultValue").value));var u=null;n.isNil(t.attributes.getNamedItem("allowedValue"))||(u=t.attributes.getNamedItem("allowedValue").value.split(",").map(Number));var h=new M({fontFamily:"noto_sansregular",fontSize:24,fill:"#FFFFFF",letterSpacing:0});n.isNil(t.attributes.getNamedItem("fontFamily"))||(h.fontFamily=t.attributes.getNamedItem("fontFamily").value),n.isNil(t.attributes.getNamedItem("fontSize"))||(h.fontSize=parseFloat(t.attributes.getNamedItem("fontSize").value)),n.isNil(t.attributes.getNamedItem("fill"))||(h.fill=t.attributes.getNamedItem("fill").value);var p=30;n.isNil(t.attributes.getNamedItem("widthForText"))||(p=parseFloat(t.attributes.getNamedItem("widthForText").value));var d=7;n.isNil(t.attributes.getNamedItem("barHeight"))||(d=parseFloat(t.attributes.getNamedItem("barHeight").value));var _=0;return n.isNil(t.attributes.getNamedItem("numberDecimal"))||(_=parseFloat(t.attributes.getNamedItem("numberDecimal").value)),new S.Slider(e,i,o,s,a,r,l,c,null,null,u,h,p,d,_)},t.prototype.createStepper=function(t){var e=t.attributes.getNamedItem("name").value,i=parseFloat(t.attributes.getNamedItem("x").value),o=parseFloat(t.attributes.getNamedItem("y").value),s=parseFloat(t.attributes.getNamedItem("fontSize").value),a=parseFloat(t.attributes.getNamedItem("width").value),r=parseFloat(t.attributes.getNamedItem("height").value),l=a/2;n.isNil(t.attributes.getNamedItem("middle"))||(l=parseFloat(t.attributes.getNamedItem("middle").value));var c=0;n.isNil(t.attributes.getNamedItem("padding"))||(c=parseFloat(t.attributes.getNamedItem("padding").value));var u=new g.NumberStepper(e,a,r,l,s,null,c);if(n.isNil(t.attributes.getNamedItem("minValue"))){if(!n.isNil(t.attributes.getNamedItem("values"))){var h=t.attributes.getNamedItem("values").value.split(",");u.setValues(h),n.isNil(t.attributes.getNamedItem("initial"))||(u.index=parseInt(t.attributes.getNamedItem("initial").value))}}else{var p=parseFloat(t.attributes.getNamedItem("minValue").value),d=parseFloat(t.attributes.getNamedItem("maxValue").value);u.setRange(p,d),n.isNil(t.attributes.getNamedItem("initial"))||(u.current=parseInt(t.attributes.getNamedItem("initial").value))}return n.isNil(t.attributes.getNamedItem("step"))||(u.step=parseInt(t.attributes.getNamedItem("step").value)),u.position.set(i,o),u},t.prototype.createContainer=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=new A.PIXIContainer(i);if(o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),t.attributes.getNamedItem("alpha")&&(o.alpha=parseFloat(t.attributes.getNamedItem("alpha").value)),n.isNil(t.attributes.getNamedItem("width"))||(o.width=parseFloat(t.attributes.getNamedItem("width").value)),n.isNil(t.attributes.getNamedItem("height"))||(o.height=parseFloat(t.attributes.getNamedItem("height").value)),n.isNil(t.attributes.getNamedItem("scaleX"))||(o.scale.x=parseFloat(t.attributes.getNamedItem("scaleX").value)),n.isNil(t.attributes.getNamedItem("scaleY"))||(o.scale.y=parseFloat(t.attributes.getNamedItem("scaleY").value)),t.attributes.getNamedItem("visible")&&(o.visible="true"==t.attributes.getNamedItem("visible").value),(n.isNil(o.params)||n.isNil(o.params))&&(o.params={}),n.isNil(t.attributes.getNamedItem("padding"))||(o.params.padding=t.attributes.getNamedItem("padding").value),n.isNil(t.attributes.getNamedItem("safeAreaHorizontalShift"))||(o.params.safeAreaHorizontalShift=t.attributes.getNamedItem("safeAreaHorizontalShift").value),this.removeWhitespaceNodes(t),n.each(t.childNodes,(function(t){"Element"==t.nodeName&&o.elements.push(e.getGUIElement(t))})),o.createContainer(),!n.isNil(o.width)&&!n.isNil(o.height)&&!n.isNil(t.attributes.getNamedItem("mask"))){var s=.04;n.isNil(t.attributes.getNamedItem("offsetHeightMask"))||(s=parseFloat(t.attributes.getNamedItem("offsetHeightMask").value)),o.createMask(t.attributes.getNamedItem("mask").value,parseFloat(t.attributes.getNamedItem("width").value),parseFloat(t.attributes.getNamedItem("height").value),s,i)}return o},t.prototype.createScrollingContainer=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o="true";if(n.isNil(t.attributes.getNamedItem("mask"))||(o=t.attributes.getNamedItem("mask").value),n.isNil(t.attributes.getNamedItem("width"))||n.isNil(t.attributes.getNamedItem("height")))throw new Error("A scrolling container need a width and height defined, check your XML for the element "+i);var s=void 0;n.isNil(t.attributes.getNamedItem("offsetHeight"))||(s=parseFloat(t.attributes.getNamedItem("offsetHeight").value));var a=new E.ScrollingContainer(i,parseFloat(t.attributes.getNamedItem("width").value),parseFloat(t.attributes.getNamedItem("height").value),o,s);return a.position.x=parseFloat(t.attributes.getNamedItem("x").value),a.position.y=parseFloat(t.attributes.getNamedItem("y").value),a.depth=parseFloat(t.attributes.getNamedItem("depth").value),this.removeWhitespaceNodes(t),n.each(t.childNodes,(function(t){"Element"==t.nodeName&&a.elements.push(e.getGUIElement(t))})),a.createContainer(),a},t.prototype.createList=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=new I.List(i);return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),o.width=parseFloat(t.attributes.getNamedItem("width").value),o.height=parseFloat(t.attributes.getNamedItem("height").value),this.removeWhitespaceNodes(t),n.each(t.childNodes,(function(t){o.elements.push(e.getGUIElement(t))})),o.createList(),o},t.prototype.createCustomList=function(t){var e=this,i=t.attributes.getNamedItem("name").value,o=new O.CustomList(i);return o.position.x=parseFloat(t.attributes.getNamedItem("x").value),o.position.y=parseFloat(t.attributes.getNamedItem("y").value),o.depth=parseFloat(t.attributes.getNamedItem("depth").value),o.width=parseFloat(t.attributes.getNamedItem("width").value),o.height=parseFloat(t.attributes.getNamedItem("height").value),o.orientation=t.attributes.getNamedItem("orientation").value,this.removeWhitespaceNodes(t),n.each(t.childNodes,(function(t){o.elements.push(e.getGUIElement(t))})),o.createList(),o},t.prototype.createToolTip=function(t){var e=t.attributes.getNamedItem("name").value,i=new T.ToolTip(e);return i.position.x=parseFloat(t.attributes.getNamedItem("x").value),i.position.y=parseFloat(t.attributes.getNamedItem("y").value),i.depth=parseFloat(t.attributes.getNamedItem("depth").value),i.width=parseFloat(t.attributes.getNamedItem("width").value),i.height=parseFloat(t.attributes.getNamedItem("height").value),n.isNil(t.attributes.getNamedItem("scalable"))?i.scalable=!1:i.scalable="true"==t.attributes.getNamedItem("scalable").value,n.isNil(t.attributes.getNamedItem("scalableVertical"))?i.scalableVertical=!1:i.scalableVertical="true"==t.attributes.getNamedItem("scalableVertical").value,this.removeWhitespaceNodes(t),i.layout=t,i},t.prototype.createSVGToolTip=function(t){var e=t.attributes.getNamedItem("name").value,i=new P.SVGToolTip(e);return i.position.x=parseFloat(t.attributes.getNamedItem("x").value),i.position.y=parseFloat(t.attributes.getNamedItem("y").value),i.depth=parseFloat(t.attributes.getNamedItem("depth").value),i.width=parseFloat(t.attributes.getNamedItem("width").value),i.height=parseFloat(t.attributes.getNamedItem("height").value),n.isNil(t.attributes.getNamedItem("scalable"))?i.scalable=!1:i.scalable="true"==t.attributes.getNamedItem("scalable").value,this.removeWhitespaceNodes(t),i.layout=t,i},t.prototype.removeWhitespaceNodes=function(t){var e=n.filter(t.childNodes,(function(t){return 3==t.nodeType||8==t.nodeType}));n.each(e,(function(e){t.removeChild(e)}))},t.prototype.toRadians=function(t){return t*(Math.PI/180)},t}();e.PixiLayoutParser=L},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._layouts={}}return Object.defineProperty(t.prototype,"layouts",{get:function(){return this._layouts},set:function(t){this._layouts=t},enumerable:!0,configurable:!0}),t}();e.LayoutVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._properties={},this._elements=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this._properties},set:function(t){this._properties=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),t}();e.LayerLayoutVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(15),l=i(31),c=i(54),u=i(89),h=i(21),p=PIXI.Container,d=function(t){function e(e,i,n,o){void 0===o&&(o=0);var s=t.call(this,e)||this;return s.defaulText="-- Select option",s._mainItemBkgTextureName="",s._contentBkgTextureName="",s._contentHeight=0,s._elements=[],s._items=[],s._itemNameIndex=0,s._itemTextStyleOptions={},s._isDropped=!1,s._width=i,s._height=n,s._viewportHeight=o,s}return o(e,t),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainItem",{get:function(){return this._mainItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listButton",{get:function(){return this._listButton},enumerable:!0,configurable:!0}),e.prototype.initSettingsFromLayout=function(t){this.initItemSettings(t),s.each(s.sortBy(this.elements,"depth"),(function(t){if(!(t instanceof h.TextField))throw new Error("Elements of drop-down list should be instances of TextField Class")}))},e.prototype.initSettingsFromListData=function(t){s.has(t,"itemWidth")&&(this._itemWidth=t.itemWidth),s.has(t,"itemHeight")&&(this._itemHeight=t.itemHeight),s.has(t,"textWidth")&&(this._itemTextWidth=t.textWidth),s.has(t,"textHeight")&&(this._itemTextHeight=t.textHeight),s.has(t,"itemStyle")&&(this._itemTextStyleOptions=t.itemStyle),s.has(t,"buttonSkinNames")&&(this._listButtonSkins=t.buttonSkinNames),s.has(t,"buttonWidth")&&(this._listButtonWidth=t.buttonWidth),s.has(t,"buttonHeight")&&(this._listButtonHeight=t.buttonHeight),s.has(t,"mainItemBackground")&&(this._mainItemBkgTextureName=t.mainItemBackground),s.has(t,"contentBackground")&&(this._contentBkgTextureName=t.contentBackground),s.has(t,"defaultText")&&(this.defaulText=t.defaultText),s.has(t,"singleLine")||(this._itemTextStyleOptions.singleLine=t.singleLine)},e.prototype.createList=function(){this.createMainItem(),this.addContent()},e.prototype.collapseList=function(){this._isDropped=!1,this._listContent.visible=!1},e.prototype.expandList=function(){this._isDropped=!0,this._listContent.visible=!0},e.prototype.addItem=function(t,e,i){void 0===e&&(e=!1);var n,o=this.createEmptyItem(i);this.createItemBackground(o),t instanceof h.TextField?n=t:"string"==typeof t&&((n=new h.TextField("itemTextField")).setUp(this._itemTextWidth,this._itemTextHeight,this._itemTextStyleOptions),n.updateLabel(t)),this.centerItemTextField(n),o.textFieldName=n.name,o.addChild(n),o.position.set(0,this._contentHeight),this._contentHeight+=o.height,this._itemsHolder.addChild(o),this._viewportHeight?(this._scrollingHolder.recalculate(),this._contentHeight>this._viewportHeight?(this._listContentBackground.height=this._viewportHeight,this._scrollingHolder.maxScroll=-(this._contentHeight-this._viewportHeight)):(this._listContentBackground.height=this._contentHeight,this._scrollingHolder.maxScroll=0),e&&this._scrollingHolder.manualScroll(this._scrollingHolder.maxScroll)):this._listContentBackground.height=this._contentHeight,o.interactive=!0,o.buttonMode=!0,o.on("pointertap",this.onItemSelected.bind(this,o)),this._items.push(o)},e.prototype.removeItem=function(t){var e=s.findIndex(this._items,(function(e){var i=e.textFieldName;return e.getChildByName(i).text.text==t}));if(-1!=e){var i=this._items[e],n=i.height;this._contentHeight-=n,this._itemsHolder.removeChild(this._itemsHolder.getChildByName(i.name)),this._viewportHeight?(this._scrollingHolder.contents.y==this._scrollingHolder.maxScroll&&this._scrollingHolder.manualScroll(n),this._contentHeight<this._viewportHeight?(this._listContentBackground.height=this._contentHeight,this._scrollingHolder.maxScroll=0):(this._listContentBackground.height=this._viewportHeight,this._scrollingHolder.maxScroll=-(this._contentHeight-this._viewportHeight))):this._listContentBackground.height=this._contentHeight,s.remove(this._items,(function(t){return t==i})),s.each(s.slice(this._items,e),(function(t){t.position.y-=n})),this._mainItemTextField.updateLabel(this.defaulText)}},e.prototype.selectedItemValue=function(){return this._mainItemTextField.text.text},e.prototype.updateSelectedItemValue=function(t){this._mainItemTextField.updateLabel(t)},e.prototype.initItemSettings=function(t){var e=this;this._itemTextWidth=parseFloat(t.attributes.getNamedItem("textWidth").value),this._itemTextHeight=parseFloat(t.attributes.getNamedItem("textHeight").value),this._itemWidth=parseFloat(t.attributes.getNamedItem("itemWidth").value),this._itemHeight=parseFloat(t.attributes.getNamedItem("itemHeight").value),s.isNil(t.attributes.getNamedItem("buttonSkinNames"))||(this._listButtonSkins=t.attributes.getNamedItem("buttonSkinNames").value.split(",")),s.isNil(t.attributes.getNamedItem("buttonWidth"))||(this._listButtonWidth=parseFloat(t.attributes.getNamedItem("buttonWidth").value)),s.isNil(t.attributes.getNamedItem("buttonHeight"))||(this._listButtonHeight=parseFloat(t.attributes.getNamedItem("buttonHeight").value)),s.isNil(t.attributes.getNamedItem("mainItemBackground"))||(this._mainItemBkgTextureName=t.attributes.getNamedItem("mainItemBackground").value),s.isNil(t.attributes.getNamedItem("contentBackground"))||(this._contentBkgTextureName=t.attributes.getNamedItem("contentBackground").value),s.isNil(t.attributes.getNamedItem("textFontSize"))||(this._itemTextStyleOptions.fontSize=parseFloat(t.attributes.getNamedItem("textFontSize").value)),s.isNil(t.attributes.getNamedItem("textFont"))?this._itemTextStyleOptions.fontFamily="noto_sansregular":this._itemTextStyleOptions.fontFamily=t.attributes.getNamedItem("textFont").value,s.isNil(t.attributes.getNamedItem("textFontGradientStart"))||s.isNil(t.attributes.getNamedItem("textFontGradientEnd"))?this._itemTextStyleOptions.fill=parseInt(t.attributes.getNamedItem("textFontColor").value):this._itemTextStyleOptions.fill=[parseInt(t.attributes.getNamedItem("textFontGradientStart").value),parseInt(t.attributes.getNamedItem("textFontGradientEnd").value)],s.isNil(t.attributes.getNamedItem("textFontGradientStops"))||s.each(t.attributes.getNamedItem("textFontGradientStops").value.split(","),(function(t){e._itemTextStyleOptions.fillGradientStops.push(parseFloat(t))})),s.isNil(t.attributes.getNamedItem("align"))||(this._itemTextStyleOptions.align=t.attributes.getNamedItem("align").value),s.isNil(t.attributes.getNamedItem("textSpacing"))||(this._itemTextStyleOptions.letterSpacing=parseInt(t.attributes.getNamedItem("textSpacing").value)),s.isNil(t.attributes.getNamedItem("fontWeight"))||(this._itemTextStyleOptions.fontWeight=t.attributes.getNamedItem("fontWeight").value),s.isNil(t.attributes.getNamedItem("dropShadow"))||(this._itemTextStyleOptions.dropShadow=Boolean(t.attributes.getNamedItem("dropShadow").value)),s.isNil(t.attributes.getNamedItem("dropShadowAlpha"))||(this._itemTextStyleOptions.dropShadowAlpha=parseFloat(t.attributes.getNamedItem("dropShadowAlpha").value)),s.isNil(t.attributes.getNamedItem("dropShadowAngle"))||(this._itemTextStyleOptions.dropShadowAngle=parseFloat(t.attributes.getNamedItem("dropShadowAngle").value)),s.isNil(t.attributes.getNamedItem("dropShadowBlur"))||(this._itemTextStyleOptions.dropShadowBlur=parseFloat(t.attributes.getNamedItem("dropShadowBlur").value)),s.isNil(t.attributes.getNamedItem("dropShadowColor"))||(this._itemTextStyleOptions.dropShadowColor=parseInt(t.attributes.getNamedItem("dropShadowColor").value)),s.isNil(t.attributes.getNamedItem("dropShadowDistance"))||(this._itemTextStyleOptions.dropShadowDistance=parseInt(t.attributes.getNamedItem("dropShadowDistance").value)),s.isNil(t.attributes.getNamedItem("stroke"))||(this._itemTextStyleOptions.stroke=parseInt(t.attributes.getNamedItem("stroke").value)),s.isNil(t.attributes.getNamedItem("strokeThickness"))||(this._itemTextStyleOptions.strokeThickness=parseInt(t.attributes.getNamedItem("strokeThickness").value)),s.isNil(t.attributes.getNamedItem("lineJoin"))||(this._itemTextStyleOptions.lineJoin=t.attributes.getNamedItem("lineJoin").value),s.isNil(t.attributes.getNamedItem("padding"))||(this._itemTextStyleOptions.padding=parseFloat(t.attributes.getNamedItem("padding").value)),s.isNil(t.attributes.getNamedItem("vAlign"))||(this._itemTextStyleOptions.vAlign=t.attributes.getNamedItem("vAlign").value),s.isNil(t.attributes.getNamedItem("defaultText"))||(this.defaulText=t.attributes.getNamedItem("defaultText").value),s.isNil(t.attributes.getNamedItem("singleLine"))||(this._itemTextStyleOptions.singleLine="true"==t.attributes.getNamedItem("singleLine").value)},e.prototype.addContent=function(){var t=this;this._listContent=new p,this._listContent.name="listContent",this._listContent.position.set(0,this._mainItem.height+5),this._listContentBackground=r.TextureUtil.instance().createImageFromTexture(this._contentBkgTextureName),this._listContentBackground.name="listContentBackground",this._listContent.addChild(this._listContentBackground),this._itemsHolder=new p,this._itemsHolder.name="itemsHolder",this._viewportHeight?(this._scrollingHolder=new u.ScrollingContainer("listScrollingContainer",this._width,this._viewportHeight),this._scrollingHolder.addContent(this._itemsHolder,!1),this._scrollingHolder.removeBackground(),this._scrollingHolder.offsetHeight=0,this._scrollingHolder.maskScroll.visible=!1,this._listContent.addChild(this._scrollingHolder)):this._listContent.addChild(this._itemsHolder),s.each(this._elements,(function(e){t.addItem(e,!1,e.name)})),this._elements=[],this._listContentBackground.width=this._width,this._listContentBackground.height=this._contentHeight,this._listContent.visible=!1,this.addChild(this._listContent)},e.prototype.createMainItem=function(){this._mainItem=this.createEmptyItem("mainItem"),this.createItemBackground(this._mainItem,this._mainItemBkgTextureName,this._width,this._height),this._mainItemTextField=new h.TextField("mainItemTextContent"),this._mainItemTextField.setUp(this._itemTextWidth,this._itemTextHeight,this._itemTextStyleOptions,this.defaulText),this.centerItemTextField(this._mainItemTextField,this._width,this._height),this._mainItem.addChild(this._mainItemTextField),s.isNil(this._listButtonSkins)||this.createListButton(),this.addChild(this._mainItem),this._mainItem.interactive=!0,this._mainItem.buttonMode=!0,this._mainItem.on("pointertap",this.onMainItemClickHandler.bind(this))},e.prototype.onMainItemClickHandler=function(){this._isDropped?this.collapseList():this.expandList()},e.prototype.onItemSelected=function(t){var e,i=t.textFieldName,n=t.getChildByName(i).text.text;this._mainItemTextField.updateLabel(n),this.collapseList(),((e=t.y+t.height-(-this._scrollingHolder.contents.y+this._viewportHeight))>0||(e=t.y+this._scrollingHolder.contents.y)<0)&&(this._scrollingHolder.contents.y-=e),s.isNil(this.onItemSelectedCallback)||this.onItemSelectedCallback.call(null,n)},e.prototype.createListButton=function(){this._listButton=c.Button.createButton("listButton",this._listButtonSkins,this._listButtonWidth,this._listButtonHeight),this._mainItem.addChild(this._listButton),this._listButton.x=this._width-this._listButton.width},e.prototype.createEmptyItem=function(t){var e=new p;return s.isNil(t)||s.isEmpty(t)?e.name="item"+this._itemNameIndex++:e.name=t,e},e.prototype.createItemBackground=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=this._itemWidth),void 0===n&&(n=this._itemHeight);var o=r.TextureUtil.instance().createImageFromTexture(e);o.width=i,o.height=n,o.name="itemBackground",t.addChild(o)},e.prototype.centerItemTextField=function(t,e,i){void 0===e&&(e=this._itemWidth),void 0===i&&(i=this._itemHeight),a.Device.instance().desktop||a.Device.instance().tablet?(t.position.x=(e-t.width)/2,t.position.y=(i-t.height)/2):(t.position.x=(e-2*t.width)/2,t.position.y=(i-2*t.height)/2)},e}(l.BaseComponent);e.DropDownList=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){void 0===i&&(i=!0),this.bound=!1,this.target=t,t.interactive=!0,this.delta=new PIXI.Point,this.preventDefault=i,this.onScroll=e,this.onMouseScrollBound=this.onMouseScroll.bind(this),this.onHoverBound=this.onHover.bind(this),this.onMouseOutBound=this.onMouseOut.bind(this),this.startEvent()}return t.prototype.onMouseScroll=function(t){this.delta.set(t.deltaX,t.deltaY),this.onScroll(this.delta)},t.prototype.onHover=function(t){this.bound||(document.addEventListener("wheel",this.onMouseScrollBound,!1),document.addEventListener("mousewheel",this.onMouseScrollBound,!1),document.addEventListener("DOMMouseScroll",this.onMouseScrollBound,!1),this.bound=!0)},t.prototype.onMouseOut=function(t){this.bound&&(document.removeEventListener("wheel",this.onMouseScrollBound),document.removeEventListener("mousewheel",this.onMouseScrollBound),document.removeEventListener("DOMMouseScroll",this.onMouseScrollBound),this.bound=!1)},t.prototype.stopEvent=function(){this.bound&&(document.removeEventListener("wheel",this.onMouseScrollBound),document.removeEventListener("mousewheel",this.onMouseScrollBound),document.removeEventListener("DOMMouseScroll",this.onMouseScrollBound),this.bound=!1),this.target.removeListener("mouseover",this.onHoverBound),this.target.removeListener("mouseout",this.onMouseOutBound)},t.prototype.startEvent=function(){this.target.on("mouseover",this.onHoverBound),this.target.on("mouseout",this.onMouseOutBound)},t}();e.MouseScrollEvent=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),r=i(15),l=i(31),c=i(21),u=i(8),h=PIXI.Container,p=PIXI.Sprite,d=PIXI.Graphics,_=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o._inputData="",o._textOffset=0,o._bkgTextureName="",o._inputTextStyle={},o._initialText="",o._initialFontStyle="normal",o._initialFontColor=16777215,o._padding=0,o._resumeAnimation=o._resumeCaretAnimation.bind(o),o._width=i,o._height=n,o._scaleCorrection=c.TextField.FONT_MULTIPLIER,o}return o(e,t),e.prototype.initSettingsFromLayout=function(t){a.isNil(t.attributes.getNamedItem("inputBackground"))||(this._bkgTextureName=t.attributes.getNamedItem("inputBackground").value),a.isNil(t.attributes.getNamedItem("inputFontSize"))||(this._inputTextStyle.fontSize=parseFloat(t.attributes.getNamedItem("inputFontSize").value)),a.isNil(t.attributes.getNamedItem("inputFont"))?this._inputTextStyle.fontFamily="noto_sansregular":this._inputTextStyle.fontFamily=t.attributes.getNamedItem("inputFont").value,a.isNil(t.attributes.getNamedItem("inputFontStyle"))||(this._inputTextStyle.fontStyle=t.attributes.getNamedItem("inputFontStyle").value),this._inputTextStyle.fill=parseInt(t.attributes.getNamedItem("inputFontColor").value),a.isNil(t.attributes.getNamedItem("initialText"))||(this._initialText=t.attributes.getNamedItem("initialText").value),a.isNil(t.attributes.getNamedItem("initialFontColor"))||(this._initialFontColor=parseInt(t.attributes.getNamedItem("initialFontColor").value)),a.isNil(t.attributes.getNamedItem("initialFontStyle"))||(this._initialFontStyle=t.attributes.getNamedItem("initialFontStyle").value),this._padding=parseInt(t.attributes.getNamedItem("paddingX").value)},e.prototype.initSettingsFromInputData=function(t){a.has(t,"inputBackground")&&(this._bkgTextureName=t.inputBackground),a.has(t,"inputStyle")&&(this._inputTextStyle=t.inputStyle),a.has(t,"initialText")&&(this._initialText=t.initialText),a.has(t,"initialFontColor")&&(this._initialFontColor=t.initialFontColor),a.has(t,"initialFontStyle")&&(this._initialFontStyle=t.initialFontStyle),a.has(t,"paddingX")&&(this._padding=t.paddingX)},e.prototype.createInputField=function(){this._viewport=this._width-2*this._padding,this.createInputView(),this.createHTMLRepresentation(),this.addCaret()},e.prototype.value=function(){return this._inputData},e.prototype.createInputView=function(){this._inputHolder=new h,this._inputHolder.name=this.name+"Holder";var t=r.TextureUtil.instance().createImageFromTexture(this._bkgTextureName);t.width=this._width,t.height=this._height,t.name=this.name+"Background",this._inputHolder.addChild(t);var e=new h;e.position.set(this._padding,0);var i=new d;i.beginFill(16777215),i.drawRect(0,0,this._viewport,this._height),i.endFill(),i.visible=!1,e.mask=i,e.addChild(i),this._inputHolder.addChild(e),this.addChild(this._inputHolder),this._textDisplay=new c.TextField("inputDisplay"),this._textDisplay.setUp(this._viewport,this._height,this._inputTextStyle,""),e.addChild(this._textDisplay),this._textDisplay.text.style.fontStyle=this._initialFontStyle,this._textDisplay.text.style.fill=this._initialFontColor,this._textDisplay.updateLabel(this._initialText,!1),this._inputHolder.interactive=!0,this._inputHolder.on("pointertap",this.onGetFocus.bind(this))},e.prototype.createHTMLRepresentation=function(){this._htmlInput=document.createElement("input"),this._htmlInput.style.position="absolute",this._htmlInput.style.left="-200px",this._htmlInput.setAttribute("type","text"),document.body.appendChild(this._htmlInput),this._htmlInput.addEventListener("keypress",this.onKeyPressHTMLComponent.bind(this)),this._htmlInput.addEventListener("keydown",this.onKeyDownHTMLComponent.bind(this)),this._htmlInput.addEventListener("keyup",this.onKeyUpHTMLComponent.bind(this)),this._htmlInput.addEventListener("blur",this.onBlurHTMLComponent.bind(this))},e.prototype.onGetFocus=function(t){this._htmlInput.focus(),this._caretTLAnimation.play(),this._textDisplay.text.style.fontStyle=this._inputTextStyle.fontStyle,this._textDisplay.text.style.fill=this._inputTextStyle.fill,0==this._inputData.length&&this._textDisplay.updateLabel("",!1),this.setCarriagePosition(t)},e.prototype.setCarriagePosition=function(t){var e,i=t.data.getLocalPosition(this._textDisplay).x;if(0==this._inputData.length)e=0,this._caretIndexPosition=0;else if(i>=PIXI.TextMetrics.measureText(this._inputData,this._textDisplay.text.style).width/this._scaleCorrection)e=PIXI.TextMetrics.measureText(this._inputData,this._textDisplay.text.style).width/this._scaleCorrection,this._caretIndexPosition=this._inputData.length;else{var n=0,o=0,s=0,a=0;do{var r=this._inputData[s];n=o+(a=PIXI.TextMetrics.measureText(r,this._textDisplay.text.style).width/this._scaleCorrection)/2,o+=a,s++}while(i>=n);e=o-a,this._caretIndexPosition=s-1}this._caret.x=e},e.prototype.addCaret=function(){var t=this,e=PIXI.TextMetrics.measureText(this._initialText,this._textDisplay.text.style).height/this._scaleCorrection,i=new d;i.beginFill(16777215),i.drawRect(0,0,2,e);var n=u.SceneManager.renderer.generateTexture(i);this._caret=new p(n),this._caret.y=(this._height-this._caret.height)/2,this._caret.visible=!1,this._textDisplay.addChild(this._caret),this._caretTLAnimation=new TimelineMax({paused:!0,yoyo:!0,repeat:-1,onRepeat:function(){t._caret.visible=!t._caret.visible}});var o=new TweenMax({props:1},.5,{props:1});this._caretTLAnimation.add("carriageTween",0,"start"),this._caretTLAnimation.add(o,"carriageTween")},e.prototype.onBlurHTMLComponent=function(t){t.stopPropagation(),this._caretTLAnimation.pause(),this._caret.visible=!1,0==this._inputData.length&&(this._textDisplay.text.style.fontStyle=this._initialFontStyle,this._textDisplay.text.style.fill=this._initialFontColor,this._textDisplay.updateLabel(this._initialText,!1))},e.prototype.onKeyUpHTMLComponent=function(t){t.stopPropagation()},e.prototype.onKeyPressHTMLComponent=function(t){var e=this._inputData.slice(0,this._caretIndexPosition),i=this._inputData.slice(this._caretIndexPosition),n=String.fromCharCode(t.which);this._inputData=e+n+i,this._caretIndexPosition++,this._textDisplay.updateLabel(this._inputData,!1);var o=PIXI.TextMetrics.measureText(n,this._textDisplay.text.style).width/this._scaleCorrection;if(this._caret.x+=o,this._caret.x+this._caret.width-this._textOffset>this._viewport){var s=this._caret.x+this._caret.width-this._textOffset-this._viewport;this._textOffset+=s,this._textDisplay.x-=s}},e.prototype.onKeyDownHTMLComponent=function(t){t.stopPropagation();var e=t.keyCode;switch(this._caret.visible=!0,this._caretTLAnimation.pause(),TweenMax.killDelayedCallsTo(this._resumeAnimation),e){case s.BACKSPACE:if(this._inputData.length&&this._caretIndexPosition){var i=this._inputData[this._caretIndexPosition-1],n=this._inputData.slice(0,this._caretIndexPosition-1),o=this._inputData.slice(this._caretIndexPosition);this._inputData=n+o;var a=PIXI.TextMetrics.measureText(i,this._textDisplay.text.style).width/this._scaleCorrection;if(this._caretIndexPosition--,this._textDisplay.updateLabel(this._inputData,!1),this._caret.x-=a,0!=this._textOffset)(c=PIXI.TextMetrics.measureText(this._inputData,this._textDisplay.text.style).width/this._scaleCorrection+this._caret.width-(this._textOffset+this._viewport))<0?(this._textDisplay.x-=c,this._textOffset+=c,this._textOffset<0&&(this._textOffset=0,this._textDisplay.x=0)):this._caret.x<this._textOffset&&(c=this._textOffset-this._caret.x,this._textDisplay.x+=c,this._textOffset-=c)}break;case s.ARROW_RIGHT:if(this._caretIndexPosition<this._inputData.length){var r=this._inputData[this._caretIndexPosition],l=PIXI.TextMetrics.measureText(r,this._textDisplay.text.style).width/this._scaleCorrection;if(this._caretIndexPosition++,this._caret.x+=l,this._caret.x+this._caret.width-this._textOffset>this._viewport){var c=this._caret.x+this._caret.width-this._textOffset-this._viewport;this._textOffset+=c,this._textDisplay.x-=c}}break;case s.ARROW_LEFT:if(this._caretIndexPosition>0){r=this._inputData[this._caretIndexPosition-1],l=PIXI.TextMetrics.measureText(r,this._textDisplay.text.style).width/this._scaleCorrection;if(this._caretIndexPosition--,this._caret.x-=l,this._caret.x+this._caret.width<this._textOffset){c=this._textOffset-this._caret.x;this._textOffset-=c,this._textDisplay.x+=c}}break;case s.DELETE:if(this._inputData.length&&this._caretIndexPosition<this._inputData.length){n=this._inputData.slice(0,this._caretIndexPosition),o=this._inputData.slice(this._caretIndexPosition+1);if(this._inputData=n+o,this._textDisplay.updateLabel(this._inputData,!1),0!=this._textOffset){var u=this._caret.x-this._textOffset+PIXI.TextMetrics.measureText(o,this._textDisplay.text.style).width/this._scaleCorrection;if(u+this._caret.width<this._viewport){c=u+this._caret.width-this._viewport;this._textOffset+=c,this._textDisplay.x-=c,this._textOffset<0&&(this._textOffset=0,this._textDisplay.x=0)}}}break;case s.HOME:this._inputData.length&&(this._caret.x=0,this._textDisplay.x+=this._textOffset,this._textOffset=0,this._caretIndexPosition=0);break;case s.END:if(this._inputData.length){var h=(a=PIXI.TextMetrics.measureText(this._inputData,this._textDisplay.text.style).width/this._scaleCorrection)-(this._textOffset+this._viewport);h>0&&(this._textDisplay.x-=h+this._caret.width,this._textOffset+=h+this._caret.width),this._caret.x=a,this._caretIndexPosition=this._inputData.length}}TweenMax.delayedCall(.5,this._resumeAnimation)},e.prototype._resumeCaretAnimation=function(){this._caretTLAnimation.play()},e}(l.BaseComponent);e.InputField=_,function(t){t[t.BACKSPACE=8]="BACKSPACE",t[t.DELETE=46]="DELETE",t[t.ARROW_LEFT=37]="ARROW_LEFT",t[t.ARROW_RIGHT=39]="ARROW_RIGHT",t[t.HOME=36]="HOME",t[t.END=35]="END"}(s||(s={}))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(489).MultiLabelButtonLabel);e.CustomButtonLabel=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(21),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initTextField=function(){s.isNil(this._layout.attributes.getNamedItem("lineHeight"))||(this.textStyle.lineHeight=parseInt(this._layout.attributes.getNamedItem("lineHeight").value)),t.prototype.initTextField.call(this)},e.prototype.setTextFieldScale=function(){this.scale.x=a.TextField.FONT_SCALE,this.scale.y=a.TextField.FONT_SCALE},e}(i(213).SimpleButtonLabel);e.MultiLabelButtonLabel=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(205).MultiLabelButton);e.CustomButton=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(20),l=i(82),c=i(31),u=PIXI.Sprite,h=PIXI.Container,p=PIXI.TextStyle,d=PIXI.Text,_=function(t){function e(e,i,n,o,r,l,c,u,h,d,_,f,y,m,N){void 0===c&&(c=24),void 0===u&&(u=0),void 0===h&&(h=null),void 0===d&&(d=null),void 0===_&&(_=null),void 0===f&&(f=new p({fontFamily:"noto_sansregular",fontSize:14,fill:"#FFFFFF",letterSpacing:0})),void 0===y&&(y=10),void 0===m&&(m=7),void 0===N&&(N=0);var S=t.call(this,e)||this;return S.currentIndex=1,S.allowedValuePercent=null,S.x=i,S.y=n,S.height=c,S.width=o,S.widthBar=o-2*y-20,S.widthForText=y,S.minValue=r,S.maxValue=l,S.numberDecimal=N,s.isNil(_)||(S.allowedValuePercent=[],s.each(_,(function(t){S.allowedValuePercent.push((t-r)/(l-r)*100)})),S.allowedValuePercent.sort((function(t,e){return t-e}))),S.initSliderGraphic(o,c,f,y,m),S.updateSlider((u-r)/(l-r)*100),S.emptySlider.interactive=!0,S.emptySlider.on("mousedown",S.clickSlidePosition.bind(S)),S.callbackUpdate=h,S.argsCallbackUpdate=d,S.containerTracker.interactive=!0,1==a.Device.instance().mobile||1==a.Device.instance().tablet?(S.containerTracker.on("touchstart",S.startDragSlideTracker.bind(S)),window.addEventListener("touchend",S.endDrag.bind(S))):(S.containerTracker.on("mousedown",S.startDragSlideTracker.bind(S)),window.addEventListener("mouseup",S.endDrag.bind(S))),S.functionDragMove=null,S}return o(e,t),e.prototype.initSliderGraphic=function(t,e,i,n,o){this.maxText=new PIXI.Text(this.maxValue.toFixed(this.numberDecimal),i),this.maxText.x=t-n/2,this.maxText.resolution=2,this.maxText.y=e/2,this.maxText.anchor.set(.5,.5),this.scaleTextMax=r.StringUtil.fitByScale(this.maxText,n,!0,.5),this.addChild(this.maxText),this.minText=new d(this.minValue.toFixed(this.numberDecimal),i),this.minText.x=n/2,this.minText.resolution=2,this.minText.y=e/2,this.minText.scale.set(this.scaleTextMax),this.minText.anchor.set(.5,.5),this.addChild(this.minText);var s=new h;s.x=n+10,s.y=0,this.addChild(s);var a=new h;s.addChild(a);var c=new PIXI.Graphics;c.beginFill(0),c.arc(5,e/2,o/2,Math.PI/2,-Math.PI/2),c.arc(this.widthBar-5,e/2,o/2,-Math.PI/2,Math.PI/2),c.endFill(),a.addChild(c),a.mask=c;var p=PIXI.Texture.fromImage(l.SVGUtil.instance().svgToURL("SliderEmptyMidle",!0,!1,this.widthBar,o));this.emptySlider=new u(p),this.emptySlider.x=0,this.emptySlider.y=e/2,this.emptySlider.anchor.set(0,.5),this.emptySlider.width=this.widthBar,this.emptySlider.height=o,a.addChild(this.emptySlider);var _=PIXI.Texture.fromImage(l.SVGUtil.instance().svgToURL("SliderFullMidle",!0,!1,this.widthBar,o));this.fullSlider=new u(_),this.fullSlider.x=0,this.fullSlider.y=e/2,this.fullSlider.anchor.set(0,.5),this.fullSlider.width=0,this.fullSlider.height=o,a.addChild(this.fullSlider),this.containerTracker=new h,s.addChild(this.containerTracker);var f=PIXI.Texture.fromImage(l.SVGUtil.instance().svgToURL("SliderTracker",!0,!1,e,e)),y=new u(f);y.x=0,y.y=e/2,y.anchor.set(.5,.5),y.width=.9*e,y.height=.9*e,this.containerTracker.addChild(y);var m=new h;m.y=.75*-e,this.containerTracker.addChild(m);var N=PIXI.Texture.fromImage(l.SVGUtil.instance().svgToURL("SliderToolTipMidle",!0,!1,n,e)),S=new u(N);S.x=0,S.y=0,S.anchor.set(.5,.5),S.width=n,S.height=.8*e,m.addChild(S);var g=PIXI.Texture.fromImage(l.SVGUtil.instance().svgToURL("SliderToolTipMidleArrow",!0,!1,n,e)),A=new u(g);A.x=0,A.y=S.height,A.anchor.set(.5,1),A.width=.5*e,A.height=.4*e,m.addChild(A),this.currentValueSlider=new d("0",i),this.currentValueSlider.resolution=2,this.currentValueSlider.x=0,this.currentValueSlider.y=0,this.currentValueSlider.scale.set(this.scaleTextMax),this.currentValueSlider.anchor.set(.5,.5),m.addChild(this.currentValueSlider)},e.prototype.updateSlider=function(t){var e=t;if(e<=0?e=0:e>=100&&(e=100),!s.isNil(this.allowedValuePercent)){var i=s.sortedIndex(this.allowedValuePercent,e);e=s.isNil(this.allowedValuePercent[i-1])||Math.abs(this.allowedValuePercent[i]-e)<=Math.abs(this.allowedValuePercent[i-1]-e)?this.allowedValuePercent[i]:this.allowedValuePercent[i-1],(i=s.sortedIndex(this.allowedValuePercent,e))!=this.currentIndex&&(this.currentIndex=i,this.indexChangeCallback&&this.indexChangeCallback(this.name,this.currentIndex))}this.currentPosition=e,this.currentValue=Math.round((e/100*(this.maxValue-this.minValue)+this.minValue)*Math.pow(10,this.numberDecimal))/Math.pow(10,this.numberDecimal),this.containerTracker.x=this.widthBar*e/100,this.fullSlider.width=this.widthBar*e/100,this.valueAlts?this.currentValueSlider.text=this.valueAlts[this.currentValue]:this.currentValueSlider.text=this.currentValue.toFixed(this.numberDecimal)},e.prototype.setSliderValue=function(t){this.updateSlider(100/(this.maxValue-this.minValue)*(t-this.minValue))},e.prototype.setConstraints=function(t,e){this.maxValue=e,this.maxText.text=this.maxValue.toFixed(this.numberDecimal),this.scaleTextMax=r.StringUtil.fitByScale(this.maxText,this.widthForText,!0,this.scaleTextMax),this.minValue=t,this.minText.text=this.minValue.toFixed(this.numberDecimal),this.minText.scale.set(this.scaleTextMax),this.currentValueSlider.scale.set(this.scaleTextMax),this.updateSlider(this.currentPosition)},e.prototype.setAllowedValues=function(t){var e=this;s.isNil(t)||(this.minValue=t[0],this.maxValue=t[t.length-1],this.allowedValuePercent=[],s.each(t,(function(t){e.allowedValuePercent.push((t-e.minValue)/(e.maxValue-e.minValue)*100)})),this.allowedValuePercent.sort((function(t,e){return t-e})),this.setConstraints(this.minValue,this.maxValue))},e.prototype.setFromIndex=function(t){this.allowedValuePercent&&t>=0&&t<this.allowedValuePercent.length&&(this.currentIndex=t,this.updateSlider(this.allowedValuePercent[t]))},e.prototype.setValueAlts=function(t){this.valueAlts=t;var e=s.range(t.length);this.setAllowedValues(e),this.maxText.text=t[t.length-1],this.scaleTextMax=r.StringUtil.fitByScale(this.maxText,this.widthForText,!0,this.scaleTextMax),this.minText.text=t[0],this.minText.scale.set(this.scaleTextMax)},e.prototype.setFromAlt=function(t){this.valueAlts&&this.setFromIndex(this.valueAlts.indexOf(t))},e.prototype.getStorePosition=function(){return this.storePosition},e.prototype.setStorePosition=function(t){this.storePosition=t},e.prototype.clickSlidePosition=function(t){var e=t.data.getLocalPosition(this.emptySlider).x/this.emptySlider.texture.width*100;this.updateSlider(e),this.updatedValue(e),this.startDragSlideTracker()},e.prototype.startDragSlideTracker=function(){this.functionDragMove&&this.endDrag(),this.functionDragMove=this.dragSlideTracker.bind(this),1==a.Device.instance().mobile||1==a.Device.instance().tablet?this.containerTracker.on("touchmove",this.functionDragMove):this.containerTracker.on("mousemove",this.functionDragMove)},e.prototype.dragSlideTracker=function(t){var e=t.data.getLocalPosition(this.emptySlider).x/this.emptySlider.texture.width*100;this.updateSlider(e),this.updatedValue(e)},e.prototype.updatedValue=function(t){s.isNil(this.callbackUpdate)||this.callbackUpdate.call(null,t,this.argsCallbackUpdate)},e.prototype.endDrag=function(){1==a.Device.instance().mobile||1==a.Device.instance().tablet?this.containerTracker.off("touchmove",this.functionDragMove):this.containerTracker.off("mousemove",this.functionDragMove),this.functionDragMove=null},e}(c.BaseComponent);e.Slider=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(6),l=i(32),c=i(31),u=i(54),h=i(51),p=i(21),d=function(t){function e(e,i,n,o,s,r,l){void 0===r&&(r=null);var c=t.call(this,e)||this;c.step=1,c.showFormattedText=!1,c.MINUS_BUTTON_NAME="buttonMinus",c.PLUS_BUTTON_NAME="buttonPlus",c.CYCLE_MIDDLE="CycleMiddle",c.CYCLE_MINUS="CycleMinusButton",c.CYCLE_PLUS="CyclePlusButton",c._index=-1,a.Device.instance().mobile&&(c.CYCLE_MIDDLE="MUI"+c.CYCLE_MIDDLE,c.CYCLE_MINUS="MUI"+c.CYCLE_MINUS,c.CYCLE_PLUS="MUI"+c.CYCLE_PLUS);var d=(i-o)/2,_=new h.Image("CycleMiddle"+e,{x:0,y:0,width:o,height:n,resource:c.CYCLE_MIDDLE,depth:0,type:"image"});return _.x=d,c.addChild(_),c.textField=new p.TextField(e+"textField"),c.textField.setUp(o-2*l,n,{fontSize:s,fill:16777215,align:"center",singleLine:!0}),c.textField.x=d+l,c.addChild(c.textField),c.buttonMinus=u.Button.createButton(e,c.CYCLE_MINUS,d,n),c.buttonMinus.buttonName=c.MINUS_BUTTON_NAME,c.buttonMinus.onClickHandler=c.clickButton.bind(c),c.addChild(c.buttonMinus),c.buttonPlus=u.Button.createButton(e,c.CYCLE_PLUS,d,n),c.buttonPlus.buttonName=c.PLUS_BUTTON_NAME,c.buttonPlus.onClickHandler=c.clickButton.bind(c),c.buttonPlus.x=o+d,c.addChild(c.buttonPlus),c.callback=r,c}return o(e,t),Object.defineProperty(e.prototype,"minVal",{set:function(t){this._minVal=t,this.values?r.Log.warning("Number stepper "+this.name+" using values instead of max/min"):this.current=Math.max(t,this._current)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxVal",{set:function(t){this._maxVal=t,this.values?r.Log.warning("Number stepper "+this.name+" using values instead of max/min"):this.current=Math.min(t,this._current)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},set:function(t){if(s.isNil(this.values)){var e=this._current;this._current=Math.max(this._minVal,Math.min(this._maxVal,t)),e!=this._current&&(this.showFormattedText?this.textField.updateLabel(l.NumberFormatterUtil.formatCoins(this._current)):this.textField.updateLabel(this._current.toString()))}else{var i=this.values.indexOf(t.toString());-1!=i&&(this.index=i)}this.checkForRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentText",{set:function(t){this.textField.updateLabel(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.values||r.Log.warning("Number stepper "+this.name+" has no values or index"),this._index},set:function(t){if(this.values){var e=this._index;this._index=Math.max(0,Math.min(t,this.values.length-1)),e!=this._index&&(this.showFormattedText?this.textField.updateLabel(l.NumberFormatterUtil.formatCoins(parseFloat(this.values[this._index]))):this.textField.updateLabel(this.values[this._index])),this.checkForRange()}else r.Log.warning("Number stepper "+this.name+" has no values or index")},enumerable:!0,configurable:!0}),e.prototype.clickButton=function(t){this.values?(t==this.MINUS_BUTTON_NAME?this.index--:this.index++,this._current=Number(this.values[this.index]),this.callback&&this.callback(this.name,this.index,this.current)):(t==this.PLUS_BUTTON_NAME?this.current+=this.step:this.current-=this.step,this.callback&&this.callback(this.name,this.current)),this.checkForRange()},e.prototype.checkForRange=function(){if(s.isNil(this.values))this.current==this._minVal?this.buttonMinus.enableButton(!1):this.current==this._maxVal?this.buttonPlus.enableButton(!1):(this.buttonMinus.enableButton(!0),this.buttonPlus.enableButton(!0));else if(0===this.index){if(this.buttonMinus.enableButton(!1),this.index==this.values.length-1)return void this.buttonPlus.enableButton(!1);this.buttonPlus.enableButton(!0)}else this.index==this.values.length-1?(this.buttonMinus.enableButton(!0),this.buttonPlus.enableButton(!1)):(this.buttonMinus.enableButton(!0),this.buttonPlus.enableButton(!0))},e.prototype.setRange=function(t,e){this._minVal=t,this._maxVal=e,s.isNil(this._current)||(this.current=this._current)},e.prototype.setValues=function(t){this.values=t,this._index>=0&&(this.showFormattedText?this.textField.updateLabel(l.NumberFormatterUtil.formatCoins(parseFloat(this.values[this._index]))):this.textField.updateLabel(this.values[this._index]))},e.prototype.getUsesIndex=function(){return!s.isNil(this.values)},e.prototype.cleanUp=function(){this.buttonMinus.onClickHandler=null,this.buttonPlus.onClickHandler=null},e.prototype.enableControlls=function(t){this.buttonMinus.enableButton(t),this.buttonPlus.enableButton(t),t&&this.checkForRange()},e.prototype.reset=function(t){this.values||(this.current=t,this.checkForRange())},e}(c.BaseComponent);e.NumberStepper=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=i(8),l=function(t){function e(e){var i=t.call(this,e)||this;return i._elements=[],i}return o(e,t),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!0,configurable:!0}),e.prototype.createList=function(){var t=this;s.each(s.sortBy(this.elements,"depth"),(function(e){e.children&&e.children[0]instanceof PIXI.Sprite&&e.children[0].anchor.set(.5,.5),t.addChild(e)})),this.mapListChildren(),this.addItemsMask()},e.prototype.mapListChildren=function(){var t=this;s.each(this.children,(function(e,i){switch(e.name){case"Decrease":t._bgDecrease=e;break;case"Background":t._background=e;break;case"Increase":t._bgIncrease=e;break;case"Item-Circle":t._itemCircle=e;break;case"Item-Arrow":t._itemArrow=e;break;case"Items-Holder":t._itemsHolder=e}}))},e.prototype.addItemsMask=function(){var t=this._background.getLocalBounds();this._itemsHolderMask=this.createMask(t,this._itemsHolder.name+"-Mask"),this.addChild(this._itemsHolderMask),this._itemsHolder.mask=this._itemsHolderMask},e.prototype.createMask=function(t,e){var i=new PIXI.Graphics;i.beginFill(16776960),i.lineStyle(0,16711680),i.drawRect(t.x,t.y,t.width,t.height),i.alpha=1,i.endFill();var n=r.SceneManager.renderer.generateTexture(i),o=new PIXI.Sprite(n);return o.name=e,o},e.prototype.adjustBackgroundHeight=function(t){this._background.height=t,this._background.y=this._bgDecrease.y+this._bgDecrease.height/2+this._background.height/2,this._itemCircle.y=this._background.y,this._itemArrow.y=this._background.y,this._itemsHolderMask.height=t,this._itemsHolderMask.y=this._background.y-this._itemsHolderMask.height/2,this._bgIncrease.y=this._background.y+this._background.height/2+this._bgIncrease.height/2},e.prototype.adjustBackgroundWidth=function(t){this._background.width=t,this._background.x=this._bgDecrease.x+this._bgDecrease.width/2+this._background.width/2,this._itemCircle.x=this._background.x,this._itemArrow.x=this._background.x,this._itemsHolderMask.width=t,this._itemsHolderMask.x=this._background.x-this._itemsHolderMask.width/2,this._bgIncrease.x=this._background.x+this._background.width/2+this._bgIncrease.width/2},e}(a.BaseComponent);e.List=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(215),l=i(495),c=i(138),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.parseLayout=function(){var t=this;s.each(s.sortBy(this.layout.childNodes,"depth"),(function(e){switch(e.attributes.getNamedItem("type").value){case"tooltipBackground":t.background=t.createToolTipBackground(e);break;case"tooltipLabel":t.label=t.createToolTipLabel(e)}})),this.createToolTip()},e.prototype.createToolTipBackground=function(t){var e=new l.ToolTipBackground(t.attributes.getNamedItem("name").value);return e.layout=t,e},e.prototype.createToolTipLabel=function(t){var e=new c.ToolTipLabel(t.attributes.getNamedItem("name").value,this.scalable);return e.layout=t,e},e.prototype.createToolTip=function(){s.isNil(this.background)||this.addChild(this.background),t.prototype.createToolTip.call(this)},e.prototype.updateLabel=function(e){if(t.prototype.updateLabel.call(this,e),this.scalable&&!s.isNil(this.background)){var i=void 0;i=a.Device.instance().desktop||a.Device.instance().tablet?this.label.textWidth/2:this.label.textWidth,this.background.resize(i,this.label.paddingX)}if(this.scalableVertical&&!s.isNil(this.background)){var n=void 0;n=a.Device.instance().desktop||a.Device.instance().tablet?this.label.textHeight/2:this.label.textHeight,this.background.resizeVertical(n,this.label.paddingY)}},e}(r.AbstractToolTip);e.ToolTip=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(15),r=function(t){function e(e){var i=t.call(this,e)||this;return i.texturesNames=["leftBackground","middleBackground","rightBackground","middleArrow"],i._alignArrow="",i}return o(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,this.parseLayout()},enumerable:!0,configurable:!0}),e.prototype.parseLayout=function(){var t=this;this.position.x=parseFloat(this.layout.attributes.getNamedItem("x").value),this.position.y=parseFloat(this.layout.attributes.getNamedItem("y").value),this.depth=parseFloat(this.layout.attributes.getNamedItem("depth").value),this.width=parseFloat(this.layout.attributes.getNamedItem("width").value),this.height=parseFloat(this.layout.attributes.getNamedItem("height").value),this._leftBackgroundSize=this.layout.attributes.getNamedItem("leftBackgroundSize").value.split(",").map(Number),this._middleBackgroundSize=this.layout.attributes.getNamedItem("middleBackgroundSize").value.split(",").map(Number),this._rightBackgroundSize=this.layout.attributes.getNamedItem("rightBackgroundSize").value.split(",").map(Number),this.layout.attributes.getNamedItem("middleArrowSize")&&""!=this.layout.attributes.getNamedItem("middleArrowSize").value&&(this._middleArrowSize=this.layout.attributes.getNamedItem("middleArrowSize").value.split(",").map(Number)),this.layout.attributes.getNamedItem("alignArrow")&&""!=this.layout.attributes.getNamedItem("alignArrow").value&&(this._alignArrow=this.layout.attributes.getNamedItem("alignArrow").value),s.each(this.texturesNames,(function(e,i){if(t.layout.attributes.getNamedItem(e)&&""!=t.layout.attributes.getNamedItem(e).value){var n=a.TextureUtil.instance().getTextureFromCache(t.layout.attributes.getNamedItem(e).value);switch(e){case"leftBackground":t._leftBackground=new PIXI.Sprite(n),s.isNil(t._leftBackground)||(t._leftBackground.width=t._leftBackgroundSize[0],t._leftBackground.height=t._leftBackgroundSize[1],t.addChild(t._leftBackground));break;case"middleBackground":t._middleBackground=new PIXI.Sprite(n),s.isNil(t._middleBackground)||(t._middleBackground.width=t._middleBackgroundSize[0],t._middleBackground.height=t._middleBackgroundSize[1],t.addChild(t._middleBackground));break;case"rightBackground":t._rightBackground=new PIXI.Sprite(n),s.isNil(t._rightBackground)||(t._rightBackground.width=t._rightBackgroundSize[0],t._rightBackground.height=t._rightBackgroundSize[1],t.addChild(t._rightBackground));break;case"middleArrow":t._middleArrow=new PIXI.Sprite(n),s.isNil(t._middleArrow)||(t._middleArrow.width=t._middleArrowSize[0],t._middleArrow.height=t._middleArrowSize[1],t.addChild(t._middleArrow))}}})),this.alignChildren()},e.prototype.alignChildren=function(){this._leftBackground.x=0,this._leftBackground.y=0,this._middleBackground.x=this._leftBackground.width,this._middleBackground.y=0,this._rightBackground.x=this._leftBackground.width+this._middleBackground.width,this._rightBackground.y=0,this.setArrowPosition()},e.prototype.setArrowPosition=function(){if(!s.isNil(this._middleArrow)&&!s.isNil(this._alignArrow)&&""!=this._alignArrow)switch(this._alignArrow){case"top":this._middleArrow.x=0,this._middleArrow.y=0;break;case"bottom":this._middleArrow.x=(this._rightBackground.x+this._rightBackground.width)/2-this._middleArrow.width/2,this._middleArrow.y=this._rightBackground.height;break;case"left":this._middleArrow.x=0,this._middleArrow.y=0;break;case"right":this._middleArrow.rotation=this.degreesToRadians(-90),this._middleArrow.x=this._rightBackground.x+2,this._middleArrow.y=this._rightBackground.height/2+this._middleArrow.height/2}},e.prototype.resize=function(t,e){t>this._middleBackgroundSize[0]?this._middleBackground.width=t+e:this._middleBackground.width=this._middleBackgroundSize[0],this._rightBackground.x=this._leftBackground.width+this._middleBackground.width,this.setArrowPosition()},e.prototype.resizeVertical=function(t,e){this.alignChildren(),t<this._middleBackgroundSize[1]?(this._leftBackground.height=this._middleBackground.height=this._rightBackground.height=t+e,this._leftBackground.y+=(this._middleBackgroundSize[1]-this._leftBackground.height)/2,this._middleBackground.y=this._rightBackground.y=this._leftBackground.y):this._leftBackground.height=this._middleBackground.height=this._rightBackground.height=this._middleBackgroundSize[1]},e.prototype.degreesToRadians=function(t){return t*(Math.PI/180)},e.prototype.radiansToDegrees=function(t){return t*(180/Math.PI)},e}(i(31).BaseComponent);e.ToolTipBackground=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(215),r=i(138),l=i(497),c=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.parseLayout=function(){var t=this;s.each(s.sortBy(this.layout.childNodes,"depth"),(function(e){switch(e.attributes.getNamedItem("type").value){case"tooltipSVGBackground":t.background=t.createToolTipSVGBackground(e);break;case"tooltipLabel":t.label=t.createToolTipLabel(e)}})),this.createToolTip()},e.prototype.createToolTipSVGBackground=function(t){var e=new l.ToolTipSVGBackground(t.attributes.getNamedItem("name").value);return e.layout=t,e},e.prototype.createToolTipLabel=function(t){var e=new r.ToolTipLabel(t.attributes.getNamedItem("name").value,this.scalable);return e.layout=t,e},e.prototype.createToolTip=function(){s.isNil(this.background)||this.addChild(this.background),t.prototype.createToolTip.call(this)},e.prototype.updateLabel=function(e){t.prototype.updateLabel.call(this,e),this.scalable&&(s.isNil(this.background)||this.background.resize(this.label.textWidth/2,this.label.paddingX))},e}(a.AbstractToolTip);e.SVGToolTip=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(82),r=function(t){function e(e){var i=t.call(this,e)||this;return i.texturesNames=["leftBackground","middleBackground","rightBackground","middleArrow"],i._alignArrow="",i}return o(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,this.parseLayout()},enumerable:!0,configurable:!0}),e.prototype.parseLayout=function(){var t=this;this.position.x=parseFloat(this.layout.attributes.getNamedItem("x").value),this.position.y=parseFloat(this.layout.attributes.getNamedItem("y").value),this.depth=parseFloat(this.layout.attributes.getNamedItem("depth").value),this.width=parseFloat(this.layout.attributes.getNamedItem("width").value),this.height=parseFloat(this.layout.attributes.getNamedItem("height").value),this._leftBackgroundSize=this.layout.attributes.getNamedItem("leftBackgroundSize").value.split(",").map(Number),this._middleBackgroundSize=this.layout.attributes.getNamedItem("middleBackgroundSize").value.split(",").map(Number),this._rightBackgroundSize=this.layout.attributes.getNamedItem("rightBackgroundSize").value.split(",").map(Number),this.layout.attributes.getNamedItem("middleArrowSize")&&""!=this.layout.attributes.getNamedItem("middleArrowSize").value&&(this._middleArrowSize=this.layout.attributes.getNamedItem("middleArrowSize").value.split(",").map(Number)),this.layout.attributes.getNamedItem("alignArrow")&&""!=this.layout.attributes.getNamedItem("alignArrow").value&&(this._alignArrow=this.layout.attributes.getNamedItem("alignArrow").value),s.each(this.texturesNames,(function(e,i){if(t.layout.attributes.getNamedItem(e)&&""!=t.layout.attributes.getNamedItem(e).value){var n=a.SVGUtil.instance().svgToURL(t.layout.attributes.getNamedItem(e).value,!0),o=PIXI.Texture.fromImage(n);switch(e){case"leftBackground":t._leftBackground=new PIXI.Sprite(o),s.isNil(t._leftBackground)||(t._leftBackground.width=t._leftBackgroundSize[0],t._leftBackground.height=t._leftBackgroundSize[1],t.addChild(t._leftBackground));break;case"middleBackground":t._middleBackground=new PIXI.Sprite(o),s.isNil(t._middleBackground)||(t._middleBackground.width=t._middleBackgroundSize[0],t._middleBackground.height=t._middleBackgroundSize[1],t.addChild(t._middleBackground));break;case"rightBackground":t._rightBackground=new PIXI.Sprite(o),s.isNil(t._rightBackground)||(t._rightBackground.width=t._rightBackgroundSize[0],t._rightBackground.height=t._rightBackgroundSize[1],t.addChild(t._rightBackground));break;case"middleArrow":t._middleArrow=new PIXI.Sprite(o),s.isNil(t._middleArrow)||(t._middleArrow.width=t._middleArrowSize[0],t._middleArrow.height=t._middleArrowSize[1],t.addChild(t._middleArrow))}}})),this.alignChildren()},e.prototype.alignChildren=function(){this._leftBackground.x=0,this._leftBackground.y=0,this._middleBackground.x=this._leftBackground.width,this._middleBackground.y=0,this._rightBackground.x=this._leftBackground.width+this._middleBackground.width,this._rightBackground.y=0,this.setArrowPosition()},e.prototype.setArrowPosition=function(){if(!s.isNil(this._middleArrow)&&!s.isNil(this._alignArrow)&&""!=this._alignArrow)switch(this._alignArrow){case"top":this._middleArrow.x=0,this._middleArrow.y=0;break;case"bottom":this._middleArrow.x=(this._rightBackground.x+this._rightBackground.width)/2-this._middleArrow.width/2,this._middleArrow.y=this._rightBackground.height;break;case"left":this._middleArrow.x=0,this._middleArrow.y=0;break;case"right":this._middleArrow.rotation=this.degreesToRadians(-90),this._middleArrow.x=this._rightBackground.x+2,this._middleArrow.y=this._rightBackground.height/2+this._middleArrow.height/2}},e.prototype.resize=function(t,e){t>this._middleBackgroundSize[0]?this._middleBackground.width=t+e:this._middleBackground.width=this._middleBackgroundSize[0],this._rightBackground.x=this._leftBackground.width+this._middleBackground.width,this.setArrowPosition()},e.prototype.degreesToRadians=function(t){return t*(Math.PI/180)},e.prototype.radiansToDegrees=function(t){return t*(180/Math.PI)},e}(i(31).BaseComponent);e.ToolTipSVGBackground=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body.modules;s.isNil(e)||(this.modulesProxy.setModules(e),this.modulesProxy.initializeLoader())},e.prototype.initVars=function(){s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveProxy(r.Names.Proxies.MODULES))},e}(a.Controller);e.SetGameModulesCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.UPDATE_PROGRESS,t.body)},e}(s.Controller);e.UpdateLoadingProgressCommand=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t,e){this.className=t,n.isNil(e)||(this.sceneProps=e)};e.SceneTemplateConfigVo=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){void 0===i&&(i=!1),this.id=t,this.implementation=e,this.isSingleton=i};e.ServiceVo=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(6),s=i(70),a=i(192),r=function(){function t(){if(this.signals={},t._instance)throw new Error("Te Dreq: Instantiation failed: Use SignalsManager.getInstance()");t._instance=this}return t.getInstance=function(){return t._instance},t.prototype.createBinding=function(t,e,i,n,o,s){if(!this.signals[t]){var r=new l;this.signals[t]=r}var c=new a.SignalBinding(this.signals[t].signal,e,!1,i,n,o);this.signals[t].bindings.push(c)},t.prototype.dispatch=function(t,e,i){if(n.isNil(this.signals[t]))o.Log.warningch("Signals","The signal: "+t+" is not listened by any entity.");else for(var s=this.signals[t].bindings,a=0;a<s.length;a++)i==s[a].dispatcherContext&&s[a].getListener().call(s[a].context,e)},t.prototype.removeListener=function(t,e){for(var i=this.signals[t].bindings,n=0;n<i.length;n++)i[n].getListener()===e&&i.splice(n,1)},t}();e.SignalsManager=r;var l=function(){this.signal=new s.Signal,this.bindings=new Array};e.CustomBinding=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.identifier=t,this.classesArray=e,this.moduleName=i,this.decoratorClasses=[],this.decoratorLayers=[]};e.ViewDetailsVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.identifierView=t,this.classesArray=e,this.moduleName=i};e.MediatorDetailsVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(12),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.settings.getValue("TURBO_MODE").enabled?this.sendGlobalNotification(r.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:e.body}):a.ATCallBack.onError(["Turbo Mode not enabled"])},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookEnableTurboModeCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.value={gameVersion:this.settings.getValue("gameVersion"),serverVersion:this.settings.getValue("versionServer"),gmapiVersion:this.settings.getValue("versionGMAPI"),qaDeploy:this.settings.getValue("qaDeploy"),engine:this.engine}},e}(i(46).AutomatedTestAbstractCommand);e.AutomatedTestHookGetGameVersionDetailsCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.connectionProxy.close(),a.ATCallBack.onError([{code:30}])},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookDisconnectCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"clickButton",hookDetails:e.body})},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookClickButtonCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(225),a=i(226),r=i(105),l=i(46),c=i(14),u=i(12),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i=this;t.prototype.execute.call(this,e);var n=new c.ATFeaturePopUpOpen(c.ATFeaturePopUpOpen.RCI_POPUP,[c.ATFeaturePopUpOpen.RCI_CONTINUE_BTN,c.ATFeaturePopUpOpen.RCI_QUIT_BTN,c.ATFeaturePopUpOpen.RCI_HISTORY_BTN]),o=new c.ATOnEventVO(c.ATEventNames.FEATURE_POP_UP_OPEN,n,1e3);u.ATCallBack.onEvent(o);var l=new s.RciPopup;l.continue=function(t){return new Promise((function(e){i.sendNotification(u.ATNotifications.RCI_CHOICE_HOOK,{choice:"continue",time:t}),TweenLite.delayedCall(.5,e.bind(i))}))},l.history=function(){return new Promise((function(t){i.sendNotification(u.ATNotifications.RCI_CHOICE_HOOK,{choice:"history"}),TweenLite.delayedCall(.5,t.bind(i))}))},l.quit=function(){return new Promise((function(t){i.sendNotification(u.ATNotifications.RCI_CHOICE_HOOK,{choice:"quit"}),TweenLite.delayedCall(.5,t.bind(i))}))},l.close=function(){return new Promise((function(t){l.continue().then(t())}))},r.ATMPublicApiService.instance.eventEmitter.emit(s.RciPopup,l,500),r.ATMPublicApiService.instance.eventEmitter.emit(a.ScreenshotRequest,new a.ScreenshotRequest(c.ATEventNames.RCI_CHECKPOINT),500)},e}(l.AutomatedTestAbstractCommand);e.ATHandleShowRealityCheckClientCommand=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this.globalSubscribers=[],this.subscribers=new Map}return t.prototype.getSubscribers=function(t){return t?(this.subscribers.has(t)||this.subscribers.set(t,[]),this.subscribers.get(t)):this.globalSubscribers},t.prototype.emitAfterDelay=function(t,e){n.each(this.getSubscribers().concat(this.getSubscribers(t)),(function(t){t(e)}))},t.prototype.emit=function(t,e,i){var n=this;void 0===i&&(i=0),i>0?setTimeout((function(){n.emitAfterDelay(t,e)}),i):this.emitAfterDelay(t,e)},t.prototype.subscribe=function(t,e){var i=this.getSubscribers(e);return i.push(t),function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}},t.prototype.subscribeOnce=function(t,e){var i=this.subscribe((function(e){i(),t(e)}),e);return i},t.prototype.unsubscribe=function(t){t?this.subscribers.delete(t):(this.globalSubscribers=[],this.subscribers.clear())},t}();e.ATMEventEmitter=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this;this.name="ATMError",this.toString=function(){var e=void 0===t.name?"Error":String(t.name),i=void 0===t.message?"":String(t.message);return e+" ("+(void 0===t.code?"":String(t.code))+") : "+i}};e.ATMError=s;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ATMDisconnectError",e}return o(e,t),e}(s);e.ATMDisconnectError=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this;this.name="ATMWarning",this.toString=function(){return(void 0===t.name?"Warning":String(t.name))+" : "+(void 0===t.message?"":String(t.message))}};e.ATMWarning=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"getButtonState",hookDetails:e.body})},e}(s.AutomatedTestAbstractCommand);e.AutomatedTestHookGetButtonStateCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.ATCallBack.onEvent(e.body)},e}(i(3).Controller);e.ATCallBackOnEventHandlerCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;s.ATCallBack.onCommandSent([i.join()])},e}(i(3).Controller);e.ATCallBackOnCommandSendCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.ATCallBack.onWarning(e.body)},e}(i(3).Controller);e.ATCallBackOnWarningHandlerCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.ATCallBack.onServerData([e.body])},e}(i(3).Controller);e.ATCallBackOnServerDataCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.ATCallBack.onError([e.body])},e}(i(3).Controller);e.ATHandleErrorCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=i(3),r=i(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(i){t.prototype.execute.call(this,i),r.has(i.body,"eventDetails")?e.onSendError(i.body.eventDetails):e.onSendError(i.body)},e.onSendError=function(t){r.isArray(t)?s.ATCallBack.onError(t):s.ATCallBack.onError([t])},e}(a.Controller);e.ATCallBackOnErrorHandlerCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(12),r=i(25),l=i(26),c=i(58),u=i(0),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body.type;if(!u.isNil(i)&&i==c.DialogTypes.GAP){var n=new s.ATFeaturePopUpOpen(s.ATFeaturePopUpOpen.GAP_POPUP,[],s.ATFeaturePopUpOpenTypes.GAP_ERROR),o=new s.ATOnEventVO(l.SlotATEventNames.FEATURE_POP_UP_OPEN,n,1e3);a.ATCallBack.onEvent(o)}},e}(r.SlotAutomatedTestAbstractCommand);e.ATOnDialogOpenCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasBonusSystemPopUpPending=!1,e.isBonusSystemPupPupVisible=!1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initVars()},e.prototype.initVars=function(){},e}(i(13).Proxy);e.BonusSystemProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=this.connectionProxy.getServerData("bonusBalance");s.isNil(i)&&this.sendGlobalNotification(r.Notifications.Strip.TOGGLE_OFF_BONUS_BALANCE)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION))},e}(a.Controller);e.CheckBonusBalanceCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(6),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.messages=[],e}return o(e,t),e.prototype.storeMessages=function(t){var e=this;s.isArray(t)?s.forEach(t,(function(t){e.hasDuplicate(t)||e.storeMessage(t)})):this.hasDuplicate(t)||this.storeMessage(t)},e.prototype.storeMessage=function(t){this.messages.push(t)},e.prototype.shiftMessage=function(){if(this.hasMessages())return this.messages.shift();r.Log.error("GmapiCustomMessagesProxy: No messages found")},e.prototype.hasMessages=function(){return this.messages.length>0},e.prototype.hasDuplicate=function(t){return s.findIndex(this.messages,["message",t.message])>=0},e.prototype.resetMessages=function(){this.messages=[]},e}(a.Proxy);e.GmapiCustomMessagesProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(237),l=i(239),c=i(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=new l.ConnectionVO;this.initConnectionVO(e),this.initConnectionProxy(e)},e.prototype.initConnectionProxy=function(t){this.connectionProxy.init(new r.ConnectionHTTPS(t))},e.prototype.initConnectionVO=function(t){t.host=this.settings.getValue("host");var e=this.settings.getSkinIdFormat(this.gameConfigVO.skinID);this.settings.getValue("funmode")?t.loginParam.push(this.settings.getValue("serverPortFun")):t.loginParam.push(this.settings.getValue("serverPortReal")),t.loginParam.push(this.settings.getValue("name")),t.loginParam.push(this.settings.getValue("password")),t.loginParam.push(e);var i=this.settings.getValue("mathServerConfig");s.isNil(i)||t.loginParam.push(JSON.stringify(i))},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveProxy(c.Names.Proxies.CONNECTION)),s.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig"))},e}(a.Controller);e.ConnectCommand=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.getBKeyAndSetSecretFromA=function(t,e,i){for(var n=e,o=t,s=this.getRandomInt(1,9999),a=0;a<s-1;a++)n=n*e%i,o=o*t%i;return this.setCipherWithSecretKey(o),n},t.prototype.encryptAES=function(t){var e=CryptoJS.AES.encrypt(t,this.sha256Key,{iv:this.iv,mode:CryptoJS.mode.CFBb,padding:CryptoJS.pad.NoPadding,segmentSize:8}),i={};return i.length=e.ciphertext.sigBytes,i.command=e.toString(),i},t.prototype.decryptAES=function(t){return CryptoJS.AES.decrypt(t,this.sha256Key,{iv:this.iv,mode:CryptoJS.mode.CFBb,padding:CryptoJS.pad.NoPadding,segmentSize:8}).toString(CryptoJS.enc.Utf8)},t.prototype.setCipherWithSecretKey=function(t){for(var e=t.toString();e.length<33;)e+=e;e=e.substr(0,32),this.sha256Key=CryptoJS.SHA256(e),this.iv=CryptoJS.enc.Hex.parse(this.hexEncode("0123456789ABCDEF"))},t.prototype.hexEncode=function(t){for(var e="",i=0;i<t.length;i++){e+=("000"+t.charCodeAt(i).toString(16)).slice(-2)}return e},t.prototype.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},t}();e.EncryptionUtil=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),o=function(){function t(){this.expired=!1,this.maximumPings=0,this.enabled=!1,this.timeoutCurrentPing=0,this.PING_COMMAND="192837",this.PAUSE_COMMAND="777";var t=n.ServiceLocator.instance().get("Settings"),e=t.getValue("CLIENT_TIMEOUT"),i=t.getValue("connectionPing"),o=t.getValue("BALANCE_UPDATE_CHECK");if(e.enabled){var s=t.getValue("name").split(",")[0],a=[];e.lid.indexOf(",")>0?a=e.lid.split(","):a[0]=e.lid;var r=[];e.timeout_duration.indexOf(",")>0?r=e.timeout_duration.split(","):r[0]=e.timeout_duration;var l=a.indexOf(s);if(l>-1){var c=3,u=!1,h=!1;if(null!=o)if(null!=o.timeToCheck&&(c=o.timeToCheck),null!=o.enable&&(u=o.enable),null!=o.licensee)-1!=o.licensee.indexOf(s)&&"false"==t.getValue("funmode")&&(h=!0);this.enabled=!0;var p=parseFloat(r[l]);this.maximumPings=u&&h?Math.floor(60*p/c)-1:Math.floor(6e4*p/i)-1}}}return t.prototype.countPings=function(t){this.enabled&&(t[0]==this.PING_COMMAND||2==t.length&&t[0]==this.PAUSE_COMMAND&&t[1]==this.PAUSE_COMMAND?(this.timeoutCurrentPing=this.timeoutCurrentPing+1,this.timeoutCurrentPing==this.maximumPings&&(this.expired=!0)):this.timeoutCurrentPing=0)},t}();e.ClientTimeout=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(6),l=i(237),c=i(239),u=i(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e,i=this;r.Log.infoch("CONNECTION","----INITIALIZING PROGRESSIVE CONNECTION----"),this.initVars(),s.each(this.connectionIDArray,(function(t){e=new c.ConnectionVO,i.initProgressiveConnectionVO(t,e),i.addProgressiveConnection(t,e)}))},e.prototype.initVars=function(){s.isNil(this.progressiveConnectionProxy)&&(this.progressiveConnectionProxy=this.retrieveProxy(u.Names.Proxies.PROGRESSIVE_CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(u.Names.Proxies.COINS_MONEY,u.Names.Modules.MONEY)),this.initConnectionDetails()},e.prototype.initConnectionDetails=function(){var t=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS");this.connectionIDArray=t.ids.split(","),this.progressivePortFun=t.portFun,this.progressivePortReal=t.portReal},e.prototype.initProgressiveConnectionVO=function(t,e){e.isMainConnection=!1,e.host=this.settings.getValue("host"),e.progId=t,this.settings.getValue("funmode")?e.loginParam.push(this.progressivePortFun):e.loginParam.push(this.progressivePortReal),e.loginParam.push(this.settings.getValue("name")),e.loginParam.push(this.settings.getValue("password")),e.loginParam.push(t),e.loginParam.push(99),e.loginParam.push(this.moneyProxy.getCurrentCoinValue())},e.prototype.addProgressiveConnection=function(t,e){this.progressiveConnectionProxy.addProgressiveConnection(t,new l.ConnectionHTTPS(e))},e}(a.Controller);e.ConnectProgressiveCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=i(14),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.sendGlobalNotification(r.Notifications.Global.MUTE_ALL_SOUNDS,{toggle:!t.body}),this.mvc.executionPaused(!0),this.connectionProxy.close(),this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,new c.ATOnEventVO(c.ATEventNames.GAME_CLOSED))},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveProxy(l.Names.Proxies.CONNECTION))},e}(a.Controller);e.TerminateConnectionCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.connectionProxy.tearDownActive=!0},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveProxy(r.Names.Proxies.CONNECTION))},e}(a.Controller);e.UnloadingGameCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.serverActions)&&(this.serverActions=this.retrieveProxy(r.Names.Proxies.SERVER_ACTIONS)),this.serverActions.sendRequest(t.body)},e}(a.Controller);e.ServerActionCommand=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.frameworkVersion="21",this.gameGroupVersion="0",this.gameVersion="0",this.crDeploy="0",this.qaDeploy="0"}return t.prototype.getComposedVersion=function(){var t="";return t+=this.frameworkVersion+".",t+=this.gameGroupVersion+".",t+=this.gameVersion},t}();e.GameVersionVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body;this.loadProxy.loadGroup(e)},e.prototype.initVars=function(){s.isNil(this.loadProxy)&&(this.loadProxy=this.retrieveProxy(r.Names.Proxies.LOAD))},e}(a.Controller);e.LoadGroupCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body;this.loadProxy.loadOptionalGroup(e)},e.prototype.initVars=function(){s.isNil(this.loadProxy)&&(this.loadProxy=this.retrieveProxy(r.Names.Proxies.LOAD))},e}(a.Controller);e.LoadOptionalGroupCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(16),l=i(6),c=i(82),u=i(1),h=i(4),p=i(103),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e,i=this;this.initVars(),s.has(t.body,"id")&&(e=t.body.id),s.each(t.body,(function(t,e){if(e.indexOf("other")>0&&(t.url&&t.url.indexOf(".svg")>0&&c.SVGUtil.instance().storeSVG(t.data),s.has(t,"baseTexture"))){var i=t.baseTexture.imageUrl;if(i.indexOf("standalone")>0&&i.indexOf(".jpg")>0){var n=p.FileUtil.getFileNameFromURL(i);PIXI.utils.TextureCache[n]=t}}})),s.isNil(e)||e!==u.Names.Modules.PRELOADER||this.layersProxy.drawLayer(u.Names.Layers.PRELOADER),s.each(t.body,(function(t,n){if(s.isNil(t)||s.isNil(t.spineData)||s.each(t.spineData.skins,(function(t){var e=t.attachments;s.each(e,(function(t,e,i){Object.keys(i).forEach((function(t){var e=i[t];Object.keys(e).forEach((function(t){if(s.has(e[t],"region")){var i=e[t].name||t;s.has(PIXI.utils.TextureCache,i)||(PIXI.utils.TextureCache[i]=e[t].region.texture)}}))}))}))})),n.substr(n.length-5)===u.Names.Layers.POSTFIX_LAYER_NAME){var o=n.substr(n.lastIndexOf("_")+1),a=i.layersProxy.retrieveLayer(o);if(s.isNil(a))l.Log.errorch("ModuleAssetsLoadedCommand","Missing layerName : "+o);else{var c=n.match(/html/)||n.match(/css/)||n.match(/json/);c?"html"==c[0]?(a.htmlResource=t.data,delete t.data):"css"==c[0]?(a.cssResource=t.data,delete t.data):"json"==c[0]&&(a.componentsPositionsResource=t.data,delete t.data):(a.layoutXML=t,i.layersProxy.shouldDrawAtStart(a.name)&&(i.layersProxy.initializePixiContainer(a.name),i.layersProxy.parseLayout(a.name),a.drawLayout(),(h.Device.instance().mobile||h.Device.instance().minigame)&&(a.drawLayout(r.PixiView.MAIN_LANDSCAPE),a.drawLayout(r.PixiView.MAIN_PORTRAIT)),i.layersProxy.drawLayer(a.name),a.name===u.Names.Layers.PRELOADER&&i.modulesProxy.hasBeenLoaded(e)))}}else{if("slot_cheat_tool_module_other"==n.substr(0,n.length-2)&&1==i.settings.getValue("ALLOW_CHEAT_TOOL"))(a=i.layersProxy.retrieveLayer("CheatToolLayer")).scenarios=t.data}})),s.isNil(e)||e===u.Names.Modules.PRELOADER||this.modulesProxy.hasBeenLoaded(e)},e.prototype.initVars=function(){s.isNil(this.viewInitProxy)&&(this.viewInitProxy=this.retrieveGlobalProxy(u.Names.Proxies.VIEWS,u.Names.Modules.GAME_SETUP)),s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(u.Names.Proxies.LAYERS,u.Names.Modules.GAME_SETUP)),s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveGlobalProxy(u.Names.Proxies.MODULES,u.Names.Modules.GAME_SETUP)),s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(u.Names.Proxies.MASTER_LAYERS,u.Names.Modules.GAME_SETUP))},e}(a.Controller);e.ModuleAssetsLoadedCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.soundProxy.processSoundResources()},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveGlobalProxy(r.Names.Proxies.SOUND,r.Names.Modules.SOUND))},e}(a.Controller);e.OptionalSoundsLoadedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(6),l=i(2),c=i(37),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;if(this.initVars(),t.body)if(s.has(t.body,"translations")||s.has(t.body,"settings")||1!=this.settings.getValue("ALLOW_CHEAT_TOOL")){if(this.settings.getValue("isLocal"))if(s.has(t.body,"connection")){var i=(n=t.body.connection).data.getElementsByTagName("detail");s.each(i,(function(t){e.settings.map(t.getAttribute("name"),t.getAttribute("value"))}))}else r.Log.errorch("Loader","ParseXMLAssetsCommand: the notification body does not contain the translations xml string");if(s.has(t.body,"translations")){var n=t.body.translations;this.translations.parseXMLResult(n),this.sendGlobalNotification(l.Notifications.Global.TRANSLATIONS_LOADED)}else r.Log.errorch("Loader","ParseXMLAssetsCommand: the notification body does not contain the translations xml string");if(s.has(t.body,"settings")){n=t.body.settings;this.settings.parseXMLResult(n),this.gameConfig.useMasterLayout||this.sendGlobalNotification(l.Notifications.Global.SETTINGS_LOADED)}else r.Log.errorch("Loader","ParseXMLAssetsCommand: the notification body does not contain the settings xml string");if(this.gameConfig.useMasterLayout){var o=[];c.MasterLayoutConfig.symbolPrefabsVersion&&(s.each(t.body.manifest_symbols.data,(function(t){if("isb.slotgamesettings"==t.type&&(c.MasterLayoutConfig.slotGameSettings=t.content),"prefab"==t.type){var e={};e.symbolName=t.content.bones[1].name,e.symbolServerID="",e.isColosal=!1,e.colosalShape=[1,1],e.data=t,o.push(e)}})),c.MasterLayoutConfig.symbolPrefabs=o),s.each(c.MasterLayoutConfig.projects,(function(i){if(s.has(t.body,i.urlKey)){var n=t.body[i.urlKey].data;e.sendGlobalNotification(l.Notifications.MasterLayout.PARSE_MANIFEST_MASTER_LAYOUT,{data:n,project:i})}}))}}else{var a;s.each(Object.getOwnPropertyNames(t.body),(function(e,i){if("id"!=e)return a=t.body[e],!0})),this.translations.parseXMLResult(a),this.sendGlobalNotification(l.Notifications.Global.TRANSLATIONS_RELOADED)}else r.Log.errorch("Loader","ParseXMLAssetsCommand: the notification body is undefined")},e.prototype.initVars=function(){s.isNil(this.gameConfig)&&(this.gameConfig=this.settings.getValue("GameConfig"))},e}(a.Controller);e.ParseXMLAssetsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body;this.loadProxy.storeOptionalGroup(e)},e.prototype.initVars=function(){s.isNil(this.loadProxy)&&(this.loadProxy=this.retrieveProxy(r.Names.Proxies.LOAD))},e}(a.Controller);e.StoreOptionalGroupCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(68),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.preloadProxy.stopLoader()},e.prototype.initVars=function(){s.isNil(this.preloadProxy)&&(this.preloadProxy=this.retrieveGlobalProxy(r.PreloadProxy.NAME,r.PreloadProxy.SCOPE))},e}(a.Controller);e.TerminateLoadingCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(13),l=i(540),c=i(68),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groups={},e.optionalGroups=[],e.files={},e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this._preloadProxy)&&(this._preloadProxy=this.retrieveGlobalProxy(c.PreloadProxy.NAME,c.PreloadProxy.SCOPE)),s.isNil(this._modulesProxy)&&(this._modulesProxy=this.retrieveGlobalProxy(a.Names.Proxies.MODULES,a.Names.Modules.GAME_SETUP))},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this)},e.prototype.loadGroup=function(t){var e=this;this.groups[t.id]=t;var i={};s.each(t.files,(function(t){e.files[t.id]=new l.File(t.id,t.path,t.type,t.loaded,t.loaderOptions,e.onFileComplete.bind(e)),i[t.id]=e.files[t.id]})),t.isLoading=!0,this._preloadProxy.load(i)},e.prototype.storeOptionalGroup=function(t){this.optionalGroups.push(t)},e.prototype.loadOptionalGroup=function(t){var e,i=this;s.isNil(t)?(e=this.optionalGroups,this.optionalGroups=[]):e=s.remove(this.optionalGroups,(function(e){return e.id===t})),s.each(e,(function(t){i.loadGroup(t)}))},e.prototype.getAsset=function(t){return this._preloadProxy.getAsset(t)},e.prototype.onFileComplete=function(t){this.verifyGroupComplete(t.url)},e.prototype.verifyGroupComplete=function(t){var e=this;s.each(this.groups,(function(i){if(!0!==i.isComplete){var n=!0;if(s.each(i.files,(function(e){e.path===t&&(e.loaded=!0),e.loaded||(n=!1)})),n&&i.isLoading&&!i.isComplete){var o={};o.id=i.id,s.each(i.files,(function(t){o[t.id]=e.getAsset(t.path)})),s.isNil(i.optionalDecoratorsToEnable)||(o.optionalDecoratorsToEnable=i.optionalDecoratorsToEnable),s.isNil(i.optionalDecoratorsToDisable)||(o.optionalDecoratorsToDisable=i.optionalDecoratorsToDisable),i.isLoading=!1,i.isComplete=!0,e.sendGlobalNotification(i.completeNotification,o)}}}))},e.NAME="LoadProxy",e}(r.Proxy);e.LoadProxy=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,o,s){this.id=t,this.path=e,this.type=i,this.loaded=n,this.loaderOptions=o,this.onComplete=s}return t.prototype.getDetails=function(){return{id:this.id,path:this.path,type:this.type,loaded:this.loaded,loaderOptions:this.loaderOptions,onComplete:this.onComplete}},t}();e.File=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e){var i=t.call(this,e)||this;return i._validations={},i}return o(e,t),e.prototype.registerValidationRequest=function(t,e){this.hasValidation(t)||(this._validations[t]={}),this._validations[t][e]=!1},e.prototype.toggleValidation=function(t,e){s.each(this._validations,(function(i,n){s.has(i,t)&&(i[t]=e)}))},e.prototype.hasValidation=function(t){return s.has(this._validations,t)},e.prototype.validateAll=function(t){var e=!0;return this.hasValidation(t)?s.each(this._validations[t],(function(t,i){if(!1===t)return e=!1,!1})):e=!1,e},e.prototype.validateNone=function(t){var e=!0;return this.hasValidation(t)?(s.each(this._validations[t],(function(t,i){if(!0===t)return e=!1,!1})),e):e},e.prototype.validateAtLeastOne=function(t){var e=!1;return this.hasValidation(t)?(s.each(this._validations[t],(function(t,i){if(!0===t)return e=!0,!1})),e):e},e}(i(13).Proxy);e.ValidationProxy=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(4),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),r.Device.instance().iOS||(r.Device.ACTIVATE_AUTO_FULLSCREEN=!0,r.Device.goFullScreen()),this.initVars(),this.viewInitProxy.initializeAllViewsFromAModule(l.Names.Modules.PRELOADER).then()},e.prototype.initVars=function(){s.isNil(this.viewInitProxy)&&(this.viewInitProxy=this.retrieveGlobalProxy(l.Names.Proxies.VIEWS,l.Names.Modules.GAME_SETUP)),s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(l.Names.Proxies.LAYERS,l.Names.Modules.GAME_SETUP))},e}(a.Controller);e.InitializePreloaderCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(3),r=i(30),l=i(57),c=i(78),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i,n=this.settings.getValue("maintenanceOn"),o=this.settings.getValue("ipBlocked");n&&((i=new c.DialogWindowVO).message=this.translations.getValue("game_maintenance"),i.buttonLabels=[this.translations.getValue("dialogWindowReloadGameLabel")],i.buttonCallbacks=[this.onReload.bind(this)],this.sendGlobalNotification(s.Notifications.Global.SHOW_DIALOG_WINDOW,i),this.sendGlobalNotification(s.Notifications.Global.TERMINATE_GAME));o&&((i=new c.DialogWindowVO).message=this.translations.getValue("game_ip_blocked"),i.buttonLabels=[this.translations.getValue("dialogWindowCloseLabel")],i.buttonCallbacks=[this.onClose.bind(this)],this.sendGlobalNotification(s.Notifications.Global.SHOW_DIALOG_WINDOW,i),this.sendGlobalNotification(s.Notifications.Global.TERMINATE_GAME))},e.prototype.onReload=function(){this.sendGlobalNotification(s.Notifications.Global.PLAY_SOUND,{soundName:l.SoundNames.GENERIC_BUTTON_CLICK}),r.WindowUtil.onReloadButton()},e.prototype.onClose=function(){this.sendGlobalNotification(s.Notifications.Global.PLAY_SOUND,{soundName:l.SoundNames.GENERIC_BUTTON_CLICK}),r.WindowUtil.onCloseButton()},e}(a.Controller);e.CheckApiRestrictionsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(19),r=i(244),l=i(58),c=i(2),u=s.Names.Layers,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.surpressOtherDialogs=!1,e}return o(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return u.WARNING},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.DialogWindowActionNames.DIALOG_WINDOW_VISIBILITY_CHANGED,this.announceDialogWindowVisibility.bind(this)),this.addListenerToSignal(r.DialogWindowActionNames.SELECTED_TIMER_VALUE_CHANGED,this.onSelectedValueChanged.bind(this))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.GameSetup.MODULE_INITIALIZED,this.moduleInitialized.bind(this)),this.addNotification(c.Notifications.Global.SHOW_DIALOG_WINDOW,this.onShowDialogWindow.bind(this)),this.addNotification(c.Notifications.Global.HIDE_DIALOG_WINDOW,this.onHideDialogWindow.bind(this))},e.prototype.announceDialogWindowVisibility=function(t){t?this.layerTransitionInStart():this.layerTransitionOutComplete()},e.prototype.moduleInitialized=function(t){t.body==s.Names.Modules.PRELOADER&&this.view.updateAssets()},e.prototype.onShowDialogWindow=function(t){if(!this.surpressOtherDialogs){this.validationProxy.toggleValidation(this.layer,!0);var e=t.body;e.type==l.DialogTypes.LOGOUT&&(this.surpressOtherDialogs=!0),this.view.showDialogWindow(e),this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1)}},e.prototype.onHideDialogWindow=function(t){this.validationProxy.toggleValidation(this.layer,!1),this.view.hideDialogWindow(),this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.onSelectedValueChanged=function(t){this.sendGlobalNotification(c.Notifications.Global.RCI_TIMER_VALUE_CHANGED,t)},e}(a.AbstractMediator);e.DialogWindowMediator=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(4),r=i(245),l=i(2),c=i(1),u=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.sendGlobalNotification(l.Notifications.Global.SET_CANVAS_VISIBILITY,{visible:!0}),this.sendGlobalNotification(l.Notifications.Global.CHECK_API_RESTRICTIONS,!0,!0)},Object.defineProperty(e.prototype,"layer",{get:function(){return c.Names.Layers.PRELOADER},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preloaderView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.PreloaderActionNames.PRELOADER_REMOVED,this.onPreloaderRemoved.bind(this))},e.prototype.addNotifications=function(){this.addNotification(l.Notifications.Global.UPDATE_PROGRESS,this.onProgress.bind(this)),this.addNotification(l.Notifications.Global.UPDATE_LOADING_STEP,this.onUpdateStep.bind(this)),this.addNotification(l.Notifications.Global.REMOVE_PRELOADER,this.onRemovePreloader.bind(this)),t.prototype.addNotifications.call(this)},e.prototype.onRemovePreloader=function(t){this.preloaderView.removePreloader(t.body)},e.prototype.onProgress=function(t){a.Device.resetScroll(),this.preloaderView.showProgress(t.body)},e.prototype.onUpdateStep=function(t){this.preloaderView.updateStep()},e.prototype.onPreloaderRemoved=function(){var t=this;requestAnimationFrame((function(){t.sendGlobalNotification(l.Notifications.Global.PRELOADER_REMOVED)}))},e}(s.AbstractMediator);e.PreloaderMediator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(16),l=i(47),c=i(18),u=i(40),h=i(106),p=i(27),d=i(6),_=i(30),f=i(244),y=i(58),m=i(547),N=i(548),S=i(549),g=i(4),A=i(1),E=PIXI.Graphics,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgOpacity=.95,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.defaultDialog=new m.DefaultDialogController(new c.ControllerContainer("default",this.findMultipleChild("defaultDialogueBox"))),this.defaultDialog.setMessageFields(new p.ControllerTextField("messageDefault",this.findMultipleChild("messageDefault"))),this.defaultDialog.setBackground(new u.ControllerImage("dialogueBgDefault",this.findMultipleChild("dialogueBgDefault"))),this.defaultDialog.setButtons(this.getButtonControllers("defaultButton",3)),this.defaultDialog.setVisible(!1),this.realityCheckClientDialog=new N.RealityCheckClientDialogController(new c.ControllerContainer("client",this.findMultipleChild("realityCheckClientDialogueBox"))),this.realityCheckClientDialog.setMessageFields(new p.ControllerTextField("messageRCClient",this.findMultipleChild("messageRCClient"))),this.realityCheckClientDialog.setBackground(new u.ControllerImage("dialogueBgRCClient",this.findMultipleChild("dialogueBgRCClient"))),this.realityCheckClientDialog.setButtons(this.getButtonControllers("rcClientButton",3)),this.realityCheckClientDialog.setStepper(new h.ControllerNumberStepper("stepperRCClient",this.findMultipleChild("rcClientStepper")),this.onChange.bind(this)),this.realityCheckClientDialog.setVisible(!1),this.realityCheckServerDialog=new S.RealityCheckServerDialogController(new c.ControllerContainer("server",this.findMultipleChild("realityCheckServerDialogueBox"))),this.realityCheckServerDialog.setMessageFields(new p.ControllerTextField("messageRCServer",this.findMultipleChild("messageRCServer"))),this.realityCheckServerDialog.setBackground(new u.ControllerImage("dialogueBgRCServer",this.findMultipleChild("dialogueBgRCServer"))),this.realityCheckServerDialog.setButtons(this.getButtonControllers("rcServerButton",3)),this.realityCheckServerDialog.setStepper(new h.ControllerNumberStepper("stepperRCServer",this.findMultipleChild("rcServerStepper")),this.onChange.bind(this)),this.realityCheckServerDialog.setVisible(!1);var e=new p.ControllerTextField("realityCheckClientTitle",this.findMultipleChild("realityCheckClientTitle")),i=new p.ControllerTextField("realityCheckServerTitle",this.findMultipleChild("realityCheckServerTitle")),n=this.translations.getValue("popupRealityCheckTitleLabel");e.updateLabel(n,!0),i.updateLabel(n,!0),this.bg=new E,this.display.addChildAt(this.bg,0),this.bg.interactive=!0;var o=function(t){t.stopPropagation()};this.bg.on("pointerover",o),this.bg.on("pointerout",o),this.bg.on("pointerdown",o),this.bg.on("pointerup",o)},e.prototype.getButtonControllers=function(t,e){var i=this,n=[];return s.times(e,(function(e){n.push(new l.ControllerButton(t+e,i.findMultipleChild(t+e)))})),n},e.prototype.updateAssets=function(){},e.prototype.showDialogWindow=function(t){switch(this.removeDialogWindow(),this.showDisplay(!0),t.type){case y.DialogTypes.LOGOUT:case y.DialogTypes.DEFAULT:case y.DialogTypes.GAP:this.component=this.defaultDialog;break;case y.DialogTypes.REALITY_CHECK_CLIENT:this.component=this.realityCheckClientDialog;break;case y.DialogTypes.REALITY_CHECK_SERVER:this.component=this.realityCheckServerDialog;break;default:d.Log.errorch("DialogWindow","Invalid dialogWindowVO used, missing type.")}this.component&&(this.component.showDialogWindow(t),this.component.deviceScreenResized(),this.component.setVisible(!0),this.bgOpacity=t.bgOpacity,this.drawBg())},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.component&&(this.component.deviceScreenResized(),this.drawBg())},e.prototype.hideDialogWindow=function(){this.showDisplay(!1)},e.prototype.removeDialogWindow=function(){this.component&&(this.component.setVisible(!1),this.component=null)},e.prototype.drawBg=function(){this.bg.clear(),this.bg.beginFill(0,this.bgOpacity);var t=a.SceneManager.getVMargin,e=-a.SceneManager.getHMargin-_.WindowUtil.ROUND_COMPENSATION,i=0;(g.Device.instance().mobile||g.Device.instance().minigame)&&(i=g.Device.isLandscape()?a.SceneManager.SCENE_Y_OFFSET.landscape/a.SceneManager.ratio:a.SceneManager.SCENE_Y_OFFSET.portrait/a.SceneManager.ratio),t=-i,this.bg.drawRect(e,t,Math.ceil(a.SceneManager.getScreenWidth)+2*_.WindowUtil.ROUND_COMPENSATION,Math.ceil(a.SceneManager.getScreenHeight)+i)},e.prototype.showDisplay=function(t){t?(this.display.visible=!0,this.dispatchSignal(f.DialogWindowActionNames.DIALOG_WINDOW_VISIBILITY_CHANGED,!0),this.onStartShowLayer(A.Names.Layers.WARNING,null)):(this.display.visible=!1,this.dispatchSignal(f.DialogWindowActionNames.DIALOG_WINDOW_VISIBILITY_CHANGED,!1),this.onCompleteHideLayer(A.Names.Layers.WARNING,null),this.removeDialogWindow())},e.prototype.onChange=function(t){this.dispatchSignal(f.DialogWindowActionNames.SELECTED_TIMER_VALUE_CHANGED,t)},e}(r.PixiView);e.DialogWindowViewPixi=I},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i(143).AbstractDialogController);e.DefaultDialogController=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.setStepper=function(t,e){this.steppers=t,this.steppers.componentLandscape.callback=this.onStepperChange.bind(this),s.isNil(this.steppers.componentPortrait)||(this.steppers.componentPortrait.callback=this.onStepperChange.bind(this)),this.callBack=e},e.prototype.stepperValues=function(e){t.prototype.stepperValues.call(this,e),this.steppers.setValues(e.data.choices),this.choices=e.data.choices,-1==this.steppers.index&&(this.steppers.index=e.data.defaultChoice),this.onStepperChange("choices",this.steppers.index),this.stepperCallback=e.stepperCallback},e.prototype.onStepperChange=function(t,e){this.callBack(this.choices[e]),s.isNil(this.stepperCallback)||this.stepperCallback()},e}(i(143).AbstractDialogController);e.RealityCheckClientDialogController=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.setStepper=function(t,e){this.steppers=t,this.steppers.componentLandscape.callback=this.onStepperChange.bind(this),s.isNil(this.steppers.componentPortrait)||(this.steppers.componentPortrait.callback=this.onStepperChange.bind(this)),this.callBack=e},e.prototype.onStepperChange=function(t,e){s.isNil(this.choices)||(this.callBack(this.choices[e]),s.isNil(this.stepperCallback)||this.stepperCallback(this.choices[e]))},e.prototype.stepperValues=function(e){var i=this;t.prototype.stepperValues.call(this,e);var n="";e.data.actionId&&(n=e.data.actionId),s.times(e.buttonLabels.length,(function(t){i.buttons[t].updateLabel(e.buttonLabels[t]),i.buttons[t].buttonDetails={target:i.buttons[t]},s.isNil(e.data.choices)?i.buttons[t].onClickHandler=e.buttonCallbacks[t].bind(i,void 0,n):i.buttons[t].onClickHandler=e.buttonCallbacks[t].bind(i,e.data.choices[e.data.defaultChoice],n)})),this.choices=e.data.choices,s.isNil(this.choices)?this.steppers.visible=!1:(this.steppers.setValues(e.data.choices),-1==this.steppers.index&&(this.steppers.index=e.data.defaultChoice),this.onStepperChange("choices",this.steppers.index),this.stepperCallback=e.stepperCallback,this.steppers.visible=!0)},e}(i(143).AbstractDialogController);e.RealityCheckServerDialogController=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.GET_SOUND_STATE,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.GetSoundStateCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.MUTE_ALL_SOUNDS,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.MuteAllSoundsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.MUTE_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.MuteSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.PAUSE_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.PauseSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.PLAY_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.PlaySoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.RESUME_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.ResumeSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.SET_SOUND_VOLUME,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.SetSoundVolumeCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.STOP_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.StopSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(67),a=i(2),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendNotification(a.Notifications.Sound.UNMUTE_SOUND,e.body,r.Names.Modules.SOUND)},e}(s.SoundCommand);e.UnmuteSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(560),r=i(561),l=i(563),c=i(564),u=i(565),h=i(566),p=i(567),d=i(568),_=i(569),f=i(570),y=i(571),m=i(572),N=i(1),S=i(573),g=i(2),A=i(576),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(N.Names.Proxies.SOUND,S.SoundProxy)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(g.Notifications.GameSetup.MODULE_LOADED,f.SoundModuleLoadedCommand),this.addCommand(g.Notifications.GameSetup.ALL_MODULES_INITIALIZED,a.AllModulesInitializedCommand),this.addCommand(g.Notifications.Sound.PLAY_SOUND,_.PlayInternalSoundCommand),this.addCommand(g.Notifications.Sound.STOP_SOUND,y.StopInternalSoundCommand),this.addCommand(g.Notifications.Sound.MUTE_ALL_SOUNDS,l.InternalMuteAllSoundsCommand),this.addCommand(g.Notifications.Sound.SET_SOUND_VOLUME,p.InternalSetSoundVolumeCommand),this.addCommand(g.Notifications.Sound.PAUSE_SOUND,u.InternalPauseSoundCommand),this.addCommand(g.Notifications.Sound.RESUME_SOUND,h.InternalResumeSoundCommand),this.addCommand(g.Notifications.Sound.MUTE_SOUND,c.InternalMuteSoundCommand),this.addCommand(g.Notifications.Sound.UNMUTE_SOUND,d.InternalUnmuteSoundCommand),this.addCommand(g.Notifications.Sound.GET_SOUND_STATE,r.InternalGetSoundStateCommand),this.addCommand(g.Notifications.Global.USER_ACTION_ANNOUNCE,m.UserActionAnnouncedCommand),this.addCommand(g.Notifications.Global.PLAY_SOUND_MASTER_LAYOUT,A.PlayMasterLayoutSoundCommand)},e}(s.AbstractModule);e.Sound=E},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(4),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),r.Device.soundDeviceSupported&&this.soundProxy.processSoundResources()},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(l.Names.Proxies.SOUND))},e}(a.Controller);e.AllModulesInitializedCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(562),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i,n=e.body.soundName,o=e.body.callback,a=this.soundProxy.getSoundVO(n);s.isNil(a)||(i=new l.SoundStateVO(a.playing,a.paused)),o.call(null,i)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalGetSoundStateCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.playing=t,this.paused=e};e.SoundStateVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(3),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.muteAll(i.toggle),this.sendGlobalNotification(a.Notifications.Global.SOUND_STATE_CHANGED,{isSoundOn:!i.toggle})},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(l.Names.Proxies.SOUND))},e}(r.Controller);e.InternalMuteAllSoundsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.mute(i.soundName)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalMuteSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.pause(i.soundName,!s.isNil(i.fadeOut),i.fadeOut)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalPauseSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.resume(i.soundName,!s.isNil(i.fadeIn),i.fadeIn)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalResumeSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;i.fade?this.soundProxy.fadeVolume(i.soundName,i.fade,i.volume):this.soundProxy.changeSoundVolume(i.soundName,i.volume)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalSetSoundVolumeCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.unmute(i.soundName)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.InternalUnmuteSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.play(i.soundName,i.loop,i.fadeIn,i.callBackFunction)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.PlayInternalSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(2),c=i(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),c.Device.soundDeviceSupported?(this.initVars(),this.initSoundProxy()):this.sendGlobalNotification(l.Notifications.Global.SOUND_PARSED)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(a.Names.Proxies.SOUND))},e.prototype.initSoundProxy=function(){this.soundProxy.init()},e}(r.Controller);e.SoundModuleLoadedCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=e.body;this.soundProxy.stop(i.soundName,!s.isNil(i.fadeOut),i.fadeOut)},e.prototype.initVars=function(){s.isNil(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(r.Names.Proxies.SOUND))},e}(a.Controller);e.StopInternalSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){},e}(i(3).Controller);e.UserActionAnnouncedCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(68),r=i(6),l=i(574),c=i(575),u=i(2),h=i(1),p=i(14),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprites={},e.manifest={},e.separateSounds=[],e.mediaInstanceList={},e.fadeTweenList={},e._allMuted=!1,e}return o(e,t),Object.defineProperty(e.prototype,"allMuted",{get:function(){return this._allMuted},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this),this.initVars(),PIXI.sound.supported&&(PIXI.sound.context.audioContext.onstatechange=this.onAudioContextChanged.bind(this))},e.prototype.onAudioContextChanged=function(){if("running"!=PIXI.sound.context.audioContext.state){var t=new p.ATGenericWarning(p.ATWarningNames.GENERIC_WARNING,"AUDIO CONTEXT FAILED - THERE IS NO SOUND"),e=new p.ATOnWarningVO(t);this.sendGlobalNotification(u.Notifications.Global.CALL_BACK_ON_WARNING,e)}},e.prototype.processSoundResources=function(){this.sendGlobalNotification(u.Notifications.Global.LOAD_OPTIONAL_GROUP,h.Names.Modules.SOUND);var t=this.preloadProxy.getSoundManifestJson("soundManifest"),e=this.preloadProxy.getSoundManifestJson("optionalSoundManifest"),i=this.preloadProxy.getSoundSpriteJson();this.extractSounds(i),this.parseSoundManifest(t),this.parseSoundManifest(e),this.separateSounds=this.preloadProxy.getSeparateSounds(this.manifest),this.soundSprite=this.preloadProxy.getSoundSprite(),s.isNil(this.soundSprite)||s.isNil(this.soundSprite)||this.soundSprite.addSprites(this.sprites),this.soundsParsed()},e.prototype.applyFilters=function(t,e){if(!s.isNil(t)&&(t=t.toLowerCase(),s.has(this.separateSounds,t))){var i=this.separateSounds[t];s.isNil(i.filters)||(e=i.filters.concat([e])),i.filters=e}},e.prototype.setSpeed=function(t,e){if(!s.isNil(t)){t=t.toLowerCase();var i=this.getSoundVO(t);if(s.has(this.separateSounds,t))this.separateSounds[t].speed=e,i.speed=e;s.each(this.mediaInstanceList[t],(function(t){t.muted||t.paused||(t.speed=e,i.speed=e)}))}},e.prototype.play=function(t,e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=null),!s.isNil(t)){e||this.stop(t),t=t.toLowerCase(),this.playSoundFromSoundSprite(t,e,i,n),this.playSoundFromManifest(t,e,i,n);var o=this.getSoundVO(t);if(s.isNil(o)){var a=new p.ATSoundMissing("Could not play sound with name: "+t,new p.ATSoundMissingAdditional(t)),r=new p.ATOnWarningVO(a);this.sendGlobalNotification(u.Notifications.Global.CALL_BACK_ON_WARNING,r),n&&n.call(this)}else(o.muted||this._allMuted)&&this.mute(t),this.setSpeed(t,o.speed),o.playing=!0,o.paused&&(i=0,o.paused=!1,this.changeSoundVolume(t,o.pausedVolume));i&&(this.changeSoundVolume(t,0),this.fadeVolume(t,i,1))}},e.prototype.playSoundFromSoundSprite=function(t,e,i,n){var o=this;if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=null),!s.isNil(t)&&(t=t.toLowerCase(),s.has(this.sprites,t))){var a=this.getSoundVO(t);a.playing||(a.loop=e,this.checkForIE()?requestAnimationFrame((function(){o.playSoundFromSoundSpriteInternal(t,a,n)})):this.playSoundFromSoundSpriteInternal(t,a,n))}},e.prototype.playSoundFromSoundSpriteInternal=function(t,e,i){var n,o=this;void 0===i&&(i=null),(n=this.soundSprite.play({sprite:t,muted:e.muted,volume:e.volume}))instanceof Promise?r.Log.warningch("PIXI_SOUND","Sound is not loaded!"):(this.setMedia(t,n),n.once("end",(function(){e.playing=!1,o.destroyMedia(t,n),e.loop&&o.play(t,e.loop,0,null),i&&i.call(o)})))},e.prototype.playSoundFromManifest=function(t,e,i,n){var o=this;if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=null),!s.isNil(t)&&(t=t.toLowerCase(),s.has(this.separateSounds,t))){var a=this.separateSounds[t];if(!a.isPlaying){var r=this.getSoundVO(t);a.play({loop:e,volume:r.volume,complete:function(t){r.playing=!1,n&&n.call(o)}}),a.muted=r.muted,a.singleInstance=!0,r?(s.isNil(this.fadeTweenList[t])||this.fadeTweenList[t].progress(1),a.isPlaying&&!a.muted&&(a.volume=r.volume)):s.isFunction(n)&&n()}}},e.prototype.setMedia=function(t,e){if(!s.isNil(t)){t=t.toLowerCase();var i=this.getSoundVO(t);this.addMediaListItem(t,e),i&&(e.volume=i.volume)}},e.prototype.addMediaListItem=function(t,e){s.isNil(t)||(t=t.toLowerCase(),s.isNil(this.mediaInstanceList[t])&&(this.mediaInstanceList[t]=[]),this.mediaInstanceList[t].push(e))},e.prototype.destroyMedia=function(t,e){if(!s.isNil(t)){t=t.toLowerCase();var i=this.mediaInstanceList[t].indexOf(e);-1!=i&&(this.mediaInstanceList[t].splice(i,1),e.destroy())}},e.prototype.stop=function(t,e,i,n){var o=this;if(void 0===e&&(e=!1),void 0===i&&(i=2),void 0===n&&(n=0),!s.isNil(t)){t=t.toLowerCase();var a=this.getSoundVO(t);if(!s.isNil(a)){var r=function(){s.has(o.sprites,t)&&s.each(o.mediaInstanceList[t],(function(e){o.destroyMedia(t,e),a.loop=!1,a.playing=!1})),s.has(o.separateSounds,t)&&(o.separateSounds[t].stop(),a.playing=!1)};e?this.fadeVolume(t,i,n,r.bind(this),!0):r.call(this)}}},e.prototype.pause=function(t,e,i,n){var o=this;if(void 0===e&&(e=!1),void 0===i&&(i=2),void 0===n&&(n=0),!s.isNil(t)){t=t.toLowerCase();var a=this.getSoundVO(t);if(s.isNil(a)||!a.paused){var r=function(){if(s.each(o.mediaInstanceList[t],(function(t){t.paused||(t.paused=!0,a.paused=!0)})),s.has(o.separateSounds,t)){var e=o.separateSounds[t];e.paused||(e.pause(),a.paused=!0)}};!s.isNil(a)&&e?(a.pausedVolume=a.volume,this.fadeVolume(t,i,n,r.bind(this))):r.call(this)}}},e.prototype.resume=function(t,e,i){var n=this;if(!s.isNil(t)){t=t.toLowerCase();var o=this.getSoundVO(t);if(!s.isNil(o)&&o.paused){var a=function(){if(s.each(n.mediaInstanceList[t],(function(t){t.paused&&(t.paused=!1,o.paused=!1)})),s.has(n.separateSounds,t)){var e=n.separateSounds[t];e.paused&&(e.resume(),o.paused=!1)}};e&&!this._allMuted?(a.call(this),this.changeSoundVolume(t,0),s.isNil(o)||this.fadeVolume(t,i,o.pausedVolume)):(a.call(this),(o.muted||this._allMuted)&&this.mute(t))}}},e.prototype.mute=function(t){if(!s.isNil(t)){t=t.toLowerCase();var e=this.getSoundVO(t);if(s.each(this.mediaInstanceList[t],(function(t){t.muted||(t.muted=!0,e&&(e.muted=!0))})),s.has(this.separateSounds,t)){var i=this.separateSounds[t];i.isPlaying&&(i.muted=!0,e&&(e.muted=!0))}}},e.prototype.unmute=function(t){if(!s.isNil(t)){t=t.toLowerCase();var e=this.getSoundVO(t);if(s.each(this.mediaInstanceList[t],(function(t){t.muted&&(t.muted=!1,e&&(e.muted=!1))})),s.has(this.separateSounds,t)){var i=this.separateSounds[t];i.isPlaying&&(i.muted=!1,e&&(e.muted=!1))}}},e.prototype.changeSoundVolume=function(t,e,i,n){var o=this;if(void 0===i&&(i=!1),void 0===n&&(n=!1),!s.isNil(t)){t=t.toLowerCase();var a=this.getSoundVO(t);if(s.isNil(a)||!a.muted){if(s.each(this.mediaInstanceList[t],(function(t){t&&!t.muted&&!t.paused&&t.progress<1&&!o.soundSprite.muted&&(t.volume=e)})),s.has(this.separateSounds,t)){var r=this.separateSounds[t];r.isPlaying&&!r.muted&&(r.volume=e)}a&&!i&&(a.volume=e),!n&&this.fadeTweenList[t]&&this.fadeTweenList[t].progress(1)}}},e.prototype.muteAll=function(t){this._allMuted=t,t?(s.each(this.mediaInstanceList,(function(t){s.each(t,(function(t){t.muted||t.paused||(t.muted=!0)}))})),s.each(this.separateSounds,(function(t){t.isPlaying&&!t.muted&&(t.muted=!0)})),s.each(this.soundVOList,(function(t){t.muted=!0}))):(s.each(this.mediaInstanceList,(function(t){s.each(t,(function(t){t.muted&&!t.paused&&(t.muted=!1)}))})),s.each(this.separateSounds,(function(t){t.isPlaying&&t.muted&&(t.muted=!1)})),s.each(this.soundVOList,(function(t){t.muted=!1})))},e.prototype.fadeVolume=function(t,e,i,n,o){var a=this;if(void 0===n&&(n=null),void 0===o&&(o=!1),!s.isNil(t))if(t=t.toLowerCase(),s.isNil(this.fadeTweenList[t])||this.fadeTweenList[t].progress(1),e){var r=this.getSoundVO(t);if(s.isNil(r)||!r.muted){var l=0;r&&(l=r.volume);var c={volume:l};this.fadeTweenList[t]=TweenMax.to(c,e,{volume:i,onUpdate:function(){a.changeSoundVolume(t,c.volume,o,!0)},onComplete:function(){a.changeSoundVolume(t,i,o,!0),a.fadeTweenList[t].kill(),delete a.fadeTweenList[t],n&&n.call(a)}})}else n&&n.call(this)}else n.call(this)},e.prototype.getSoundDuration=function(t){var e=0;if(s.isNil(t))return e;if(t=t.toLowerCase(),s.has(this.sprites,t)){var i=this.sprites[t];e=i.end-i.start}else s.has(this.separateSounds,t)&&(e=this.separateSounds[t].duration);var n=this.getSoundVO(t);return s.isNil(n)||(e/=n.speed),e},e.prototype.initVars=function(){s.isNil(this.preloadProxy)&&(this.preloadProxy=this.retrieveGlobalProxy(a.PreloadProxy.NAME,a.PreloadProxy.SCOPE)),s.isNil(this.modulesProxy)&&(this.modulesProxy=this.retrieveGlobalProxy(h.Names.Proxies.MODULES,h.Names.Modules.GAME_SETUP))},e.prototype.soundsParsed=function(){this.sendGlobalNotification(u.Notifications.Global.SOUND_PARSED)},e.prototype.parseSoundManifest=function(t){var e=this;s.isNil(t)||(s.each(t,(function(t,i){i=i.toLowerCase(),e.soundVOList[i]=new l.SoundVO(i)})),s.merge(this.manifest,t))},e.prototype.extractSounds=function(t){var e=this;s.has(t,"spritemap")&&s.each(t.spritemap,(function(t,i){i=i.toLowerCase(),e.sprites[i]=t,e.soundVOList[i]=new l.SoundVO(i)}))},e.prototype.checkForIE=function(){var t=!1;return/MSIE 10/i.test(navigator.userAgent)&&(t=!0),(/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(t=!0),/Edge\/\d./i.test(navigator.userAgent)&&(t=!0),t},e}(c.AbstractSoundProxy);e.SoundProxy=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._playing=!1,this._muted=!1,this._paused=!1,this._volume=1,this._loop=!1,this._pausedVolume=1,this._speed=1,this._name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},set:function(t){this._playing=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pausedVolume",{get:function(){return this._pausedVolume},set:function(t){this._pausedVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t},enumerable:!0,configurable:!0}),t}();e.SoundVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundVOList={},e}return o(e,t),e.prototype.init=function(){},e.prototype.getSoundVO=function(t){return this.soundVOList[t.toLowerCase()]},e}(i(13).Proxy);e.AbstractSoundProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(0),c=i(577),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i=this;t.prototype.execute.call(this,e),this.initVars();var n=e.body,o=n.animationName,s=n.slotName,a=this.masterLayoutProxy.getSoundComponents(s);l.isUndefined(a)||l.each(a,(function(t){var e=t.data.soundComponentsData;l.each(e,(function(e){if(e.frameName==o){var n=t.name;switch(e.actionName){case c.MasterSoundAction.PlayOn:i.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:n,loop:e.isLoop});break;case c.MasterSoundAction.StopOn:i.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:n,loop:e.isLoop});break;case c.MasterSoundAction.PauseOn:i.sendGlobalNotification(r.Notifications.Global.PAUSE_SOUND,{soundName:n,loop:e.isLoop});break;case c.MasterSoundAction.MuteOn:i.sendGlobalNotification(r.Notifications.Global.MUTE_SOUND,{soundName:n,loop:e.isLoop})}i.sendNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:n,volume:.01*e.volume})}}))}))},e.prototype.initVars=function(){l.isUndefined(this.soundProxy)&&(this.soundProxy=this.retrieveProxy(a.Names.Proxies.SOUND)),l.isUndefined(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(a.Names.Proxies.MASTER_LAYERS,a.Names.Modules.GAME_SETUP))},e}(s.Controller);e.PlayMasterLayoutSoundCommand=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.PlayOn="Play on",t.StopOn="Stop on",t.PauseOn="Pause on",t.MuteOn="Mute on",t}();e.MasterSoundAction=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.SoundDetails=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){void 0===e&&(e=Number.MAX_VALUE),this.serverId=t,this.clientId=e};e.GameWinningVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(6),r=i(20),l=i(581),c=i(77),u=i(100),h=i(64),p=i(69),d=i(42),_=i(34),f=i(15),y=i(582),m=function(t){function e(e){var i=t.call(this,e)||this;return i._animationStatesMap={},i._acceleratingSpeedValues=[],i._acceleratingIndex=0,i._acceleratingEase=Back.easeIn,i._deceleratingSpeedValues=[],i._deceleratingEase=Back.easeOut,i._speedCut=0,i._timer={},i._resultSymbols=[],i._symbolHeightCorrection=134,i._symbolWidthCorrection=134,i._symbolScaleCorrection=1,i.WAITING_FOR_INITIALIZATION="WAITING_FOR_INITIALIZATION",i.PREPARE_FOR_ACCELERATION="PREPARE_FOR_ACCELERATION",i.ACCELERATING="ACCELERATING",i.PREPARE_FOR_CRUISE="PREPARE_FOR_CRUISE",i.CRUISING="CRUISING",i.PREPARE_FOR_DECELERATION="PREPARE_FOR_DECELERATION",i.DECELERATING="DECELERATING",i.WHEEL_ANIMATION_FINISHED="WHEEL_ANIMATION_FINISHED",i._spinDirection=y.WheelSpinDirection.DOWN,i._wheelAnimationSpeed=80,i._acceleratingAnimationFramesCount=20,i._typeBumpStart=1,i._typeBumpStartInitialSpin=0,i._currentBumpStartValue=1,i._typeBumpEnd=1,i._framesNeededForStoppingMultiplier=2,i._startDelay=.3,i._minimumDelay=.6,i._stopDelay=.3,i._wheelNeedToStop=!1,i._resultsReceived=!1,i._resultsAdded=!1,i._wheelsCnt=0,i._rowsCnt=0,i._minimumSymbols=0,i._timeCounter=3e3,i._allowedSymbols=[],i._wheelOrder=[],i._resultSymbolsVO=[],i._startTimingDelay=0,i._weightRandomSymbols=[],i._wheelInitialized=!1,i._speed=NaN,i._minimumWheelTimerFlag=!1,i.ignoreStop=!0,i.soundPlayed=!1,i._randomSymbols=[],i._randomSymbolIndex=0,i._symbolsPool={},i.slowDownSpeedValue=10,i.hasSlowDown=!1,i.slowDownHasBlurredSymbols=!1,i._blurredSymbols=[],i._symbolsOnTop=[],i.registerAnimationStates(),i._pool=new u.ObjectPool(50,l.SymbolTweenVO),i}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.updateSettingsFromFGM(),this._wheelHolder=new PIXI.Sprite,this._wheelHolder.name="wheelHolder",this._wheelHolder.x=0,this._wheelHolder.y=0,this._originalY=this._wheelHolder.y,this._wheelHolder.anchor=new PIXI.ObservablePoint(null,.5,.5),e.nearMissDelays=s.times(this._wheelsCnt,s.constant(0))},e.prototype.onResetAnimation=function(e){t.prototype.onResetAnimation.call(this,e),this._randomSymbols=s.shuffle(this._randomSymbols),this._acceleratingIndex=0},e.prototype.onDisplayReceived=function(e){t.prototype.onDisplayReceived.call(this,e),this.display.addChild(this._wheelHolder)},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(h.WheelDecoratorInjectActionNames.TURBO_MODE_TOGGLED,this.onTurboModeToggled.bind(this)),this.addInjectActionHandler(p.WheelDecoratorBroadcastActionNames.SET_NEAR_MISS_DELAYS,this.onSetNearMissDelays.bind(this)),this.addInjectActionHandler(h.WheelDecoratorInjectActionNames.PLAY_NEAR_MISS_ANIMATION,this.onPlayNearMissAnimation.bind(this)),this.addInjectActionHandler(h.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,this.onStopNearMissAnimation.bind(this)),this.addInjectActionHandler(h.WheelDecoratorInjectActionNames.ALL_WHEELS_COMPLETED,this.onWheelsComplete.bind(this))},e.prototype.registerAnimationStates=function(){this.addAnimationState(this.WAITING_FOR_INITIALIZATION,this.waitForInitialization.bind(this)),this.addAnimationState(this.PREPARE_FOR_ACCELERATION,this.prepareForAccelerationState.bind(this)),this.addAnimationState(this.ACCELERATING,this.updateAccelerationState.bind(this)),this.addAnimationState(this.PREPARE_FOR_CRUISE,this.prepareForCruiseState.bind(this)),this.addAnimationState(this.CRUISING,this.updateCruisingState.bind(this)),this.addAnimationState(this.PREPARE_FOR_DECELERATION,this.prepareForDecelerationState.bind(this)),this.addAnimationState(this.DECELERATING,this.updateDecelerationState.bind(this)),this.addAnimationState(this.WHEEL_ANIMATION_FINISHED,this.prepareForWheelAnimFinished.bind(this))},e.prototype.addAnimationState=function(t,e){this._animationStatesMap||(this._animationStatesMap={}),t&&null!=e?this._animationStatesMap[t]=e:a.Log.warning(r.StringUtil.getName(this)+"::addAnimationState - cannot add following state: "+t)},e.prototype.goToState=function(t,e){void 0===e&&(e=!0),this._animationStatesMap.hasOwnProperty(t)&&(this._currentState=t,e&&this._animationStatesMap[t].call(null))},e.prototype.updateSettingsFromFGM=function(){this.hasSlowDown=this.decoratorSettings.hasSlowDown,this.decoratorSettings.slowDownHasBlurredSymbols&&(this.slowDownHasBlurredSymbols=this.decoratorSettings.slowDownHasBlurredSymbols),s.isNumber(this.decoratorSettings.slowDownSpeedValue)&&(this.slowDownSpeedValue=this.decoratorSettings.slowDownSpeedValue),s.isNumber(this.decoratorSettings.spinDirection)&&(this._spinDirection=this.decoratorSettings.spinDirection),this._wheelAnimationSpeed=this._spinDirection*this.decoratorSettings.wheelAnimationSpeed,this._acceleratingAnimationFramesCount=this.decoratorSettings.acceleratingAnimationFramesCount,this._typeBumpStart=this.decoratorSettings.typeBumpStart,this._typeBumpStartInitialSpin=this._typeBumpStart,s.isUndefined(this.decoratorSettings.typeBumpStartInitialSpin)||(this._typeBumpStartInitialSpin=this.decoratorSettings.typeBumpStartInitialSpin),this._typeBumpEnd=this.decoratorSettings.typeBumpEnd,this._startDelay=this.decoratorSettings.startDelay,this._stopDelay=this.decoratorSettings.stopDelay,this._minimumDelay=this.decoratorSettings.minimumDelay,this._minimumSymbols=this.decoratorSettings.minimumSymbols,null!=this.decoratorSettings.symbolHeight&&(this._symbolHeightCorrection=this.decoratorSettings.symbolHeight),null!=this.decoratorSettings.symbolScaleCorrection&&(this._symbolScaleCorrection=this.decoratorSettings.symbolScaleCorrection),null!=this.decoratorSettings.symbolWidth&&(this._symbolWidthCorrection=this.decoratorSettings.symbolWidth),this._weightRandomSymbols=[],this.decoratorSettings.hasOwnProperty("weightRandomSymbols")&&"string"==typeof this.decoratorSettings.weightRandomSymbols&&(this._weightRandomSymbols=this.decoratorSettings.weightRandomSymbols.split(",").map(Number)),this.ignoreStop=this.settings.getSpecificKey("WHEELS_DECORATORS","ignoreStop"),this._wheelsCnt=this.slotGameConfig.wheelsCnt,this._rowsCnt=this.slotGameConfig.rowsCnt,this._originalWheelSpeed=this._wheelAnimationSpeed},e.prototype.calculateSymbolRowSpacing=function(){var t=this.slotGameConfig.getProperty("WHEEL_COLUMNS_DETAILS",(this.wheel_id+1).toString());this._symbolRowSpacing=t.symbolRowSpacing,this._columnBounds=r.StringUtil.stringToRectangle(t.columnBounds),this._allowedSymbols=t.allowedSymbols.toString().split(",").map(Number),this._blurredSymbols=[],null!=t.blurredSymbols&&(this._blurredSymbols=t.blurredSymbols.toString().split(",").map(Number));var e,i=t.hasOwnProperty("topPadding")?t.topPadding:0,n=t.hasOwnProperty("bottomPadding")?t.bottomPadding:0;s.isNil(t.numberOfSymbols)?e=this._rowsCnt:(e=t.numberOfSymbols,this._rowsCnt=e),this._symbolHeight=(this._columnBounds.height-(e-1)*t.symbolRowSpacing-(i+n))/e,this.generateRandomSymbols()},e.prototype.onWheelID=function(e){t.prototype.onWheelID.call(this,e),this.calculateSymbolRowSpacing()},e.prototype.onSpin=function(e){if(t.prototype.onSpin.call(this,e),s.each(this._resultSymbolsVO,(function(t){t.children.length>0&&(t.getChildAt(0).interactive=!1)})),this.soundPlayed=!1,this.decoratorAnimationFinished=!1,this._resultsReceived=!1,this._wheelNeedToStop=!1,this._resultsAdded=!1,this.goToState(this.WAITING_FOR_INITIALIZATION),!this.lockWheel){this.startSpinAnimation();var i=this._startDelay*this.wheel_id;this._doSpinDelayTween=TweenLite.delayedCall(i,this.doSpin.bind(this)),this._minimumWheelTimerFlag=!1,this._minimumWheelTimer=new TweenLite(this.doMinimumWheelRequired.bind(this),this._minimumDelay,{onComplete:this.doMinimumWheelRequired.bind(this),overwrite:!1})}},e.prototype.doMinimumWheelRequired=function(){this._minimumWheelTimerFlag=!0},e.prototype.onStop=function(e){this.ignoreStop&&(t.prototype.onStop.call(this,e),this._resultsReceived&&this.fullStop(),this._wheelNeedToStop=!0),1==this._inNearMiss&&(this._deceleratingSpeedValues=[],this._wheelAnimationSpeed=this._originalWheelSpeed,this.setDeceleratingSpeedValues())},e.prototype.onUpdateDisplaySymbols=function(e){if(t.prototype.onUpdateDisplaySymbols.call(this,e),this.lockWheel)return this._resultsReceived=!0,void this.prepareForWheelAnimFinished();this.updateResultSymbolsMatrix(e),this.updateDisplayResultSymbolsMatrix(),0==this.getSymbolsLength()?this.setInitialSymbols():this._resultsReceived&&this.alignSymbols(),this.decoratorAnimationFinished||this.anchorForSetResultsSymbols(),this._resultsReceived=!0,this._wheelNeedToStop&&this.fullStop()},e.prototype.updateDisplayResultSymbolsMatrix=function(){if(this._resultSymbolsVO.length>0&&this.decoratorAnimationFinished&&!this.lockWheel)for(var t=this._resultSymbolsVO.length,e=0;e<t;e++){var i=this.getSymbolFromPool(this._resultSymbols[this._rowsCnt-e-1]),n=this._resultSymbolsVO[e].removeChildAt(0);1!=this._resultSymbolsVO[e].symbolScaleCorrection&&(n.scale.x=n.scale.y=n.scale.x/this._resultSymbolsVO[e].symbolScaleCorrection),this._symbolsPool[n.name].push(n),this._resultSymbolsVO[e].addChild(i),this._resultSymbolsVO[e].symbolScaleCorrection=this._symbolScaleCorrection,1!=this._symbolScaleCorrection&&(i.scale.x=i.scale.y=this._symbolScaleCorrection*i.scale.x)}},e.prototype.updateResultSymbolsMatrix=function(t){this._resultSymbols=[];for(var e=0;e<this._rowsCnt;e++)this._resultSymbols.push(t[this.wheel_id+e*this._wheelsCnt])},e.prototype.anchorForSetResultsSymbols=function(){if(this._minimumWheelTimerFlag)this._startTimingDelay=this._stopDelay*this.wheel_id;else{var t=Math.round(100*this._minimumWheelTimer.progress())/100;this._minimumWheelTimer.kill(),this._startTimingDelay=this._minimumDelay-t+this._stopDelay*this.wheel_id}var i=0;s.isNil(e.nearMissDelays)||(i=e.nearMissDelays[this.wheel_id]),this._setResultSymbolsTweenLite=TweenLite.delayedCall(this._startTimingDelay+i,this.setResultSymbols.bind(this))},e.prototype.onHideSymbols=function(e){t.prototype.onHideSymbols.call(this,e);for(var i=0;i<this._rowsCnt;i++)1==e[this.wheel_id+i*this._wheelsCnt]?this._resultSymbolsVO[this._rowsCnt-i-1].visible=!1:0==this._resultSymbolsVO[this._rowsCnt-i-1].visible&&(this._resultSymbolsVO[this._rowsCnt-i-1].visible=!0)},e.prototype.doSpin=function(){this.broadcastAction(p.WheelDecoratorBroadcastActionNames.START_WHEEL_ANIMATION,{wheel_id:this.wheel_id}),this.goToState(this.PREPARE_FOR_ACCELERATION)},e.prototype.startSpinAnimation=function(){var t=this;s.each(s.range(this._minimumSymbols-this._rowsCnt),(function(){t.addRandomSymbol()})),TweenLite.to(this._timer,this._timeCounter,{onUpdate:this.updateSymbols.bind(this)})},e.prototype.setInitialSymbols=function(){var t=this;if(this.updateCurrentBumpStart(this._typeBumpStartInitialSpin),!this._wheelInitialized){this._wheelInitialized=!0;var e=this._resultSymbols.length-1;this._resultSymbolsVO=[];for(var i=e;i>=0;i--){var n=this.addSymbol(this._resultSymbols[i]);this._resultSymbolsVO.push(n)}s.isNil(this._symbolsOnTop)||s.each(this._wheelOrder,(function(e,i){s.includes(t._symbolsOnTop,e.symbolId)&&s.some(t._resultSymbolsVO,e)&&(t.broadcastAction(p.WheelDecoratorBroadcastActionNames.SYMBOL_ON_TOP_NAME,{name:e.name}),t._wheelHolder.addChildAt(e,t._minimumSymbols-2))})),this.goToState(this.WAITING_FOR_INITIALIZATION)}},e.prototype.addRandomSymbol=function(t){void 0===t&&(t=!0),this.addSymbol(this.getRandomSymbolId(),t)},e.prototype.getRandomSymbolId=function(){var t=this._randomSymbols[this._randomSymbolIndex];return this._randomSymbolIndex++,this._randomSymbolIndex==this._randomSymbols.length&&(this._randomSymbolIndex=0),t},e.prototype.alignSymbols=function(){for(;this.getSymbolsLength()>0;)this.removeLastSymbols();this._wheelInitialized=!1,this.setInitialSymbols()},e.prototype.setResultSymbols=function(){var t=this;if(this.updateCurrentBumpStart(this._typeBumpStart),!this.lockWheel){var e=this._resultSymbols.length-1;this._resultSymbolsVO=[];var i=void 0;this._resultsAdded=!0,this.onBeforeAddingResultSymbols();for(var n=e;n>=0;n--)i=this.addSymbol(this._resultSymbols[n]),this.hideSymbolHolder(i,n),this._resultSymbolsVO.push(i);this.onAfterAddingResultSymbols(),this._finalPosition=-this.getSymbolsVO(1).y,s.isNil(this._symbolsOnTop)||s.each(this._wheelOrder,(function(e,i){s.includes(t._symbolsOnTop,e.symbolId)&&s.some(t._resultSymbolsVO,e)&&(t.broadcastAction(p.WheelDecoratorBroadcastActionNames.SYMBOL_ON_TOP_NAME,{name:e.name}),t._wheelHolder.addChildAt(e,t._minimumSymbols-1))})),this.goToState(this.PREPARE_FOR_DECELERATION),this.broadcastAction(p.WheelDecoratorBroadcastActionNames.SYMBOLS_RECEIVED_AND_ADDED,{wheel_id:this.wheel_id})}},e.prototype.onBeforeAddingResultSymbols=function(){var t=Boolean(this.hasSlowDown&&this.slowDownHasBlurredSymbols&&this._inNearMiss&&this._blurredSymbols.length>0);this.addRandomSymbol(t)},e.prototype.onAfterAddingResultSymbols=function(){var t=Boolean(this.hasSlowDown&&this.slowDownHasBlurredSymbols&&this._inNearMiss&&this._blurredSymbols.length>0);this.addRandomSymbol(t)},e.prototype.hideSymbolHolder=function(t,e){},e.prototype.addSymbol=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=this._wheelHolder);var n=this.getSymbolFromPool(t,e);n.anchor.set(.5,.5),n.symbolId=t;var o=this._pool.get();if(o.symbolScaleCorrection=this._symbolScaleCorrection,1!=o.symbolScaleCorrection&&(n.scale.x=n.scale.y=o.symbolScaleCorrection*n.scale.x),o.addChild(n),o.name=n.name,o.symbolId=t,o.symbolHeight=this._symbolHeight,o.symbolWidth=this._symbolHeight,o.symbolHeightCorrection=this._symbolHeightCorrection,o.symbolWidthCorrection=this._symbolWidthCorrection,o.updateSymbolVariable(),this.getSymbolsLength(i)>0){var s=this.getSymbolsVO(0);o.y=s.y-this._spinDirection*(s.symbolHeight/2+o.symbolHeight/2+this._symbolRowSpacing)}else o.y=this._columnBounds.height-o.symbolHeight;return n.x=0,n.y=0,i.addChildAt(o,0),this._wheelOrder.splice(0,0,o),o},e.prototype.getSymbolFromPool=function(t,e){void 0===e&&(e=!1);var i=d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+t;if(e&&this._blurredSymbols.indexOf(t)>=0&&(i=d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+t+d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_BLUR_SUFFIX_NAME]),s.isNil(this._symbolsPool[i])&&(this._symbolsPool[i]=[]),0==this._symbolsPool[i].length){var n=f.TextureUtil.instance().createImageFromTexture(i);return n.name=i,n}return this._symbolsPool[i].pop()},e.prototype.waitForInitialization=function(){this._speed=0},e.prototype.prepareForAccelerationState=function(){this.setAccelerationSpeedValues(),this.goToState(this.ACCELERATING,!1)},e.prototype.prepareForWheelAnimFinished=function(){this._resultsReceived&&(this.lockWheel||(TweenLite.killTweensOf(this._timer),this._setResultSymbolsTweenLite&&this._setResultSymbolsTweenLite.kill(),this.removeUnusedSymbols()),this.wheelComplete())},e.prototype.updateAccelerationState=function(){this._acceleratingSpeedValues.length>this._acceleratingIndex?(this._speed=this._acceleratingSpeedValues[this._acceleratingIndex],this._acceleratingIndex++):this.goToState(this.PREPARE_FOR_CRUISE)},e.prototype.prepareForCruiseState=function(){this._speed=this._wheelAnimationSpeed,this.goToState(this.CRUISING)},e.prototype.updateCruisingState=function(){},e.prototype.prepareForDecelerationState=function(){this.setDeceleratingSpeedValues(),this.goToState(this.DECELERATING,!1)},e.prototype.updateDecelerationState=function(){this._deceleratingSpeedValues.length>0?(this._speed=this._deceleratingSpeedValues.shift(),this._deceleratingSpeedValues[0]<=0&&!this.soundPlayed&&(this.soundPlayed=!0,this.broadcastAction(p.WheelDecoratorBroadcastActionNames.PLAY_WHEEL_STOP_SOUND))):(this._speed=0,this.goToState(this.WHEEL_ANIMATION_FINISHED))},e.prototype.fullStop=function(){this.decoratorAnimationFinished||this._resultsAdded||(this._doSpinDelayTween&&this._doSpinDelayTween.kill(),this._setResultSymbolsTweenLite&&this._setResultSymbolsTweenLite.kill(),this.setResultSymbols())},e.prototype.onTurboModeToggled=function(t){this._startDelay=t.wheelStartDelay,this._stopDelay=t.wheelStopDelay,this._minimumDelay=t.wheelMinimumDelay},e.prototype.onSetNearMissDelays=function(t){e.nearMissDelays=t},e.prototype.updateSymbols=function(){this._animationStatesMap[this._currentState].call(this),this._wheelHolder.y+=this._speed,this.verifySymbols()},e.prototype.verifySymbols=function(){var t;t=this.getSymbolsVO(this.getSymbolsLength()-1).symbolHeight,this._speedCut>t+this._symbolRowSpacing&&!this._resultsAdded&&(this._speedCut-=t+this._symbolRowSpacing,this.addRandomSymbol(),this.removeLastSymbols()),this._speedCut+=this._spinDirection*this._speed},e.prototype.removeLastSymbols=function(t,e){var i;void 0===t&&(t=this._wheelHolder),void 0===e&&(e="last"),"last"==e?(i=this.getSymbolsVO(this.getSymbolsLength(t)-1,t),this.deleteSymbolsVO(this.getSymbolsLength(t)-1)):"first"==e&&(i=this.getSymbolsVO(0,t),this.deleteSymbolsVO(0)),1!=i.symbolScaleCorrection&&(i.getChildAt(0).scale.x=i.getChildAt(0).scale.y=i.getChildAt(0).scale.x/i.symbolScaleCorrection),i.x=0,i.scale.x=i.scale.y=1;var n=i.removeChildAt(0);this._symbolsPool[n.name].push(n),i.reset(),this._pool.recycle(i),t.removeChild(i)},e.prototype.removeUnusedSymbols=function(){var t=-this.getSymbolsVO(1).y;for(this._wheelHolder.y=this._originalY;this.getSymbolsLength()>this._minimumSymbols;)this.removeLastSymbols();if(this.getSymbolsLength()===this._minimumSymbols)for(var e=0;e<this._minimumSymbols;e++)this.getSymbolsVO(e).y+=t;this._speedCut=0},e.prototype.wheelComplete=function(){t.prototype.wheelComplete.call(this),this._speed=0},e.prototype.updateCurrentBumpStart=function(t){this._currentBumpStartValue!=t&&(this._currentBumpStartValue=t,this.setAccelerationSpeedValues(!0))},e.prototype.setAccelerationSpeedValues=function(t){if(t||0==this._acceleratingSpeedValues.length){var e=new TimelineMax;e.add(new TweenMax({x:0},this._acceleratingAnimationFramesCount,{x:this._wheelAnimationSpeed,ease:this._acceleratingEase,easeParams:[this._currentBumpStartValue]})),this._acceleratingSpeedValues=[];for(var i=1;i<=this._acceleratingAnimationFramesCount;i++)e.render(i),this._acceleratingSpeedValues.push(e.getChildren()[0].target.x);e.kill()}},e.prototype.setDeceleratingSpeedValues=function(){if(0==this._deceleratingSpeedValues.length){var t=this._wheelHolder.y-this._finalPosition,e=this.getCustomTween(-t),i=-t;this._deceleratingSpeedValues=[];for(var n=1;n<=e.totalDuration();n++)e.render(n),this._deceleratingSpeedValues.push(i-e.getChildren()[0].target.x),i=e.getChildren()[0].target.x;e.kill()}},e.prototype.getCustomTween=function(t){var e=t/this._wheelAnimationSpeed,i=new TimelineMax,n=new TweenMax({x:t},e,{x:0,ease:this._deceleratingEase,easeParams:[this._typeBumpEnd]});return i.add(n),i.render(1),e*=this._framesNeededForStoppingMultiplier,i.remove(n),n=new TweenMax({x:t},e,{x:0,ease:this._deceleratingEase,roundProps:["x"],easeParams:[this._typeBumpEnd]}),i.add(n),i},e.prototype.generateRandomSymbols=function(){var t=this;s.each(this._allowedSymbols,(function(e){s.each(s.range(5*t._weightRandomSymbols[t._allowedSymbols.indexOf(e)]),(function(){t._randomSymbols.push(e)}));var i=d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+e;if(t._symbolsPool[i]=[],s.each(s.range(0,10),(function(){var e=f.TextureUtil.instance().createImageFromTexture(i);e.name=i,t._symbolsPool[i].push(e)})),t._blurredSymbols.indexOf(e)>=0){var n=d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_NAME]+e+d.VisualAssetsMap.instance().visualAssets[_.VisualAssetsNames.SYMBOL_BLUR_SUFFIX_NAME];t._symbolsPool[n]=[],s.each(s.range(0,10),(function(){var e=f.TextureUtil.instance().createImageFromTexture(n);e.name=n,t._symbolsPool[i][0]&&(e.width=t._symbolsPool[i][0].width,e.height=t._symbolsPool[i][0].height),t._symbolsPool[n].push(e)}))}})),this._randomSymbols=s.shuffle(this._randomSymbols)},e.prototype.onPlayNearMissAnimation=function(t){this.hasSlowDown&&(t.wheelId!=this.wheel_id||this._resultsAdded||(this._setResultSymbolsTweenLite.delay(0),this._wheelAnimationSpeed=this._spinDirection*this.slowDownSpeedValue,this._inNearMiss=!0))},e.prototype.onStopNearMissAnimation=function(){this.hasSlowDown&&this._inNearMiss&&(this._resultsAdded||this.setResultSymbols(),this._wheelAnimationSpeed=this._originalWheelSpeed)},e.prototype.getSymbolsLength=function(t){return void 0===t&&(t=this._wheelHolder),this._wheelOrder.length},e.prototype.getSymbolsVO=function(t,e){return void 0===e&&(e=this._wheelHolder),this._wheelOrder[t]},e.prototype.deleteSymbolsVO=function(t){this._wheelOrder.splice(t,1)},e.prototype.onWheelsComplete=function(){this.hasSlowDown&&this._inNearMiss&&(this._deceleratingSpeedValues=[],this._wheelAnimationSpeed=this._originalWheelSpeed,this._inNearMiss=!1)},e}(c.AbstractWheelDecorator);e.TweenWheelDecorator=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolHeight=0,e.symbolWidth=0,e.symbolHeightCorrection=0,e.symbolWidthCorrection=0,e.actualSymbolWidth=0,e.actualSymbolHeight=0,e.symbolId=-1,e.symbolScaleCorrection=1,e}return o(e,t),e.prototype.reset=function(){this.symbolHeight=1,this.symbolWidth=1,this.symbolHeightCorrection=0,this.symbolWidthCorrection=0,this.actualSymbolHeight=0,this.actualSymbolWidth=0,this.symbolScaleCorrection=1,this.symbolId=-1,this.removeChildren(),this.visible=!0},e.prototype.updateSymbolVariable=function(){this.actualSymbolWidth=this.symbolWidth*(this.getChildAt(0).width/this.symbolWidthCorrection)*100/100,this.actualSymbolHeight=this.symbolHeight*(this.getChildAt(0).height/this.symbolHeightCorrection)*100/100},e.prototype.isWholeInt=function(t){return Math.round(t)==t},Object.defineProperty(e.prototype,"hidden",{get:function(){return this.getChildAt(0).visible},enumerable:!0,configurable:!0}),e}(PIXI.Sprite);e.SymbolTweenVO=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.UP=-1,t.DOWN=1,t}();e.WheelSpinDirection=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(242),a=i(584),r=i(591),l=i(2),c=i(1),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(l.Notifications.Global.INITIALIZE_MODULE,r.SlotRegisterMoneyProxyCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(c.Names.Proxies.COINS_MONEY,a.CoinsMoneyProxy)},e}(s.Money);e.SlotMoney=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(6),a=i(259),r=i(586),l=function(t){function e(e){var i=t.call(this,e)||this;return i._useServerCoins=!0,i._useClientCoins=!1,i}return o(e,t),Object.defineProperty(e.prototype,"useServerCoins",{get:function(){return this._useServerCoins},set:function(t){this._useServerCoins=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useClientCoins",{set:function(t){this._useClientCoins=t},enumerable:!0,configurable:!0}),e.prototype.setMoneyStrategy=function(t){return t instanceof a.CoinsMoneyStrategy?(this._strategy=t,!0):(s.Log.errorch("Money","::strategy -> Please set a strategy of type "+a.CoinsMoneyStrategy),!1)},Object.defineProperty(e.prototype,"maximumCoinValue",{get:function(){return this.coinsStrategy.getMaxCoinValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coinsStrategy",{get:function(){return this._strategy instanceof a.CoinsMoneyStrategy?this._strategy:(s.Log.errorch("Money","::coinsStrategy please set a strategy of type "+a.CoinsMoneyStrategy),null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValuesCoins",{get:function(){return this.displayValues instanceof r.DisplayValuesCoinsVO?this.displayValues:(s.Log.errorch("Money","::displayValuesCoins please set displayValues of type "+r.DisplayValuesCoinsVO),null)},enumerable:!0,configurable:!0}),e.prototype.initDisplayValues=function(){return new r.DisplayValuesCoinsVO},e.prototype.updateDoubleFrom=function(t){t=this.getClientValue(this.getActualMoney(t),!1),this.displayValuesCoins.updateDoubleFrom(t)},e.prototype.updateDoubleTo=function(t){t=this.getClientValue(this.getActualMoney(t),!1),this.displayValuesCoins.updateDoubleTo(t)},e.prototype.updateWithServerCoinValues=function(t){this.coinsStrategy.updateWithServerCoinValues(t)},e.prototype.getCoinValuesList=function(){return this.coinsStrategy.getCoinValuesList()},e.prototype.getCoinsList=function(){return this.coinsStrategy.getCoinsList()},e.prototype.updateCoins=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateCoins(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.validateCoins=function(t){return this.coinsStrategy.validateCoins(t)},e.prototype.validateCoinValue=function(t){return this.coinsStrategy.validateCoinValue(t)},e.prototype.updateCoinsId=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateCoinsId(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.validateBetId=function(t,e,i,n,o){return void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=!1),this.coinsStrategy.validateBetId(t,e,i,n,o)},e.prototype.updateCoinsNext=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateCoins(this.coinsStrategy.getNextCoin(),t,e,i)},e.prototype.updateCoinsPrevious=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateCoins(this.coinsStrategy.getPreviousCoin(),t,e,i)},e.prototype.getCurrentCoinId=function(){return this.coinsStrategy.getCurrentCoinId()},e.prototype.getCurrentCoin=function(){return this.coinsStrategy.getCurrentCoin()},e.prototype.addSocialCoinValue=function(t){this.coinsStrategy.addSocialCoinValue(t)},e.prototype.updateSocialCoinValue=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this.coinsStrategy.updateSocialCoinValue(t,e,i)},e.prototype.updateCoinValue=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateCoinValue(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.updateCoinValueId=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateCoinValueId(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.updateCoinValueNext=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateCoinValue(this.coinsStrategy.getNextCoinValue(),t,e,i)},e.prototype.updateCoinValuePrevious=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateCoinValue(this.coinsStrategy.getPreviousCoinValue(),t,e,i)},e.prototype.getCurrentCoinValueId=function(){return this.coinsStrategy.getCurrentCoinValueId()},e.prototype.isMinimumCoinValue=function(){return this.coinsStrategy.isMinimumCoinValue()},e.prototype.isMaximumCoinValue=function(){return this.coinsStrategy.isMaximumCoinValue()},e.prototype.isMinimumCoin=function(){return this.coinsStrategy.isMinimumCoin()},e.prototype.isMaximumCoin=function(){return this.coinsStrategy.isMaximumCoin()},e.prototype.isMinimumLine=function(){return this.coinsStrategy.isMinimumLine()},e.prototype.isMaximumLine=function(){return this.coinsStrategy.isMaximumLine()},e.prototype.getCurrentCoinValue=function(){return this.coinsStrategy.getCurrentCoinValue()},e.prototype.getCurrentCoinValueInCents=function(){return this.convertFromTokens(this.coinsStrategy.getCurrentCoinValue())},e.prototype.updateLines=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateLine(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.updateLinesId=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0);var o=this.coinsStrategy.validateUpdateLineId(t,e,n);return this.sendMoneyStatus(o.appendStatusVector(this.updateDisplayValues(i)),i),o},e.prototype.updateLinesNext=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateLines(this.coinsStrategy.getNextLine(),t,e,i)},e.prototype.updateLinesPrevious=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.updateLines(this.coinsStrategy.getPreviousLine(),t,e,i)},e.prototype.getCurrentLineId=function(){return this.coinsStrategy.getCurrentLineId()},e.prototype.getCurrentLine=function(){return this.coinsStrategy.getCurrentLine()},e.prototype.validateStartGame=function(t){void 0===t&&(t=!0);var e=this.coinsStrategy.validateStartGame();return this.sendMoneyStatus(e.status,t),e},e.prototype.validateStartGameWithFixedBet=function(t,e){void 0===e&&(e=!0);var i=this.coinsStrategy.validateFixedBet(t,!1,!0,!0);return this.sendMoneyStatus(i.status,e),i},e.prototype.updateWithMaxBet=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0);var n=this.coinsStrategy.validateMaxBet(t,i);return this.sendMoneyStatus(n.appendStatusVector(this.updateDisplayValues(e)),e),n},e.prototype.updateWithMinBet=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0);var n=this.coinsStrategy.validateMinBet(t,i);return this.sendMoneyStatus(n.appendStatusVector(this.updateDisplayValues(e)),e),n},e.prototype.updateDisplayValues=function(e){void 0===e&&(e=!0);var i=t.prototype.updateDisplayValues.call(this,e);if(this.validateStrategy()){var n=void 0,o=void 0,s=void 0,a=void 0;this.coinsStrategy.isInitialized()&&(n=this.coinsStrategy.getCurrentLine(),o=this.getClientValue(this.coinsStrategy.getCurrentCoinValue(),!1),s=this.coinsStrategy.getCurrentCoin(),a=this.getClientValue(this.coinsStrategy.getTotalBets(),!1),this._bet=this.coinsStrategy.getTotalBets()),this.displayValuesCoins.updateBets(a),this.displayValuesCoins.updateCoinValue(o),this.displayValuesCoins.updateLines(n),this.displayValuesCoins.updateCoins(s);var r=this.getClientValue(Math.floor(this.balance/o),!1);this.displayValuesCoins.updateBalanceInCoins(r),this.displayValuesCoins.totalBetInCoins=n*s,this.displayValuesCoins.winningsInCoins=this.getTotalWinningsInCoins(),this.displayValuesCoins.coinValueInCoins=this.coinsStrategy.getCurrentCoinValue(),e&&i.push(this.getUpdatedValuesMoneyStatus())}return i},e.prototype.getTotalWinningsInCoins=function(){var t=0;if(this.validateWinnings())for(var e=0;e<this.winnings.length;e++)this.winnings[e].winningValue>0&&(t+=this.winnings[e].winningValue);return Math.floor(t/this.coinsStrategy.getCurrentCoinValue())},e.prototype.getTotalBetInCoins=function(){return this.coinsStrategy.getCurrentLine()*this.coinsStrategy.getCurrentCoin()},e.prototype.getWinningById=function(t){return this.getMoneyWinningById(t).winningValue/this.coinsStrategy.getCurrentCoinValue()},e.prototype.updateWin=function(e,i){void 0===i&&(i=!0),this.updateDoubleFrom(e),e=this.getActualMoney(e),t.prototype.updateWin.call(this,e,i)},e.prototype.getActualMoney=function(t){return this._useServerCoins&&(t*=this.coinsStrategy.getCurrentCoinValue()),t},e}(i(587).MoneyProxy);e.CoinsMoneyProxy=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),o=i(260),s=i(71),a=function(){function t(){this.settings=n.ServiceLocator.instance().get("Settings"),this.initVars()}return t.prototype.updateBalance=function(t){var e=this.validateBalance(t);return e.success?this._balance=t:this._balance=0,e},t.prototype.getBalance=function(){return this._balance},t.prototype.initVars=function(){this._balance=0},t.prototype.validateBalance=function(t){var e=this.getResult();return t<0&&(e.addStatus(s.MoneyStatus.NEGATIVE_BALANCE_VALUE),e.success=!1),e},t.prototype.validateWinning=function(t){var e=this.getResult();return t<0&&(e.success=!1,e.addStatus(s.MoneyStatus.NEGATIVE_WIN_VALUE)),e},t.prototype.getResult=function(){return new o.MoneyResult},t}();e.MoneyStrategy=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return t.call(this)||this}return o(e,t),Object.defineProperty(e.prototype,"balanceInCoins",{get:function(){return this._balanceInCoins},set:function(t){this._balanceInCoins=t},enumerable:!0,configurable:!0}),e.prototype.winningsInCoinsAsString=function(){return this.winningsInCoins.toString()},e.prototype.totalBetInCoinsAsString=function(){return this.totalBetInCoins.toString()},e.prototype.balanceInCoinsAsString=function(){return this.getStringValueFrom(this._balanceInCoins)},e.prototype.updateBalanceInCoins=function(t){this._balanceInCoins=t},Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},enumerable:!0,configurable:!0}),e.prototype.linesAsString=function(){return this._lines.toString()},e.prototype.updateLines=function(t){this._lines=t},Object.defineProperty(e.prototype,"coinValue",{get:function(){return this._coinValue},enumerable:!0,configurable:!0}),e.prototype.coinValueAsString=function(t){return void 0===t&&(t=!0),this.getStringValueFrom(this._coinValue,t)},e.prototype.updateCoinValue=function(t){this._coinValue=t},Object.defineProperty(e.prototype,"coins",{get:function(){return this._coins},enumerable:!0,configurable:!0}),e.prototype.coinsAsString=function(){return this._coins.toString()},e.prototype.updateCoins=function(t){this._coins=t},Object.defineProperty(e.prototype,"doubleFrom",{get:function(){return this._doubleFrom},enumerable:!0,configurable:!0}),e.prototype.doubleFromAsString=function(){return this._doubleFrom.toString()},e.prototype.updateDoubleFrom=function(t){this._doubleFrom=t},Object.defineProperty(e.prototype,"doubleTo",{get:function(){return this._doubleTo},enumerable:!0,configurable:!0}),e.prototype.doubleToAsString=function(){return this._doubleTo.toString()},e.prototype.updateDoubleTo=function(t){this._doubleTo=t},e.prototype.toString=function(){var t="{ ";return t+="DisplayValuesCoinsVO ",t+=" coinValue: "+this._coinValue,t+=" lines: "+this._lines,t+=" bets: "+this._bets,t+=" coins: "+this._coins,t+=" winnings: "+this._winnings,t+=" balance: "+this._balance,t+=" balanceInCoins: "+this._balanceInCoins,t+=" } "},e}(i(261).DisplayValuesVO);e.DisplayValuesCoinsVO=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(6),l=i(588),c=i(17),u=i(261),h=i(589),p=i(260),d=i(71),_=i(2),f=function(t){function e(e){var i=t.call(this,e)||this;return i.settings=c.ServiceLocator.instance().get("Settings"),i._winnings=null,i.initVars(),i}return o(e,t),Object.defineProperty(e.prototype,"minimumBet",{get:function(){return this._minimumBet},set:function(t){t<0?r.Log.errorch("Money","::set minimumBet - value must be >= 0"):this._minimumBet=this.getServerValue(t,Boolean(this._token))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumBet",{get:function(){return this._maximumBet},set:function(t){this.getServerValue(t,!1)<this._minimumBet||t<=0?r.Log.errorch("Money","::set maximumBet - value must be >= minimumBet && > 0"):this._maximumBet=this.getServerValue(t,Boolean(this._token))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValues",{get:function(){return this._displayValues},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMaxBet",{get:function(){return this._bet>=this._maximumBet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMinBetReached",{get:function(){return this._bet>=this._minimumBet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useCents",{get:function(){return this._useCents},set:function(t){this._useCents=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceRound",{get:function(){return this._forceRound},set:function(t){this._forceRound=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverCoinValue",{get:function(){return this._serverCoinValue},set:function(t){this._serverCoinValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"balance",{get:function(){return this._balance},set:function(t){this._balance=this.forceToken(t),this.validateStrategy()&&this._strategy.updateBalance(t)},enumerable:!0,configurable:!0}),e.prototype.getBalance=function(t){return void 0===t&&(t=!0),this.getClientValue(this.balance,!t)},Object.defineProperty(e.prototype,"bet",{get:function(){return this._bet},set:function(t){this._bet=this.forceToken(t)},enumerable:!0,configurable:!0}),e.prototype.getTotalBets=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!1),t?this.getClientValue(this._bet,!e):this._bet},Object.defineProperty(e.prototype,"win",{get:function(){return this._win},set:function(t){this._win=this.forceToken(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winnings",{get:function(){return this._winnings},set:function(t){t&&(this._winnings=t)},enumerable:!0,configurable:!0}),e.prototype.getTotalWinnings=function(t){void 0===t&&(t=!0);var e=0;if(this.validateWinnings())for(var i=0;i<this._winnings.length;i++)this._winnings[i].winningValue>0&&(e+=this._winnings[i].winningValue);return this.getClientValue(e,!t)},e.prototype.getTotalWinningsById=function(t,e){void 0===e&&(e=!0);var i=0;return this.validateWinnings()&&(i=this.getTotalValueFromVector(this.getMoneyVectorById(t))),this.getClientValue(i,!e)},e.prototype.getTotalWinningsByType=function(t,e){void 0===e&&(e=!0);var i=0;return this.validateWinnings()&&(i=this.getTotalValueFromVector(this.getMoneyVectorByType(t))),this.getClientValue(i,!e)},e.prototype.getTotalWinningsByIdType=function(t,e,i){void 0===i&&(i=!0);var n=0;return this.validateWinnings()&&(n=this.getTotalValueFromVector(this.getMoneyVectorByIdType(t,e))),this.getClientValue(n,!i)},Object.defineProperty(e.prototype,"hasWin",{get:function(){return this.getTotalWinnings()>0},enumerable:!0,configurable:!0}),e.prototype.initVars=function(){this._balance=0,this.bet=0,this.win=0,this._minimumBet=0,this._maximumBet=Number.MAX_VALUE,this._useCents=!1,this._token=0,this._serverCoinValue=1,this._displayValues=this.initDisplayValues(),this._winnings=new Array},e.prototype.initDisplayValues=function(){return new u.DisplayValuesVO},Object.defineProperty(e.prototype,"decimalsCount",{set:function(t){this._displayValues.decimalsCount=t},enumerable:!0,configurable:!0}),e.prototype.setMoneyStrategy=function(t){return this._strategy=t,this.validateStrategy()},e.prototype.getServerValue=function(t,e){void 0===e&&(e=!0);var i=this.useCents?100*t:t;return i/=this._serverCoinValue,i=e?this.convertToTokens(i):i,this.forceRound?l.NumberUtil.forceRoundValue(i):i},e.prototype.getClientValue=function(t,e){void 0===e&&(e=!0),t=+t.toString().replace(/[^\d]/g,"");var i=this.useCents?t/100:t;return i*=this._serverCoinValue,i=e?i:this.convertFromTokens(i),this.forceRound?l.NumberUtil.forceRoundValue(i):i},e.prototype.forceToken=function(t){var e=t;return 1!=this.token&&2!=this.token||(e=Math.floor(t)),e},e.prototype.convertToTokens=function(t){var e=t;return 1!=this._token&&2!=this._token||(e*=100),e},e.prototype.convertFromTokens=function(t){var e=t;return 1!=this._token&&2!=this._token||(e/=100),e},e.prototype.updateBalance=function(t,e,i,n,o){var s;void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===o&&(o=!1),t=l.NumberUtil.forceRoundValue(t),this.validateStrategy()&&((s=this.parseMoneyResult(this._strategy.validateBalance(t),n)).success?1==this.token||2==this.token?this.balance=t>=100?t:0:this.balance=t/this._serverCoinValue:this.balance=0),e&&this.resetBets(),i&&this.resetWinnings(),s&&(s.appendStatusVector(this.updateDisplayValues(!0)),this.sendMoneyStatus(s.status,n)),o&&this.updateStrategyMoney()},e.prototype.updateWin=function(t,e){var i;void 0===e&&(e=!0),this.validateStrategy()&&((i=this.parseMoneyResult(this._strategy.validateWinning(t),e)).success&&(this.win=t/this._serverCoinValue,i.appendStatusVector(this.updateDisplayValues(e))),this.sendMoneyStatus(i.status,e))},e.prototype.updateWinningId=function(t,e,i){void 0===i&&(i=!0);var n=this.getMoneyResultFail();return this.validateWinnings(t)&&(n=this.parseMoneyResult(this._strategy.validateWinning(e),i)).success&&(this.getMoneyWinningById(t).winningValue=this.getActualMoney(e),this.updateWin(this.getServerValue(this.getTotalWinnings(),!0)),this.sendMoneyStatus(this.updateDisplayValues(i),i)),n.success},e.prototype.updateWinningIdAppend=function(t,e,i){void 0===i&&(i=!0);var n=this.getMoneyResultFail();return this.validateWinnings(t)&&(n=this.parseMoneyResult(this._strategy.validateWinning(e),i)).success&&(this.getMoneyWinningById(t).winningValue+=this.getActualMoney(e),this.updateWin(this.getServerValue(this.getTotalWinnings(),!1)),this.sendMoneyStatus(this.updateDisplayValues(i),i)),n.success},e.prototype.updateWinningIdType=function(t,e,i,n){void 0===n&&(n=!0);var o=this.getMoneyResultFail();return this.validateWinnings()&&(o=this.parseMoneyResult(this._strategy.validateWinning(i),n)).success&&(this.getMoneyWinningByIdType(t,e).winningValue=this.getActualMoney(i),this.updateWin(this.getServerValue(this.getTotalWinnings(),!1),n),this.sendMoneyStatus(this.updateDisplayValues(n),n)),o.success},e.prototype.getWinType=function(t){return this.validateWinnings(t)?this.getMoneyWinningById(t).type:""},e.prototype.updateBet=function(t,e){void 0===e&&(e=!0),t>=0?(this._bet=this.getServerValue(t,!1),this.sendMoneyStatus(this.updateDisplayValues(e))):this.sendMoneyStatus(Array(this.getMoneyStatus(d.MoneyStatus.NEGATIVE_BET_VALUE)),e)},e.prototype.getStringValueFrom=function(t,e){return void 0===e&&(e=!0),this.displayValues.getStringValueFrom(t,e)},e.prototype.addWinning=function(t){this.validateWinnings()&&this._winnings.push(t)},e.prototype.getActualMoney=function(t){return t},e.prototype.sendUpdateDisplayValues=function(){this.sendMoneyStatus(this.updateDisplayValues())},e.prototype.updateDisplayValues=function(t){void 0===t&&(t=!0);var e=new Array,i=this.getBalance(!0),n=this.getTotalWinnings(!0),o=this.getTotalBets(!0);return this._displayValues.updateBalance(i),this._displayValues.updateWinnings(n),this._displayValues.updateBets(o),t&&e.push(this.getUpdatedValuesMoneyStatus()),e},e.prototype.sendMoneyStatus=function(t,e){void 0===e&&(e=!0),t&&t.length>0&&e&&this.sendNotification(_.Notifications.Money.MONEY_STATUS,t)},e.prototype.getMoneyStatus=function(t){return new d.MoneyStatus(t)},e.prototype.getUpdatedValuesMoneyStatus=function(){return new d.MoneyStatus(d.MoneyStatus.UPDATED_VALUES)},e.prototype.parseMoneyResultSuccess=function(t,e){return void 0===e&&(e=!0),e&&this.sendMoneyStatus(t.status),t.success},e.prototype.parseMoneyResult=function(t,e){return void 0===e&&(e=!0),this.sendMoneyStatus(t.status,e),t},e.prototype.resetBets=function(){this.bet=0,this.updateStrategyMoney()},e.prototype.removeBets=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0),this.resetBets(),t&&this.resetWinnings(),this.sendMoneyStatus(this.updateDisplayValues(e),e)},e.prototype.removeWinnings=function(t){void 0===t&&(t=!0),this.resetWinnings(),this.sendMoneyStatus(this.updateDisplayValues(t),t)},e.prototype.validateStrategy=function(){return!s.isNil(this._strategy)||(r.Log.errorch("Money","::validateStrategy - money strategy is not initialized."),!1)},e.prototype.updateStrategyMoney=function(){this._strategy.updateBalance(this.balance)},e.prototype.getTotalValueFromVector=function(t){for(var e=0,i=0;i<t.length;i++)e=l.NumberUtil.forceRoundValue(e+t[i].value);return e},e.prototype.getMoneyWinningById=function(t){if(this.validateWinnings())for(var e=0;e<this._winnings.length;e++)if(this._winnings[e].id==t)return this._winnings[e];return r.Log.warningch("Money","::getMoneyWinningById - MoneyWinning with id "+t+" does not exist"),null},e.prototype.getMoneyVectorById=function(t){var e=new Array;if(this.validateWinnings())for(var i=0;i<this._winnings.length;i++)this._winnings[i].id==t&&e.push(new h.IdValueTypeVO(this._winnings[i].id,this._winnings[i].winningValue,this._winnings[i].type));return e},e.prototype.getMoneyWinningByType=function(t){if(this.validateWinnings())for(var e=0;e<this._winnings.length;e++)if(this._winnings[e].type==t)return this._winnings[e];return null},e.prototype.getMoneyWinningByIdType=function(t,e){if(this.validateWinnings())for(var i=0;i<this._winnings.length;i++)if(this._winnings[i].id==t&&this._winnings[i].type==e)return this._winnings[i];return null},e.prototype.getMoneyVectorByType=function(t){var e=new Array;if(this.validateWinnings())for(var i=0;i<this._winnings.length;i++)this._winnings[i].type==t&&e.push(new h.IdValueTypeVO(this._winnings[i].id,this._winnings[i].winningValue,this._winnings[i].type));return e},e.prototype.getMoneyVectorByIdType=function(t,e){var i=new Array;if(this.validateWinnings())for(var n=0;n<this._winnings.length;n++)this._winnings[n].id==t&&this._winnings[n].type==e&&i.push(new h.IdValueTypeVO(this._winnings[n].id,this._winnings[n].winningValue,this._winnings[n].type));return i},e.prototype.validateWinnings=function(t){void 0===t&&(t=-1);var e=!0;return this._winnings||(r.Log.errorch("Money","::validateWinnings - _winnings not set. Cannot validate."),e=!1),e},e.prototype.resetWinnings=function(){this.win=0;for(var t=0;t<this._winnings.length;t++)this._winnings[t].winningValue=0},e.prototype.getMoneyResultFail=function(t){return void 0===t&&(t=null),new p.MoneyResult(!1)},e.prototype.getMoneyResultSuccess=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=!0),new p.MoneyResult(!0)},e}(a.Proxy);e.MoneyProxy=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.forceRoundValue=function(t){return Math.round(100*t)/100},t}();e.NumberUtil=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,i,n){void 0===n&&(n="default");var o=t.call(this,e,i)||this;return o._type=n,o}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var t="{ ";return t+="IdValueTypeVO ",t+="id: "+this.id,t+=" value: "+this.value,t+=" type: "+this.type,t+=" } "},e.prototype.clone=function(){return new e(this.id,this.value,this.type)},e}(i(590).IdValueVO);e.IdValueTypeVO=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this._id=t,this._value=e}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t="{ ";return t+="IdValueVO ",t+="id: "+this.id,t+=" value: "+this.value,t+=" } "},t}();e.IdValueVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(259),r=i(3),l=i(1),c=i(6),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"moneyStrategy",{get:function(){return this._moneyStrategy||(this._moneyStrategy=new a.CoinsMoneyStrategy),this._moneyStrategy},enumerable:!0,configurable:!0}),e.prototype.execute=function(t){this.initVars(),this.initializeCoins(),this.initializeCoinValues(),this.initializeLines(),this.slotGameConfig.hasBetPerSpin&&this.initializeBetPerSpin(),this.setMoneyStrategyDetails(),this.setMoneyProxyDetails()},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveProxy(l.Names.Proxies.COINS_MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.setMoneyStrategyDetails=function(){this.moneyStrategy.useStrictValidation(!1),this.moneyStrategy.useCyclingValues(a.CoinsMoneyStrategy.COINS_MASK|a.CoinsMoneyStrategy.LINES_MASK|a.CoinsMoneyStrategy.COIN_VALUE_MASK)},e.prototype.setMoneyProxyDetails=function(){switch(this.moneyProxy.setMoneyStrategy(this.moneyStrategy),this.moneyProxy.useCents=!0,this.moneyProxy.useServerCoins=!0,this.moneyProxy.useClientCoins=!1,this.moneyProxy.forceRound=!0,parseInt(this.settings.getValue("tokenuse"))){case 0:this.moneyProxy.decimalsCount=2;break;case 1:case 2:this.moneyProxy.token=1,this.moneyProxy.serverCoinValue=100,this.moneyProxy.decimalsCount=0,this.settings.map("currency","");break;default:this.moneyProxy.decimalsCount=2}},e.prototype.initializeLines=function(){var t=this;this.slotGameConfig?s.each(s.range(this.slotGameConfig.linesCnt),(function(e){t.moneyStrategy.addPlayLine(e+1)})):c.Log.errorch("Money","::execute - slot game config object not found. Method will not execute.")},e.prototype.initializeCoinValues=function(){var t=this,e=this.settings.getValue("COIN_VALUES");e?s.each(s.range(e.length),(function(i){t.moneyStrategy.addCoinValue(e[i])})):c.Log.errorch("Money","::execute -> Please set the COIN_VALUES variable on FGM")},e.prototype.initializeCoins=function(){var t=this,e=[],i=this.settings.getValue("COINS_VALUES");(e=s.isArray(i)?i:[i.undefined])?s.each(s.range(e.length),(function(i){t.moneyStrategy.addCoin(e[i])})):c.Log.errorch("Money","::execute -> Please set the COINS_VALUES variable on FGM")},e.prototype.initializeBetPerSpin=function(){var t=this,e=this.settings.getValue("BET_PER_SPIN_VALUES");e?s.each(s.range(this.slotGameConfig.linesCnt,e[e.length-1]),(function(e){t.moneyStrategy.addPlayLine(e)})):c.Log.errorch("Money","::execute -> Please set the BET_PER_SPIN_VALUES variable on FGM")},e}(r.Controller);e.SlotRegisterMoneyProxyCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(593),r=i(2),l=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.Notifications.Connection.LOGOUT,a.LogoutCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this)},e}(s.AbstractModule);e.AbstractLogic=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(58),r=i(78),l=i(2),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialogWindowMessage="warningLogoutMessage",e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=this.getDialogWindowVO();this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1),this.sendGlobalNotification(l.Notifications.Global.SHOW_DIALOG_WINDOW,i),this.sendGlobalNotification(l.Notifications.Global.TERMINATE_GAME)},e.prototype.getDialogWindowVO=function(){var t=new r.DialogWindowVO(a.DialogTypes.LOGOUT);return t.message=this.translations.getValue(this.dialogWindowMessage),t},e}(s.Controller);e.LogoutCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this._endGameDecisionProxy)&&(this._endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME)),this._endGameDecisionProxy.addEnableUI(t.body)},e}(i(3).Controller);e.AddEnableUIActionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME)),this.endGameDecisionProxy.addEndGameDecision(t.body)},e}(i(3).Controller);e.AddEndgameActionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e,i=this;s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.progressiveConnectionProxy)&&(this.progressiveConnectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.PROGRESSIVE_CONNECTION,r.Names.Modules.CONNECTION)),t.body&&t.body.hasOwnProperty("coinValue")&&(e=Number(t.body.coinValue));var n=this.moneyProxy.updateCoinValue(e,!0);n.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_INFOBOX,{message:""}),this.sendGlobalNotification(l.Notifications.Global.UPDATE_PAYTABLE_VALUES),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS),s.debounce((function(){return i.progressiveConnectionProxy.sendCoinValue()}),200)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,n.status)},e}(c.Controller);e.ChangeCoinValueCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.updateCoinValuesFromServer(),this.setBetLevelFeatureDetails()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY))},e.prototype.updateCoinValuesFromServer=function(){var t,e=this.connectionProxy.getServerData("coinValues"),i=[];s.isNil(e)||parseInt(e.readValue)&&(s.each(e.coinValueList.split(","),(function(t){i.push(parseInt(t))})),i.indexOf(this.moneyProxy.getCurrentCoinValue())<0&&(this.moneyProxy.updateWithServerCoinValues(i),t=parseInt(e.coinValueDefault),this.moneyProxy.updateCoinValue(t,!0,!1,!1),this.sendNotification(l.Notifications.Global.INJECT_COIN_VALUES,this.moneyProxy.getCoinValuesList(),r.Names.Modules.USER_INTERFACE)))},e.prototype.setBetLevelFeatureDetails=function(){var t=this.settings.getValue("BET_LEVEL");if(!s.isNil(t)&&t.enabled){var e=this.connectionProxy.getServerData("coinValues");if(e)parseInt(e.readValue)&&(this.moneyProxy.getCurrentCoin()==t.betPerLine&&this.moneyProxy.getCurrentLine()==t.lines||(this.moneyProxy.updateCoins(t.betPerLine,!0,!1,!1),this.moneyProxy.updateLinesId(t.lines-1,!0,!1,!1),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)))}},e}(i(3).Controller);e.ChangeCoinValuesFromServerCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e;s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),t.body&&t.body.hasOwnProperty("lineBet")&&(e=Number(t.body.lineBet)),this.validateLineBet(e)?(this.sendGlobalNotification(r.Notifications.Global.CHANGE_STATE,c.States.BEGIN_GAME),this.sendGlobalNotification(r.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(r.Notifications.Global.UPDATE_PAYTABLE_VALUES)):this.sendGlobalNotification(r.Notifications.Money.BET_NOT_VALID,this.moneyResult.status)},e.prototype.validateLineBet=function(t){return this.moneyResult=this.moneyProxy.updateCoinsId(t-1),this.moneyResult.success},e}(l.Controller);e.ChangeLineBetCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e;s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),t.body&&t.body.hasOwnProperty("linesNumber")&&(e=Number(t.body.linesNumber));var i=this.moneyProxy.updateLinesId(e-1);i.success?(this.sendGlobalNotification(r.Notifications.Global.CHANGE_STATE,c.States.BEGIN_GAME),this.sendGlobalNotification(r.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(r.Notifications.Global.LINE_NUMBER_ACCEPTED,e)):this.sendGlobalNotification(r.Notifications.Money.BET_NOT_VALID,i.status)},e}(l.Controller);e.ChangeLinesCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateCoinValuePrevious(!0,!1);e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.DecreaseCoinValueCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateCoinsPrevious();e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.DecreaseLineBetCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateLinesPrevious();e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.DecreaseLinesCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this._endGameDecisionProxy)&&(this._endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME)),this._endGameDecisionProxy.endGameProxyStarted||this._endGameDecisionProxy.start()},e}(i(3).Controller);e.EndGameDecisionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateCoinValueNext(!0,!1);e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.IncreaseCoinValueCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateCoinsNext();e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.IncreaseLineBetCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY));var e=this.moneyProxy.updateLinesNext();e.success?(this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)):this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,e.status)},e}(c.Controller);e.IncreaseLinesCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this._endGameDecisionProxy)&&(this._endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME)),this._endGameDecisionProxy.noEnableUI(t.body)},e}(i(3).Controller);e.NoEnableUIActionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this._endGameDecisionProxy)&&(this._endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME)),this._endGameDecisionProxy.noEndGameDecision(t.body)},e}(i(3).Controller);e.NoEndGameActionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(3),r=i(6),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){r.Log.debug("Show debug window"),this.sendGlobalNotification(s.Notifications.Global.TOGGLE_CHEAT_TOOL)},e}(a.Controller);e.ShowDebugWindowCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(23),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(u.FRProxiesName.FREE_ROUNDS_PROXY,r.Names.Modules.FREE_ROUNDS)),s.isEmpty(this.freeRoundsProxy.freeRoundsPackageDetails)&&!this.freeRoundsProxy.isFreeRoundsActive&&(s.isNil(this.payoutsProxy)&&(this.payoutsProxy=this.retrieveGlobalProxy(r.Names.Proxies.PAYTABLE,r.Names.Modules.PAYTABLE)),this.payoutsProxy.updatePayouts(),this.handelUserInteraction())},e.prototype.handelUserInteraction=function(){this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.SHOW_PAY_TABLE)},e}(c.Controller);e.ShowPaytableCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.retrieveProxy(s.Names.Proxies.CLOCK).addLabel(e.body)},e}(i(3).Controller);e.AddLabelToClockCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.retrieveProxy(s.Names.Proxies.CLOCK).removeLabel(e.body)},e}(i(3).Controller);e.RemoveLabelFromClockCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=i(83),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this._endGameDecisionProxy.resetEndGameActions(),this._endGameDecisionProxy.start(),this.sendGlobalNotification(r.Notifications.Global.PLAY_WELCOME_SOUNDS);var e={};e.name=u.SlotEndGameDecisionNames.REROUTE,e.startNotification=c.States.BEGIN_GAME,e.endNotification=c.States.WAIT_FOR_NEXT_ACTION,e.startChangeState=!0,this.sendGlobalNotification(r.Notifications.SlotLogic.ADD_ENDGAME_ACTION,e),this.sendGlobalNotification(c.States.REROUTE_GAME_PREPARE)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this._endGameDecisionProxy)&&(this._endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME))},e}(l.Controller);e.RerouteGameCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.handleUserInteraction(),this.updateDisplayValues()},e.prototype.updateDisplayValues=function(){var t=this.connectionProxy.getServerData(u.States.END_GAME),e=this.connectionProxy.getServerData(u.States.DOUBLE_WIN);t&&e&&this.moneyProxy.updateBalance(e.money),this.moneyProxy.removeWinnings(),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues)},e.prototype.handleUserInteraction=function(){this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.SKIP),""==this.getInitialCurrentState()&&this.sendGlobalNotification(l.Notifications.Winning.STOP_WINNINGS_ANIMATIONS)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY))},e.prototype.getInitialCurrentState=function(){var t="",e=this.connectionProxy.getServerData(u.States.INITIAL);return e&&(t=e.currentState),t},e}(c.Controller);e.BeginGameCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(58),r=i(78),l=i(1),c=i(2),u=i(3),h=i(30),p=i(11),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=new r.DialogWindowVO(a.DialogTypes.DEFAULT,"",[],[]);e.buttonLabels=[this.translations.getValue("dialogWindowCloseLabel")],e.buttonCallbacks=[this.onOkClicked.bind(this)],e.message=this.translations.getValue(this.settings.getValue("ERRORS")["errorCode"+t.body.code.toString()]),e.message+="\n("+this.translations.getValue("errorWindowTitle")+" "+t.body.code.toString()+")",e.message+="\n"+this.translations.getValue("ptRulesPageVoidPayments"),e.bgOpacity=1;try{this.layersProxy.retrieveLayer(l.Names.Layers.WARNING).container.style.backgroundColor="black"}catch(t){}this.sendGlobalNotification(c.Notifications.Global.SHOW_DIALOG_WINDOW,e),this.sendGlobalNotification(c.Notifications.Global.TERMINATE_GAME)},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(l.Names.Proxies.LAYERS,l.Names.Modules.GAME_SETUP))},e.prototype.onOkClicked=function(){this.sendGlobalNotification(c.Notifications.Global.PLAY_SOUND,{soundName:p.SlotSoundNames.GENERIC_BUTTON_CLICK});var t=this.settings.getValue("lobbyUrl");s.isNil(t)?h.WindowUtil.onReloadButton():h.WindowUtil.onLobbyHomeButton()},e}(u.Controller);e.ErrorCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(5),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body;e==l.States.BEGIN_GAME||e==l.States.END_GAME_ENABLE_UI?this.idleProxy.trackIdle():this.idleProxy.stopTrackingIdle()},e.prototype.initVars=function(){s.isNil(this.idleProxy)&&(this.idleProxy=this.retrieveProxy(a.Names.Proxies.IDLE))},e}(r.Controller);e.StateChangedCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(71),r=i(58),l=i(78),c=i(1),u=i(2),h=i(3),p=i(6),d=i(11),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body,i=a.MoneyStatus.retrieveHighestPriorityStatus(e),n=new l.DialogWindowVO(r.DialogTypes.DEFAULT,"",[],[]);switch(n.message=this.translations.getValue("betNotValidWindowMessage"),n.bgOpacity=1,i.statusType){case a.MoneyStatus.NO_MONEY_WARNING:n.buttonLabels=[this.translations.getValue("dialogWindowCloseLabel")],n.buttonCallbacks=[this.onOkClicked.bind(this)],this.setMaskedMoneyPopup("black"),this.sendGlobalNotification(u.Notifications.Global.SHOW_DIALOG_WINDOW,n);break;case a.MoneyStatus.NOT_ENOUGH_MONEY:n.buttonLabels=[this.translations.getValue("betNotValidBetMinButtonLabel"),this.translations.getValue("betNotValidCancelButtonLabel")],n.buttonCallbacks=[this.onPlaceMinBet.bind(this),this.onOkClicked.bind(this)],this.setMaskedMoneyPopup("black"),this.sendGlobalNotification(u.Notifications.Global.SHOW_DIALOG_WINDOW,n);break;default:p.Log.infoch("BetNotValidCommand","Please handle the MoneyStatus!")}},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(c.Names.Proxies.LAYERS,c.Names.Modules.GAME_SETUP))},e.prototype.onOkClicked=function(){p.Log.infoch("BetNotValidCommand","onOkClicked()."),this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:d.SlotSoundNames.GENERIC_BUTTON_CLICK}),this.sendGlobalNotification(u.Notifications.Global.HIDE_DIALOG_WINDOW),this.setMaskedMoneyPopup("")},e.prototype.onPlaceMinBet=function(){p.Log.infoch("BetNotValidCommand","onPlaceMinBet()."),this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:d.SlotSoundNames.GENERIC_BUTTON_CLICK}),this.sendGlobalNotification(u.Notifications.Global.CHANGE_COIN_VALUE,{coinValue:this.moneyProxy.getCoinValuesList()[0]}),this.slotGameConfig.alwaysMaxBetPerLines||this.sendGlobalNotification(u.Notifications.Global.CHANGE_LINE_BET,{lineBet:this.moneyProxy.getCoinsList()[0]}),this.slotGameConfig.alwaysMaxLines||this.sendGlobalNotification(u.Notifications.Global.CHANGE_LINES,{linesNumber:1}),this.sendGlobalNotification(u.Notifications.Money.MIN_BET_PLACED),this.sendGlobalNotification(u.Notifications.Global.HIDE_DIALOG_WINDOW),this.setMaskedMoneyPopup("")},e.prototype.setMaskedMoneyPopup=function(t){},e}(h.Controller);e.BetNotValidCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.addLabelToIncrement(t.body.incrementId,t.body.label)},e}(i(3).Controller);e.AddLabelToIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.addOnCompleteFunction(t.body.incrementId,t.body.onComplete,t.body.onCompleteKey)},e}(i(3).Controller);e.AddOnCompleteToIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.addOnUpdateFunction(t.body.incrementId,t.body.onUpdate,t.body.onUpdateKey,t.body.updateType)},e}(i(3).Controller);e.AddOnUpdateToIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=this.incrementProxy.getDurationForIncrement(t.body.incrementId);t.body.callback.call(null,e)},e}(i(3).Controller);e.GetIncrementDurationCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=this.incrementProxy.getStatusForIncrement(t.body.incrementId);t.body.callback.call(null,e)},e}(i(3).Controller);e.GetIncrementStatusCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=this.incrementProxy.getTotalForIncrement(t.body.incrementId);t.body.callback.call(null,e)},e}(i(3).Controller);e.GetIncrementTotalCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=i(38),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.stateMachineProxy)&&(this.stateMachineProxy=this.retrieveGlobalProxy(r.Names.Proxies.STATE_MACHINE,r.Names.Modules.GAME_SETUP)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"));var e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=h.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.stateMachineProxy.state!=u.States.END_GAME_ENABLE_UI&&this.stateMachineProxy.state!=u.States.FREE_ROUNDS_END_GAME_ENABLE_UI||t.body.incrementId!=e||(this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.SKIP),this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0))},e}(c.Controller);e.IncrementCompletedCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.removeLabelFromIncrement(t.body.incrementId,t.body.label)},e}(i(3).Controller);e.RemoveLabelFromIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.removeOnCompleteFunction(t.body.incrementId,t.body.onCompleteKey)},e}(i(3).Controller);e.RemoveOnCompleteFromIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.removeOnUpdateFunction(t.body.incrementId,t.body.onUpdateKey)},e}(i(3).Controller);e.RemoveOnUpdateFromIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.updateDisplayValues(t.body)},e}(i(3).Controller);e.SlotLogicUpdateDisplayValuesCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(38),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=0,i=0,n=l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS;t.body.startValueCoins&&(e=t.body.startValueCoins,i=t.body.startValueMoney),s.has(t.body,"incrementId")&&(n=t.body.incrementId),this.incrementProxy.startCumulativeIncrementingWin(t.body.label,e,i,n)},e}(r.Controller);e.StartCumulativeIncrementingWinCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var i=0;e.body.startValue&&(i=e.body.startValue);var n=null;e.body.displayObject&&(n=e.body.displayObject);var o=-1;e.body.duration&&(o=e.body.duration);var r=-1;e.body.decimals&&(r=e.body.decimals);var l=!1;e.body.useCurrency&&(l=e.body.useCurrency);var c=null;e.body.tweenDetails&&(c=e.body.tweenDetails);var u=!1;e.body.cleanOnComplete&&(u=e.body.cleanOnComplete),this.incrementProxy.startIncrement(e.body.incrementId,e.body.endValue,i,n,o,r,l,u,c)},e}(i(3).Controller);e.StartIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=-1,i=-1;t.body.endWinningsIncrementCoins&&(e=t.body.endWinningsIncrementCoins,i=t.body.endWinningsIncrementMoney);var n=0,o=0;t.body.startWinningsIncrementCoins&&(n=t.body.startWinningsIncrementCoins,o=t.body.startWinningsIncrementMoney);var r=!1;t.body.hasMaxDuration&&(r=t.body.hasMaxDuration);var l=-1;t.body.duration&&(l=t.body.duration);var c=-1;t.body.incrementDelay&&(c=t.body.incrementDelay),this.incrementProxy.startWinningsIncrement(n,o,e,i,r,l,c)},e}(i(3).Controller);e.StartWinningsIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.stopAllIncrements()},e}(i(3).Controller);e.StopAllIncrementsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT)),this.incrementProxy.stopCumulativeIncrementingWin()},e}(i(3).Controller);e.StopCumulativeIncrementingWinCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.incrementProxy)&&(this.incrementProxy=this.retrieveProxy(a.Names.Proxies.INCREMENT));var e=-1;t.body.delay&&(e=t.body.delay);var i=null;t.body.stopFunction&&(i=t.body.stopFunction);var n=null;t.body.args&&(n=t.body.args);var o=!1;t.body.clearTxt&&(o=t.body.clearTxt);var r=0;t.body.delayClearTxt&&(r=t.body.delayClearTxt),this.incrementProxy.stopIncrement(t.body.incrementId,e,i,n,o,r)},e}(i(3).Controller);e.StopIncrementCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(13),l=i(27),c=i(636),u=i(21),h=i(6),p=i(32),d=i(139),_=i(38),f=i(63),y=i(102),m=i(637),N=function(t){function e(e){var i=t.call(this,e)||this;return i.incrementSettings=[],i.cumulativeIncrementWinRequested=0,i.skipIncrementThreshold=1,i}return o(e,t),e.prototype.getTotalBet=function(){return this.totalBet},e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.initSettings(),this.keepWinningsAfterSpin=this.settings.getValue("KEEP_WINNINGS_AFTER_SPIN"),this.incrementList=[];var e=new m.IncrementVO(_.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS);this.addToIncrementList(e,e.id);var i=new m.IncrementVO(_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,null,2);this.addToIncrementList(i,e.id),this.updateLabelFunction=this.updateLabel.bind(this)},e.prototype.updateDisplayValues=function(t){this.displayValues=t},e.prototype.startWinningsIncrement=function(t,e,i,n,o,s,a){if(void 0===s&&(s=-1),void 0===a&&(a=-1),this.totalBet=this.displayValues.totalBetInCoins,this.totalBetMoney=this.displayValues.bets,TweenLite.killDelayedCallsTo(this.updateLabelFunction),this.displayValues.winnings>0){var r=void 0,l=void 0;if(l=this.displayValues.winnings,r=this.displayValues.winningsInCoins,-1!=i&&(r=i),-1!=n&&(l=n),this.currentIncrementalWinValueCoins=t,this.currentIncrementalWinValueMoney=e,this.currentIncrementalWinValueCoins==r)return;if(this.currentIncrementalWinValueMoney==l)return;this.startIncrement(_.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,r,this.currentIncrementalWinValueCoins,null,s,-1,!1,!1,null,o,this.totalBet,a),this.startIncrement(_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,l,this.currentIncrementalWinValueMoney,null,s,-1,!0,!1,null,o,this.totalBetMoney,a),this.cumulativeIncrementWinRequested>0?(this.startIncrement(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS,this.cumulativeIncrementWinValueCoins+(r-this.currentIncrementalWinValueCoins),this.cumulativeIncrementWinValueCoins,null,s,-1,!1,!1,null,o,this.totalBet,a),this.startIncrement(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,this.cumulativeIncrementWinValueMoney+(l-this.currentIncrementalWinValueMoney),this.cumulativeIncrementWinValueMoney,null,s,-1,!0,!1,null,o,this.totalBetMoney,a),this.cumulativeIncrementWinValueCoins+=r-this.currentIncrementalWinValueCoins,this.cumulativeIncrementWinValueMoney+=l-this.currentIncrementalWinValueMoney):(this.cumulativeIncrementWinValueCoins=0,this.cumulativeIncrementWinValueMoney=0)}else this.stopAllIncrements(),this.currentIncrementalWinValueCoins=0,this.currentIncrementalWinValueMoney=0},e.prototype.startCumulativeIncrementingWin=function(t,e,i,n){if(void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS),this.cumulativeIncrementWinRequested++,this.cumulativeIncrementWinRequested>1)t&&(this.cumulativeIncrementWinValueCoins>0&&this.updateLabel(t,p.NumberFormatterUtil.formatCoins(this.cumulativeIncrementWinValueCoins)),this.addLabelToIncrement(n,t));else{var o=this.getIncrementById(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS),s=this.getIncrementById(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY);o||((o=new m.IncrementVO(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS)).endValue=e,o.startValue=0,this.addToIncrementList(o,o.id),(s=new m.IncrementVO(_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,null,2)).endValue=i,s.startValue=0,this.addToIncrementList(s,o.id)),this.cumulativeIncrementWinValueCoins=e,this.cumulativeIncrementWinValueMoney=i,this.sendGlobalNotification(a.Notifications.Increment.CUMULTATIVE_INCREMENTING_STARTING,{valueCoins:e,valueMoney:i}),t&&this.addLabelToIncrement(n,t)}},e.prototype.stopCumulativeIncrementingWin=function(){this.cumulativeIncrementWinRequested--,this.cumulativeIncrementWinRequested>0||(this.cumulativeIncrementWinValueCoins=0,this.cumulativeIncrementWinValueMoney=0,this.sendGlobalNotification(a.Notifications.Increment.CUMULTATIVE_INCREMENTING_STOPPING))},e.prototype.getStatusForIncrement=function(t){var e=this.getIncrementById(t);return e?e.status:f.IncrementStatusNames.NOT_INCREMENTING},e.prototype.getTotalForIncrement=function(t){var e=this.getIncrementById(t);return e?e.endValue:-1},e.prototype.addLabelToIncrement=function(t,e){var i=this.getIncrementById(t);if(i&&!s.includes(i.displayObjects,e))if(d.ViewFactory.instance().isDOMElement(e)){var n=new c.HTMLLabel(e);i.displayObjects.push(n)}else i.displayObjects.push(e)},e.prototype.removeLabelFromIncrement=function(t,e){var i=this.getIncrementById(t);i&&s.each(i.displayObjects,(function(t,n){t instanceof c.HTMLLabel?t.label==e&&i.displayObjects.splice(n,1):i.displayObjects.indexOf(e)>=0&&i.displayObjects.splice(n,1)}))},e.prototype.addOnUpdateFunction=function(t,e,i,n){void 0===n&&(n=y.IncrementUpdateTypeNames.INCREMENT_TYPE_PIXI);var o=this.getIncrementById(t);o&&s.isNil(o.onUpdateFunctions[i])&&(o.onUpdateFunctions[i]=e,o.updateTypes[i]=n)},e.prototype.removeOnUpdateFunction=function(t,e){var i=this.getIncrementById(t);i&&(s.isNil(i.onUpdateFunctions[e])||(delete i.onUpdateFunctions[e],delete i.updateTypes[e]))},e.prototype.addOnCompleteFunction=function(t,e,i){var n=this.getIncrementById(t);n&&s.isNil(n.onCompleteFunctions[i])&&(n.onCompleteFunctions[i]=e)},e.prototype.removeOnCompleteFunction=function(t,e){var i=this.getIncrementById(t);i&&(s.isNil(i.onCompleteFunctions[e])||delete i.onCompleteFunctions[e])},e.prototype.getDurationForIncrement=function(t){var e=this.getIncrementById(t);return e?e.incrementTime:-1},e.prototype.onSpin=function(){var t;if(this.keepWinningsAfterSpin&&this.keepWinningsAfterSpin.hasOwnProperty("enabled")&&1==this.keepWinningsAfterSpin.enabled&&(t=this.keepWinningsAfterSpin.delay),t){var e=this.getIncrementById(_.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS),i=void 0;if(e)for(i=0;i<Array(e.displayObjects).length;i++)e.displayObjects[i]&&""!=e.displayObjects[i].innerHTML&&TweenLite.delayedCall(t,this.updateLabelFunction,[e.displayObjects[i],""]);if(e=this.getIncrementById(_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY))for(i=0;i<Array(e.displayObjects).length;i++)e.displayObjects[i]&&""!=e.displayObjects[i].innerHTML&&TweenLite.delayedCall(t,this.updateLabelFunction,[e.displayObjects[i],""])}},e.prototype.getIncrementById=function(t){for(var e=0;e<this.incrementList.length;e++)if(this.incrementList[e].id==t)return this.incrementList[e];return null},e.prototype.initSettings=function(){var t=this.settings.getValue("INCREMENT_SETTINGS_DETAILS"),e={},i={};this.incrementSettings=this.settings.getValue("INCREMENT_SETTINGS_DETAILS"),e.id=_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.timeBetLimit=t[0].timeBetLimit,e.tMax=t[0].tMax,e.tMin=t[0].tMin,e.totalBetLimit=t[0].totalBetLimit,e.delay=t[0].delay,i.id=_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,i.timeBetLimit=t[0].timeBetLimit,i.tMax=t[0].tMax,i.tMin=t[0].tMin,i.totalBetLimit=t[0].totalBetLimit,i.delay=t[0].delay,this.incrementSettings.push(e),this.incrementSettings.push(i),this.skipIncrementThreshold=t[0].skipIncrementThreshold},e.prototype.addToIncrementList=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=-1);var o=!1;this.getIncrementById(t.id)&&(o=!0),o||this.incrementList.push(t);var a=this.getIncrementSettings(e);return a&&(a.hasOwnProperty("totalBetLimit")&&(s.isString(a.totalBetLimit)?(t.totalBetLimit=[],s.forEach(a.totalBetLimit.split(",").map(Number),(function(e,i){t.totalBetLimit[i]=e}))):s.isNumber(a.totalBetLimit)&&(t.totalBetLimit=a.totalBetLimit)),a.hasOwnProperty("timeBetLimit")&&(s.isString(a.timeBetLimit)?(t.timeBetLimit=[],s.forEach(a.timeBetLimit.split(",").map(Number),(function(e,i){t.timeBetLimit[i]=e}))):s.isNumber(a.timeBetLimit)&&(t.timeBetLimit=a.timeBetLimit)),a.hasOwnProperty("maxDuration")&&(t.maxDuration=a.maxDuration),a.hasOwnProperty("tMin")&&(t.tMin=a.tMin),a.hasOwnProperty("tMax")&&(t.tMax=a.tMax),a.hasOwnProperty("delay")&&(t.delay=a.delay)),t.incrementTime=this.incrementTime(t,i,n),!o},e.prototype.getIncrementSettings=function(t){for(var e={},i=0;i<this.incrementSettings.length;i++){if(this.incrementSettings[i].id==t){e=this.incrementSettings[i];break}"default"==this.incrementSettings[i].id&&(e=this.incrementSettings[i])}return e},e.prototype.incrementTime=function(t,e,i){-1==i&&(i=this.totalBet);var n=t.startValue;t.id==_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY||t.id==_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY?.01==t.startValue&&(n=0):1==t.startValue&&(n=0);var o=(t.endValue-n)/i;if(s.isArray(t.totalBetLimit)&&s.isArray(t.timeBetLimit)){for(var a=t.totalBetLimit.length-1;a>=0;a--)if(o>=t.totalBetLimit[a]){o=t.timeBetLimit[a];break}}else s.isNumber(t.totalBetLimit)&&s.isNumber(t.timeBetLimit)&&(o=o>=t.totalBetLimit?t.timeBetLimit:t.tMin+(t.tMax-t.tMin)/20*Math.sqrt(o));return e&&(o=t.maxDuration),o},e.prototype.startIncrement=function(t,e,i,n,o,s,a,r,l,c,u,p){if(void 0===i&&(i=0),void 0===n&&(n=null),void 0===o&&(o=-1),void 0===s&&(s=-1),void 0===a&&(a=!1),void 0===r&&(r=!1),void 0===l&&(l=null),void 0===c&&(c=!1),void 0===u&&(u=-1),void 0===p&&(p=-1),h.Log.info("startIncrement "+t),!(e<=i)){0==i&&(i=t==_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY||t==_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY?.01:1);var d=this.getIncrementById(t);d?n&&-1==d.displayObjects.indexOf(n)&&d.displayObjects.push(n):d=new m.IncrementVO(t,n,s,o),d.endValue=e,d.startValue=i,d.useCurrency=a,d.cleanOnComplete=r,(t==_.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS&&this.totalBet*this.skipIncrementThreshold>=d.endValue||t==_.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY&&this.totalBetMoney*this.skipIncrementThreshold>=d.endValue)&&(d.showOnlyValue=!0),(t==_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_COINS&&this.totalBet*this.skipIncrementThreshold>=d.endValue-i||t==_.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY&&this.totalBetMoney*this.skipIncrementThreshold>=d.endValue-i)&&(d.showOnlyValue=!0),-1==d.decimalsCount&&(d.decimalsCount=0),this.addToIncrementList(d,d.id,c,u),-1!=p&&(d.delay=p),-1!=o&&(d.incrementTime=o);var y={x:e,delay:d.delay,onStart:this.onStart.bind(this),onUpdate:this.onUpdate.bind(this),onComplete:this.onComplete.bind(this),ease:Linear.easeIn},N={vo:d};null!=l&&(l.hasOwnProperty("onUpdate")&&l.hasOwnProperty("onUpdateKey")&&(d.onUpdateFunctions[l.onUpdateKey]=l.onUpdate,d.updateTypes[l.onUpdateKey]=l.updateType),l.hasOwnProperty("onComplete")&&l.hasOwnProperty("onCompleteKey")&&(d.onCompleteFunctions[l.onCompleteKey]=l.onComplete)),this.incrementInternal(d.startValue,d.incrementTime,y,N),d.status=f.IncrementStatusNames.INCREMENTING}},e.prototype.updateIncrementDuration=function(t,e){var i=this.getIncrementById(t),n=!1;return this.getStatusForIncrement(t)==f.IncrementStatusNames.INCREMENTING&&(i.tween.totalDuration(i.tween.totalDuration()+e),n=!0),n},e.prototype.setIncrementDuration=function(t,e){var i=this.getIncrementById(t),n=!1;return this.getStatusForIncrement(t)==f.IncrementStatusNames.INCREMENTING&&(i.tween.totalDuration(i.tween.time()+e),n=!0),n},e.prototype.onStart=function(t,e){if(!s.isNil(t.data)&&!s.isNil(t.data)){var i=t.data.vo;this.sendGlobalNotification(a.Notifications.Increment.INCREMENT_STARTED,{incrementId:i.id,showOnlyLastValue:i.showOnlyValue,endValue:i.endValue}),s.isNil(t.data)||s.isNil(t.data)||this.updateLabels(e,t.data.vo)}},e.prototype.stopIncrement=function(t,e,i,n,o,s){void 0===e&&(e=-1),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!1),void 0===s&&(s=0),o&&this.keepWinningsAfterSpin&&this.keepWinningsAfterSpin.hasOwnProperty("enabled")&&1==this.keepWinningsAfterSpin.enabled&&(s=this.keepWinningsAfterSpin.delay);var a=this.getIncrementById(t);if(a&&a.status==f.IncrementStatusNames.INCREMENTING&&(a.tween.totalTime(a.tween.totalDuration()).kill(),a.status=f.IncrementStatusNames.STOPPED,e>-1&&TweenLite.delayedCall(e,i,n),o))for(var r=0;r<a.displayObjects.length;r++)TweenLite.delayedCall(s,this.updateLabelFunction,[a.displayObjects[r],""])},e.prototype.onUpdate=function(t){if(!s.isNil(t.data)&&!s.isNil(t.data)){var e=t.data.vo;this.updateLabels(e.tweenObject.x,e);var i=e.tweenObject.x;s.each(e.onUpdateFunctions,(function(t,n){s.isNil(e.tweenObject.prevX)||e.tweenObject.x==e.endValue||e.updateTypes[n]!=y.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML||(i=e.tweenObject.prevX),t.apply(null,[i])})),e.tweenObject.prevX=e.tweenObject.x}},e.prototype.onComplete=function(t){if(!s.isNil(t.data)&&!s.isNil(t.data)){var e=t.data.vo;this.updateLabels(e.tweenObject.x,e),s.each(e.onCompleteFunctions,(function(t){t.apply(null,[e.tweenObject.x])})),e.status=f.IncrementStatusNames.NOT_INCREMENTING,this.sendGlobalNotification(a.Notifications.Increment.INCREMENT_COMPLETED,{incrementId:e.id,showOnlyLastValue:e.showOnlyValue}),e.cleanOnComplete&&(e.displayObjects=[],e.onUpdateFunctions={},e.updateTypes={},e.onCompleteFunctions={}),t.data=null,t&&t.kill(),e.showOnlyValue=!1}},e.prototype.updateLabels=function(t,e){var i;i=e.useCurrency?p.NumberFormatterUtil.formatCurrency(t,e.decimalsCount):p.NumberFormatterUtil.formatNumber(t,e.decimalsCount);for(var n=0;n<e.displayObjects.length;n++)if(e.displayObjects[n]){var o=i;e.displayObjects[n]instanceof c.HTMLLabel&&e.tweenObject.x!=e.endValue&&!s.isNil(e.displayObjects[n].prevLabelText)&&(o=e.displayObjects[n].prevLabelText),this.updateLabel(e.displayObjects[n],o),e.displayObjects[n].prevLabelText=i}},e.prototype.updateLabel=function(t,e){t instanceof c.HTMLLabel||t instanceof u.TextField?t.updateLabel(e):t instanceof l.ControllerTextField&&(t.text.text=e)},e.prototype.stopAllIncrements=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=0);for(var i=0;i<this.incrementList.length;i++)this.stopIncrement(this.incrementList[i].id,-1,null,null,t,e)},e.prototype.incrementInternal=function(t,e,i,n){var o={x:t};n.vo.showOnlyValue&&(o.x=n.vo.endValue,t=n.vo.endValue-1);var s=new TweenMax(o,e,i);s.data=n,s.data.vo.tween=s,s.data.vo.tweenObject=o,s.vars.onStartParams=[s,t],s.vars.onUpdateParams=[s],s.vars.onCompleteParams=[s]},e}(r.Proxy);e.IncrementProxy=N},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(20),s=i(139),a=function(){function t(t){this.currentText="",s.ViewFactory.instance().isDOMElement(t)?this.label=t:this.label=t?$("#"+t)[0]:document.createElement("div")}return Object.defineProperty(t.prototype,"innerHTML",{get:function(){return this.label.children.length>0?this.label.children[0].innerHTML:this.label.innerHTML},set:function(t){this.label.children.length>0?this.label.children[0].innerHTML=t:this.label.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.currentText},enumerable:!0,configurable:!0}),t.prototype.updateLabel=function(t,e){void 0===e&&(e=!0);var i=this.currentText.length;this.label&&t&&t!=this.currentText&&(n.isNil(this.$label)&&(this.$label=$(this.label)),0==this.$label.has("span").length?(this.label.innerHTML=t,i=-1):$("span:first",this.$label)[0].innerText=t,this.currentText=t),e&&i!=this.currentText.length&&this.resize()},t.prototype.resize=function(){o.StringUtil.fitTextToArea(this.label)},t}();e.HTMLLabel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t,e,i,o){void 0===e&&(e=null),void 0===i&&(i=0),void 0===o&&(o=-1),this.totalBetLimit=20,this.timeBetLimit=10,this.maxDuration=12,this.tMin=.5,this.tMax=4,this.onUpdateFunctions={},this.updateTypes={},this.onCompleteFunctions={},this.showOnlyValue=!1,this.delay=0,this.id=t,this.displayObjects=[],n.isNil(e)||(this.displayObjects=e),this.decimalsCount=i,this.incrementTime=o};e.IncrementVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.listenerEndGame={},n}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this)},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this)},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.Notifications.Global.LISTEN_TO_END_ACTION_NOTIFICATION,this.doListenForEndActionNotification.bind(this)),this.addNotification(r.Notifications.Global.UNLISTEN_TO_END_ACTION_NOTIFICATION,this.doUnListenForEndActionNotification.bind(this))},e.prototype.doListenForEndActionNotification=function(t){this.addNotification(t.body,this.doEndActionNotifications.bind(this)),this.listenerEndGame[t.body]=this.doEndActionNotifications},e.prototype.doEndActionNotifications=function(){this.removeAllNotifications(),this.endGameDecisionProxy.endEndGameActions()},e.prototype.doUnListenForEndActionNotification=function(){this.removeAllNotifications()},e.prototype.removeAllNotifications=function(){var t=this;s.each(this.listenerEndGame,(function(e,i){t.removeNotification(i),delete t.listenerEndGame[i]}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(i(19).AbstractMediator);e.EndGameMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(1),l=i(2),c=i(13),u=i(6),h=i(91),p=i(5),d=i(59),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._defaultIdleStates=[p.States.BEGIN_GAME,p.States.END_GAME_ENABLE_UI],e._timeToCheck=3,e._balanceUpdateCheckEnabled=!1,e._balanceUpdateCheckLicensee=null,e._idleStates=e._defaultIdleStates,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER));var t=this.settings.getValue("BALANCE_UPDATE_CHECK");s.isNil(t)?u.Log.infoch("BalanceUpdate","BALANCE_UPDATE_CHECK fgm setting don't exist, default values has been applied"):(s.has(t,"timeToCheck")?this._timeToCheck=t.timeToCheck:(this._timeToCheck=3,u.Log.infoch("BalanceUpdate","timeToCheck property was not found in BALANCE_UPDATE_CHECK setting. Default value has been applied (3)")),s.has(t,"enable")?this._balanceUpdateCheckEnabled=t.enable:(this._balanceUpdateCheckEnabled=!1,u.Log.infoch("BalanceUpdate","enable property was not found in BALANCE_UPDATE_CHECK setting. Default value has been applied (false)")),s.has(t,"licensee")?this._balanceUpdateCheckLicensee=t.licensee.split(","):(this._balanceUpdateCheckLicensee=null,u.Log.infoch("BalanceUpdate","licensee property was not found in BALANCE_UPDATE_CHECK setting. Default value has been applied (null)")),s.has(t,"states")?this._idleStates=t.states.split(","):(this._idleStates=this._defaultIdleStates,u.Log.infoch("BalanceUpdate","licensee property was not found in BALANCE_UPDATE_CHECK setting. Default value has been applied ("+this._defaultIdleStates+")"))),this._canStartCheckForBalanceUpdate=this.canStartCheckingBalanceUpdate(),this._idleTimer=new d.Timer(1e3*this._timeToCheck,this.onTimerTick.bind(this)),this._canPerformBalanceUpdateOnGame=!0},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this._idleTimer.stop(),this._idleTimer=null},e.prototype.startCheckBalanceUpdate=function(){!this._idleTimer.running&&this._canStartCheckForBalanceUpdate&&(this.validationProxy.toggleValidation(a.ValidationProperties.BALACE_CHECK_ENABLED,this._canStartCheckForBalanceUpdate),this._idleTimer.reset(),this._idleTimer.start(),this._canPerformBalanceUpdateOnGame=!0,u.Log.infoch("BalanceUpdate","========================"),u.Log.infoch("BalanceUpdate","Timer started"))},e.prototype.stopCheckBalanceUpdate=function(){this._idleTimer.running&&(this._idleTimer.stop(),this._canPerformBalanceUpdateOnGame=!1,u.Log.infoch("BalanceUpdate","========================"),u.Log.infoch("BalanceUpdate","Timer stopped"))},e.prototype.getIdleStates=function(){return this._idleStates},Object.defineProperty(e.prototype,"canPerformBalanceUpdateOnGame",{get:function(){return this._canPerformBalanceUpdateOnGame},enumerable:!0,configurable:!0}),e.prototype.onTimerTick=function(){this._idleTimer.stop(),this.startCheckBalanceUpdate(),this.sendNotification(l.Notifications.Connection.SERVER_ACTION,h.ServerActions.SEND_BALANCE_UPDATE,r.Names.Modules.CONNECTION),u.Log.infoch("BalanceUpdate","Interrogate server")},e.prototype.canStartCheckingBalanceUpdate=function(){var t=!1,e=!0,i=this.settings.getValue("name").split(",")[0];return this._balanceUpdateCheckLicensee&&this._balanceUpdateCheckLicensee.length>0&&-1==this._balanceUpdateCheckLicensee.indexOf(i)&&(e=!1),this._balanceUpdateCheckEnabled&&e&&"false"==this.settings.getValue("funmode")?(t=!0,u.Log.infoch("BalanceUpdate","Balance update verification succeeded")):u.Log.infoch("BalanceUpdate","Balance update verification failed because:\nBalanceUpdateCheckEnabled: "+this._balanceUpdateCheckEnabled+"\nHasValidLicensee: "+e+"\nRealMode: "+("true"!=this.settings.getValue("funmode")).toString()),t},e}(c.Proxy);e.BalanceUpdateCheckProxy=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(21),l=i(59),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labels=[],e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){this.clockTimer=new l.Timer(l.Timer.MINUTE,this.onClockTimer.bind(this));var t=l.Timer.MINUTE-1e3*(new Date).getSeconds();this.clockTimer.delayedStart(t)},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this.clockTimer.stop()},e.prototype.addLabel=function(t){this.labels.push(t),this.onClockTimer.call(this)},e.prototype.removeLabel=function(t){this.labels.splice(this.labels.indexOf(t),1)},e.prototype.onClockTimer=function(){if(this.labels.length>0){var t=new Date,e=t.getHours(),i=t.getMinutes(),n=e+":"+this.checkTime(i);s.each(this.labels,(function(t){t instanceof HTMLElement?t.innerText=n:t instanceof r.TextField&&t.updateLabel(n,!1)}))}},e.prototype.checkTime=function(t){var e=t.toString();return t<10&&(e="0"+t),e},e}(a.Proxy);e.ClockProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(13),r=i(59),l=function(t){function e(e){var i=t.call(this,e)||this;return i._isIdle=!1,i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){var t=10,e=this.settings.getValue("IDLE_SETTINGS");e&&e.hasOwnProperty("idleAfter")&&(t=e.idleAfter),this._idleTimer=new r.Timer(1e3*t,this.onTimerTick.bind(this))},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this._idleTimer.stop(),this._idleTimer=null},e.prototype.trackIdle=function(){this._idleTimer.running||(this._idleTimer.reset(),this._idleTimer.start())},e.prototype.stopTrackingIdle=function(){this._isIdle&&(this._isIdle=!1,this.sendGlobalNotification(s.Notifications.Global.IDLE_MODE_CHANGED,this._isIdle)),this._idleTimer.running&&this._idleTimer.stop()},e.prototype.onTimerTick=function(){this._idleTimer.stop(),this._isIdle=!0,this.sendGlobalNotification(s.Notifications.Global.IDLE_MODE_CHANGED,this._isIdle)},e}(a.Proxy);e.IdleProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var i=t.call(this,e)||this;return i.lastWinning=0,i.lastSpinWinning=0,i.freeGamesWinnings=0,i}return o(e,t),e.prototype.getlastWinning=function(){return this.lastWinning},e.prototype.setlastWinning=function(t){this.lastWinning=t},e.prototype.getlastSpinWinning=function(){return this.lastSpinWinning},e.prototype.setlastSpinWinning=function(t){this.lastSpinWinning=t},e.prototype.getfreeGamesWinnings=function(){return this.freeGamesWinnings},e.prototype.setfreeGamesWinnings=function(t){this.freeGamesWinnings=t},e}(i(13).Proxy);e.LastWinProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(644),r=i(2),l=i(6),c=i(5),u=i(83),h=i(645),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){l.Log.infoch("EndGame"," ---------- START --------------"),this.endGameVerificationComplete?this.endGameProxyStarted||(this.endGameProxyStarted=!0,this.sendGlobalNotification(r.Notifications.Global.PAUSE_AUTO_ROUND),this.checkForReroute(),this.startNextEndGameActions()):this.needToStart=!0},e.prototype.fsCheckForReroute=function(){this.checkForReroute()},e.prototype.createEndGameDecisionVO=function(t){var e=new h.SlotEndGameActionDetailsVO;return e.name=t.name,e.startNotification=t.startNotification,e.endNotification=t.endNotification,t.hasOwnProperty("sendImmediatelyEndGameEnableUI")&&(e.sendImmediatelyEndGameEnableUI=t.sendImmediatelyEndGameEnableUI),t.hasOwnProperty("startChangeState")&&(e.startChangeState=t.startChangeState),t.hasOwnProperty("lines")&&(e.lines=t.lines,this.lineInserted=!1),t.hasOwnProperty("isComplete")&&(e.isComplete=t.isComplete),t.hasOwnProperty("oneTimeOnly")&&(e.oneTimeOnly=t.oneTimeOnly),t.hasOwnProperty("startNotificationParams")&&(e.startNotificationParams=t.startNotificationParams),e},e.prototype.resetEndGameVerification=function(){var t=this;s.each(this.endGameVerification,(function(e,i){t.endGameVerification[i]=!1})),s.each(this.endGameEnableUIVerification,(function(e,i){t.endGameEnableUIVerification[i]=!1})),this.endGameVerification.hasOwnProperty(u.SlotEndGameDecisionNames.REROUTE)&&delete this.endGameVerification[u.SlotEndGameDecisionNames.REROUTE],this.endGameEnableUIToggleVerification=!1,this.endGameVerificationComplete=!1,this.endGameEnableUISent=!1,this.needToStart=!1,this.lineInserted=!1,this.endGameProxyStarted=!1,this.endGameEnableUINotification=c.States.END_GAME_ENABLE_UI,this.endGameEnableUINotificationOrder=0,this.currentEndGameActions&&this.sendGlobalNotification(r.Notifications.Global.UNLISTEN_TO_END_ACTION_NOTIFICATION,this.currentEndGameActions.endNotification),this.currentEndGameActions=null},e.prototype.updateEndGameVerification=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0);var i=!0;""!=t&&(this.endGameVerification[t]=!0),s.each(this.endGameVerification,(function(t,e){t||(i=!1)})),s.each(this.endGameEnableUIVerification,(function(t){t||(i=!1)})),this.endGameVerificationComplete=i,this.endGameVerificationComplete&&(this.lineInserted||(this.lineInserted=!0,this.addLinesToWinningsAnimationsModule()),this.sendGlobalNotification(r.Notifications.SlotLogic.ENDGAME_VERIFICATION_COMPLETE)),this.endGameVerificationComplete&&this.needToStart&&this.start()},e.prototype.addLinesToWinningsAnimationsModule=function(){var t=[];s.each(this.handlersMap,(function(e,i){s.isArray(e.lines)&&s.each(e.lines,(function(e){t.push(e)}))})),t.length>0&&(this.endGameVerificationComplete=!1,this.endGameVerification[u.SlotEndGameDecisionNames.LINES]=!1,this.sendGlobalNotification(r.Notifications.Winning.ADD_LINES_WINNINGS,t))},e}(a.EndGameDecisionProxy);e.SlotEndGameDecisionProxy=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(13),l=i(6),c=i(5),u=i(169),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.endGameProxyStarted=!1,e.endGameEnableUINotification=c.States.END_GAME_ENABLE_UI,e.handlersMap={},e.endGameOrder=[],e.endGameEnableUIOrder=[],e.endGameVerification={},e.endGameEnableUIVerification={},e.endGameEnableUINotificationOrder=0,e.endGameVerificationComplete=!1,e.endGameEnableUIToggleVerification=!1,e.endGameEnableUISent=!1,e.needToStart=!1,e.lineInserted=!1,e.endGameDecisionPaused=!1,e.requestEndGameDecisionDuringPause=!1,e}return o(e,t),e.prototype.resetEndGameActions=function(){this.resetEndGameVerification(),this.resetHandlerMap()},e.prototype.addEndGameDecision=function(t){this.handlersMap[t.name]=this.createEndGameDecisionVO(t),this.updateEndGameVerification(t.name)},e.prototype.noEndGameDecision=function(t){this.updateEndGameVerification(t)},e.prototype.addEnableUI=function(t){this.verifyAndSetEnableUI(t),this.endGameEnableUIVerification[t.name]=!0,this.updateEndGameVerification()},e.prototype.noEnableUI=function(t){this.endGameEnableUIVerification[t.name]=!0,this.updateEndGameVerification()},e.prototype.start=function(){l.Log.infoch("EndGame"," ---------- START --------------"),this.endGameVerificationComplete?this.endGameProxyStarted||(this.endGameProxyStarted=!0,this.sendGlobalNotification(a.Notifications.Global.PAUSE_AUTO_ROUND),this.checkForReroute(),this.startNextEndGameActions()):this.needToStart=!0},e.prototype.endEndGameActions=function(){this.sendGlobalNotification(a.Notifications.Global.UNLISTEN_TO_END_ACTION_NOTIFICATION,this.currentEndGameActions.endNotification),this.currentEndGameActions.isComplete=!0,this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,c.States.END_GAME_DECISION),this.currentEndGameActions.oneTimeOnly&&(delete this.endGameVerification[this.currentEndGameActions.name],delete this.handlersMap[this.currentEndGameActions.name]),this.startNextEndGameActions()},e.prototype.pauseEndGameDecisionProxy=function(t){this.endGameDecisionPaused=t,!this.endGameDecisionPaused&&this.requestEndGameDecisionDuringPause&&(this.startNextEndGameActions(),this.requestEndGameDecisionDuringPause=!1)},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this);var e=this.settings.getValue("END_GAME_DECISION");s.isArray(e)?this.endGameOrder=e:this.endGameOrder.push(e);var i=this.settings.getValue("END_GAME_ENABLE_UI");s.isArray(i)?this.endGameEnableUIOrder=i:this.endGameEnableUIOrder.push(i),this.createEndGameVerification()},e.prototype.createEndGameDecisionVO=function(t){return null},e.prototype.resetEndGameVerification=function(){},e.prototype.updateEndGameVerification=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0)},e.prototype.resetHandlerMap=function(){this.handlersMap={}},e.prototype.getEndGameActions=function(){var t=this,e=0,i=0,n=!1,o=null,a=999;return s.each(this.handlersMap,(function(s,r){a>t.getOrder(r)&&!s.isComplete&&(a=t.getOrder(r),o=t.handlersMap[r]),s.isComplete?i++:s.sendImmediatelyEndGameEnableUI&&(n=!0),e++})),i==e-1?n&&(this.endGameEnableUIToggleVerification=!0):this.endGameEnableUIToggleVerification=!1,o},e.prototype.startNextEndGameActions=function(){if(this.endGameDecisionPaused)this.requestEndGameDecisionDuringPause=!0;else{var t=this.getEndGameActions();t?(this.currentEndGameActions=t,this.sendGlobalNotification(a.Notifications.Global.LISTEN_TO_END_ACTION_NOTIFICATION,t.endNotification),t.startChangeState?this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,t.startNotification):this.sendGlobalNotification(t.startNotification,t.startNotificationParams),t.sendImmediatelyEndGameEnableUI&&this.endGameEnableUIToggleVerification&&!this.endGameEnableUISent&&(this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,this.endGameEnableUINotification),this.endGameEnableUISent=!0)):(this.endGameEnableUISent||this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,this.endGameEnableUINotification),this.sendGlobalNotification(a.Notifications.Global.RESUME_AUTO_ROUND),this.endGameProxyStarted=!1)}},e.prototype.checkForReroute=function(){var t=!1;this.handlersMap.hasOwnProperty(u.EndGameDecisionNames.REROUTE)&&(s.each(this.handlersMap,(function(e,i){if(i!=u.EndGameDecisionNames.REROUTE)return t=!0,!1})),t&&delete this.handlersMap[u.EndGameDecisionNames.REROUTE])},e.prototype.createEndGameVerification=function(){var t=this;s.each(this.endGameOrder,(function(e){e.hasOwnProperty("id")&&"string"==typeof e.id&&(t.endGameVerification[e.id]=!1)})),s.each(this.endGameEnableUIOrder,(function(e){e.hasOwnProperty("id")&&"string"==typeof e.id&&(t.endGameEnableUIVerification[e.id]=!1)}))},e.prototype.verifyAndSetEnableUI=function(t){this.getEnableUIOrder(t.name)>this.endGameEnableUINotificationOrder&&(this.endGameEnableUINotification=t.notification,this.endGameEnableUINotificationOrder=this.getEnableUIOrder(t.name))},e.prototype.getOrder=function(t){var e,i=s.find(this.endGameOrder,{id:t});return s.isNil(i)||(e=i.order),s.isNil(e)&&(e=998),e},e.prototype.getEnableUIOrder=function(t){var e=s.find(this.endGameEnableUIOrder,{id:t});return s.isNil(e)||s.isNil(e.order)?-1:e.order},e}(r.Proxy);e.EndGameDecisionProxy=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(132).EndGameActionDetailsVO);e.SlotEndGameActionDetailsVO=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this)},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(i(114).AbstractView);e.EndGameView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.endGameDecisionProxy.pauseEndGameDecisionProxy(!0)},e.prototype.initVars=function(){s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME))},e}(i(3).Controller);e.PauseEndGameDecisionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.endGameDecisionProxy.pauseEndGameDecisionProxy(!1)},e.prototype.initVars=function(){s.isNil(this.endGameDecisionProxy)&&(this.endGameDecisionProxy=this.retrieveProxy(a.Names.Proxies.END_GAME))},e}(i(3).Controller);e.ResumeEndGameDecisionCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(6),l=i(5),c=i(59),u=i(2),h=i(1),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressiveConnections={},e.updateTimer=null,e}return o(e,t),e.prototype.isJackpotFixed=function(){var t=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS");return!!t.hasOwnProperty("jackpotFix")&&(t.jackpotFix.indexOf(",")>0?this.jackpotFixed=t.jackpotFix.split(","):this.jackpotFixed=[t.jackpotFix],this.jackpotFixed&&this.jackpotFixed.length>0&&(t.ids.indexOf(",")>0?this.ids=t.ids.split(","):this.ids=[t.ids]),!0)},e.prototype.addProgressiveConnection=function(t,e){var i=this;this.progressiveConnections[t]=e,this.isJackpotFixed()?(this.updateTimer=new c.Timer(this.getUpdateInterval(),this.onUpdateJackpotFixedInterval.bind(this)),this.updateTimer.start()):(e.serverResponseCallback=function(t){i.serverResponse(t)},this.settings.getValue("ENCRYPT_COMMUNICATION")?e.loginWithHandshake():e.login())},e.prototype.onUpdateJackpotFixedInterval=function(){var t=this;s.each(this.ids,(function(e,i){var n=Number(t.jackpotFixed[i]),o=Number(e);t.sendGlobalNotification(u.Notifications.Global.UPDATE_PROGRESSIVE_DISPLAY,{progressiveValue:n,progressiveId:o})}))},e.prototype.send=function(t){var e=this;s.each(this.progressiveConnections,(function(i,n){e.progressiveConnections[n].send(t)}))},e.prototype.sendCoinValue=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(h.Names.Proxies.COINS_MONEY,h.Names.Modules.MONEY));var t=this.moneyProxy.getCurrentCoinValue().toString();1==this.settings.getValue("tokenuse")&&(t=this.moneyProxy.getCurrentCoinValueInCents().toString()),this.send(["99",t])},e.prototype.close=function(){var t=this;r.Log.infoch("CONNECTION","----TRYING TO CLOSE PROGRESSIVE CONNECTION----"),r.Log.infoch("CONNECTION","--------PROGRESSIVE CONNECTION LOGOUT---------"),this.updateTimer&&(this.updateTimer.reset(),this.updateTimer.stop()),s.each(this.progressiveConnections,(function(e,i){t.progressiveConnections[i].send(["1"]),t.progressiveConnections[i].close()}))},e.prototype.serverResponse=function(t){if(s.isNil(t))r.Log.logch("CONNECTION HTTPS","ERROR - RESPONSE FROM PROGRESSIVE SERVER IS EMPTY!");else if(s.isNil(t.error)||(r.Log.logch("CONNECTION HTTPS","ERROR - PROGRESSIVE CONNECTION ERROR!"),this.sendGlobalNotification(l.States.ERROR,{code:t.error})),!s.isNil(t.PROGRESSIVE)){this.updateTimer?(this.updateTimer.reset(),this.updateTimer.start()):(this.updateTimer=new c.Timer(this.getUpdateInterval(),this.onUpdateInterval.bind(this)),this.updateTimer.start());var e=Number(t.PROGRESSIVE),i=Number(t.progId);this.sendGlobalNotification(u.Notifications.Global.UPDATE_PROGRESSIVE_DISPLAY,{progressiveValue:e,progressiveId:i})}},e.prototype.getUpdateInterval=function(){var t=3e3;return this.settings.getValue("PROGRESSIVE_VIEW_DETAILS")&&this.settings.getValue("PROGRESSIVE_VIEW_DETAILS").update_interval&&(t=this.settings.getValue("PROGRESSIVE_VIEW_DETAILS").update_interval),t},e.prototype.onUpdateInterval=function(){var t=this;s.each(this.progressiveConnections,(function(e,i){t.progressiveConnections[i].send(["update"])}))},e}(a.Proxy);e.ProgressiveConnectionProxy=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.serverActions=[]},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this.serverActions=null},e.prototype.registerServerAction=function(t,e){this.serverActions.push({actionName:t,actionHandler:e})},e.prototype.unregisterServerAction=function(t){this.serverActions.splice(s.findIndex(this.serverActions,{actionName:t}),1)},e.prototype.sendRequest=function(t){var e;s.isObject(t)?(e=s.find(this.serverActions,{actionName:t.actionName}))&&e.actionHandler.call(null,t.actionData):(e=s.find(this.serverActions,{actionName:t}))&&e.actionHandler.call()},e}(i(13).Proxy);e.ServerActionsProxy=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(5),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){var e=this;t.prototype.onRegister.call(this),this.dataHandlersPriorities=new Array,this.addDataHandlerWithPriority(r.States.INITIAL,(function(){e.onReceivedInitial()})),this.addDataHandlerWithPriority(r.States.END_GAME,(function(){e.onReceivedEndGame()})),this.addDefaultDataHandlers()},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this.dataHandlersPriorities=null},e.prototype.addDefaultDataHandlers=function(){},e.prototype.receivedDataFromServer=function(t){var e=this;if(s.isObject(t)){var i=[];s.each(this.dataHandlersPriorities,(function(e,n){s.includes(Object.keys(t),e.dataName)&&i.push(e.actionHandler)})),s.each(i,(function(i){i.call(e,t)}))}},e.prototype.addDataHandlerWithPriority=function(t,e){this.dataHandlersPriorities.push({dataName:t,actionHandler:e})},e.prototype.insertDataHandlerWithPriority=function(t,e,i){this.dataHandlersPriorities.splice(s.findIndex(this.dataHandlersPriorities,{dataName:i})+1,0,{dataName:t,actionHandler:e})},e.prototype.onReceivedInitial=function(){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.INITIAL)},e.prototype.onReceivedEndGame=function(){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.END_GAME)},e}(a.Proxy);e.ServerResponseProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(147),a=i(50),r=i(1),l=i(2),c=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.DECORATIVE_BACKGROUND},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.initSubLayouts(a.BackgroundActions.SUBLAYOUT_BACKGROUNDS)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.Notifications.Global.INTRO_CLOSED,this.showDecorativeBackground.bind(this))},e.prototype.showDecorativeBackground=function(){this.decorativeBackgroundView.showDecorativeBackground()},e.prototype.hideDecorativeBackground=function(){this.decorativeBackgroundView.hideDecorativeBackground()},e}(s.AbstractBackgroundMediator);e.AbstractDecorativeBackgroundMediator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(147),a=i(1),r=i(50),l=i(2),c=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.SYMBOLS_BACKGROUND},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.initSubLayouts(r.BackgroundActions.SUBLAYOUT_BACKGROUNDS)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.changeSymbolsBackground()},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.Notifications.GameSetup.ALL_MODULES_INITIALIZED,this.onAllModulesInitialized.bind(this))},e.prototype.changeSymbolsBackground=function(){this.backgroundView.switchFrame(r.BackgroundActions.MODE_NORMAL,!0)},e.prototype.onAllModulesInitialized=function(){this.sendGlobalNotification(l.Notifications.Global.LOAD_OPTIONAL_GROUP,a.Names.Modules.BACKGROUND)},e}(s.AbstractBackgroundMediator);e.AbstractSymbolsBackgroundMediator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(1),r=i(50),l=i(2),c=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.MASK_PREVENT_CLICK},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.MaskActions.CLICK_ON_MASK,this.onClickOnMask,this),this.addListenerToSignal(r.MaskActions.CLICK_ON_COMPONENT_MASK,this.onClickComponentMask,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.Notifications.Global.LAYER_TRANSITION_IN_STARTED,this.showPreventClickMask.bind(this)),this.addNotification(l.Notifications.Global.LAYER_TRANSITION_OUT_COMPLETED,this.hidePreventClickMask.bind(this)),this.addNotification(l.Notifications.Global.DRAW_COMPONENT_MASK,this.onDrawComponentMask.bind(this)),this.addNotification(l.Notifications.Global.SHOW_COMPONENT_MASK,this.onShowComponentMask.bind(this)),this.addNotification(l.Notifications.Global.HIDE_COMPONENT_MASK,this.onHideComponentMask.bind(this))},e.prototype.showPreventClickMask=function(t){},e.prototype.hidePreventClickMask=function(t){},e.prototype.onClickOnMask=function(){this.sendGlobalNotification(l.Notifications.Global.CLICK_ON_PIXI_MASK)},e.prototype.onClickComponentMask=function(t){this.sendNotification(l.Notifications.Global.CLICK_ON_COMPONENT_MASK,{maskName:t})},e.prototype.onDrawComponentMask=function(t){var e=t.body;this.viewComponent.drawComponentMask(e.maskName,e.x,e.y,e.width,e.height)},e.prototype.onShowComponentMask=function(t){this.viewComponent.showComponentMask(t.body)},e.prototype.onHideComponentMask=function(t){this.viewComponent.hideComponentMask(t.body)},e}(s.AbstractMediator);e.MaskMediator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(1),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"htmlVideoView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.VIDEO_BACKGROUND},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.Notifications.Global.CHANGE_BACKGROUND,this.changeBackgroundVideo.bind(this)),this.addNotification(r.Notifications.Global.REMOVE_PRELOADER,this.onPreloaderRemoved.bind(this))},e.prototype.changeBackgroundVideo=function(t){this.htmlVideoView.switchVideo(t.body.frame)},e.prototype.onPreloaderRemoved=function(){this.htmlVideoView.onPreloaderRemoved()},e}(s.AbstractMediator);e.AbstractHtmlVideoBackgroundMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i(107).AbstractBackgroundView);e.AbstractSymbolsBackgroundView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(16),l=i(50),c=i(4),u=i(1),h=i(45),p=function(t){function e(e){var i=t.call(this,e)||this;return i.color=16777215,i.maskOffsetX=0,i.maskOffsetY=0,i.maskAlphaTo=0,i.maskAlphaFrom=0,i.masksDictionary={},i.currentLayer="",i}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.initVars(),c.Device.instance().mobile&&(l.MaskActions.MASK=l.MaskActions.MASK_MOBILE)},e.prototype.showMask=function(t){this.currentLayer=t,this.pixiBgPreventClick.interactive=!0,this.pixiBgPreventClick.alpha=this.maskAlphaTo,a.SceneManager.currentScene.addChild(this.pixiBgPreventClick),s.isNil(document)||s.isNil(document.documentElement)||this.setCssFilter(t,!0)},e.prototype.hideMask=function(t){this.pixiBgPreventClick.interactive=!1,this.pixiBgPreventClick.alpha=this.maskAlphaFrom,a.SceneManager.currentScene.removeChild(this.pixiBgPreventClick),this.setCssFilter(t)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.resizeMask(),this.resizeMaskDesktop()},e.prototype.initVars=function(){var t=this;this.pixiBgPreventClick=new PIXI.Graphics,this.pixiBgPreventClick.beginFill(this.color),this.pixiBgPreventClick.drawRect(this.maskOffsetX,this.maskOffsetY,a.SceneManager.SCENE_WIDTH,a.SceneManager.SCENE_HEIGHT),this.pixiBgPreventClick.endFill(),this.resizeMask(),this.pixiBgPreventClick.on(h.PointerStates.DOWN,(function(e){e.stopPropagation(),e.stopped=!0,t.dispatchSignal(l.MaskActions.CLICK_ON_MASK)})),this.pixiBgPreventClick.alpha=this.maskAlphaFrom,this._layerContainer=$("#layer_container > div"),this._canvasGame=$("#game"),this._backgroundWide=$("#backgroundWide"),this._videoBackground=$("#videoBackground"),this.maskDesktop=document.createElement("div"),this.maskDesktop.classList.add("maskDesktop")},e.prototype.setCssFilter=function(t,e){var i=this;void 0===e&&(e=!1),s.each(this._layerContainer,(function(n){n.children[0]&&(e?n.id!=t?i.checkForMask(n.children)||s.each(n.children,(function(t){t.classList.add(l.MaskActions.MASK)})):(s.each(n.children,(function(t){t.classList.add(l.MaskActions.NOMASK),t.classList.remove(l.MaskActions.MASK)})),c.Device.instance().mobile||i.maskDesktop.parentElement&&i.maskDesktop.parentElement.contains(i.maskDesktop)&&t==u.Names.Layers.CHEAT_TOOL||n.insertBefore(i.maskDesktop,n.firstChild)):(s.each(n.children,(function(t){t.classList.remove(l.MaskActions.MASK)})),n.children[0].classList.remove(l.MaskActions.MASK),n.children[0].classList.contains(l.MaskActions.NOMASK)&&s.each(n.children,(function(t){t.classList.remove(l.MaskActions.NOMASK)}))))})),c.Device.instance().mobile||(e?this.maskDesktop&&s.isNil(this.maskDesktop.parentElement)&&a.SceneManager.layerContainer.children[a.SceneManager.layerContainer.children.length-1].appendChild(this.maskDesktop):this.maskDesktop.parentElement&&this.maskDesktop.parentElement.contains(this.maskDesktop)&&this.maskDesktop.parentElement.removeChild(this.maskDesktop),this.resizeMaskDesktop()),e?(this._canvasGame[0].classList.add(l.MaskActions.MASK),this._backgroundWide[0].classList.add(l.MaskActions.MASK),this._videoBackground[0]&&this._videoBackground[0].classList.add(l.MaskActions.MASK)):(this._canvasGame[0].classList.remove(l.MaskActions.MASK),this._backgroundWide[0].classList.remove(l.MaskActions.MASK),this._videoBackground[0]&&this._videoBackground[0].classList.remove(l.MaskActions.MASK))},e.prototype.resizeMaskDesktop=function(){var t,e;this.maskDesktop&&this.maskDesktop.parentElement&&(a.SceneManager.ratio<1?(t=document.documentElement.clientWidth/a.SceneManager.ratio,e=document.documentElement.clientHeight/a.SceneManager.ratio,t==parseFloat(this.maskDesktop.style.width)&&e==parseFloat(this.maskDesktop.style.height)||(this.maskDesktop.style.marginLeft=-a.SceneManager.currentScene.x/a.SceneManager.ratio+"px",this.maskDesktop.style.marginTop=-a.SceneManager.currentScene.y/a.SceneManager.ratio+"px",this.maskDesktop.style.width=t+"px",this.maskDesktop.style.height=e+"px")):(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,t==parseFloat(this.maskDesktop.style.width)&&e==parseFloat(this.maskDesktop.style.height)||(this.maskDesktop.style.marginLeft=-a.SceneManager.currentScene.x+"px",this.maskDesktop.style.marginTop=-a.SceneManager.currentScene.y+"px",this.maskDesktop.style.width=t+"px",this.maskDesktop.style.height=e+"px")))},e.prototype.checkForMask=function(t){var e=!1;return s.each(t,(function(t){t.classList&&t.classList.contains(l.MaskActions.NOMASK)&&(e=!0)})),e},e.prototype.resizeMask=function(){this.pixiBgPreventClick.width=document.documentElement.clientWidth/a.SceneManager.ratio+4,this.pixiBgPreventClick.height=document.documentElement.clientHeight/a.SceneManager.ratio+4,this.pixiBgPreventClick.position.x=-(document.documentElement.clientWidth-a.SceneManager.SCENE_WIDTH*a.SceneManager.ratio)/2/a.SceneManager.ratio-2,this.pixiBgPreventClick.position.y=0},e.prototype.drawComponentMask=function(t,e,i,n,o){var s=this,a=new PIXI.Graphics;a.beginFill(this.color),a.drawRect(e,i,n,o),a.endFill(),a.interactive=!0,a.alpha=0,a.on(h.PointerStates.DOWN,(function(){s.dispatchSignal(l.MaskActions.CLICK_ON_COMPONENT_MASK,t)})),this.masksDictionary[t]=a},e.prototype.showComponentMask=function(t){this.masksDictionary[t]&&this.display.parent.addChild(this.masksDictionary[t])},e.prototype.hideComponentMask=function(t){s.includes(this.display.children,this.masksDictionary[t])&&this.display.parent.removeChild(this.masksDictionary[t])},e}(r.PixiView);e.MaskView=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(16),l=i(6),c=i(50),u=i(4),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preload=!0,e.videoDivs=[],e}return o(e,t),e.prototype.preRegister=function(){var e=this;t.prototype.preRegister.call(this),this.videoPaths={},this.videoPaths[c.BackgroundNames.VIDEO_BACKGROUND]="",this.videoPaths[c.BackgroundNames.VIDEO_FREESPIN]="",this.videoPaths[c.BackgroundNames.VIDEO_BONUS_1]="",this.videoPaths[c.BackgroundNames.VIDEO_BONUS_2]="",this.videoNames=[c.BackgroundNames.VIDEO_BACKGROUND,c.BackgroundNames.VIDEO_FREESPIN,c.BackgroundNames.VIDEO_BONUS_1,c.BackgroundNames.VIDEO_BONUS_1];var i=this.settings.getValue("GameConfig");if(i.getProperty("BACKGROUND_MODULE","videoBackgroundSettings")){var n=i.getProperty("BACKGROUND_MODULE","videoBackgroundSettings").moviePaths;s.isNil(n)||s.forOwn(n,(function(t,i){e.videoPaths[i]=t,e.videoNames.indexOf(i)<0&&e.videoNames.push(i)}));var o=i.getProperty("BACKGROUND_MODULE","videoBackgroundSettings").preload;s.isNil(o)||(this.preload=o)}},e.prototype.postRegister=function(){var e=this;t.prototype.postRegister.call(this),this.loading=[],this.loaded=[],s.isNil(this.videoBackground)&&(this.videoBackground=new PIXI.Sprite,this.display.addChild(this.videoBackground),this.videoBackground.visible=!1,this.videoBackground.anchor.set(.5),this.videoBackground.x=400),s.each(this.videoNames,(function(t,i){e.loading.push(!1),e.loaded.push(!1);var n=document.createElement("video");e.videoDivs.push(n),n.className+="videoDiv",n.id="videoDiv"+i,n.loop=!0,$(n).attr("muted","true"),$(n).attr("autoplay","true"),$(n).attr("playsInline","true"),n.style.display="none",n.style.zIndex="1";var o=e.videoPaths[t];e.addSources(n,o),e.preload&&e.load(i)}))},e.prototype.addSources=function(t,e){if(""!=e){var i=document.createElement("source");i.type="video/webm",t.appendChild(i);var n=document.createElement("source");n.type="video/ogg",t.appendChild(n);var o=document.createElement("source");o.type="video/mp4",t.appendChild(o),n.setAttribute("src",e+".ogv"),i.setAttribute("src",e+".webm"),o.setAttribute("src",e+".mp4")}},e.prototype.load=function(t){var e=this;if(!this.loading[t]){var i=this.videoDivs[t];i.load(),this.loading[t]=!0,i.onloadeddata=function(){e.loaded[t]=!0}}},e.prototype.onPreloaderRemoved=function(){this.switchVideo(0)},e.prototype.switchVideo=function(t){var e=this;if(!s.isNil(this.videoPaths[this.videoNames[t]]))return""==this.videoPaths[this.videoNames[t]]?(this.lastVideo=this.activeVideo,this.removeLastVideo(),this.activeVideo=void 0,void(this.videoBackground.visible=!1)):void(this.activeVideo!=this.videoDivs[t]&&(this.lastVideo=this.activeVideo,this.activeVideo=this.videoDivs[t],this.loaded[t]?this.playVideo():(this.loading[t]||this.load(t),this.activeVideo.onloadeddata=function(){e.loaded[t]=!0,e.activeVideo===e.videoDivs[t]&&e.playVideo()})));l.Log.warningch("Video: ","Attempted to play a video without a defined path")},e.prototype.playVideo=function(){this.activeVideo.style.display="block",this.activeVideo.play();var t=PIXI.Texture.fromVideo(this.activeVideo);this.videoBackground.texture=t,this.videoBackground.visible=!0,this.removeLastVideo(),this.deviceScreenResized()},e.prototype.removeLastVideo=function(){s.isNil(this.lastVideo)||(isNaN(this.lastVideo.duration)||(this.lastVideo.currentTime=0),this.lastVideo.pause(),this.lastVideo.style.display="none")},e.prototype.deviceScreenResized=function(){if(t.prototype.deviceScreenResized.call(this),this.activeVideo){this.videoBackground.y=a.SceneManager.SCENE_HEIGHT/2,u.Device.instance().mobile&&u.Device.isPortrait()&&(this.videoBackground.y=a.SceneManager.getScreenHeight/2),this.videoBackground.scale.set(1);var e=Math.max(a.SceneManager.getScreenWidth/this.videoBackground.texture.width,a.SceneManager.getScreenHeight/this.videoBackground.texture.height);this.videoBackground.scale.set(e)}},e}(r.PixiView);e.AbstractHtmlVideoBackgroundViewPixi=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.switchFrame(0,!0),this.deviceScreenResized()},e.prototype.showDecorativeBackground=function(){this.display.visible=!0},e.prototype.hideDecorativeBackground=function(){this.display.visible=!1},e}(i(107).AbstractBackgroundView);e.AbstractDecorativeBackgroundViewPixi=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(148),a=i(8),r=i(4),l=i(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.switchFrame=function(e,i){void 0===i&&(i=!0),t.prototype.switchFrame.call(this,e,i),TweenMax.delayedCall(this.BACKGROUND_ANIMATION_DURATION,this.deviceScreenResized.bind(this))},e.prototype.deviceScreenResized=function(){var e=this;if(t.prototype.deviceScreenResized.call(this),this.currentIndex>=0)if(r.Device.isLandscape()){if(this.display.children[this.currentIndex].x=0,this.display.children[this.currentIndex].scale.x=this.display.children[this.currentIndex].scale.y=1,r.Device.isIPhoneX()){l.each(this.display.children,(function(t){a.SceneManager.getHMargin<0?e.display.children[e.currentIndex].width=a.SceneManager.getScreenWidth+90:e.display.children[e.currentIndex].width=a.SceneManager.SCENE_WIDTH-a.SceneManager.getScreenXOrigin+90}))}}else this.display.children[this.currentIndex].height=a.SceneManager.getScreenHeight,this.display.children[this.currentIndex].scale.x=this.display.children[this.currentIndex].scale.y,this.display.children[this.currentIndex].x=(a.SceneManager.getScreenWidth-this.display.children[this.currentIndex].width)/2-a.SceneManager.getHMargin},e}(s.BackgroundViewPixi);e.BackgroundMobileViewPixi=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(19),r=i(50),l=i(1),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return l.Names.Layers.BACKGROUND},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.initSubLayouts(r.BackgroundActions.SUBLAYOUT_BACKGROUNDS)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.changeSymbolsBackground()},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.Global.CHANGE_BACKGROUND,this.changeBackground.bind(this)),this.addNotification(c.Notifications.Global.INTRO_CLOSED,this.onIntroClosed.bind(this))},e.prototype.onIntroClosed=function(t){this.backgroundView.onIntroClosed(),this.backgroundView.deviceScreenResized()},e.prototype.changeBackground=function(t){var e=!1;s.has(t.body,"immediate")&&(e=t.body.immediate),this.backgroundView.switchFrame(t.body.frame,e)},e.prototype.changeSymbolsBackground=function(){this.backgroundView.switchFrame(r.BackgroundActions.MODE_NORMAL,!0)},e}(a.AbstractMediator);e.AbstractHTMLBackgroundMediator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.registerValidationRequest(a.ValidationTypes.REALITY_CHECK_VALIDATION,a.ValidationProperties.REALITY_CHECK_TIMER),this.sendNotification(l.Notifications.Global.START_REALITY_CHECK_TIMER),this.validationProxy.registerValidationRequest(a.ValidationTypes.TURBO_MODE_ANNOUNCE_VALIDATION,a.ValidationProperties.TURBO_MODE_ANNOUNCE_ENABLED),this.validationProxy.registerValidationRequest(a.ValidationTypes.TURBO_MODE_ANNOUNCE_VALIDATION,a.ValidationProperties.TURBO_MODE_INACTIVE),this.validationProxy.registerValidationRequest(a.ValidationTypes.TURBO_MODE_NEAR_MISS_VALIDATION,a.ValidationProperties.TURBO_MODE_NEAR_MISS_ENABLED),this.validationProxy.registerValidationRequest(a.ValidationTypes.TURBO_MODE_NEAR_MISS_VALIDATION,a.ValidationProperties.TURBO_MODE_INACTIVE),this.turboModeProxy.initTurboModeSettings()},e.prototype.initVars=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER)),s.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveProxy(r.Names.Proxies.TURBO_MODE))},e}(i(3).Controller);e.CertificationModuleLoadedCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),this.validationProxy.validateAtLeastOne(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.sendGlobalNotification(l.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(l.Notifications.Global.COMPLETE_AUTO_PLAY));var i=this.connectionProxy.getServerData(u.States.INITIAL);this.extractEndGame(i),this.setInitialBalance(i),this.sendGlobalNotification(l.Notifications.Global.SET_INITIAL_SYMBOLS),this.sendGlobalNotification(l.Notifications.Global.HIDE_DIALOG_WINDOW),this.sendGlobalNotification(l.Notifications.Wheels.STOP_WHEEL_ANIMATION,{skipUIAction:!0})},e.prototype.extractEndGame=function(t){var e=t.lastGame;s.isNil(e)||this.connectionProxy.recordServerData(u.States.END_GAME,e.endGame)},e.prototype.setInitialBalance=function(t){var e=parseFloat(t.money);this.moneyProxy.updateBalance(e,!1,!1,!0,!0)},e}(c.Controller);e.GmapiResponseContinueCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(39),u=i(5),h=i(92),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars();var i=this.connectionProxy.getServerData(h.ServerResponseNames.RESPONSE);s.has(i,"item")?(s.isNil(this.connectionProxy.getServerData(u.States.INITIAL))||(this.sendGlobalNotification(r.Notifications.GameSetup.INJECT_FSM,[new c.StateVO(u.States.END_GAME_DECISION,u.States.END_GAME_DECISION,null,null,[u.States.GMAPI_RESPONSE])]),this.sendGlobalNotification(r.Notifications.Global.GMAPI_RESPONSE_CONTINUE)),this.gmapiCustomMessagesProxy.storeMessages(i.item),this.sendGlobalNotification(r.Notifications.Global.GMAPI_SHOW_POPUP)):s.has(i,"xml")&&(this.sendGlobalNotification(r.Notifications.GameSetup.INJECT_FSM,[new c.StateVO(u.States.END_GAME_DECISION,u.States.END_GAME_DECISION,null,null,[u.States.GMAPI_RESPONSE])]),this.sendGlobalNotification(r.Notifications.GameSetup.INJECT_FSM,[new c.StateVO(u.States.END_GAME_ENABLE_UI,u.States.END_GAME_ENABLE_UI,null,null,[u.States.GMAPI_RESPONSE])]),this.sendGlobalNotification(r.Notifications.Global.GMAPI_RESPONSE_CONTINUE),this.sendGlobalNotification(r.Notifications.Global.SHOW_REALITY_CHECK_SERVER))},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.gmapiCustomMessagesProxy)&&(this.gmapiCustomMessagesProxy=this.retrieveGlobalProxy(a.Names.Proxies.GMAPI_CUSTOM_MESSAGES,a.Names.Modules.CERTIFICATION))},e}(l.Controller);e.GmapiResposeCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.certificationProxy.setTimer(t.body)},e.prototype.initVars=function(){s.isNil(this.certificationProxy)&&(this.certificationProxy=this.retrieveProxy(a.Names.Proxies.CERTIFICATION))},e}(i(3).Controller);e.RealityCheckTimerChangedCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(235),r=i(10),l=i(1),c=i(2),u=i(91),h=i(39),p=i(5),d=i(92),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PAUSE_COMMAND="777",e}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.registerServerActions(),this.addServerResponses();var i=[];this.injectStatesIntoFSM(i),this.sendGlobalNotification(c.Notifications.GameSetup.INJECT_FSM,i)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.serverActionsProxy)&&(this.serverActionsProxy=this.retrieveGlobalProxy(l.Names.Proxies.SERVER_ACTIONS,l.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER))},e.prototype.injectStatesIntoFSM=function(t){t.push(new h.StateVO(p.States.GMAPI_RESPONSE,p.States.GMAPI_RESPONSE,[p.States.END_GAME_DECISION])),t.push(new h.StateVO(p.States.END_GAME_DECISION,p.States.END_GAME_DECISION,[p.States.GMAPI_RESPONSE])),t.push(new h.StateVO(p.States.END_GAME,p.States.END_GAME,[p.States.GMAPI_RESPONSE])),t.push(new h.StateVO(p.States.BEGIN_GAME,p.States.BEGIN_GAME,[p.States.GMAPI_RESPONSE,p.States.REALITY_CHECK])),t.push(new h.StateVO(p.States.REALITY_CHECK,p.States.REALITY_CHECK,[p.States.END_GAME_ENABLE_UI,p.States.AUTO_PLAY_END_GAME_ENABLE_UI,p.States.BEGIN_GAME,p.States.AUTO_PLAY_BEGIN_GAME])),t.push(new h.StateVO(p.States.END_GAME_ENABLE_UI,p.States.END_GAME_ENABLE_UI,[p.States.REALITY_CHECK]))},e.prototype.registerServerActions=function(){this.serverActionsProxy.registerServerAction(u.ServerActions.SEND_BALANCE_UPDATE,this.onSendBalanceUpdate.bind(this))},e.prototype.addServerResponses=function(){this.serverResponseProxy.addDataHandlerWithPriority(d.ServerResponseNames.UPDATE_MONEY,this.onReceivedUpdateMoney.bind(this)),this.serverResponseProxy.addDataHandlerWithPriority(d.ServerResponseNames.RESPONSE,this.onResponseReceived.bind(this))},e.prototype.onSendBalanceUpdate=function(){this.connectionProxy.send([this.PAUSE_COMMAND,this.PAUSE_COMMAND])},e.prototype.onReceivedUpdateMoney=function(t){this.sendNotification(c.Notifications.Certification.BALANCE_UPDATE_CHECK)},e.prototype.onResponseReceived=function(t){var e=this.connectionProxy.getServerData(d.ServerResponseNames.RESPONSE);s.has(e,"item")?(this.sendNotification(c.Notifications.Global.PREPARE_GMAPI_RESPONSE),this.validationProxy.validateNone(r.ValidationTypes.BONUS_IN_PROGRESS)&&this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,p.States.GMAPI_RESPONSE)):this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,p.States.GMAPI_RESPONSE)},e}(a.InitializeCertificationModuleCommand);e.SlotInitializeCertificationModuleCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),s.isNil(t.body)||s.isNil(t.body.start))if(s.isNil(t.body&&!s.isNil(t.body.timerDelay))){var e=this.settings.getValue("rci");if(!s.isNil(e)){var i=parseInt(e);i>0&&(this.certificationProxy.setTimer(i),this.certificationProxy.startTimer())}}else{var n=t.body.timerDelay;this.certificationProxy.setTimer(n),this.certificationProxy.startTimer()}else this.certificationProxy.startTimer()},e.prototype.initVars=function(){s.isNil(this.certificationProxy)&&(this.certificationProxy=this.retrieveProxy(a.Names.Proxies.CERTIFICATION))},e}(i(3).Controller);e.StartRealityCheckTimerCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(92),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=this.connectionProxy.getServerData(l.ServerResponseNames.RESPONSE);s.has(e,"item")&&this.gmapiCustomMessagesProxy.storeMessages(e.item)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.gmapiCustomMessagesProxy)&&(this.gmapiCustomMessagesProxy=this.retrieveGlobalProxy(a.Names.Proxies.GMAPI_CUSTOM_MESSAGES,a.Names.Modules.CERTIFICATION))},e}(r.Controller);e.BonusStartedSaveCustomMessageCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=i(92),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION),n=i.getServerData(u.ServerResponseNames.RESPONSE);if(!s.isNil(n)&&!s.isNil(n.item)&&s.isNil(i.getServerData(c.States.INITIAL))){var o={name:"customMessageEndGameAction"};o.startNotification=c.States.GMAPI_RESPONSE,o.endNotification="customMessageCompleted",o.sendImediatlyEndGameEnableUI=!1,o.startChangeState=!0,o.oneTimeOnly=!0,this.sendGlobalNotification(r.Notifications.SlotLogic.ADD_ENDGAME_ACTION,o)}},e}(l.Controller);e.CertificationEndGamePrepareCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(78),l=i(7),c=i(1),u=i(2),h=i(3),p=i(39),d=i(5),_=i(11),f=i(671),y=i(30),m=i(58),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars(),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,[new p.StateVO(d.States.END_GAME_ENABLE_UI,d.States.END_GAME_ENABLE_UI,null,null,[d.States.GMAPI_RESPONSE])]),this.sendGlobalNotification(u.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(u.Notifications.Global.COMPLETE_AUTO_PLAY)),this.validationProxy.validateAll(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.sendGlobalNotification(u.Notifications.Global.PAUSE_AUTO_ROUND),this.validationProxy.validateAll(a.ValidationTypes.BONUS_IN_PROGRESS)&&this.sendGlobalNotification(u.Notifications.Bonus.PAUSE_BONUS);var i=new r.DialogWindowVO(m.DialogTypes.GAP);i.buttonLabels=[this.translations.getValue("dialogWindowOkLabel")];var n=this.gmapiCustomMessagesProxy.shiftMessage(),o=n.message,l=n.action;switch(l){case f.GMAPIConstants.ActionTypes.VOID:i.buttonCallbacks=[this.onOkVoid.bind(this)];break;case f.GMAPIConstants.ActionTypes.CONTINUE:i.buttonCallbacks=[this.onOkContinue.bind(this)]}i.message=o;var c=this.settings.getValue("GAP_ERROR_HANDLER");s.isNil(c)||s.each(c,(function(t){var n=new RegExp(t.replace("{1}","(.+)"));if(n.test(o)){var s=n.exec(o)[1];return i.message=e.translations.getValue("gapTranslation"+s),!1}})),this.sendGlobalNotification(u.Notifications.Global.SHOW_DIALOG_WINDOW,i),l===f.GMAPIConstants.ActionTypes.VOID&&(this.sendGlobalNotification(u.Notifications.Wheels.STOP_WHEEL_ANIMATION,{skipUIAction:!0}),this.settings.getValue("hasAutomationTest")||this.mvc.executionPaused(!0))},e.prototype.initVars=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.gmapiCustomMessagesProxy)&&(this.gmapiCustomMessagesProxy=this.retrieveGlobalProxy(c.Names.Proxies.GMAPI_CUSTOM_MESSAGES,c.Names.Modules.CERTIFICATION))},e.prototype.onOkContinue=function(t,e,i){if(i.target.onClickHandler=void 0,this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:_.SlotSoundNames.GENERIC_BUTTON_CLICK}),this.sendGlobalNotification(u.Notifications.Global.HIDE_DIALOG_WINDOW),this.gmapiCustomMessagesProxy.hasMessages())this.sendGlobalNotification(u.Notifications.Global.GMAPI_SHOW_POPUP);else{this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,[new p.StateVO(d.States.END_GAME_DECISION,d.States.END_GAME_DECISION,[d.States.GMAPI_RESPONSE])]);var n=this.connectionProxy.getServerData(d.States.INITIAL);s.isNil(n)?this.sendGlobalNotification("customMessageCompleted"):(this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,l.UpdateUIAction.WHEELS_COMPLETE),this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,l.UpdateUIAction.INITIAL),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,d.States.BEGIN_GAME))}},e.prototype.onOkVoid=function(t,e,i){i.target.onClickHandler=void 0,this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:_.SlotSoundNames.GENERIC_BUTTON_CLICK}),y.WindowUtil.onLobbyHomeButton()},e}(h.Controller);e.GmapiShowCustomMessageCommand=N},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.ActionTypes={VOID:"void",CONTINUE:"continue"},t}();e.GMAPIConstants=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=i(92),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=this.connectionProxy.getServerData(u.ServerResponseNames.UPDATE_MONEY);if(this.balanceUpdateCheckProxy.canPerformBalanceUpdateOnGame&&e&&e.hasOwnProperty("money")){var i=parseFloat(e.money),n=this.moneyProxy.getBalance(),o=this.moneyProxy.getClientValue(i,!1);this.moneyProxy.token&&(o=this.moneyProxy.convertFromTokens(o)),n!=o&&(this.sendGlobalNotification(r.Notifications.Global.CHANGE_STATE,c.States.BEGIN_GAME),this.moneyProxy.updateBalance(i,!1,!1,!0,!0),this.sendGlobalNotification(r.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues))}},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),s.isNil(this.balanceUpdateCheckProxy)&&(this.balanceUpdateCheckProxy=this.retrieveGlobalProxy(a.Names.Proxies.BALANCE_UPDATE_CHECK,a.Names.Modules.SLOT_LOGIC))},e}(l.Controller);e.BalanceCheckUpdateMoneyCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body,i=!1,n=this.balanceUpdateCheckProxy.getIdleStates();s.each(n,(function(t){if(null!=t&&e==t)return i=!0,!1})),i?this.balanceUpdateCheckProxy.startCheckBalanceUpdate():this.balanceUpdateCheckProxy.stopCheckBalanceUpdate()},e.prototype.initVars=function(){s.isNil(this.balanceUpdateCheckProxy)&&(this.balanceUpdateCheckProxy=this.retrieveGlobalProxy(a.Names.Proxies.BALANCE_UPDATE_CHECK,a.Names.Modules.SLOT_LOGIC))},e}(i(3).Controller);e.StateChangedCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(675).CertificationProxy);e.SlotCertificationProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(59),l=i(10),c=i(1),u=i(2),h=i(14),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy(),this.isFirstTime=!0},e.prototype.initProxy=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),this.rciChoices=this.settings.getValue("REALITY_CHECK_VALUES")},e.prototype.setTimer=function(t){s.isNil(this.rciTimer)||(this.rciTimer.stop(),this.rciTimer=void 0,this.rciTimerDelay=void 0),this.rciTimer=new r.Timer(t*e.MIN_MULTIPLIER,this.onTimerComplete.bind(this),1),this.rciTimerDelay=t},e.prototype.onTimerComplete=function(){this.validationProxy.toggleValidation(l.ValidationProperties.REALITY_CHECK_TIMER,!0)},e.prototype.startTimer=function(){var t=this,e=new h.ATOnEventVO(h.ATEventNames.RCI_START,new h.ATRciStart(Date.now()+2e3));this.isFirstTime?(this.isFirstTime=!1,setTimeout((function(){e.eventDetails.startTime=Date.now(),t.sendGlobalNotification(u.Notifications.Global.CALL_BACK_ON_EVENT,e)}),3e3)):this.sendGlobalNotification(u.Notifications.Global.CALL_BACK_ON_EVENT,e),this.rciTimer.start(),this.validationProxy.toggleValidation(l.ValidationProperties.REALITY_CHECK_TIMER,!1)},e.MIN_MULTIPLIER=6e4,e}(a.Proxy);e.CertificationProxy=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(58),l=i(78),c=i(1),u=i(2),h=i(3),p=i(4),d=i(39),_=i(5),f=i(20),y=i(30),m=i(11),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.autoplayProxy.pause=!0);var e,i=new l.DialogWindowVO(r.DialogTypes.REALITY_CHECK_CLIENT);p.Device.instance().mobile?i.bgOpacity=.9:i.bgOpacity=.8,i.data={},i.message=f.StringUtil.sprintf(this.translations.getValue("popupRealityCheckMessage"),this.certificationProxy.rciTimerDelay),-1==this.certificationProxy.rciChoices.indexOf(this.certificationProxy.rciTimerDelay)?(this.certificationProxy.rciChoices.unshift(this.certificationProxy.rciTimerDelay),this.certificationProxy.rciChoices.sort((function(t,e){return t>=e?1:0})),e=this.certificationProxy.rciChoices.indexOf(this.certificationProxy.rciTimerDelay)):s.isNil(e)&&(e=this.certificationProxy.rciChoices.indexOf(this.certificationProxy.rciTimerDelay)),i.data.choices=this.certificationProxy.rciChoices,i.data.defaultChoice=e,i.buttonLabels=[this.translations.getValue("popupRealityCheckContinueButtonLabel"),this.translations.getValue("popupRealityCheckHistoryButtonLabel"),this.translations.getValue("popupRealityCheckCloseButtonLabel")],i.buttonCallbacks=[this.onRCIContinue.bind(this),this.onRCIHistory.bind(this),this.onRCIClose.bind(this)],i.stepperCallback=this.stepperCallback.bind(this),this.sendGlobalNotification(u.Notifications.Global.SHOW_DIALOG_WINDOW,i)},e.prototype.initVars=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.autoplayProxy)&&(this.autoplayProxy=this.retrieveGlobalProxy(c.Names.Proxies.AUTO_PLAY,c.Names.Modules.AUTO_PLAY)),s.isNil(this.certificationProxy)&&(this.certificationProxy=this.retrieveProxy(c.Names.Proxies.CERTIFICATION))},e.prototype.stepperCallback=function(){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:m.SlotSoundNames.GENERIC_BUTTON_CLICK})},e.prototype.onRCIContinue=function(t,e,i){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:m.SlotSoundNames.GENERIC_BUTTON_CLICK}),i.target.onClickHandler=void 0,this.sendNotification(u.Notifications.Global.START_REALITY_CHECK_TIMER,{start:!0}),this.sendGlobalNotification(u.Notifications.Global.HIDE_DIALOG_WINDOW),this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,[new d.StateVO(_.States.END_GAME_ENABLE_UI,_.States.END_GAME_ENABLE_UI,[_.States.REALITY_CHECK])]),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.sendGlobalNotification(u.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(u.Notifications.Global.UPDATE_INFOBOX,{message:""})),this.sendGlobalNotification(u.Notifications.Global.SKIP),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,_.States.END_GAME_ENABLE_UI),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,_.States.BEGIN_GAME),this.sendGlobalNotification(u.Notifications.Global.UPDATE_INFOBOX,{message:""})},e.prototype.onRCIHistory=function(t,e,i){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:m.SlotSoundNames.GENERIC_BUTTON_CLICK}),y.WindowUtil.onHistoryButton()},e.prototype.onRCIClose=function(t,e,i){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:m.SlotSoundNames.GENERIC_BUTTON_CLICK}),y.WindowUtil.onCloseButton()},e}(h.Controller);e.ShowRealityCheckClientCommand=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(58),l=i(78),c=i(1),u=i(2),h=i(3),p=i(39),d=i(5),_=i(30),f=i(11),y=i(92),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars(),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.autoplayProxy.pause=!0);var i=this.connectionProxy.getServerData(y.ServerResponseNames.RESPONSE).xml,n=JSON.parse(window.atob(i)),o=new l.DialogWindowVO(r.DialogTypes.REALITY_CHECK_SERVER);o.bgOpacity=.8,o.data={},o.message=n.message,n.choices&&s.isArray(n.choices)&&n.choices.length>0&&null!=n.choices[0]&&(o.data.choices=n.choices,o.data.defaultChoice=n.defaultChoice,this.selectedChoiceValue=n.defaultChoice),o.data.actionId=n.actionId;var c=n.buttons;s.each(c,(function(t){o.buttonLabels.push(t.text),o.buttonCallbacks.push(e.callback.bind(e,t.action)),"history"===t.action&&s.has(t,"historyUrl")?e.historyUrl=t.historyUrl:e.historyUrl=e.settings.getValue("historyUrl"),"void"===t.action&&s.has(t,"url")&&(e.customQuitUrl=t.url)}));var h=this.settings.getValue("lobbyUrl");(s.isNil(h)||""==h||s.isEmpty(this.customQuitUrl))&&s.remove(n.buttons,{action:"void"}),o.stepperCallback=this.stepperCallback.bind(this),this.sendGlobalNotification(u.Notifications.Global.SHOW_DIALOG_WINDOW,o)},e.prototype.initVars=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.autoplayProxy)&&(this.autoplayProxy=this.retrieveGlobalProxy(c.Names.Proxies.AUTO_PLAY,c.Names.Modules.AUTO_PLAY)),s.isNil(this.certificationProxy)&&(this.certificationProxy=this.retrieveProxy(c.Names.Proxies.CERTIFICATION)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION))},e.prototype.callback=function(t,e,i){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:f.SlotSoundNames.GENERIC_BUTTON_CLICK});var n={actionId:i,feature:"dialog",action:t};s.isNil(e)||(n.choiceIndex=this.selectedChoiceValue),"continue"==t?(this.connectionProxy.send(["800",window.btoa(JSON.stringify(n))]),this.connectionProxy.send(["777","777"]),this.sendGlobalNotification(u.Notifications.Global.GMAPI_RESPONSE_CONTINUE),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&this.sendGlobalNotification(u.Notifications.Global.STOP_AUTO_PLAY),this.sendGlobalNotification(u.Notifications.Global.UPDATE_INFOBOX,{message:""}),this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,[new p.StateVO(d.States.END_GAME_ENABLE_UI,d.States.END_GAME_ENABLE_UI,[d.States.GMAPI_RESPONSE])]),this.sendGlobalNotification(u.Notifications.Global.SKIP),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,d.States.END_GAME_ENABLE_UI),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,d.States.BEGIN_GAME)):"void"==t?(this.connectionProxy.send(["800",window.btoa(JSON.stringify(n))],!1),this.connectionProxy.send(["777","777"]),s.isEmpty(this.customQuitUrl)||(_.WindowUtil.CUSTOM_LOBBY_URL=this.customQuitUrl),_.WindowUtil.onLobbyHomeButton()):"history"==t&&_.WindowUtil.onHistoryButton(this.historyUrl)},e.prototype.stepperCallback=function(t){this.sendGlobalNotification(u.Notifications.Global.PLAY_SOUND,{soundName:f.SlotSoundNames.GENERIC_BUTTON_CLICK}),this.selectedChoiceValue=t},e}(h.Controller);e.ShowRealityCheckServerCommand=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(679),r=i(10),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="tweenWheelDecorator",e}return o(e,t),e.prototype.initTurboModeSettings=function(){var t=this;this.turboModeSettings=this.settings.getValue("TURBO_MODE");var i=parseInt(this.settings.getValue("turboMode"));s.isNaN(i)||s.isNil(i)||(this.turboModeSettings.enabled=i>0);var n=this.settings.getValue("WHEEL_DECORATORS");if(n&&"tweenWheelDecorator"==n.id&&e.isWheelDecoratorSettings(n))this.tweenWheelDecoratorSettings=n;else{var o=this.gameConfigVO.getProperties("WHEEL_DECORATORS");s.each(o,(function(e,i){if(i==t.id)return t.tweenWheelDecoratorSettings=e,!1}))}this.validationProxy.toggleValidation(r.ValidationProperties.TURBO_MODE_ANNOUNCE_ENABLED,this.turboModeSettings.announceEnabled),this.validationProxy.toggleValidation(r.ValidationProperties.TURBO_MODE_NEAR_MISS_ENABLED,this.turboModeSettings.nearMissEnabled),this.validationProxy.toggleValidation(r.ValidationProperties.TURBO_MODE_INACTIVE,!(this.turboModeSettings.enabled&&this.turboModeSettings.activeByDefault)),this.isTurboModeActive=this.turboModeSettings.enabled&&this.turboModeSettings.activeByDefault,this.changeTurboModeState(this.isTurboModeActive)},e.prototype.changeTurboModeState=function(e){t.prototype.changeTurboModeState.call(this,e),this.isTurboModeActive?(this.wheelStartDelay=this.turboModeSettings.wheelStartDelay,this.wheelStopDelay=this.turboModeSettings.wheelStopDelay,this.wheelMinimumDelay=this.turboModeSettings.wheelMinimumDelay):(this.wheelStartDelay=this.tweenWheelDecoratorSettings.startDelay,this.wheelStopDelay=this.tweenWheelDecoratorSettings.stopDelay,this.wheelMinimumDelay=this.tweenWheelDecoratorSettings.minimumDelay)},e.prototype.getTurboWheelDecoratorSettings=function(){return{isTurboModeActive:this.isTurboModeActive,wheelStartDelay:this.wheelStartDelay,wheelStopDelay:this.wheelStopDelay,wheelMinimumDelay:this.wheelMinimumDelay}},e.isWheelDecoratorSettings=function(t){return!s.isNil(t.startDelay)&&!s.isNil(t.stopDelay)&&!s.isNil(t.minimumDelay)},e}(a.TurboModeProxy);e.SlotTurboModeProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(1),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(r.Names.Proxies.VALIDATION,r.Names.Modules.LOADER)),s.isNil(this.gameConfigVO)&&(this.gameConfigVO=this.settings.getValue("GameConfig"))},e.prototype.initTurboModeSettings=function(){},e.prototype.changeTurboModeState=function(t){this.isTurboModeActive=t,this.sendGlobalNotification(l.Notifications.Global.TURBO_MODE_STATE_CHANGED,{isTurboActive:t})},e.prototype.getTurboModeActive=function(){return this.isTurboModeActive},e}(a.Proxy);e.TurboModeProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(121),l=i(2),c=i(1),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){return this.initVars(),this.introProxy.hasVideoIntro&&!this.introProxy.videoPlayed?(this.introProxy.videoPlayed=!0,void this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.INTRO_VIDEO)):this.introProxy.hasIntroScreen&&!this.introProxy.introScreenDisplayed?(this.introProxy.introScreenDisplayed=!0,void this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.INTRO_FEATURES)):(this.introProxy.introAnimationPlayed||this.introProxy.introScreenDisplayed||(this.introProxy.introScreenDisplayed=!0,this.sendNotification(r.IntroNotifications.CLOSE_INTRO)),this.introProxy.hasIntroAnimation&&!this.introProxy.introAnimationPlayed?(this.introProxy.introAnimationPlayed=!0,void this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.INTRO_ANIMATIONS)):(this.sendGlobalNotification(l.Notifications.Global.INTRO_CLOSED),void this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.REROUTE_GAME)))},e.prototype.initVars=function(){s.isNil(this.introProxy)&&(this.introProxy=this.retrieveProxy(c.Names.Proxies.INTRO))},e}(a.Controller);e.IntroDecisionCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(121),l=i(2),c=i(1),u=i(14),h=i(26),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),this.introProxy.neverShowAgain)this.sendNotification(r.IntroNotifications.CLOSE_INTRO);else{this.sendNotification(r.IntroNotifications.SHOW_INTRO);var e=new u.ATOnEventVO(h.SlotATEventNames.INTRO_OPENED,new h.SlotATIntroOpened,3e3);this.sendGlobalNotification(l.Notifications.Global.CALL_BACK_ON_EVENT,e)}},e.prototype.initVars=function(){s.isNil(this.introProxy)&&(this.introProxy=this.retrieveProxy(c.Names.Proxies.INTRO))},e}(a.Controller);e.IntroFeaturesCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(39),l=i(5),c=i(2),u=i(1),h=i(30),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.initSettings(),this.initStates()},e.prototype.initVars=function(){s.isNil(this.introProxy)&&(this.introProxy=this.retrieveProxy(u.Names.Proxies.INTRO))},e.prototype.initSettings=function(){this.introProxy.neverShowAgain=h.WindowUtil.getIntroFromCookie();var t=this.settings.getValue("GameConfig").getProperty("INTRO_MODULE","introSettings");s.isNil(t)||(s.has(t,"hasIntroScreen")&&(this.introProxy.hasIntroScreen=t.hasIntroScreen),s.has(t,"hasIntroAnimation")&&(this.introProxy.hasIntroAnimation=t.hasIntroAnimation),s.has(t,"hasVideoIntro")&&(this.introProxy.hasVideoIntro=t.hasVideoIntro))},e.prototype.initStates=function(){var t=[];this.injectIntroStatesIntoFSM(t),this.introProxy.hasVideoIntro&&this.injectIntroVideoStatesIntoFSM(t),this.introProxy.hasIntroScreen&&this.injectIntroFeatureStatesIntoFSM(t),this.introProxy.hasIntroAnimation&&this.injectIntroAnimationsStatesIntoFSM(t),t.length>0&&this.sendGlobalNotification(c.Notifications.GameSetup.INJECT_FSM,t)},e.prototype.injectIntroStatesIntoFSM=function(t){t.push(new r.StateVO(l.States.INTRO_DECISION,l.States.INTRO_DECISION,[l.States.INITIAL])),t.push(new r.StateVO(l.States.REROUTE_GAME,l.States.REROUTE_GAME,[l.States.INTRO_DECISION]))},e.prototype.injectIntroFeatureStatesIntoFSM=function(t){t.push(new r.StateVO(l.States.INTRO_FEATURES,l.States.INTRO_FEATURES,[l.States.INTRO_DECISION])),t.push(new r.StateVO(l.States.INTRO_DECISION,l.States.INTRO_DECISION,[l.States.INTRO_FEATURES]))},e.prototype.injectIntroVideoStatesIntoFSM=function(t){t.push(new r.StateVO(l.States.INTRO_VIDEO,l.States.INTRO_VIDEO,[l.States.INTRO_DECISION])),t.push(new r.StateVO(l.States.INTRO_DECISION,l.States.INTRO_DECISION,[l.States.INTRO_VIDEO]))},e.prototype.injectIntroAnimationsStatesIntoFSM=function(t){t.push(new r.StateVO(l.States.INTRO_ANIMATIONS,l.States.INTRO_ANIMATIONS,[l.States.INTRO_DECISION])),t.push(new r.StateVO(l.States.INTRO_DECISION,l.States.INTRO_DECISION,[l.States.INTRO_ANIMATIONS]))},e}(a.Controller);e.IntroFeaturesInitializeModuleCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(5),l=i(2),c=i(1),u=i(4),h=i(30),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundLayerIndex=1,e}return o(e,t),e.prototype.execute=function(t){var e=this;this.initVars(),h.WindowUtil.getIntroFromCookie()?(this.sendGlobalNotification(l.Notifications.Global.SET_CANVAS_VISIBILITY,{visible:!0}),u.Device.ACTIVATE_AUTO_FULLSCREEN=!0,u.Device.goFullScreen()):this.hidePixiLayers().then((function(){e.setCanvasVisibility(!0).then((function(){u.Device.ACTIVATE_AUTO_FULLSCREEN=!0,u.Device.goFullScreen()}))})),this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.States.INTRO_DECISION)},e.prototype.hidePixiLayers=function(){var t=this;return this.backgroundLayerIndex=this.layersProxy.getPIXILayerIndex(c.Names.Layers.BACKGROUND),this.layersProxy.changePIXILayerDepth(c.Names.Layers.BACKGROUND,c.Names.Layers.INTRO_FEATURES,!1),new Promise((function(e,i){requestAnimationFrame((function(){var i=[c.Names.Layers.INTRO_FEATURES,c.Names.Layers.BACKGROUND];t.slotGameConfig.introTransitionSettings.hasFadeIn&&i.push(c.Names.Layers.PRELOADER),t.sendGlobalNotification(l.Notifications.Global.HIDE_PIXI_LAYERS,{visible:!1,exceptions:i}),e()}))}))},e.prototype.setCanvasVisibility=function(t){var e=this;return new Promise((function(i,n){requestAnimationFrame((function(){e.sendGlobalNotification(l.Notifications.Global.SET_CANVAS_VISIBILITY,{visible:t}),e.layersProxy.changePIXILayerDepth(c.Names.Layers.BACKGROUND,e.layersProxy.getPIXILayerNameAtIndex(e.backgroundLayerIndex),!1),i()}))}))},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(c.Names.Proxies.LAYERS,c.Names.Modules.GAME_SETUP)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(a.Controller);e.PreloaderRemovedPixiCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(53),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){if(t.prototype.postRegister.call(this),this.bottomStripWhole=this.findChild("strip"),this.checkBoxElements=this.findChild("toggleHolder"),this.continueButton=this.findChild("continueButton"),this.continueButton.label.textStyle.fontWeight="bolder",this.neverShowLabel=this.findChild("neverShowIntroLabel"),this.neverShowLabel.textStyle.fontWeight="bolder",this.bottomStripBG=this.findChild("stripBar"),this.contentLandscape=this.findChild("content_landscape"),this.contentLandscape||(this.contentLandscape=this.findChild("content")),!this.contentLandscape)throw"Could not find content node in IntroLayer.xml";this.featuresLandscape=s.PixiUtils.findChildByName(this.contentLandscape,"features"),this.findChildByName(this.display,"continueButton").onClickHandler=this.clickButton.bind(this);var e=this.findChildByName(this.display,"toggleButton");e.buttonName="toggleButton",e.onClickHandler=this.clickButton.bind(this)},e.prototype.autoTranslate=function(){t.prototype.autoTranslate.call(this),this.deviceScreenResized()},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this)},e}(i(279).AbstractIntroViewPixi);e.DesktopIntroViewPixi=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(18),l=i(40),c=i(27),u=i(93),h=i(279),p=i(4),d=i(122),_=i(45),f=PIXI.Graphics,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.autoTranslate(),this.hasAutoTranslate=!1,this.bottomStripWhole=new r.ControllerContainer("strip",this.findMultipleChild("strip")),this.checkBoxElements=new r.ControllerContainer("toggleHolder",this.findMultipleChild("toggleHolder")),this.continueLabel=new c.ControllerTextField("continueButtonLabel",this.findMultipleChild("continueButtonLabel")),this.bottomStripBG=new l.ControllerImage("stripBar",this.findMultipleChild("stripBar")),this.toggles=new u.ControllerToggleButton("toggleButton",this.findMultipleChild("toggleButton")),this.toggles.stopClickPropagation=!0,this.toggles.onClickHandler=this.clickToggleButton.bind(this),p.Device.instance().minigame&&s.isNil(this.features.componentPortrait)?this.featuresComponentPortrait=this.features.componentLandscape:this.featuresComponentPortrait=this.features.componentPortrait,this.scollingContent=this.featuresComponentPortrait,this.getDots(this.scollingContent.children.length,1),this.scollingContent.children.length>2&&(this.display.addChild(this.pagingDotsHolder),this.scollingContent.interactive=!0),this.deviceScreenResized();var e=new f;e.beginFill(0),e.drawRect(0,0,a.SceneManager.SCENE_WIDTH,a.SceneManager.SCENE_HEIGHT),e.alpha=0,e.endFill(),this.display.addChild(e)},e.prototype.showIntro=function(){t.prototype.showIntro.call(this),this.pressBound=this.stagePress.bind(this),this.releaseBound=this.stageRelease.bind(this),this.display.on(_.PointerStates.DOWN,this.pressBound),this.display.on(_.PointerStates.UP,this.releaseBound),this.display.interactive=!0},e.prototype.clickToggleButton=function(t){this.neverShowIntro(this.getNeverShowVal())},e.prototype.getNeverShowVal=function(){return 1==this.toggles.state?"true":"false"},e.prototype.stagePress=function(t){this.pressStartTime=Date.now(),this.pressStartPoint=t.data.global.clone()},e.prototype.stageRelease=function(t){if(Date.now()-this.pressStartTime<300){var e=t.data.global.clone();Math.sqrt(Math.pow(e.x-this.pressStartPoint.x,2)+Math.pow(e.y-this.pressStartPoint.y,2))<30&&(this.display.off(_.PointerStates.DOWN,this.pressBound),this.display.off(_.PointerStates.UP,this.releaseBound),this.display.interactive&&(this.dispatchSignal(d.IntroActionNames.INTRO_FEATURES_CLOSED),this.display.interactive=!1))}},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.repositionObjects()},e.prototype.repositionObjects=function(){p.Device.instance().minigame?(this.bottomStripWhole.componentLandscape.y=a.SceneManager.getScreenHeight-100,this.pagingDotsHolder.y=a.SceneManager.getScreenHeight-115):this.isPortrait?(p.Device.instance().minigame&&s.isNil(this.bottomStripWhole.componentPortrait)?this.bottomStripWhole.componentLandscape.y=a.SceneManager.getScreenHeight-180:(this.bottomStripBG.x=-a.SceneManager.getHMargin,this.bottomStripBG.width=a.SceneManager.SCENE_WIDTH,this.bottomStripWhole.componentPortrait.y=a.SceneManager.getScreenHeight-180),this.scollingContent.children.length>1&&(this.scollingContent.y=(a.SceneManager.getScreenHeight-this.scollingContent.getChildAt(1).height)/2),this.pagingDotsHolder.y=a.SceneManager.getScreenHeight-240,p.Device.isIPhoneX()&&(this.bottomStripWhole.componentPortrait.y-=150,this.bottomStripBG.scale.y=2,this.pagingDotsHolder.y-=150)):this.scollingContent.y=0},e.prototype.addInteractions=function(){this.featuresComponentPortrait.interactive=!0,this.featuresComponentPortrait.on(_.PointerStates.DOWN,this.onPress.bind(this)),this.featuresComponentPortrait.on(_.PointerStates.UP,this.onRelease.bind(this)),this.featuresComponentPortrait.on(_.PointerStates.UP_OUTSIDE,this.onRelease.bind(this)),this.featuresComponentPortrait.on(_.PointerStates.MOVE,this.onDrag.bind(this))},e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this)},e.prototype.removeIntro=function(){t.prototype.removeIntro.call(this),p.Device.goFullScreen()},e}(h.AbstractIntroViewPixi);e.MobileIntroViewPixi=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasVideoIntro=!1,e.hasIntroAnimation=!1,e.hasIntroScreen=!0,e.neverShowAgain=!1,e.videoPlayed=!1,e.introAnimationPlayed=!1,e.introScreenDisplayed=!1,e}return o(e,t),e}(i(13).Proxy);e.IntroProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(688),a=i(692),r=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("MenuView",a.SlotMenuMediator,0),this.replaceMediator("MenuView",a.SlotMenuMediator,1),this.replaceMediator("MenuView",a.SlotMenuMediator,2)},e}(s.Menu);e.SlotMenu=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(281),r=i(689),l=i(690),c=i(691),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("MenuView",[r.DesktopMenuPixiView,c.MobileMenuPixiView,l.MiniGameMenuPixiView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(a.MenuMediator,"MenuView")},e}(s.AbstractModule);e.Menu=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(55),l=i(149),c=i(4),u=PIXI.Container,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasFullScreenButtonToogle=!1,e.OFFSET_LEFT_ALIGNMENT=44,e.OFFSET_RIGHT_ALIGNMENT=44,e}return o(e,t),e.prototype.init=function(){var e=this,i=this.settings.getValue("HAS_ISB_LOGO");this.isoftbetlogo=this.findChild("isoftbetlogo"),this.clock=this.findChild("clock"),this.paytableWaysTitle=this.findChild("paytableWaysTitle"),i.hasImage||(this.isoftbetlogo.visible=!1),i.hasClock||(this.clock.visible=!1),this.dispatchSignal(r.MenuActionNames.MENU_ADD_LABEL_TO_CLOCK,this.clock),t.prototype.init.call(this),this.buttons={};var n,o=this.findChild("menuContainer"),a=12;s.each(this.settings.getValue("MENU_ITEMS"),(function(t){if(t.buttonName!=r.MenuStaticNames.FULLSCREEN_NAME||c.Device.instance().iPad||(e.hasFullScreenButtonToogle=!0),t.buttonName!=r.MenuStaticNames.TURBO_NAME&&t.buttonName!=r.MenuStaticNames.RULES_NAME&&t.buttonName!=r.MenuStaticNames.FULLSCREEN_NAME){var i=new u;if(i.name=t.buttonName+"Container",i.y=a,o.addChild(i),t.hasOwnProperty("toggleDefault")){var n=e.getToggleWithStatesButton(t.buttonName,{onSkin:"UIGMSoundOnButtonUp",offSkin:"UIGMSoundOffButtonUp",onSkinOver:"UIGMSoundOnButtonOver",offSkinOver:"UIGMSoundOffButtonOver"},7,0,34,34);i.addChild(n),t.toggleDefault&&n.toggleState(1),e.buttons[t.buttonName]=n,e.setToggle(n),a+=46}else{var l=void 0;switch(t.buttonName){case r.MenuStaticNames.BUY_NAME:l=e.getButtonWithStates(t.buttonName,["UIGMBuyButtonUp","UIGMBuyButtonOver","UIGMBuyButtonDown","UIGMBuyButtonDisable"],7,0,34,34);break;case r.MenuStaticNames.HISTORY_NAME:var h=e.settings.getValue("historyUrl");l=e.getButtonWithStates(t.buttonName,["UIGMHistoryButtonUp","UIGMHistoryButtonOver","UIGMHistoryButtonDown","UIGMHistoryButtonDisable"],7,0,34,34),h||l.enableButton(!1)}s.isNil(l)||(i.addChild(l),e.buttons[t.buttonName]=l,a+=46)}}}));var l=this.settings.getValue("showHomeButtonDesktop"),h=this.settings.getValue("lobbyUrl");if((s.isNil(h)||c.Device.instance().desktop&&!s.isNil(l))&&(i.hasHomeButton=!1),i.hasHomeButton){var p=this.getButtonWithStates(r.MenuStaticNames.HOME_NAME,["UIGMHomeButtonUp","UIGMHomeButtonOver","UIGMHomeButtonDown","UIGMHomeButtonDisable"],7,0,34,34);(n=new u).name=r.MenuStaticNames.HOME_NAME,n.y=a,o.addChild(n),n.addChild(p),this.buttons[r.MenuStaticNames.HOME_NAME]=p,a+=46}var d=this.getToggleWithStatesButton(r.MenuStaticNames.FULLSCREEN_NAME,{onSkin:"UIMenuFullScreenButtonUp",offSkin:"UIMenuExitFullScreenButtonUp",onSkinOver:"UIMenuFullScreenButtonOver",offSkinOver:"UIMenuExitFullScreenButtonOver"},0,664,34,34,!1);(n=new u).name=r.MenuStaticNames.FULLSCREEN_NAME,n.addChild(d),this.buttons[r.MenuStaticNames.FULLSCREEN_NAME]=d,this.setToggle(d),d.toggleState(1),this.display.addChild(n),d.visible=this.hasFullScreenButtonToogle,this.findChild("menuBg").height=a,a-=2,this.findChild("menuBgArrow").y=a,this.menuPanel.visible=!1,this.deviceScreenResized()},e.prototype.hideUIButtons=function(){this.findChild("menuToggle").visible=!1,this.buttons[r.MenuStaticNames.FULLSCREEN_NAME].visible=!1},e.prototype.showUIButtons=function(){this.findChild("menuToggle").visible=!0,this.buttons[r.MenuStaticNames.FULLSCREEN_NAME].visible=!0},e.prototype.positionElements=function(){var t=a.SceneManager.getScreenXOrigin;this.menuPanel.x=-t+this.OFFSET_LEFT_ALIGNMENT-this.menuPanel.width/2,this.menuPanel.y=655-this.menuPanel.height,this.UICheatToolButton.x=-t+this.OFFSET_LEFT_ALIGNMENT+this.menuPanel.width/2,this.menuButton.x=-t+this.OFFSET_LEFT_ALIGNMENT-this.menuButton.width/2,this.isoftbetlogo.x=-t+this.OFFSET_LEFT_ALIGNMENT-this.isoftbetlogo.width/2,this.buttons&&this.buttons[r.MenuStaticNames.FULLSCREEN_NAME]&&(this.buttons[r.MenuStaticNames.FULLSCREEN_NAME].x=a.SceneManager.SCENE_WIDTH+t-this.OFFSET_RIGHT_ALIGNMENT-this.buttons[r.MenuStaticNames.FULLSCREEN_NAME].width/2),this.clock&&(this.clock.x=a.SceneManager.SCENE_WIDTH+t-this.OFFSET_RIGHT_ALIGNMENT-this.clock.width/2),this.paytableWaysTitle&&(this.paytableWaysTitle.x=a.SceneManager.SCENE_WIDTH+t-this.OFFSET_RIGHT_ALIGNMENT-this.paytableWaysTitle.width/2)},e.prototype.resetButtonsState=function(){this.fullScreenToggle&&this.fullScreenToggle.toggleState(0),this.menuButton&&this.menuButton.enable(this.menuButton.isEnabled),this.UICheatToolButton&&this.UICheatToolButton.enable(this.UICheatToolButton.isEnabled)},e.prototype.fullScreenChanged=function(t){this.fullScreenToggle&&this.fullScreenToggle.updateStateOnChange(t)},e.prototype.toggleSoundButton=function(t){var e=t.hookDetails.buttonId,i=t.hookDetails.state;this.buttons[e].changeState(i),this.dispatchSignal(r.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.buttons[e].state)},e}(l.AbstractMenuPixiView);e.DesktopMenuPixiView=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(76),r=i(47),l=i(18),c=i(27),u=i(93),h=i(89),p=i(6),d=i(57),_=i(55),f=i(149),y=i(1),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MENU_PAGE_TWEEN_DURATION=.5,e.SWIPE_MAXIMUM_TIME=300,e.SWIPE_MINIMUM_X=200,e.SWIPE_MAXIMUM_Y=100,e.currentPage=-1,e.nbClicks=0,e.clickTimeDown=0,e.STEP_MANUAL_SCROLL=100,e}return o(e,t),e.prototype.onStartShowLayer=function(e,i){t.prototype.onStartShowLayer.call(this,e,i),this.nbClicks=0},e.prototype.disableButton=function(){s.each(this.arrayUiButtons,(function(t){t.enable(!1)}))},e.prototype.enableButton=function(){s.each(this.arrayUiButtons,(function(t){t.enable(!0)}))},e.prototype.addingLayerCompleted=function(){this.changePageTo(1)},e.prototype.addLayerToMenu=function(t,e,i,n){var o,a,r=this,c=new l.ControllerContainer(e,this.findMultipleChild(e));if(s.isNil(c))p.Log.error("No container found in MENU for "+e+". Check MenuLayer.xml");else if(s.each(t,(function(t){return"gameplayButtonsContainer"==t.name&&(a=t),t.name==e?(o=t,!1):(o=r.findChildByName(t,e),!!s.isNil(o)&&void 0)})),s.isNil(o))p.Log.error("No container "+e+" to move to Menu. Check the initial XML of the container");else{if(s.isNil(o)||c.componentLandscape.addChild(o),n==y.Names.Layers.GAMEPLAY_BUTTONS){var u=new l.ControllerContainer("menuContainerUiButtons",this.findMultipleChild("menuContainerUiButtons"));a.addChild(u.componentLandscape)}this.addMenuAttributes(e,c,i)}},e.prototype.init=function(){var e=this;t.prototype.init.call(this);var i=this.findChild("menuContainerUiButtons");this.arrayUiButtons=[],s.each(i.children,(function(t){if("UICheatToolButton"!=t.name){var i=new r.ControllerButton(t.name,e.findMultipleChild(t.name),e.clickUiButton.bind(e));i.stopClickPropagation=!0,e.arrayUiButtons.push(i)}})),this.pages=[],this.containerContent=new l.ControllerContainer("menuContainerContent",this.findMultipleChild("menuContainerContent")),this.menuPanel.interactive=!0,this.menuPanel.handleMouseDownGesture(this.onTapDown.bind(this)),this.menuPanel.handleMouseUpGesture(this.onTapUp.bind(this)),this.menuPanel.handleMouseOutGesture(this.onTapOut.bind(this)),this.pagesSettings=[],new r.ControllerButton("menuBackButton",this.findMultipleChild("menuBackButton"),this.onBackButtonClick.bind(this)).stopClickPropagation=!0;var n=new l.ControllerContainer("menuContSettings",this.findMultipleChild("menuContSettings"));this.addMenuAttributes("menuContSettings",n,"menuLabelSettings");var o=new l.ControllerContainer("menuHistoryPanel",this.findMultipleChild("menuHistoryPanel"));this.addMenuAttributes("menuHistoryPanel",o,"menuHistoryLabel"),new r.ControllerButton("menuHistoryLabel",this.findMultipleChild("menuHistoryLabel"),this.onHistoryButtonClick.bind(this)).stopClickPropagation=!0,this.menuTitle=new c.ControllerTextField("menuTitle",this.findMultipleChild("menuTitle")),this.soundToggle=new u.ControllerToggleButton("menuSoundButton",this.findMultipleChild("menuSoundButton"),this.onSoundbuttonClick.bind(this)),this.soundToggle.toggleState(0),this.dispatchSignal(_.MenuActionNames.MENU_SWITCH_SOUND,!0),this.scrollDownButton=new r.ControllerButton(_.MenuStaticNames.MANUAL_SCROLL_DOWN,this.findMultipleChild(_.MenuStaticNames.MANUAL_SCROLL_DOWN),this.onScrollButton.bind(this)),this.scrollDownButton.stopClickPropagation=!0,this.scrollUpButton=new r.ControllerButton(_.MenuStaticNames.MANUAL_SCROLL_UP,this.findMultipleChild(_.MenuStaticNames.MANUAL_SCROLL_UP),this.onScrollButton.bind(this)),this.scrollUpButton.stopClickPropagation=!0},e.prototype.onScrollButton=function(t,e){this.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),this.pages[this.currentPage].scroll&&(t==_.MenuStaticNames.MANUAL_SCROLL_DOWN?this.pages[this.currentPage].scroll.manualScroll(-this.STEP_MANUAL_SCROLL):t==_.MenuStaticNames.MANUAL_SCROLL_UP&&this.pages[this.currentPage].scroll.manualScroll(this.STEP_MANUAL_SCROLL))},e.prototype.onHistoryButtonClick=function(t){this.clickButton(_.MenuStaticNames.HISTORY_NAME)},e.prototype.onBuyButtonClick=function(t){this.clickButton(_.MenuStaticNames.BUY_NAME)},e.prototype.onBackButtonClick=function(t){this.clickButton(_.MenuStaticNames.TOGGLE_MENU)},e.prototype.onSoundbuttonClick=function(t){this.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),this.dispatchSignal(_.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.soundToggle.state)},e.prototype.onTapDown=function(t){this.nbClicks<=0&&(this.nbClicks=0,this.clickTimeDown=Date.now(),this.clickXPosDown=t.target.toLocal(t.data.global).x,this.clickYPosDown=t.target.toLocal(t.data.global).y),this.nbClicks++,t.stopPropagation()},e.prototype.onTapUp=function(t){var e=!1;if(1==this.nbClicks&&Date.now()-this.clickTimeDown<=this.SWIPE_MAXIMUM_TIME&&this.clickYPosDown-t.target.toLocal(t.data.global).y<this.SWIPE_MAXIMUM_Y){var i=this.clickXPosDown-t.target.toLocal(t.data.global).x;Math.abs(i)>this.SWIPE_MINIMUM_X&&(i<0?this.changePageTo(this.currentPage-1):this.changePageTo(this.currentPage+1),e=!0)}e||this.nbClicks--,t.stopPropagation()},e.prototype.onTapOut=function(t){this.nbClicks=0},e.prototype.positionElements=function(){},e.prototype.addMenuAttributes=function(t,e,i){this.pages.push({name:t,positionX:e.componentLandscape.x,scroll:this.findScrollingContainer(e.componentLandscape)}),this.pages=s.sortBy(this.pages,"positionX");var n=new r.ControllerButton(t+"Button",this.findMultipleChild(t+"Button"),this.changePageFromButtons.bind(this));n.stopClickPropagation=!0,this.pagesSettings.push({title:this.translations.getValue(i),page:e,button:n})},e.prototype.clickUiButton=function(t,e){this.clickButton(_.MenuStaticNames.TOGGLE_MENU),e.target.changeState(a.ButtonState.UP),this.changePageFromButtons(t.replace(_.MenuStaticNames.TOGGLE_MENU+"_",""))},e.prototype.changePageFromButtons=function(t){this.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),this.changePageWithName(t.replace("Button",""))},e.prototype.changePageWithName=function(t){var e=s.findIndex(this.pages,(function(e){return e.name==t}));this.changePageTo(e)},e.prototype.changePageTo=function(t){var e=this;this.nbClicks=0,-1==t||t==this.currentPage||s.isNil(this.pages[t])||(s.isNil(this.tweenPage)||this.tweenPage.kill(),s.each(this.pagesSettings,(function(t){t.page.visible=!0})),this.currentPage=t,this.tweenPage=TweenLite.to(this.containerContent.currentComponent,this.MENU_PAGE_TWEEN_DURATION,{x:-this.pages[t].positionX,ease:Circ.easeOut,onComplete:this.pageTweenEnded.bind(this)}),s.each(this.pagesSettings,(function(i){var n=i.button;e.pages[t].name+"Button"==n.name?(n.changeState(a.ButtonState.UP),e.menuTitle.updateLabel(i.title)):n.changeState(a.ButtonState.DOWN)}))),t==_.MobileMenuIndexes.AUTO_PLAY&&this.dispatchSignal(_.MenuActionNames.MENU_SHOW_AUTOPLAY_PANEL)},e.prototype.pageTweenEnded=function(){var t=this;s.each(this.pagesSettings,(function(e){var i=e.page;t.pages[t.currentPage].name==i.name?i.visible=!0:i.visible=!1}));var e=this.settings.getValue("TURBO_MODE");this.pages[this.currentPage].scroll&&("apSettingsContainer"!=this.pages[this.currentPage].name||e&&e.enabled)?(this.scrollDownButton.visible=!0,this.scrollUpButton.visible=!0):(this.scrollDownButton.visible=!1,this.scrollUpButton.visible=!1)},e.prototype.findScrollingContainer=function(t){var e=this,i=null;return s.each(t.children,(function(t){if(s.isNil(i)){if(t instanceof h.ScrollingContainer)return i=t,!1;t.hasOwnProperty("children")&&t.children.length>0&&(i=e.findScrollingContainer(t))}})),i},e.prototype.resetButtonsState=function(){},e}(f.AbstractMenuPixiView);e.MiniGameMenuPixiView=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(47),l=i(18),c=i(27),u=i(93),h=i(11),p=i(6),d=i(30),_=i(48),f=i(55),y=i(149),m=i(4),N=i(21),S=i(1),g=i(57),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LANDSCAPE=0,e.PORTRAIT=1,e.currentPage=-1,e.MENU_TOGGLE_VERTICAL_OFFSET=10*window.devicePixelRatio,e.rescaleMenuContainer=[],e.canResize=!1,e.cantResize=!1,e.PAYTABLE_CONTAINER_NAME="ptMainContainer",e.layersAdded={},e}return o(e,t),e.prototype.findMenuElements=function(){this.menuContainerButtons=new l.ControllerContainer("menuContainerButtons",this.findMultipleChild("menuContainerButtons")),this.canResize=!0,this.deviceScreenResized()},e.prototype.deviceScreenResized=function(){var e=this;t.prototype.deviceScreenResized.call(this),this.cantResize||(this.cantResize=m.Device.needToShowSwipe),this.canResize&&!this.cantResize&&(this.getScaleCorrection(this.menuTitle.componentPortrait),this.getScaleCorrection(this.menuTitle.componentLandscape,!0),this.getScaleCorrection(this.menuContainerButtons.componentPortrait),m.Device.instance().iOS&&2==window.devicePixelRatio&&568==window.screen.height||this.getScaleCorrection(this.menuContainerButtons.componentLandscape,!0),s.each(this.containerContent.componentPortrait.children,(function(t,i){if(t.name!=e.PAYTABLE_CONTAINER_NAME){var n=e.containerContent.componentLandscape.children[i];e.getScaleCorrection(t),e.getScaleCorrection(n,!0)}})),this.cantResize&&m.Device.isLandscape()&&(this.cantResize=!1))},e.prototype.onStartShowLayer=function(e,i){t.prototype.onStartShowLayer.call(this,e,i),this.changePageTo(f.MobileMenuIndexes.PAYTABLE)},e.prototype.renderMenuNonCurrentComponent=function(){var t=_.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT/2,e=_.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE/2,i=a.SceneManager.getScreenXOrigin,n=a.SceneManager.getScreenWidth,o=this.menuPanel.nonCurrentComponent;m.Device.isLandscape()?(o.height=n-3*i+t,o.width=n+2*i,o.x=2*n):(o.width=n-i+e,o.height=a.SceneManager.SCENE_HEIGHT-t,o.x=(a.SceneManager.SCENE_WIDTH-o.width)/2)},e.prototype.hideMenuNonCurrentComponent=function(){this.menuPanel.nonCurrentComponent.parent.visible=!1,m.Device.isLandscape()&&(this.menuPanel.nonCurrentComponent.x=(a.SceneManager.SCENE_WIDTH-this.menuPanel.nonCurrentComponent.width)/2)},e.prototype.onUpdateUserInterfaceButtons=function(){this.currentPage>=0&&this.updateMenuButtons(this.currentPage)},e.prototype.addLayerToMenu=function(t,e,i,n,o){if(void 0===o&&(o=!1),!this.layersAdded[e]){var a=new l.ControllerContainer(e,this.findMultipleChild(e));if(a.visible=!1,s.isNil(a))p.Log.error("No container found in MENU for "+e+". Check MenuLayer.xml");else{var r=s.find(t,(function(t){return"Main_landscape"==t.name})),c=this.findChildByName(r,e);if(s.isNil(c))p.Log.error("No container "+e+" for Landscape to move to Menu. Check the initial XML of the container");else{a.componentLandscape.addChild(c);var u=s.find(t,(function(t){return"Main_portrait"==t.name})),h=this.findChildByName(u,e);if(s.isNil(h))p.Log.error("No container "+e+" for Portrait to move to Menu. Check the initial XML of the container");else{if(a.componentPortrait.addChild(h),this.layersAdded[e]=!0,n==S.Names.Layers.GAMEPLAY_BUTTONS&&(r.addChild(this.menuContainerUiButton.componentLandscape),s.isNil(this.menuContainerUiButton.componentPortrait)||u.addChild(this.menuContainerUiButton.componentPortrait)),this.addMenuAttributes(e,a,i),m.Device.instance().tablet){var d=a.componentPortrait.width;a.componentPortrait.width=a.componentPortrait.width/(1+this.menuPanel.componentPortrait.width/this.menuPanel.componentPortrait.height-this.originalPanelRatio.portrait),a.componentPortrait.x+=(d-a.componentPortrait.width)/2}o&&(this.rescaleMenuContainer.push({landscape:c,portrait:h}),this.positionElements())}}}}},e.prototype.getScaleCorrection=function(t,e){void 0===e&&(e=!1);var i=this.traverseParent(t),n=i[0]/i[1];if(1!=n){var o="y";if(e){var s=t.width;s||(s=t.children[0].width);var a=t.scale.x,r=t.children[0].x;if(o="x",(n=1/n)!=a){var l=(a-n)*(s/2+r);t instanceof N.TextField&&(l*=2),t.x+=l}}t.scale[o]=n}},e.prototype.traverseParent=function(t){var e=t.parent;return e?[e.scale.x*this.traverseParent(e)[0],e.scale.y*this.traverseParent(e)[1]]:[1,1]},e.prototype.init=function(){var e=this;t.prototype.init.call(this),m.Device.isIPhoneX()||(this.MENU_TOGGLE_VERTICAL_OFFSET=0),this.pagesOrientation=[[],[]],this.containerContent=new l.ControllerContainer("menuContainerContent",this.findMultipleChild("menuContainerContent")),this.menuPanel.interactive=!0,this.containerContent.interactive=!0,this.pagesSettings=[],new r.ControllerButton("menuBackButton",this.findMultipleChild("menuBackButton"),this.onBackButtonClick.bind(this)).stopClickPropagation=!0;var i=new l.ControllerContainer("menuContSettings",this.findMultipleChild("menuContSettings"));this.addMenuAttributes("menuContSettings",i,"menuLabelSettings");var n,o=this.settings.getValue("historyUrl"),a=new l.ControllerContainer("menuHistoryPanel",this.findMultipleChild("menuHistoryPanel"));this.addMenuAttributes("menuHistoryPanel",a,"menuHistoryLabel"),o?n=new r.ControllerButton("menuHistoryLabel",this.findMultipleChild("menuHistoryLabel"),this.onHistoryButtonClick.bind(this)):(n=new r.ControllerButton("menuHistoryLabel",this.findMultipleChild("menuHistoryPanelButton"),this.onHistoryButtonClick.bind(this))).enable(!1),this.menuTitle=new c.ControllerTextField("menuTitle",this.findMultipleChild("menuTitle")),n.stopClickPropagation=!0;var h=this.settings.getValue("HAS_ISB_LOGO"),p=new r.ControllerButton("menuSettingsHome",this.findMultipleChild("menuSettingsHome")),_=this.settings.getValue("lobbyUrl");h.hasHomeButton?s.isNil(_)?p.enable(!1):(p.enable(!0),p.onClickHandler=function(){e.playSound(g.SoundNames.GENERIC_BUTTON_CLICK),d.WindowUtil.onLobbyHomeButton()},p.stopClickPropagation=!0):(p.enable(!1),p.visible=!1),this.soundToggle=new u.ControllerToggleButton("menuSoundButton",this.findMultipleChild("menuSoundButton"),this.onSoundbuttonClick.bind(this));var y=this.settings.getCookie(f.MenuStaticNames.MENU_COOKIE_SOUND_CATEGORY_PREFIX+f.MenuStaticNames.SOUND_SWITCH);y?"true"==y?(this.soundToggle.toggleState(0),this.dispatchSignal(f.MenuActionNames.MENU_SWITCH_SOUND,!0)):(this.soundToggle.toggleState(1),this.dispatchSignal(f.MenuActionNames.MENU_SWITCH_SOUND,!1)):(this.soundToggle.toggleState(Number(this.getSoundButtonState())),this.dispatchSignal(f.MenuActionNames.MENU_SWITCH_SOUND,!this.getSoundButtonState())),this.menuContainerUiButton=new l.ControllerContainer("menuContainerUiButtons",this.findMultipleChild("menuContainerUiButtons")),this.registerToHook("openAutoplay",(function(){e.changePageTo(f.MobileMenuIndexes.AUTO_PLAY)})),this.registerToHook("openCoinvalue",(function(){e.changePageTo(f.MobileMenuIndexes.COIN_VALUE)})),this.registerToHook("openHistory",(function(){e.changePageTo(f.MobileMenuIndexes.HISTORY)}))},e.prototype.postRegister=function(){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),t.prototype.postRegister.call(this),this.registerToHook("clickButton",this.onHookClickButton.bind(this))},e.prototype.onHookClickButton=function(t){"openMenu"===t.hookDetails.buttonId&&(this.clickButton("menuToggle"),this.toggledOff||this.changePageTo(f.MobileMenuIndexes.AUTO_PLAY)),t.hookDetails.hookResult=!0},e.prototype.onHistoryButtonClick=function(t){this.clickButton(f.MenuStaticNames.HISTORY_NAME)},e.prototype.onBackButtonClick=function(t){this.clickButton(f.MenuStaticNames.TOGGLE_MENU)},e.prototype.onSoundbuttonClick=function(t){this.playSound(g.SoundNames.GENERIC_BUTTON_CLICK),this.dispatchSignal(f.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.soundToggle.state)},e.prototype.positionElements=function(){var t=this,e=a.SceneManager.getScreenXOrigin;this.menuPanel.x=-e-5,this.menuPanel.y=0;var i=0;i=m.Device.isLandscape()?a.SceneManager.SCENE_Y_OFFSET.landscape/a.SceneManager.ratio:a.SceneManager.SCENE_Y_OFFSET.portrait/a.SceneManager.ratio;a.SceneManager.getHMargin<0?(this.menuPanel.y=-i-5,this.menuPanel.width=a.SceneManager.getScreenWidth+10,this.menuButton.x=a.SceneManager.getScreenWidth-this.menuButton.width-a.SceneManager.getHMargin):(this.menuPanel.y=-i-5,this.menuPanel.width=a.SceneManager.SCENE_WIDTH-e+10,this.menuButton.x=a.SceneManager.SCENE_WIDTH-this.menuButton.width),m.Device.isLandscape()?(this.menuPanel.height=a.SceneManager.getScreenHeight-_.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE,this.menuButton.y=a.SceneManager.getScreenHeight-2*_.StripParameters.STRIP_BAR_HEIGHT_LANDSCAPE-this.menuButton.height):(this.menuPanel.height=a.SceneManager.getScreenHeight-2*_.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT,this.menuButton.y=a.SceneManager.getScreenHeight-2.1*_.StripParameters.STRIP_BAR_HEIGHT_PORTRAIT-this.menuButton.height,this.menuButton.x=a.SceneManager.getScreenWidth-this.menuButton.width-a.SceneManager.getHMargin),this.menuPanel.height+=i+6,a.SceneManager.getHMargin<0?this.UICheatToolButton.x=-a.SceneManager.getHMargin:this.UICheatToolButton.x=0,this.slotGameConfig.useMasterLayout&&this.rescaleMenuContainer.length>0&&s.each(this.rescaleMenuContainer,(function(e){m.Device.isLandscape()?(e.landscape.scale.x=1/t.menuPanel.componentLandscape.scale.x,e.landscape.scale.y=1/t.menuPanel.componentLandscape.scale.y,e.landscape.contentChildren.length>0&&s.each(e.landscape.contentChildren,(function(e){e.name.toLowerCase().indexOf("page")>=0&&(s.has(e,"oldX")||(e.oldX=e.x),e.x=e.oldX-t.menuPanel.componentLandscape.x)}))):(e.portrait.scale.x=1/t.menuPanel.componentPortrait.scale.x,e.portrait.scale.y=1/t.menuPanel.componentPortrait.scale.y,e.portrait.contentChildren.length>0&&s.each(e.portrait.contentChildren,(function(e){e.name.toLowerCase().indexOf("page")>=0&&(s.has(e,"oldX")||(e.oldX=e.x),e.x=e.oldX-t.menuPanel.componentPortrait.x)})))})),this.UICheatToolButton.y=this.menuButton.y},e.prototype.addMenuAttributes=function(t,e,i){this.pagesOrientation[this.LANDSCAPE].push({name:t,positionX:e.componentLandscape.x}),this.pagesOrientation[this.LANDSCAPE]=s.sortBy(this.pagesOrientation[this.LANDSCAPE],"positionX"),this.pagesOrientation[this.PORTRAIT].push({name:t,positionX:e.componentPortrait.x}),this.pagesOrientation[this.PORTRAIT]=s.sortBy(this.pagesOrientation[this.PORTRAIT],"positionX");var n=new r.ControllerButton(t+"Button",this.findMultipleChild(t+"Button"),this.changePageFromButtons.bind(this));n.stopClickPropagation=!0,this.dispatchSignal(f.MenuActionNames.MENU_VERIFY_AND_ADD_BUTTON_TO_USER_INTERACTION,n),this.pagesSettings.push({title:this.translations.getValue(i),page:e,button:n})},e.prototype.changePageFromButtons=function(t,e){this.changePageWithName(t.replace("Button",""))},e.prototype.changePageWithName=function(t){var e=s.findIndex(this.pagesOrientation[this.LANDSCAPE],(function(e){return e.name==t}));this.changePageTo(e)},e.prototype.changePageTo=function(t){var e=Number(!m.Device.isLandscape()),i=Number(m.Device.isLandscape());-1==t||t==this.currentPage||s.isNil(this.pagesOrientation[e][t])||(this.currentPage=t,this.containerContent.currentComponent.x=-this.pagesOrientation[e][t].positionX,this.updateVisibilityOfThePages(),this.containerContent.nonCurrentComponent.x=-this.pagesOrientation[i][t].positionX,this.updateMenuButtons(t),this.playSound(h.SlotSoundNames.GENERIC_BUTTON_CLICK),t==f.MobileMenuIndexes.AUTO_PLAY&&this.dispatchSignal(f.MenuActionNames.MENU_SHOW_AUTOPLAY_PANEL))},e.prototype.updateMenuButtons=function(t){var e=this;s.each(this.pagesSettings,(function(i){var n=i.button;e.pagesOrientation[e.LANDSCAPE][t].name+"Button"==n.name&&e.menuTitle.updateLabel(i.title,!1)}))},e.prototype.updateVisibilityOfThePages=function(){var t=this;s.each(this.pagesSettings,(function(e){var i=e.page;t.pagesOrientation[t.LANDSCAPE][t.currentPage].name==i.name?i.visible=!0:i.visible=!1}))},e.prototype.getSoundButtonState=function(){var t=!0;return s.each(this.settings.getValue("MENU_ITEMS"),(function(e){"menuSoundButton"==e.buttonName&&e.hasOwnProperty("toggleDefault")&&(t=e.toggleDefault)})),t},e.prototype.toggleSoundButton=function(t){var e=t.hookDetails.state;this.soundToggle.changeState(e),this.playSound(g.SoundNames.GENERIC_BUTTON_CLICK),this.dispatchSignal(f.MenuActionNames.MENU_SWITCH_SOUND_FROM_UI,1==this.soundToggle.state)},e}(y.AbstractMenuPixiView);e.MobileMenuPixiView=A},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(281),r=i(4),l=i(2),c=i(7),u=i(55),h=i(1),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal("UICheatToolButton",this.toggleCheatTool.bind(this)),this.addListenerToSignal(u.MenuActionNames.MENU_SHOW_AUTOPLAY_PANEL,this.autoplayPanelShown.bind(this))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.Notifications.Global.CLICK_ON_PIXI_BG,this.bgClicked.bind(this)),this.addNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,this.onUpdateUserInterfaceButtons.bind(this)),r.Device.instance().desktop&&this.addNotification(l.Notifications.Global.FULL_SCREEN_CHANGED,this.onFullScreenChanged.bind(this))},e.prototype.layerTransitionInStart=function(){t.prototype.layerTransitionInStart.call(this),r.Device.instance().mobile||r.Device.instance().minigame?(this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.SHOW_MENU_MOBILE),this.updatedAutoplay=!1):this.sendGlobalNotification(l.Notifications.Global.SHOW_PIXI_CLICK_CATCH,{callee:this.name})},e.prototype.layerTransitionOutStart=function(){t.prototype.layerTransitionOutStart.call(this),r.Device.instance().mobile||r.Device.instance().minigame?(this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.HIDE_MENU_MOBILE),this.sendGlobalNotification(l.Notifications.Global.HIDE_AUTO_PLAY_POP_UP)):this.sendGlobalNotification(l.Notifications.Global.HIDE_PIXI_CLICK_CATCH,this.name)},e.prototype.bgClicked=function(t){t.body==this.name&&this.layerTransitionOutStart()},e.prototype.onUpdateUserInterfaceButtons=function(t){this.view.onUpdateUserInterfaceButtons()},e.prototype.toggleCheatTool=function(){this.sendGlobalNotification(l.Notifications.Global.TOGGLE_CHEAT_TOOL)},e.prototype.onFullScreenChanged=function(t){var e=!1;s.has(t.body,"isFullScreen")&&(e=t.body.isFullScreen),this.viewComponent.fullScreenChanged(e)},e.prototype.autoplayPanelShown=function(){this.updatedAutoplay||(this.sendGlobalNotification(l.Notifications.Global.SHOW_AUTO_PLAY_POP_UP),this.updatedAutoplay=!0)},e.prototype.onDeviceScreenResized=function(e){t.prototype.onDeviceScreenResized.call(this,e),r.Device.instance().mobile&&(r.Device.isLandscape()?this.layersProxy.changePIXILayerDepth(h.Names.Layers.STRIP,h.Names.Layers.MENU):this.layersProxy.changePIXILayerDepth(h.Names.Layers.STRIP,h.Names.Layers.PROGRESSIVE_NOTICE,!1,!0))},e}(a.MenuMediator);e.SlotMenuMediator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(694),r=i(695),l=i(696),c=i(697),u=i(698),h=i(699),p=i(700),d=i(701),_=i(702),f=i(703),y=i(704),m=i(705),N=i(706),S=i(707),g=i(710),A=i(2),E=i(94),I=i(1),O=i(712),T=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(A.Notifications.Global.SET_INITIAL_SYMBOLS,a.SetInitialSymbolsCommand),this.addCommand(A.Notifications.Global.UPDATE_DISPLAY_SYMBOLS,r.UpdateDisplaySymbolsCommand),this.addCommand(A.Notifications.Global.SPIN,h.WheelsSpinCommand),this.addCommand(A.Notifications.Global.STOP_SPIN,p.WheelsStopSpinCommand),this.addCommand(A.Notifications.Wheels.LOCK_WHEEL,c.WheelLockCommand),this.addCommand(A.Notifications.Wheels.UNLOCK_WHEEL,u.WheelUnlockCommand),this.addCommand(E.WheelsNotifications.WHEEL_COMPLETE,l.WheelCompleteCommand),this.useMasterLayout&&this.addCommand(A.Notifications.MasterLayout.SEND_SPINE_ANNOUNCE_CONFIGURATION,O.SendSpineAnnounceConfigurationCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(I.Names.Proxies.NEAR_MISS,f.NearMissProxy),this.addProxy(I.Names.Proxies.SPECIAL_SYMBOLS,y.SpecialSymbolsProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("SymbolsView",[m.SymbolsView,m.SymbolsView,m.SymbolsView]),this.addView("WheelsRequiredAnimatorStepActionsView",[g.WheelsRequiredAnimatorStepActionsView,g.WheelsRequiredAnimatorStepActionsView,g.WheelsRequiredAnimatorStepActionsView]),this.addView("WheelsAbstractDecoratorsFactory",[S.WheelsAbstractDecoratorsFactory,S.WheelsAbstractDecoratorsFactory,S.WheelsAbstractDecoratorsFactory]),this.addView("WheelAnimationsView",[N.WheelAnimationsView,N.WheelAnimationsView,N.WheelAnimationsView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(d.SymbolsMediator,"SymbolsView"),this.addMediator(_.WheelsMediator,"WheelAnimationsView")},e}(s.AbstractModule);e.Wheels=T},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(94),l=i(1),c=i(56),u=i(5),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=-1==(this.clientSymbolsNeeded(t)?this.initialClientSymbols():this.initialServerSymbols())[0]||this.clientSymbolsNeeded(t);this.setInitialSymbols(e)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION))},e.prototype.setInitialSymbols=function(t){var e;e=t?this.initialClientSymbols():this.initialServerSymbols(),this.sendNotification(r.WheelsNotifications.SHOW_INITIAL_SERVER_SYMBOLS,e),this.sendNotification(r.WheelsNotifications.UPDATE_DISPLAY_SYMBOLS,e)},e.prototype.initialServerSymbols=function(){var t=[],e=c.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(u.States.END_GAME).symbols);return s.each(e,(function(e){t=t.concat(e)})),t},e.prototype.initialClientSymbols=function(){return this.settings.getValue("INITIAL_DISPLAYED_SYMBOLS")},e.prototype.clientSymbolsNeeded=function(t){return!s.isNil(t.body)&&!s.isNil(t.body.useClientSymbols)&&!0===t.body.useClientSymbols},e}(a.Controller);e.SetInitialSymbolsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(94),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=[],i=t.body;s.each(i,(function(t){e=e.concat(t)})),this.nearMissProxy.hasNearMiss&&this.nearMissProxy.updateDisplayedSymbols(i),this.specialSymbolsProxy.hasAnnounce&&this.specialSymbolsProxy.updateDisplayedSymbols(i),this.sendNotification(l.WheelsNotifications.UPDATE_DISPLAY_SYMBOLS,e),this.updateDisplaySymbols(e),this.modifyResultSymbols(e)},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(r.Names.Proxies.NEAR_MISS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveProxy(r.Names.Proxies.SPECIAL_SYMBOLS))},e.prototype.updateDisplaySymbols=function(t){this.sendNotification(l.WheelsNotifications.DISPLAY_SYMBOLS,t)},e.prototype.modifyResultSymbols=function(t){},e}(a.Controller);e.UpdateDisplaySymbolsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(6),l=i(1),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=Number(t.body);this.treatNearMiss(e),this.treatAnnounceSymbol(e)},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(l.Names.Proxies.NEAR_MISS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveProxy(l.Names.Proxies.SPECIAL_SYMBOLS)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.treatNearMiss=function(t){var e=this;if(this.nearMissProxy.hasNearMiss&&!this.nearMissProxy.wheelsStopped&&!this.nearMissProxy.lockedWheel[t]){var i=this.slotGameConfig.wheelsCnt,n=t+1,o=this.nearMissProxy.nearMissWheels[t+1]>0;this.nearMissProxy.nearMissWheels[t]>0&&(r.Log.log("treatNearMiss - NEAR_MISS_WHEEL_COMPLETED wheelID : "+t),this.sendGlobalNotification(c.Notifications.Wheels.PLAY_NEAR_MISS_ANIMATION,{wheelId:t,completeNearMiss:!0,hasNearMissOnTheNextWheel:o}),n==i&&(r.Log.log("treatNearMiss - NEAR_MISS_ANIMATION_COMPLETED wheelID : "+String(t)),this.sendGlobalNotification(c.Notifications.Wheels.NEAR_MISS_ANIMATION_COMPLETED))),s.each(s.range(n,i),(function(t){if(e.nearMissProxy.lockedWheel[t])return!0;var i=e.nearMissProxy.nearMissWheels[t];return i>0?(r.Log.log("treatNearMiss - PLAY_NEAR_MISS_ANIMATION wheelID : "+String(t)),e.sendGlobalNotification(c.Notifications.Wheels.PLAY_NEAR_MISS_ANIMATION,{wheelId:t,nearMissSymbol:i,occurrences:e.nearMissProxy.occurrences})):s.each(e.nearMissProxy.occurrences,(function(i){i>2&&(r.Log.log("treatNearMiss - NEAR_MISS_ANIMATION_COMPLETED wheelID : "+String(t)),e.sendGlobalNotification(c.Notifications.Wheels.NEAR_MISS_ANIMATION_COMPLETED))})),!1}));var a=0;s.each(s.range(n,i),(function(t){e.nearMissProxy.nearMissWheels[t]<=0&&a++,a==t&&(r.Log.log("treatNearMiss - NEAR_MISS_ANIMATION_COMPLETED wheelID : "+String(t)),e.sendGlobalNotification(c.Notifications.Wheels.NEAR_MISS_ANIMATION_COMPLETED))}))}},e.prototype.treatAnnounceSymbol=function(t){if(this.specialSymbolsProxy.hasAnnounce){var e=this.specialSymbolsProxy.getAnnounceSymbols(t);e.length>0&&this.sendGlobalNotification(c.Notifications.Wheels.PLAY_ANNOUNCE_SYMBOLS_ANIMATION,{wheelId:t,announceSymbols:e,occurrences:this.specialSymbolsProxy.occurrences})}},e}(a.Controller);e.WheelCompleteCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=Number(t.body);this.nearMissProxy.hasNearMiss&&(this.nearMissProxy.lockedWheel[e]=!0),this.specialSymbolsProxy.hasAnnounce&&(this.specialSymbolsProxy.lockedWheel[e]=!0)},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(r.Names.Proxies.NEAR_MISS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveProxy(r.Names.Proxies.SPECIAL_SYMBOLS))},e}(a.Controller);e.WheelLockCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=Number(t.body);this.nearMissProxy.hasNearMiss&&(this.nearMissProxy.lockedWheel[e]=!1),this.specialSymbolsProxy.hasAnnounce&&(this.specialSymbolsProxy.lockedWheel[e]=!1)},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(r.Names.Proxies.NEAR_MISS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveProxy(r.Names.Proxies.SPECIAL_SYMBOLS))},e}(a.Controller);e.WheelUnlockCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.nearMissProxy.hasNearMiss&&this.nearMissProxy.clear(),this.specialSymbolsProxy.hasAnnounce&&this.specialSymbolsProxy.clear()},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(r.Names.Proxies.NEAR_MISS)),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveProxy(r.Names.Proxies.SPECIAL_SYMBOLS))},e}(a.Controller);e.WheelsSpinCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(94),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.nearMissProxy.hasNearMiss&&(this.nearMissProxy.wheelsStopped=!0,this.sendNotification(l.WheelsNotifications.STOP_NEAR_MISS_ANIMATION))},e.prototype.initVars=function(){s.isNil(this.nearMissProxy)&&(this.nearMissProxy=this.retrieveProxy(r.Names.Proxies.NEAR_MISS))},e}(a.Controller);e.WheelsStopSpinCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(94),r=i(1),l=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.SYMBOLS},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addNotification(a.WheelsNotifications.SHOW_INITIAL_SERVER_SYMBOLS,this.displaySymbols.bind(this))},e.prototype.displaySymbols=function(t){},e}(s.AbstractMediator);e.SymbolsMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(19),l=i(282),c=i(94),u=i(64),h=i(2),p=i(10),d=i(4),_=i(104),f=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._announceSymbolsToHide=[],n.skipWheelCompleteUIAction=!1,n}return o(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.WHEELS},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.initLayers()},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(l.WheelActionsNames.WHEEL_COMPLETE_ID,this.onWheelCompleteId.bind(this)),this.addListenerToSignal(l.WheelActionsNames.WHEEL_ANIMATION_START,this.onStartWheelAnimation.bind(this)),this.addListenerToSignal(l.WheelActionsNames.ALL_WHEELS_COMPLETED,this.onAllWheelsCompleted.bind(this)),this.addListenerToSignal(l.WheelActionsNames.ALL_WHEELS_TWEENS_COMPLETED,this.onAllTweensWheelsCompleted.bind(this)),this.addListenerToSignal(l.WheelActionsNames.HIDE_SYMBOLS,this.onHideSymbols.bind(this)),this.addListenerToSignal(l.WheelActionsNames.SYMBOLS_RECEIVED_AND_ADDED,this.onSymbolsReceivedAndAdded.bind(this)),this.addListenerToSignal(l.WheelActionsNames.PLAY_ANNOUNCE_SOUND,this.onPlayAnnounceSound,this),this.addListenerToSignal(l.WheelActionsNames.PLAY_WHEEL_STOP_SOUND,this.onPlayWheelStopSound,this),this.addListenerToSignal(l.WheelActionsNames.GET_SPINE_ANIMATION_DATA,this.getSpineAnimationData.bind(this))},e.prototype.injectDecoratorsProperty=function(t,e){void 0===e&&(e=null),this.view.injectDecoratorsProperty(t,e)},e.prototype.initVars=function(){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(a.Names.Proxies.TURBO_MODE,a.Names.Modules.CERTIFICATION)),s.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(a.Names.Proxies.MASTER_LAYERS,a.Names.Modules.GAME_SETUP)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER)),this.turboModeSettings=this.settings.getValue("TURBO_MODE")},e.prototype.addNotifications=function(){this.initVars(),t.prototype.addNotifications.call(this),this.addNotification(c.WheelsNotifications.UPDATE_DISPLAY_SYMBOLS,this.doUpdateDisplaySymbols.bind(this)),this.addNotification(c.WheelsNotifications.STOP_NEAR_MISS_ANIMATION,this.onStopNearMissAnimation.bind(this)),this.addNotification(h.Notifications.Wheels.LOCK_WHEEL,this.onLockeWheel.bind(this)),this.addNotification(h.Notifications.Wheels.UNLOCK_WHEEL,this.onUnlockWheel.bind(this)),this.addNotification(h.Notifications.Wheels.NEAR_MISS_WHEEL,this.onNearMissWheel.bind(this)),this.addNotification(h.Notifications.Wheels.SPIN_WHEEL_ANIMATION,this.doSpinAnimation.bind(this)),this.addNotification(h.Notifications.Wheels.STOP_WHEEL_ANIMATION,this.doStopWheelAnimation.bind(this)),this.addNotification(h.Notifications.Global.HIDE_SYMBOLS,this.doHideSymbols.bind(this)),this.addNotification(h.Notifications.Global.INTRO_CLOSED,this.allowClickOnSymbols.bind(this)),this.addNotification(h.Notifications.Wheels.PLAY_ANNOUNCE_SYMBOLS_ANIMATION,this.onPlayAnnounceSymbols.bind(this)),this.addNotification(h.Notifications.Wheels.PLAY_NEAR_MISS_ANIMATION,this.onPlayNearMissAnimation.bind(this)),this.addNotification(h.Notifications.Global.TURBO_MODE_TOGGLED,this.onTurboModeToggle.bind(this)),this.addNotification(h.Notifications.Wheels.HIDE_WHEELS,this.onHideWheels.bind(this)),this.addNotification(h.Notifications.Wheels.SHOW_WHEELS,this.onShowWheels.bind(this))},e.prototype.doUpdateDisplaySymbols=function(t){this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.UPDATE_DISPLAY_SYMBOLS,t.body),this.turboToggleLockout=!1},e.prototype.onLockeWheel=function(t){this.view.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.LOCK_WHEEL,t.body)},e.prototype.onUnlockWheel=function(t){this.view.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.UNLOCK_WHEEL,t.body)},e.prototype.onNearMissWheel=function(t){this.turboModeProxy.getTurboModeActive()&&!this.turboModeSettings.nearMissEnabled||this.view.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.NEAR_MISS,t.body)},e.prototype.onStartWheelAnimation=function(t){this.sendGlobalNotification(h.Notifications.Wheels.WHEEL_START,t)},e.prototype.onWheelCompleteId=function(t){this.sendNotification(c.WheelsNotifications.WHEEL_COMPLETE,t),this.sendGlobalNotification(h.Notifications.Wheels.WHEEL_COMPLETE,t)},e.prototype.onAllWheelsCompleted=function(t){this.sendGlobalNotification(h.Notifications.Wheels.WHEELS_ANIMATIONS_TWEEN_COMPLETE),this.doWheelsAnimationComplete()},e.prototype.doWheelsAnimationComplete=function(){this.sendGlobalNotification(h.Notifications.Wheels.WHEELS_ANIMATIONS_COMPLETE,{skipUIAction:this.skipWheelCompleteUIAction}),this.skipWheelCompleteUIAction=!1},e.prototype.onAllTweensWheelsCompleted=function(t){this.sendGlobalNotification(h.Notifications.Wheels.WHEELS_COMPLETE_SOUNDS)},e.prototype.onHideSymbols=function(t){var e=this;if(0==this._announceSymbolsToHide.length)this._announceSymbolsToHide=t.symbolsToHide;else{var i=0;s.each(s.range(this.slotGameConfig.rowsCnt),(function(n){i=e.slotGameConfig.wheelsCnt*n+t.wheelId,e._announceSymbolsToHide[i]=t.symbolsToHide[i]}))}this.sendGlobalNotification(h.Notifications.Global.HIDE_SYMBOLS,this._announceSymbolsToHide)},e.prototype.onPlayAnnounceSound=function(t){this.sendGlobalNotification(h.Notifications.Wheels.PLAY_ANNOUNCE_SYMBOLS_SOUND,t)},e.prototype.onPlayWheelStopSound=function(t){this.sendGlobalNotification(h.Notifications.Wheels.PLAY_WHEEL_STOP_SOUND,t)},e.prototype.onHideWheels=function(t){this.view.display.visible=!1},e.prototype.onShowWheels=function(t){this.view.display.visible=!0},e.prototype.onSymbolsReceivedAndAdded=function(t){this.sendGlobalNotification(h.Notifications.Wheels.SYMBOLS_RECEIVED_AND_ADDED,t)},e.prototype.doSpinAnimation=function(t){this.onAllWheelsCompletedTween&&this.onAllWheelsCompletedTween.kill(),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.RESET),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.SPIN)},e.prototype.doStopWheelAnimation=function(t){s.isNil(t)||s.isNil(t.body)||s.isNil(t.body.skipUIAction)||!0===t.body.skipUIAction&&(this.skipWheelCompleteUIAction=!0),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.STOP)},e.prototype.doHideSymbols=function(t){this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.HIDE_SYMBOLS,t.body)},e.prototype.initLayers=function(){var t=this.layersProxy.retrieveLayer(a.Names.Layers.WHEELS);if(t){this.view.addNewLayer(t.container,"overground",!1);var e=this.layersProxy.retrieveLayer(a.Names.Layers.WHEELS_OVERLAY).container;this.view.addNewLayer(e,a.Names.Layers.WHEELS_OVERLAY,!1)}},e.prototype.allowClickOnSymbols=function(){this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.ALL_WHEELS_COMPLETED),this.slotGameConfig.useMasterLayout&&this.onDeviceScreenResized({}),this.initTurboSettings()},e.prototype.onPlayAnnounceSymbols=function(t){this.validationProxy.validateAtLeastOne(p.ValidationTypes.TURBO_MODE_ANNOUNCE_VALIDATION)&&this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.PLAY_ANNOUNCE_SYMBOLS_ANIMATION,t.body)},e.prototype.onPlayNearMissAnimation=function(t){this.validationProxy.validateAtLeastOne(p.ValidationTypes.TURBO_MODE_NEAR_MISS_VALIDATION)&&(this.sendGlobalNotification(h.Notifications.Wheels.NEAR_MISS_WHEEL_COMPLETED),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.PLAY_NEAR_MISS_ANIMATION,t.body))},e.prototype.onStopNearMissAnimation=function(t){this.validationProxy.validateAtLeastOne(p.ValidationTypes.TURBO_MODE_NEAR_MISS_VALIDATION)&&this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,t.body)},e.prototype.getSpineAnimationData=function(t){this.sendGlobalNotification(h.Notifications.Winning.GET_SPINE_DATA,t)},e.prototype.onTurboModeToggle=function(t){var e=!1;(s.has(t.body,"isTurboActive")&&(e=t.body.isTurboActive),this.turboModeProxy.changeTurboModeState(e),this.validationProxy.toggleValidation(p.ValidationProperties.TURBO_MODE_INACTIVE,!e),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.TURBO_MODE_TOGGLED,this.turboModeProxy.getTurboWheelDecoratorSettings()),e&&!this.turboToggleLockout)&&(this.turboToggleLockout=!0,this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,{}),this.injectDecoratorsProperty(u.WheelDecoratorInjectActionNames.STOP),this.retrieveProxy(a.Names.Proxies.NEAR_MISS).clear())},e.prototype.initTurboSettings=function(){if(this.turboModeProxy.getTurboModeActive()){var t={name:h.Notifications.Global.TURBO_MODE_TOGGLED,body:{isTurboActive:this.turboModeProxy.getTurboModeActive()}};this.onTurboModeToggle(t)}},e.prototype.onDeviceScreenResized=function(e){var i=this;if(t.prototype.onDeviceScreenResized.call(this,e),this.masterLayoutEnabaleWheelResize()&&d.Device.instance().mobile){var n=s.filter(this.masterLayoutProxy.wheelsConfiguration,{layoutType:_.LayoutType.LANDSCAPE})[0],o=s.filter(this.masterLayoutProxy.wheelsConfiguration,{layoutType:_.LayoutType.PORTRAIT})[0];if(s.isNil(n)||s.isNil(o))return;var a,r,l,c=this.masterLayoutWheelLayersToResize();d.Device.isLandscape()?(r=0,l=(a=n).reelsArea.scaleX):(a=o,r=this.masterLayoutProxy.PORTRAIT_X_OFFSET,l=Number((o.reelsArea.width*o.reelsArea.scaleX/n.reelsArea.width).toFixed(2))),s.each(c,(function(t){var e=i.layersProxy.retrieveLayer(t).container,o=a.reelsArea.x/2+r,s=a.reelsArea.y/2,c=n.reelsArea.width/2,u=n.reelsArea.height/2;e.scale.set(l,l),e.position.set(Math.floor(o-c*l/2),Math.floor(s-u*l/2))}))}},e.prototype.masterLayoutEnabaleWheelResize=function(){return this.slotGameConfig.useMasterLayout},e.prototype.masterLayoutWheelLayersToResize=function(){return[a.Names.Layers.WHEELS,a.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,a.Names.Layers.WHEELS_OVERLAY,a.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,a.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,a.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN]},e}(r.AbstractMediator);e.WheelsMediator=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(2),l=function(t){function e(e){var i=t.call(this,e)||this;return i.nearMissDuration={},i.fixDuration=!1,i.nearMissWheels={},i._wheelsSymbols=[],i._minimumSymbolsForNearMiss=[],i._maximumSymbolsForNearMiss=[],i}return o(e,t),e.prototype.updateDisplayedSymbols=function(t){var e=this;if(!this.wheelsStopped){this.wheelsSymbolsFilling(t);var i=-1;s.each(s.range(this.slotGameConfig.wheelsCnt),(function(t){var n=e.nearMissWheels[t];if(n>0){i<0&&(i=t);var o=e.nearMissDuration[n];e.fixDuration||(o=e.nearMissDuration[n]*t),e.sendGlobalNotification(r.Notifications.Wheels.NEAR_MISS_WHEEL,{wheelID:t,delay:o,currentNearMissWheel:i})}}))}},e.prototype.wheelsSymbolsFilling=function(t){var e=this;this._wheelsSymbols=[],s.each(s.range(this.slotGameConfig.wheelsCnt),(function(i){e._wheelsSymbols.push([]),s.each(s.range(e.slotGameConfig.rowsCnt),(function(n){e._wheelsSymbols[i].push(t[n][i])})),e.computeNearMissSymbolForWheel(i)}))},e.prototype.clear=function(){var t=this;this.wheelsStopped=!1,this.nearMissWheels={};var e=this.slotGameConfig.wheelsCnt;s.each(this._nearMissSymbols,(function(e,i){t.occurrences[e]=0})),this._wheelsSymbols=[],s.each(s.range(e),(function(e){t._wheelsSymbols.push([])})),this.completeWheel=e},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.masterLayoutSettingsReceived=function(){this.initProxy()},e.prototype.initProxy=function(){var t=this;s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this.completeWheel=this.slotGameConfig.wheelsCnt;var e=this.slotGameConfig.getProperties("WHEEL_DECORATORS");this._nearMissSymbols=[],s.each(e,(function(e,i){if(-1!=i.indexOf("nearMiss")&&(t.hasNearMiss=!0,s.has(e,"minimumSymbolsForNearMiss")&&(s.isArray(e.minimumSymbolsForNearMiss)?t._minimumSymbolsForNearMiss=e.minimumSymbolsForNearMiss:t._minimumSymbolsForNearMiss.push(e.minimumSymbolsForNearMiss)),s.has(e,"maximumSymbolsForNearMiss")&&(s.isArray(e.maximumSymbolsForNearMiss)?t._maximumSymbolsForNearMiss=e.maximumSymbolsForNearMiss:t._maximumSymbolsForNearMiss.push(e.maximumSymbolsForNearMiss)),s.has(e,"fixDuration")&&(t.fixDuration=e.fixDuration),s.has(e,"decoratorSymbols"))){var n=e.decoratorSymbols.split(",").map(Number);t._nearMissSymbols=s.uniq(t._nearMissSymbols.concat(n)),s.each(n,(function(i){t.nearMissDuration[i]=e.duration}))}})),this.hasNearMiss&&(0==this._minimumSymbolsForNearMiss.length&&(this._minimumSymbolsForNearMiss=[2]),0==this._maximumSymbolsForNearMiss.length&&(this._maximumSymbolsForNearMiss=[3])),this.lockedWheel=[];var i=[],n=this.slotGameConfig.getProperties("WHEEL_COLUMNS_DETAILS");s.each(n,(function(e,n){s.has(e,"allowedSymbols")&&i.push(e.allowedSymbols.split(",").map(Number)),t.lockedWheel.push(!1)})),this._allowedWheels=[],this.occurrences={},s.each(this._nearMissSymbols,(function(e,n){var o=[];s.each(i,(function(t,i){(s.isNil(t)||-1!=t.indexOf(e))&&o.push(i)})),t._allowedWheels[e]=o,t.occurrences[e]=0}))},e.prototype.computeNearMissSymbolForWheel=function(t){var e=this,i=this.slotGameConfig.wheelsCnt;this.checkReturnCondition(t)||(this.lockedWheel[t]?s.each(this._nearMissSymbols,(function(i,n){-1!=e._wheelsSymbols[t].indexOf(i)&&e.occurrences[i]++})):s.each(this._nearMissSymbols,(function(n,o){-1!=e._wheelsSymbols[t].indexOf(n)&&e.occurrences[n]++,e.occurrences[n]>e._minimumSymbolsForNearMiss[o]&&(e.completeWheel=t);var a=t+1;s.each(s.range(a,i),(function(t){if(e.occurrences[n]>=e._minimumSymbolsForNearMiss[o]&&e.occurrences[n]+1<=e._maximumSymbolsForNearMiss[o]&&-1!=e._allowedWheels[n].indexOf(t)&&!e.lockedWheel[t])return e.setNearMissWheels(t,n),!1;e.resetNearMissWheels(t,n)}))})))},e.prototype.checkReturnCondition=function(t){return t==this.slotGameConfig.wheelsCnt-1||this.wheelsStopped},e.prototype.setNearMissWheels=function(t,e){this.nearMissWheels[t]=e},e.prototype.resetNearMissWheels=function(t,e){},e}(a.Proxy);e.NearMissProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(e){var i=t.call(this,e)||this;return i._wheelsSymbols=[],i._featureOccurrencesToTrigger=[],i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.getAnnounceSymbols=function(t){var e=this,i=[];return this._announcePlayedForWheel[t]||0==this._wheelsSymbols.length||s.each(this._announceSymbols,(function(n,o){var a=[];s.each(e._allowedWheels[o],(function(t,i){e.lockedWheel[t]||a.push(t)}));var r=a.indexOf(t);if(-1==r)return i;if(!s.isNil(e._wheelsSymbols[t])&&-1!=e._wheelsSymbols[t].indexOf(n)){if(e.occurrences[n]++,e.lockedWheel[t])return;if(0==e.symbolsNumberToTrigger[n]&&r+1>=a.length-1&&e.occurrences[n]<e._featureOccurrencesToTrigger[e._announceSymbols.indexOf(n)]-(a.length-(r+1)))return;if(s.each(e._wheelsSymbols[t],(function(t){t==n&&e.symbolsNumberTriggered[n]++})),e.symbolsNumberTriggered[n]<=e.symbolsNumberToTrigger[n])return;i.push(n)}})),i},e.prototype.updateAnnounceFromDesignTool=function(){this.initProxy()},e.prototype.initProxy=function(){var t=this;s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"));var i=this.slotGameConfig.getProperties("WHEEL_DECORATORS");this._announceSymbols=[],this._featureOccurrencesToTrigger=[],this._featureOccurrencesToTrigger.push(e.DEFAULT_OCCURRENCES_TO_TRIGGER_FEATURE);var n=[];s.each(i,(function(e,i){-1!=i.indexOf("announceSpecialSymbol")&&(t.hasAnnounce=!0,s.has(e,"decoratorSymbols")&&(t._announceSymbols=e.decoratorSymbols.split(",").map(Number)),s.has(e,"numberToTrigger")&&(n=e.numberToTrigger.split(",").map(Number)),s.has(e,"featureOccurrencesToTrigger")&&(t._featureOccurrencesToTrigger=e.featureOccurrencesToTrigger.split(",").map(Number)))})),this.lockedWheel=[],this._announcePlayedForWheel=[];var o=[],a=this.slotGameConfig.getProperties("WHEEL_COLUMNS_DETAILS");s.each(a,(function(e,i){s.has(e,"allowedSymbols")&&o.push(e.allowedSymbols.split(",").map(Number)),t.lockedWheel.push(!1),t._announcePlayedForWheel.push(!1)})),this._allowedWheels=[],this.occurrences={},this.symbolsNumberTriggered={},this.symbolsNumberToTrigger={},s.each(this._announceSymbols,(function(e,i){var a=[];s.each(o,(function(t,i){(s.isNil(t)||-1!=t.indexOf(e))&&a.push(i)})),t._allowedWheels.push(a),t.occurrences[e]=0,t.symbolsNumberTriggered[e]=0,t.symbolsNumberToTrigger[e]=s.isNil(n[i])?0:n[i]}))},e.prototype.updateDisplayedSymbols=function(t){var e=this;this._wheelsSymbols=[];var i=this.slotGameConfig.wheelsCnt,n=this.slotGameConfig.rowsCnt;s.each(s.range(i),(function(i){e._wheelsSymbols.push([]),s.each(s.range(n),(function(n){e._wheelsSymbols[i].push(t[n][i])}))}))},e.prototype.clear=function(){var t=this,e=this.slotGameConfig.wheelsCnt;s.each(this._announceSymbols,(function(e,i){t.occurrences[e]=0,t.symbolsNumberTriggered[e]=0,t._announcePlayedForWheel[i]=!1})),this._wheelsSymbols=[],s.each(s.range(e),(function(e){t._wheelsSymbols.push([])}))},e.DEFAULT_OCCURRENCES_TO_TRIGGER_FEATURE=3,e}(i(13).Proxy);e.SpecialSymbolsProxy=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e}(i(16).PixiView);e.SymbolsView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(6),l=i(20),c=i(282),u=i(130),h=i(77),p=i(17),d=i(64),_=i(69),f=PIXI.Container,y=PIXI.Sprite,m=PIXI.Rectangle,N=function(t){function e(e){var i=t.call(this,e)||this;return i._layersHolder={},i.announceSpineAnimationsPool={},i}return o(e,t),e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this),this.registerBroadcastActions()},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),this._decoratorsHolder=new f,this._decoratorsHolder.name="decoratorsHolder",this.registerDecorators(),this.display.addChild(this._decoratorsHolder)},e.prototype.registerDecorators=function(){this.wheelAnimationConfig=this.initWheelsDetails();var t=p.ServiceLocator.instance().get("ViewFactory").getViewWithoutMediator("WheelsAbstractDecoratorsFactory");t?(this._wheelsAnimationDecorators=t.retrieveDecorators(),this.processDecorators().then(this.sendAnimationConfig.bind(this))):(r.Log.warning(l.StringUtil.getName(this)+" :: no wheel decorators available."),this.sendAnimationConfig())},e.prototype.processDecorators=function(){var t=this;return new Promise((function(e,i){try{var n,o=0,a={};s.each(t._wheelsAnimationDecorators,(function(t,e){a[e]=!1})),s.each(t._wheelsAnimationDecorators,(function(i,r){requestAnimationFrame((function(){i instanceof h.AbstractWheelDecorator?t.addAbstractWheelDecorator(i,o):(s.each(i,(function(e){t.decorators.push(e),(n=new y).anchor.set(.5,0),n.name=e.name,n.x=t.wheelAnimationConfig.xAxis[o],n.y=t.wheelAnimationConfig.yAxis[o];var i=t.slotGameConfig.getProperty("WHEEL_DECORATORS",e.name);s.has(i,"layer")&&s.has(t._layersHolder,i.layer)?t._layersHolder[i.layer].addChild(n):t._decoratorsHolder.addChild(n),e.inject(d.WheelDecoratorInjectActionNames.WHEEL_ID,o),e.inject(d.WheelDecoratorInjectActionNames.DISPLAY,n),e.setBroadcastHandler(t.callBroadcastHandler.bind(t))})),o++),a[r]=!0,s.some(a,(function(t){return!1===t}))||(t.injectDecoratorsProperty(d.WheelDecoratorInjectActionNames.ALL_DECORATORS_CONSTRUCTED),e())}))}))}catch(t){throw new Error(t.stack)}}))},e.prototype.sendAnimationConfig=function(){this.injectDecoratorsProperty(d.WheelDecoratorInjectActionNames.ANIMATION_CONFIG,this.wheelAnimationConfig)},e.prototype.addAbstractWheelDecorator=function(t,e){this.decorators.push(t);var i=new y;i.name=t.name;var n=this.slotGameConfig.getProperty("WHEEL_DECORATORS",t.name);s.has(n,"layer")&&s.has(this._layersHolder,n.layer)?this._layersHolder[n.layer].addChild(i):this._decoratorsHolder.addChild(i),t.inject(d.WheelDecoratorInjectActionNames.WHEEL_ID,e),t.inject(d.WheelDecoratorInjectActionNames.DISPLAY,i),t.setBroadcastHandler(this.callBroadcastHandler.bind(this))},e.prototype.reset=function(){this.injectDecoratorsProperty(d.WheelDecoratorInjectActionNames.RESET)},e.prototype.addNewLayer=function(t,e,i){this._layersHolder[e]=t,t.interactive=i},e.prototype.registerBroadcastActions=function(){t.prototype.registerBroadcastActions.call(this),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.SYMBOLS_RECEIVED_AND_ADDED,this.onSymbolsReceivedAndAdded.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE_ID,this.onWheelCompleteId.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE,this.onWheelComplete.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.START_WHEEL_ANIMATION,this.onStartWheelAnimation.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS,this.onHideSymbols.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.PLAY_ANNOUNCE_SOUND,this.onPlayAnnounceSound.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.PLAY_WHEEL_STOP_SOUND,this.onPlayWheelStopSound.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,this.getSpineAnimationData.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.PLAY_SOUND,this.onPlaySound.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.STOP_SOUND,this.onStopSound.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.SYMBOL_ON_TOP_NAME,this.setReelToTop.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.ADD_ANNOUNCE_TO_SHARED_POOL,this.addAnnounceToSharedPool.bind(this)),this.addBroadcastActionHandler(_.WheelDecoratorBroadcastActionNames.GET_ANNOUNCE_FROM_SHARED_POOL,this.getAnnounceFromSharedPool.bind(this))},e.prototype.initWheelsDetails=function(){var t,e,i=new u.WheelAnimationConfigVO,n=this.slotGameConfig.getProperties("WHEEL_COLUMNS_DETAILS"),o=this.slotGameConfig.wheelsCnt,a=this.slotGameConfig.rowsCnt;return s.each(s.range(o),(function(o){var r;t=n[o+1],r=s.isNil(t.numberOfSymbols)?a:t.numberOfSymbols,e=l.StringUtil.stringToRectangle(t.columnBounds),i.wheelsBounds.push(new m(e.x,e.y,e.width,e.height)),i.xAxis.push(e.x+e.width/2),s.isNaN(i.symbolHeight)&&(i.symbolHeight=(e.height-(r-1)*t.symbolRowSpacing)/r),i.yAxis.push(e.y+i.symbolHeight/2),s.isNaN(i.symbolsSpacing)&&(i.symbolsSpacing=t.symbolRowSpacing)})),i},e.prototype.onStartWheelAnimation=function(t,e){this.dispatchSignal(c.WheelActionsNames.WHEEL_ANIMATION_START,e.wheel_id)},e.prototype.setReelToTop=function(t,e){var i=this;s.times(this._decoratorsHolder.children.length,(function(t){i.findChildByName(i._decoratorsHolder.children[t],e.name)&&i._decoratorsHolder.addChild(i._decoratorsHolder.children[t])}))},e.prototype.onWheelCompleteId=function(t,e){this.dispatchSignal(c.WheelActionsNames.WHEEL_COMPLETE_ID,e.wheel_id)},e.prototype.onSymbolsReceivedAndAdded=function(t,e){this.dispatchSignal(c.WheelActionsNames.SYMBOLS_RECEIVED_AND_ADDED,e.wheel_id)},e.prototype.onHideSymbols=function(t,e){this.dispatchSignal(c.WheelActionsNames.HIDE_SYMBOLS,e)},e.prototype.onWheelComplete=function(t,e){var i=!0,n=!0;s.each(this._wheelsAnimationDecorators,(function(t){s.isArray(t)?s.each(t,(function(t){t.decoratorAnimationFinished||(i=!1,n=!1)})):t.decoratorAnimationFinished||(i=!1)})),n&&this.dispatchSignal(c.WheelActionsNames.ALL_WHEELS_TWEENS_COMPLETED),i&&(this.injectDecoratorsProperty(d.WheelDecoratorInjectActionNames.ALL_WHEELS_COMPLETED),this.dispatchSignal(c.WheelActionsNames.ALL_WHEELS_COMPLETED))},e.prototype.getSpineAnimationData=function(t,e){this.dispatchSignal(c.WheelActionsNames.GET_SPINE_ANIMATION_DATA,e)},e.prototype.onPlayAnnounceSound=function(t,e){this.dispatchSignal(c.WheelActionsNames.PLAY_ANNOUNCE_SOUND,e)},e.prototype.onPlayWheelStopSound=function(t,e){this.dispatchSignal(c.WheelActionsNames.PLAY_WHEEL_STOP_SOUND,e)},e.prototype.onPlaySound=function(t,e){this.playSound(e.soundName)},e.prototype.onStopSound=function(t,e){this.stopSound(e.soundName)},e.prototype.addAnnounceToSharedPool=function(t,e){this.announceSpineAnimationsPool[e.displayObjectName]||(this.announceSpineAnimationsPool[e.displayObjectName]=[]),this.announceSpineAnimationsPool[e.displayObjectName].push(e.displayObject)},e.prototype.getAnnounceFromSharedPool=function(t,e){if(this.announceSpineAnimationsPool[e.symbolId]&&this.announceSpineAnimationsPool[e.symbolId].length>0){var i=this.announceSpineAnimationsPool[e.symbolId].shift();this.injectDecoratorsProperty(d.WheelDecoratorInjectActionNames.SEND_SHARED_ANNOUNCE_SPINE,i)}},e}(a.PixiView);e.WheelAnimationsView=N},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(708),s=i(709),a=i(17),r=i(4),l=function(){function t(){}return t.prototype.retrieveDecorators=function(){var t=a.ServiceLocator.instance().get("Settings");this.slotGameConfigVO=t.getValue("GameConfig");var e=this.slotGameConfigVO.getProperties("WHEEL_DECORATORS");n.has(e,"decorators")&&(this.decoratorsList=e.decorators);for(var i={},o=1;o<this.slotGameConfigVO.wheelsCnt+1;o++)i["wheel_"+o.toString()]=this.addNewWheelDecorator(o);return this.addOtherDecorators(i),i},t.prototype.addOtherDecorators=function(t){var e=this.slotGameConfigVO.getProperties("WHEEL_DECORATORS");n.each(e,(function(e,i){var n;"maskWheelDecorator"==i&&((n=new s.MaskWheelDecorator(i)).postConstructor(),t[i]=n);"nearMissDarkBackgroundWheelDecorator"==i&&((n=new o.NearMissDarkBackgroundWheelDecorator(i)).postConstructor(),t[i]=n)}))},t.prototype.addNewWheelDecorator=function(t){var e,i=[],o=this.slotGameConfigVO.getProperties("WHEEL_DECORATORS");return n.each(this.decoratorsList,(function(t){var s=!0;n.has(o,t.decoratorName)&&n.has(o[t.decoratorName],"deviceLevel")&&(n.includes(o[t.decoratorName].deviceLevel,r.Device.deviceLevel())||(s=!1)),!0===s&&((e=new t.decoratorDefinition(t.decoratorName)).postConstructor(),i.push(e))})),i},t}();e.WheelsAbstractDecoratorsFactory=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(77),r=i(20),l=i(69),c=i(64),u=i(15),h=PIXI.Point,p=PIXI.Container,d=PIXI.Graphics,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._offset=new h(0,0),e._scale=new h(1,1),e._transitionInDuration=.2,e._transitionOutDuration=.2,e._nearMissAnimation=new p,e._decoratorSymbols=[],e._animationRunning=!1,e._wheelPositios=[],e._wheelWidth=100,e._customWheelWidth=0,e._textureName="dark-mask",e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.decoratorSettings)||(s.has(this.decoratorSettings,"decoratorSymbols")&&(this._decoratorSymbols=this.decoratorSettings.decoratorSymbols.split(",")),s.has(this.decoratorSettings,"duration")&&(this._duration=this.decoratorSettings.duration),s.has(this.decoratorSettings,"offset")&&(this._offset.x=this.decoratorSettings.offset.split(",").map(Number)[0],this._offset.y=this.decoratorSettings.offset.split(",").map(Number)[1]),s.has(this.decoratorSettings,"scale")&&(this._scale.x=this.decoratorSettings.scale.split(",").map(Number)[0],this._scale.y=this.decoratorSettings.scale.split(",").map(Number)[1]));for(var i,n,o=this.slotGameConfig.getProperties("WHEEL_COLUMNS_DETAILS"),a=0;a<this.slotGameConfig.wheelsCnt;a++)i=o[a+1],n=r.StringUtil.stringToRectangle(i.columnBounds),this._wheelPositios.push(new h(n.x,n.y)),this._wheelWidth=n.width;e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0))},e.prototype.onKeepAnnouncedSymbolsVisible=function(){this.decoratorSettings.keepAnnouncedSymbolsVisible&&this.broadcastAction(l.WheelDecoratorBroadcastActionNames.KEEP_ANNOUNCES_WHILE_NEAR_MISS)},e.prototype.onAnimationConfig=function(e){t.prototype.onAnimationConfig.call(this,e),this.initNearMissAnimation(),this.decoratorAnimationFinished=!0},e.prototype.onSpin=function(e){t.prototype.onSpin.call(this,e),this.nearMiss=!1,this.resetNearMiss(),this._stopAnimationTween&&this._stopAnimationTween.kill(),this.onStopNearMissAnimation(e)},e.prototype.onStop=function(e){t.prototype.onStop.call(this,e),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0,this.broadcastAction(l.WheelDecoratorBroadcastActionNames.WHEEL_COMPLETE)),this.decoratorAnimationFinished=!0},e.prototype.onResetAnimation=function(e){t.prototype.onResetAnimation.call(this,e),this.decoratorAnimationFinished=!0},e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.NEAR_MISS,this.onNearMiss.bind(this)),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.PLAY_NEAR_MISS_ANIMATION,this.onPlayNearMissAnimation.bind(this)),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.STOP_NEAR_MISS_ANIMATION,this.onStopNearMissAnimation.bind(this)),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.ALL_DECORATORS_CONSTRUCTED,this.onKeepAnnouncedSymbolsVisible.bind(this))},e.prototype.initNearMissAnimation=function(){""!=this._textureName?(this._mask1=u.TextureUtil.instance().createImageFromTexture(this._textureName),this._mask2=u.TextureUtil.instance().createImageFromTexture(this._textureName)):(this._mask1=new d,this._mask1.beginFill(0),this._mask1.drawRect(0,0,100,100),this._mask1.endFill(),this._mask2=new d,this._mask2.beginFill(0),this._mask2.drawRect(0,0,100,100),this._mask2.endFill()),this._mask1.scale.x=this._scale.x,this._mask1.scale.y=this._scale.y,this._mask1.width=-this._mask1.width,this._mask2.scale.x=this._scale.x,this._mask2.scale.y=this._scale.y,this._nearMissAnimation.addChild(this._mask1),this._nearMissAnimation.addChild(this._mask2),0==this._customWheelWidth?this._mask1.x-=this._wheelWidth:(this._mask1.x-=this._customWheelWidth,this._mask2.x-=this._customWheelWidth)},e.prototype.onNearMiss=function(t){var i=this.slotGameConfig.wheelsCnt,n=Number(t.wheelID);this.wheel_id==n&&(this.nearMiss=!0,s.each(s.range(n,i),(function(i,n){e.nearMissDelays[i]+=t.delay})))},e.prototype.onPlayNearMissAnimation=function(t){if(s.has(t,"completeNearMiss"))s.has(t,"hasNearMissOnTheNextWheel")&&!t.hasNearMissOnTheNextWheel&&this.doTransitionOut();else{var e=t.nearMissSymbol;if(-1==this._decoratorSymbols.indexOf(e.toString()))return;var i=t.wheelId,n=this.getNearMissPosition(i);this.addAnimation(n),this._animationRunning=!0,this.decoratorAnimationFinished=!1}},e.prototype.addAnimation=function(t){this.doTransitionIn(t),this._stopAnimationTween&&this._stopAnimationTween.kill()},e.prototype.getNearMissPosition=function(t){var e=new h;return e.x=this._wheelPositios[t].x+this._offset.x,e.y=this._wheelPositios[t].y+this._offset.y,e},e.prototype.onStopNearMissAnimation=function(t){this._animationRunning?(this._stopAnimationTween&&this._stopAnimationTween.kill(),this.doTransitionOut(),this.decoratorAnimationFinished=!0):this.decoratorAnimationFinished=!0},e.prototype.doTransitionIn=function(t){this._animationRunning||this.display.addChild(this._nearMissAnimation),this._nearMissAnimation.visible=!0,this._animationRunning||(this._nearMissAnimation.alpha=0,this._transitionTween=TweenMax.to(this._nearMissAnimation,this._transitionInDuration,{alpha:.7})),this._nearMissAnimation.x=t.x,this._nearMissAnimation.y=t.y},e.prototype.doTransitionOut=function(){var t=this;this._transitionTween=TweenMax.to(this._nearMissAnimation,this._transitionOutDuration,{alpha:0,onComplete:function(){t.onTransitionOutComplete()}}),this.decoratorAnimationFinished||(this.decoratorAnimationFinished=!0)},e.prototype.onTransitionOutComplete=function(){this.removeAnimation(),this._animationRunning=!1,this._nearMissAnimation.visible=!1},e.prototype.removeAnimation=function(){this._nearMissAnimation&&this.display.removeChild(this._nearMissAnimation)},e.prototype.resetNearMiss=function(){e.nearMissDelays=s.times(this.slotGameConfig.wheelsCnt,s.constant(0))},e}(a.AbstractWheelDecorator);e.NearMissDarkBackgroundWheelDecorator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(77),r=i(6),l=i(20),c=i(37),u=PIXI.Rectangle,h=PIXI.Graphics,p=function(t){function e(e,i){return void 0===i&&(i=""),t.call(this,e,i)||this}return o(e,t),e.prototype.onAnimationConfig=function(e){t.prototype.onAnimationConfig.call(this,e),this.addWheelsMask(e),this.decoratorAnimationFinished=!0},e.prototype.onResetAnimation=function(t){this.decoratorAnimationFinished=!0},e.prototype.addWheelsMask=function(t){var e,i=this.getMaskBounds();c.MasterLayoutConfig.symbolPrefabsVersion?((e=new h).beginFill(16777215),s.each(t.wheelsBounds,(function(t){e.drawRect(t.x,t.y,t.width,t.height)})),e.endFill()):e=this.drawMaskShape(i),this.display.addChild(e),this.display.parent.mask=e},e.prototype.getMaskBounds=function(){var t,e,i,n=this.slotGameConfig.getProperties("WHEEL_DECORATORS")[this.name];if(s.isNil(n)||s.isNil(n.limits))t=[0,.05,.95,1];else if(4!==(t=n.limits.split(",").map(Number)).length||s.some(t,(function(t){return isNaN(t)})))return void r.Log.debugch("Wheels",l.StringUtil.getName(this)+": Mask gradient limits are invalid, skipping the addition of a mask.");i=s.isNil(n)||s.isNil(n.offsetRect)?[0,0,0,0]:n.offsetRect.split(",").map(Number),e=s.isNil(n)||s.isNil(n.offset)?[0,0]:n.offset.split(",").map(Number);var o=this.wheelAnimationConfig.wheelsBounds,a=i[2]+s.reduce(o,(function(t,e,i){var n=o[i-1];return n&&(t+=e.x-(n.x+n.width)),t+e.width}),0),c=i[3]+o[0].height+e[0]+e[1];return new u(o[0].x+i[0],o[0].y-e[0]+i[1],a,c)},e.prototype.drawMaskShape=function(t){var e;return(e=new h).beginFill(16777215),e.drawRect(t.x,t.y,t.width,t.height),e.endFill(),e},e}(a.AbstractWheelDecorator);e.MaskWheelDecorator=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(711),s=function(){function t(){this._allRequiredActionsCompleteHandler=null}return t.prototype.injectDecoratorsProperty=function(t,e){},t.prototype.dispatchSignal=function(t,e){},t.prototype.addListener=function(t,e,i,n,o){},t.prototype.initDecorators=function(t){},t.prototype.setAllRequiredActionsCompleteHandler=function(t){this._allRequiredActionsCompleteHandler=t},t.prototype.add=function(t,e){void 0===e&&(e="not_needed"),this._requiredActions||(this._requiredActions={}),this._requiredActions[t]=new o.PrerequisiteActionVO(t,e)},t.prototype.remove=function(t){this._requiredActions&&this._requiredActions.hasOwnProperty(t)&&delete this._requiredActions[t]},t.prototype.reset=function(){this._requiredActionsMethodTriggered=!1,this._requiredActions&&n.each(this._requiredActions,(function(t){t.reset()}))},t.prototype.completeAction=function(t,e){var i;this._requiredActions&&this._requiredActions.hasOwnProperty(t)&&((i=this._requiredActions[t]).isActionComplete||(i.isActionComplete=!i.actionObjectMustMatch()||this.testActionObjectMatch(i,e),this.testRequiredActionsComplete()))},t.prototype.testActionObjectMatch=function(t,e){return t.actionObject==e},t.prototype.testRequiredActionsComplete=function(){if(!this._requiredActionsMethodTriggered){var t=!0;n.each(this._requiredActions,(function(e){e.isActionComplete||(t=!1)})),t&&(this._requiredActionsMethodTriggered=!0,null!=this._allRequiredActionsCompleteHandler&&this._allRequiredActionsCompleteHandler.call(null))}},t}();e.WheelsRequiredAnimatorStepActionsView=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(e,i){void 0===i&&(i=t.ACTION_OBJECT_NOT_NEEDED),this.actionObject=t.ACTION_OBJECT_NOT_NEEDED,this.isActionComplete=!1,this.actionType=e,this.actionObject=i}return t.prototype.actionObjectMustMatch=function(){var e=!0;return this.actionObject&&n.isString(this.actionObject)&&this.actionObject.toString()==t.ACTION_OBJECT_NOT_NEEDED&&(e=!1),e},t.prototype.reset=function(){this.isActionComplete=!1},t.ACTION_OBJECT_NOT_NEEDED="not_needed",t}();e.PrerequisiteActionVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(17),l=i(1),c=i(713),u=i(145),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.addingDecorator(),this.configDecorator(e.body.config)},e.prototype.configDecorator=function(t){var e={},i=[],n=[],o=[],a=[];s.each(t,(function(t,e){i.push(e);var r,l,c,u,h,p,d=t[0];n.push(d.animationName),o.push(d.name),s.each(t,(function(t){r=t.parentWidth/2,l=t.parentHeight/2,c=t.x/2,u=t.y/2,h=c-r/2,p=u-l/2,a.push(h),a.push(p)}))})),e.decoratorSymbols=i.toString(),e.spineName=n.toString(),e.json=o.toString(),e.offset=a.toString(),this.slotGameConfig.addProperty("WHEEL_DECORATORS","announceSpecialSymbolWheelDecorator",e,!1),this.specialSymbolsProxy.updateAnnounceFromDesignTool()},e.prototype.addingDecorator=function(){var t=this.slotGameConfig.getProperties("WHEEL_DECORATORS").decorators;s.each(t,(function(t){"announceSpecialSymbolWheelDecorator"==t.decoratorName&&t.decoratorDefinition==u.AnnounceSpecialSymbolWheelDecorator&&(t.decoratorDefinition=c.AnnounceSpecialSymbolSpineWheelDecorator)}))},e.prototype.initVars=function(){s.isNil(this.viewFactory)&&(this.viewFactory=r.ServiceLocator.instance().get("ViewFactory")),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.specialSymbolsProxy)&&(this.specialSymbolsProxy=this.retrieveGlobalProxy(l.Names.Proxies.SPECIAL_SYMBOLS,l.Names.Modules.WHEELS))},e}(a.Controller);e.SendSpineAnnounceConfigurationCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(35),r=i(145),l=i(69),c=i(64),u=PIXI.spine.Spine,h=PIXI.Point,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._wheelDisplayObject={},e.announceSpineAnimationsPool={},e.spineData=[],e.animations=[],e.loopSpineAnimations=[],e.scales=[],e.spineName="",e.animationOut=[],e.json="",e.scale=.5,e._loopAnimation=!1,e.sharedPoolSymbolsIds=[],e.sharedPoolSymbolsNeeded=[],e._offset=new h(0,0),e}return o(e,t),e.prototype.registerInjectActionHandlers=function(){t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(c.WheelDecoratorInjectActionNames.SEND_SHARED_ANNOUNCE_SPINE,this.onSharedAnnounceSpineReceived.bind(this))},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.slotGameConfigVO)&&(this.slotGameConfigVO=this.settings.getValue("GameConfig"));var i=this.slotGameConfigVO.getProperties("WHEEL_DECORATORS");if(s.has(i,e.ANNOUNCE_SPECIAL_SYMBOL_WHEEL_DECORATOR)){if(i=i[e.ANNOUNCE_SPECIAL_SYMBOL_WHEEL_DECORATOR],s.has(i,e.SPINE_NAME)&&(this.spineName=i[e.SPINE_NAME],this.animations=i[e.SPINE_NAME].split(",")),s.has(i,e.SPINE_LOOP_ANIMATIONS)&&(this.loopSpineAnimations=i[e.SPINE_LOOP_ANIMATIONS].split(",")),s.has(i,e.ANIMATE_OUT)&&(this.animationOut=i[e.ANIMATE_OUT].split(",")),s.has(i,e.SCALE)&&(this.scale=i[e.SCALE]),s.has(i,e.SCALES)&&(this.scales=i[e.SCALES]),s.has(i,e.OFFSET)){var n=i[e.OFFSET].split(",").map(Number);if(this._offset.x=n[0],this._offset.y=n[1],n.length>2){this._symbolsOffset=[];for(var o=0;o<n.length-1;o++)o%2==0&&this._symbolsOffset.push(new h(n[o],n[o+1]))}}s.has(i,e.SHARED_POOL_SYMBOLS_IDS)&&s.has(i,e.SHARED_POOL_SYMBOLS_NEEDED)&&(this.sharedPoolSymbolsIds=i[e.SHARED_POOL_SYMBOLS_IDS].split(",").map(Number),this.sharedPoolSymbolsNeeded=i[e.SHARED_POOL_SYMBOLS_NEEDED].split(",").map(Number))}},e.prototype.onAnimationConfig=function(i){var n=this;t.prototype.onAnimationConfig.call(this,i);var o=this.slotGameConfigVO.getProperties("WHEEL_DECORATORS");if(s.has(o,e.ANNOUNCE_SPECIAL_SYMBOL_WHEEL_DECORATOR)){if(o=o[e.ANNOUNCE_SPECIAL_SYMBOL_WHEEL_DECORATOR],s.has(o,"json")){this.json=o.json;var a=o.json.split(",");s.times(a.length,(function(t){var e={json:a[t]};n.spineData.push(e),n.broadcastAction(l.WheelDecoratorBroadcastActionNames.GET_SPINE_ANIMATION_DATA,{spineInfo:e})}))}if(this._decoratorSymbols){var r=1;s.has(o,"numPrepopulate")&&(r=o.numPrepopulate),this.prepopulatePools(r)}}},e.prototype.prepopulatePools=function(t){var e=this;s.times(this._decoratorSymbols.length,(function(i){var n=e.sharedPoolSymbolsIds.indexOf(Number(e._decoratorSymbols[i]));if(n>=0&&0==e.wheel_id)for(var o=0;o<e.sharedPoolSymbolsNeeded[n];o++){var a=e.makeSpine(e._decoratorSymbols[i]);e.addAnnounceSpineToSharedPool(a,a.name)}else s.times(t,(function(t){var n=e.makeSpine(e._decoratorSymbols[i]);e.addAnnounceSpineToPool(n,n.name)}))}))},e.prototype.makeSpine=function(t){var e=this._decoratorSymbols.indexOf(t),i=new u(this.spineData[e].atlasData[0].spineData);return i.skeleton.setToSetupPose(),i.autoUpdate=!1,this.scales&&this.scales[e]?i.scale.set(this.scales[e]):i.scale.set(this.scale),i.name="announceSpine"+t,i},e.prototype.addAnnounceSpineToPool=function(t,e){this.announceSpineAnimationsPool[e]||(this.announceSpineAnimationsPool[e]=[]),this.announceSpineAnimationsPool[e].push(t)},e.prototype.addAnnounceSpineToSharedPool=function(t,e){this.broadcastAction(l.WheelDecoratorBroadcastActionNames.ADD_ANNOUNCE_TO_SHARED_POOL,{displayObject:t,displayObjectName:e})},e.prototype.animateAnnounceSymbols=function(t,e,i){var n=this,o=this.getAnnounceSymbolsToHide(t,i);this._hideSymbols&&this.broadcastAction(l.WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS,{symbolsToHide:o,wheelId:i});var c=this.getAnnounceAnimatedSymbolFromPool(t),u=this._decoratorSymbols.indexOf(t.toString());s.isUndefined(this._symbolsOffset)||(this._offset=this._symbolsOffset[u]),c.position.set(e.x+this._offset.x,e.y+this._offset.y);var h=this.animations[u],p=this.loopSpineAnimations[u],d=this.animationOut[u],_=s.isNil(d),f=h;this._loopAnimation=!1,c.state.setAnimation(0,h,!1),p&&(f=p,this._loopAnimation=_,c.state.addAnimation(0,p,_,0)),d&&(f=d,c.state.addAnimation(0,d,!1,0)),c.update(0),this._symbolImageAnimationFinished[c.name]=!1,s.isNil(this._wheelDisplayObject[c.name])&&(this._wheelDisplayObject[c.name]=[]),this._wheelDisplayObject[c.name].push(c),r.AnnounceSpecialSymbolWheelDecorator.playedAnnounces+=1,c.state.clearListeners(),c.state.addListener({complete:function(t){t.animation.name==f&&(c.state.clearListeners(),n._loopAnimation||a.SpineManager.getInstance().removeSpine(c),n.symbolAnimationComplete(c,i))}}),this.display.addChild(c),a.SpineManager.getInstance().addSpine(c),this.broadcastAction(l.WheelDecoratorBroadcastActionNames.PLAY_ANNOUNCE_SOUND,{wheelID:i,symbolID:t,occurrence:r.AnnounceSpecialSymbolWheelDecorator.playedAnnounces})},e.prototype.getAnnounceAnimatedSymbolFromPool=function(t){this.currentSharedSpine=void 0;var e="announceSpine"+t;return this.sharedPoolSymbolsIds.indexOf(t)>=0?this.broadcastAction(l.WheelDecoratorBroadcastActionNames.GET_ANNOUNCE_FROM_SHARED_POOL,{symbolId:e}):this.announceSpineAnimationsPool[e]&&this.announceSpineAnimationsPool[e].length>0&&(this.currentSharedSpine=this.announceSpineAnimationsPool[e].shift()),s.isUndefined(this.currentSharedSpine)?this.makeSpine(t.toString()):this.currentSharedSpine},e.prototype.onSharedAnnounceSpineReceived=function(t){this.currentSharedSpine=t},e.prototype.symbolAnimationComplete=function(e,i){t.prototype.symbolAnimationComplete.call(this,e,i)},e.prototype.emptyWheel=function(t){var e=this;if(this._hideSymbols){var i=this.getAnnounceSymbolsToHide(-1,t);this.broadcastAction(l.WheelDecoratorBroadcastActionNames.HIDE_SYMBOLS,{symbolsToHide:i,wheelId:t})}s.each(this._wheelDisplayObject,(function(t){s.each(t,(function(t){var i=e.display.removeChild(t);e._loopAnimation&&a.SpineManager.getInstance().removeSpine(i);var n=parseInt(i.name.replace("announceSpine",""));e.sharedPoolSymbolsIds.indexOf(n)>=0?e.addAnnounceSpineToSharedPool(i,i.name):e.addAnnounceSpineToPool(i,i.name)}))})),this._wheelDisplayObject={}},e.prototype.onResetAnimation=function(e){for(t.prototype.onResetAnimation.call(this,e);!s.isNil(this.display.children[0]);)this.display.removeChild(this.display.children[0])},e.ANNOUNCE_SPECIAL_SYMBOL_WHEEL_DECORATOR="announceSpecialSymbolWheelDecorator",e.ANIMATE_OUT="animationOut",e.SPINE_NAME="spineName",e.SPINE_LOOP_ANIMATIONS="loopSpineAnimations",e.SCALE="scale",e.SCALES="scales",e.OFFSET="offset",e.SHARED_POOL_SYMBOLS_IDS="sharedPoolSymbolsIds",e.SHARED_POOL_SYMBOLS_NEEDED="sharedPoolSymbolsNeeded",e}(r.AnnounceSpecialSymbolWheelDecorator);e.AnnounceSpecialSymbolSpineWheelDecorator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(6),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.payoutsProxy)&&(this.payoutsProxy=this.retrieveProxy(r.Names.Proxies.PAYTABLE));var e=this.settings.getValue("SYMBOL_PAYOUTS");e?this.payoutsProxy.initializeContext(e):l.Log.errorch("Paytable","::execute -> Please set the SYMBOL_PAYOUTS variable on FGM")},e}(a.Controller);e.InitializePaytableModuleCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(19),l=i(32),c=i(23),u=i(72),h=i(4),p=i(2),d=i(7),_=i(55),f=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.paytableOpened=!1,n.firstTime=!0,n}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.PAY_TABLE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paytableView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paytableMobileView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),s.isNil(this.payoutsProxy)&&(this.payoutsProxy=this.retrieveProxy(a.Names.Proxies.PAYTABLE)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(c.FRProxiesName.FREE_ROUNDS_PROXY,a.Names.Modules.FREE_ROUNDS))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.registerToHook("getPaytableState",this.getPaytableState.bind(this))},e.prototype.getPaytableState=function(t){t.hookDetails.hookResult=this.paytableOpened},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.PaytableNotifications.HIDE_PAY_TABLE_CLOSED,this.layerTransitionOutStart,this),this.addListenerToSignal(u.PaytableNotifications.UPDATE_PAY_TABLE_SIGNAL,this.onUpdatePaytableSignal,this)},e.prototype.addNotifications=function(){(t.prototype.addNotifications.call(this),this.addNotification(p.Notifications.Global.SHOW_PAY_TABLE,this.layerTransitionInStart.bind(this)),this.addNotification(u.PaytableNotifications.UPDATE_PAY_TABLE_ACTION,this.paytableUpdate.bind(this)),this.addNotification(p.Notifications.Global.UPDATE_PAYTABLE_VALUES,this.onUpdatePaytableSignal.bind(this)),this.addNotification(p.Notifications.Increment.INCREMENT_COMPLETED,this.onIncrementCompleted.bind(this)),this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS")&&1==this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS").hasValueInPaytable&&(this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS").hasOwnProperty("jackpotFix")&&(this.hasJackpotFixed=!0),this.addNotification(p.Notifications.Global.UPDATE_PROGRESSIVE_DISPLAY,this.updateProgressive.bind(this))),this.addNotification(p.Notifications.Global.REMOVE_PRELOADER,this.onSetGameVersion.bind(this)),h.Device.instance().mobile)?(this.addNotification(p.Notifications.Global.PRELOADER_REMOVED,this.onUpdatePaytableSignal.bind(this)),this.settings.getValue("GameConfig").useMasterLayout&&(this.addNotification(p.Notifications.Global.UPDATE_USER_INTERFACE,this.mobileSettingsOpen.bind(this)),this.addNotification(_.MenuNotificationNames.MENU_RENDERING_NON_CURRENT_COMPONENT,this.renderNonCurrent.bind(this)))):h.Device.instance().minigame&&this.addNotification(p.Notifications.Global.PRELOADER_REMOVED,this.onUpdatePaytableSignal.bind(this));this.settings.getValue("ALLOW_CHEAT_TOOL")&&this.addNotification(p.Notifications.Global.TRANSLATIONS_RELOADED_FINISHED,this.positionAfterChangeLang.bind(this))},e.prototype.enterSwipeFullscreen=function(){this.paytableMobileView.inFullScreenSwipe(!0)},e.prototype.exitSwipeFullscreen=function(){this.paytableMobileView.inFullScreenSwipe(!1)},e.prototype.onSetGameVersion=function(){var t=this;return new Promise((function(e,i){requestAnimationFrame((function(){t.viewComponent.setGameVersion(),e()}))}))},e.prototype.layerTransitionInStart=function(){s.isEmpty(this.freeRoundsProxy.freeRoundsPackageDetails)&&!this.freeRoundsProxy.isFreeRoundsActive&&(t.prototype.layerTransitionInStart.call(this),this.paytableOpened=!0,this.sendGlobalNotification(p.Notifications.Global.PAY_TABLE_OPENING),this.sendGlobalNotification(p.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1))},e.prototype.layerTransitionOutStart=function(){t.prototype.layerTransitionOutStart.call(this),this.paytableOpened=!1,this.sendGlobalNotification(p.Notifications.Global.PAY_TABLE_CLOSING),this.sendGlobalNotification(p.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),this.sendGlobalNotification(p.Notifications.Global.UPDATE_USER_INTERFACE,d.UpdateUIAction.HIDE_PAY_TABLE)},e.prototype.paytableUpdate=function(t){this.paytableView.onPaytableUpdate(t.body)},e.prototype.onUpdatePaytableSignal=function(){this.payoutsProxy.updatePayouts()},e.prototype.updateProgressive=function(t){var e=t.body.progressiveValue,i=String(t.body.progressiveId),n="";n=this.hasJackpotFixed?l.NumberFormatterUtil.formatNumber(e):this.settings.getProgressiveCurrencyString(l.NumberFormatterUtil.formatNumber(e,2),!1),this.paytableView.updateProgressive(i,n)},e.prototype.onIncrementCompleted=function(){this.paytableOpened&&this.sendGlobalNotification(p.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1)},e.prototype.positionAfterChangeLang=function(){this.viewComponent.positionElements()},e.prototype.mobileSettingsOpen=function(t){t.body==d.UpdateUIAction.SHOW_MENU_MOBILE&&(this.paytableOpened=!0),t.body==d.UpdateUIAction.HIDE_MENU_MOBILE&&(this.paytableOpened=!1),this.firstTime&&h.Device.deviceLevel()==h.DeviceLevel.obsolete&&t.body==d.UpdateUIAction.SHOW_MENU_MOBILE&&(this.viewComponent.staggerTextIn(!0),this.firstTime=!1)},e.prototype.renderNonCurrent=function(t){h.Device.deviceLevel()==h.DeviceLevel.obsolete&&this.viewComponent.staggerTextIn(!1)},e}(r.AbstractMediator);e.PaytableMediator=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(95),l=i(717),c=function(t){function e(e){var i=t.call(this,e)||this;return i.scenarioCommand=null,i.debugCommand=null,i.cleanCommand=!0,i.specialCommand=null,i.debugCommands=[],i.specialCommands=[],i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){this.strips=[],this.debugCommand=null,this.specialCommand=null},e.prototype.receiveStripsData=function(t){var e=this;s.isArray(t.strips.strip)||(t.strips.strip=[t.strips.strip]),s.each(t.strips.strip,(function(t,i){s.isString(t.name)?e.strips.push(new l.SlotCheatToolStripVO(t.name,t.reels.reel)):e.strips.push(new l.SlotCheatToolStripVO("undefined"+i,t.reels.reel))})),this.sendNotification(r.SlotCheatToolNotifications.INIT_STRIPS_CHEAT_TOOL)},e.prototype.getStrips=function(){return this.strips},e.prototype.setDebugCommand=function(t,e,i){void 0===i&&(i=null),"string"==typeof t||s.isNil(t)?(this.debugCommand=t,this.cleanCommand=e,i&&(this.specialCommand=i)):(this.debugCommand=null,this.specialCommand=null,this.debugCommands=t,i&&(this.specialCommands=i))},e.prototype.setDebugCommands=function(t){this.debugCommands=t},e.prototype.setSpecialCommands=function(t){this.specialCommands=t},e.prototype.resetDebugCommands=function(){this.debugCommands=[]},e.prototype.resetSpecialDebugCommands=function(){this.specialCommand=[],this.specialCommands=[]},e.prototype.isDebugCommandPresent=function(){return!s.isNil(this.debugCommand)||this.debugCommands&&this.debugCommands.length>0},e.prototype.isSpecialDebugCommandPresent=function(){var t=!s.isNil(this.specialCommand)&&!s.isNil(this.specialCommand[0])&&"B"!=this.specialCommand[0].charAt(0)||this.specialCommand&&this.specialCommand.length>0&&"B"!=this.specialCommand[0].charAt(0);return!t&&this.specialCommands&&this.specialCommands.length>0&&((t=this.specialCommands[0]&&this.specialCommands[0].length>0&&"B"!=this.specialCommands[0][0].charAt(0))||this.specialCommands.shift()),t},e.prototype.isSpecialDebugCommandBonusPresent=function(){var t=!s.isNil(this.specialCommand)&&!s.isNil(this.specialCommand[0])&&"B"!=this.specialCommand[0].charAt(0)||this.specialCommand&&this.specialCommand.length>0&&"B"==this.specialCommand[0].charAt(0);return!t&&this.specialCommands&&this.specialCommands.length>0&&((t=this.specialCommands[0]&&this.specialCommands[0].length>0&&"B"==this.specialCommands[0][0].charAt(0))||this.settings.getValue("hasAutomationTest")||this.specialCommands.shift()),t},e.prototype.getDebugCommand=function(){var t;return this.debugCommand?(t=this.debugCommand,this.cleanCommand&&(this.debugCommand=null),t):(this.debugCommands.length>0&&(t=this.debugCommands.shift()),t)},e.prototype.getDebugSpecialCommand=function(){var t;return this.specialCommand?("B"==this.specialCommand[0].charAt(0)&&(this.specialCommand[0]=this.specialCommand[0].substr(1,this.specialCommand[0].length-1)),t=this.specialCommand,this.cleanCommand&&(this.specialCommand=null),t):(this.specialCommands.length>0&&("B"==this.specialCommands[0][0].charAt(0)&&(this.specialCommands[0][0]=this.specialCommands[0][0].substr(1,this.specialCommands[0][0].length-1)),t=this.specialCommands.shift()),t)},e}(a.Proxy);e.SlotCheatToolProxy=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t,e){var i=this;this.stripsName=t,this.stripsIndexMap=[],n.each(e,(function(t){i.stripsIndexMap.push(t.split("|").map(Number))}))};e.SlotCheatToolStripVO=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this)},e}(i(22).AbstractModule);e.CheatTool=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(91),l=i(5),c=i(95),u=i(2),h=i(1),p=i(17),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.registerServerActions(),this.sendNotification(c.SlotCheatToolNotifications.DRAW_CHEAT_TOOL)},e.prototype.initVars=function(){s.isNil(this.serverActionsProxy)&&(this.serverActionsProxy=this.retrieveGlobalProxy(h.Names.Proxies.SERVER_ACTIONS,h.Names.Modules.CONNECTION)),s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(h.Names.Proxies.SERVER_RESPONSE,h.Names.Modules.CONNECTION)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION)),s.isNil(this.cheatToolProxy)&&(this.cheatToolProxy=this.retrieveProxy(h.Names.Proxies.CHEAT_TOOL))},e.prototype.registerServerActions=function(){this.serverActionsProxy.registerServerAction(r.ServerActions.SEND_STRIPS_COMMAND,this.sendStripsCommand.bind(this)),this.serverActionsProxy.registerServerAction(r.ServerActions.SEND_DEBUG_COMMAND,this.sendDebugCommand.bind(this)),this.serverResponseProxy.addDataHandlerWithPriority(l.States.RECEIVE_STRIPS,this.receiveStripsData.bind(this)),this.connectionProxy.getServerData(l.States.INITIAL)&&this.connectionProxy.getServerData(l.States.INITIAL).currentState==l.States.BEGIN_GAME&&this.sendNotification(u.Notifications.Connection.SERVER_ACTION,r.ServerActions.SEND_STRIPS_COMMAND,h.Names.Modules.CONNECTION)},e.prototype.sendStripsCommand=function(){this.settings.getValue("ENCRYPT_COMMUNICATION")||this.connectionProxy.send([771]),this.serverActionsProxy.unregisterServerAction(r.ServerActions.SEND_STRIPS_COMMAND),p.ServiceLocator.instance().get("MVC").isRegisteredCommand(u.Notifications.Global.CHANGE_STATE,h.Names.Modules.CHEAT_TOOL)&&p.ServiceLocator.instance().get("MVC").unregisterCommand(u.Notifications.Global.CHANGE_STATE,h.Names.Modules.CHEAT_TOOL)},e.prototype.sendDebugCommand=function(){},e.prototype.receiveStripsData=function(t){this.cheatToolProxy.receiveStripsData(t)},e}(a.Controller);e.SlotInitializeCheatToolCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(91),l=i(5),c=i(2),u=i(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(u.Names.Proxies.CONNECTION,u.Names.Modules.CONNECTION)),this.connectionProxy.getServerData(l.States.INITIAL)&&this.connectionProxy.getServerData(l.States.INITIAL).currentState==l.States.BEGIN_GAME&&this.sendNotification(c.Notifications.Connection.SERVER_ACTION,r.ServerActions.SEND_STRIPS_COMMAND,u.Names.Modules.CONNECTION)},e}(a.Controller);e.SlotInitializeStripsCheatToolCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(54),a=i(90),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createButtonForList=function(t,e,i,n,o,r){void 0===o&&(o=50),void 0===r&&(r=0);var l=s.Button.createButton(e+"Button",["SlotCheatToolComandsBackground","CardCheatToolDebugGenericButtonOver","CardCheatToolDebugGenericButtonDown",""],2*n,2*o);l.buttonName=e,l.onClickHandler=this.clickButtonList.bind(this),l.y=r,l.buttonDetails={indexList:t,indexButton:i};var c=new a.ButtonLabel(e+"Label",{labelWidth:l.width/2,labelHeight:l.height/2,labelFontSize:10,labelFontColor:"0xFFFFFF",align:"center",vAlign:"center"});return l.label=c,l.addChild(c),l.updateLabel(e),l},e}(i(152).SlotCheatToolAbstractViewPixi);e.SlotCheatToolMobileViewPixi=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(2),r=i(22),l=i(5),c=i(723),u=i(724),h=i(725),p=i(726),d=i(727),_=i(728),f=i(729),y=i(730),m=i(731),N=i(732),S=i(733),g=i(734),A=i(735),E=i(737),I=i(738),O=i(739),T=i(740),P=i(741),b=i(743),C=i(744),v=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(a.Notifications.Global.INITIALIZING_MODULE,f.AutoPlayInitializeModuleCommand),this.addCommand(a.Notifications.Global.SHOW_AUTO_PLAY_POP_UP,g.ShowAutoPlayPopUpCommand),this.addCommand(a.Notifications.Global.ON_HIDE_AUTO_PLAY_POP_UP,S.onHideAutoPlayPopUpCommand),this.addCommand(a.Notifications.Global.START_AUTO_PLAY,A.StartAutoPlayCommand),this.addCommand(a.Notifications.Global.STOP_AUTO_PLAY,I.StopAutoPlayCommand),this.addCommand(a.Notifications.Global.COMPLETE_AUTO_PLAY,m.CompleteAutoPlayCommand),this.addCommand(a.Notifications.Global.START_PROGRESSIVE_POPUP,E.StartProgressivePopupCommand),this.addCommand(l.States.AUTO_PLAY_BEGIN_GAME,d.AutoPlayBeginGameCommand),this.addCommand(l.States.AUTO_PLAY_END_GAME_ENABLE_UI,_.AutoPlayEndGameEnableUICommand),this.addCommand(a.Notifications.Global.PAUSE_AUTO_ROUND,h.AutoPauseCommand),this.addCommand(a.Notifications.Global.RESUME_AUTO_ROUND,p.AutoResumeCommand),this.addCommand(a.Notifications.Money.UPDATE_DISPLAY_VALUES,y.AutoPlayUpdateDisplayValuesCommand),this.addCommand(l.States.FREE_SPINS_END_GAME_ENABLE_UI,c.AddWinningsFromFeaturesCommand),this.addCommand(a.Notifications.Global.ADD_WINNINGS_FROM_FEATURE_COMMAND_ON_AUTO,c.AddWinningsFromFeaturesCommand),this.addCommand(l.States.RESPIN_END_GAME_ENABLE_UI,c.AddWinningsFromFeaturesCommand),this.addCommand(l.States.END_GAME_ENABLE_UI,N.EndGameEnableUICommand),this.addCommand(l.States.FREE_ROUNDS_END_GAME_ENABLE_UI,N.EndGameEnableUICommand),this.addCommand(l.States.END_GAME_PREPARE,u.AutoEndGameCommand),this.addCommand(l.States.REROUTE_GAME_PREPARE,u.AutoEndGameCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(s.Names.Proxies.AUTO_PLAY,T.AutoPlayProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("AutoPlayPopUpView",[P.AutoplayPopupDesktopPixiView,C.AutoplayPopupMobilePixiView,b.AutoplayPopupMiniGamePixiView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(O.AutoPlayPopUpMediatorPixi,"AutoPlayPopUpView")},e}(r.AbstractModule);e.AutoPlay=v},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(s.Names.Proxies.AUTO_PLAY),this.moneyProxy=this.retrieveGlobalProxy(s.Names.Proxies.COINS_MONEY,s.Names.Modules.MONEY),this.autoPlayProxy.autoplayInProgress&&this.autoPlayProxy.addWinnings(this.moneyProxy.displayValues.winningsInCoins)},e}(i(3).Controller);e.AddWinningsFromFeaturesCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.autoPlayProxy)&&(this.autoPlayProxy=this.retrieveProxy(a.Names.Proxies.AUTO_PLAY)),this.autoPlayProxy.autoplayInProgress?this.sendGlobalNotification(r.Notifications.Global.ADD_ENABLE_UI_ACTION,{name:"autospin",notification:c.States.AUTO_PLAY_END_GAME_ENABLE_UI}):this.sendGlobalNotification(r.Notifications.Global.NO_ENABLE_UI_ACTION,{name:"autospin"})},e}(l.Controller);e.AutoEndGameCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(s.Names.Proxies.AUTO_PLAY),this.autoPlayProxy.pause=!0},e}(i(3).Controller);e.AutoPauseCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(a.Names.Proxies.AUTO_PLAY),this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER),this.validationProxy.validateAtLeastOne(s.ValidationTypes.AUTOPLAY_PAUSED)||this.autoPlayProxy.autoplayInProgress&&(this.autoPlayProxy.pause=!1,this.autoPlayProxy.startAutoplayNextGame())},e}(i(3).Controller);e.AutoResumeCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(2),r=i(3),l=i(6),c=i(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){l.Log.warningch("USER INTERFACE","User interaction - > Start to spin"),this.autoPlayProxy=this.retrieveProxy(s.Names.Proxies.AUTO_PLAY),this.sendGlobalNotification(a.Notifications.Winning.UPDATE_WINNINGS_SHOW_ALL,!0),this.sendGlobalNotification(c.States.BEGIN_GAME),this.sendGlobalNotification(a.Notifications.Global.SPIN);var e=this.translations.getValue("autoPlayInfoBoxMessage",this.autoPlayProxy.getPlayedGamesCount(),this.autoPlayProxy.getTotalGamesCount());this.sendGlobalNotification(a.Notifications.Global.UPDATE_INFOBOX,{message:e})},e}(r.Controller);e.AutoPlayBeginGameCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(71),l=i(7),c=i(1),u=i(2),h=i(3),p=i(5),d=i(23),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,l.UpdateUIAction.AUTO_END_GAME_ENABLE_UI),this.sendGlobalNotification(u.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0),!this.freeRoundsProxy.checkFreeRoundsAvailability()){this.autoPlayProxy.winnings=this.moneyProxy.displayValues.winningsInCoins,this.autoPlayProxy.addWinnings(this.moneyProxy.displayValues.winningsInCoins),this.autoPlayProxy.autoplayInProgress?this.autoPlayProxy.pause||this.autoPlayProxy.startAutoplayNextGame():this.freeRoundsProxy.isFreeRoundsActive?this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,p.States.FREE_ROUNDS_END_GAME_ENABLE_UI):this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,p.States.END_GAME_ENABLE_UI);var e=this.moneyProxy.validateStartGame(!1);if(!e.success)for(var i=0;i<e.status.length;i++){if(e.status[i].statusType==r.MoneyStatus.NO_MONEY_WARNING){this.updateInfoBoxMessage();break}}}},e.prototype.updateInfoBoxMessage=function(){this.validationProxy.validateAll(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)||this.sendGlobalNotification(u.Notifications.Global.UPDATE_INFOBOX,{message:this.translations.getValue("warningMessageNoMoney")})},e.prototype.initVars=function(){s.isNil(this.autoPlayProxy)&&(this.autoPlayProxy=this.retrieveProxy(c.Names.Proxies.AUTO_PLAY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(d.FRProxiesName.FREE_ROUNDS_PROXY,c.Names.Modules.FREE_ROUNDS))},e}(h.Controller);e.AutoPlayEndGameEnableUICommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(1),r=i(2),l=i(3),c=i(39),u=i(5),h=i(108),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.injectFSM(),this.registerValidations(),this.sendNotification(h.AutoPlayNotifications.INIT_AUTO_PLAY_SETTINGS)},e.prototype.injectFSM=function(){this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER);var t=[];t.push(new c.StateVO(u.States.AUTO_PLAY_BEGIN_GAME,u.States.AUTO_PLAY_BEGIN_GAME,[u.States.END_GAME_ENABLE_UI,u.States.AUTO_PLAY_END_GAME_ENABLE_UI,u.States.BEGIN_GAME,u.States.END_GAME_DECISION,u.States.END_FREE_SPINS,u.States.END_RESPINS,u.States.FREE_ROUNDS_START,u.States.FREE_ROUNDS_END_GAME_ENABLE_UI])),t.push(new c.StateVO(u.States.WAIT_FOR_NEXT_ACTION,u.States.WAIT_FOR_NEXT_ACTION,[u.States.AUTO_PLAY_BEGIN_GAME])),t.push(new c.StateVO(u.States.AUTO_PLAY_END_GAME_ENABLE_UI,u.States.AUTO_PLAY_END_GAME_ENABLE_UI,[u.States.END_GAME_DECISION])),t.push(new c.StateVO(u.States.END_GAME_ENABLE_UI,u.States.END_GAME_ENABLE_UI,[u.States.AUTO_PLAY_END_GAME_ENABLE_UI,u.States.BEGIN_GAME])),this.sendGlobalNotification(r.Notifications.GameSetup.INJECT_FSM,t)},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(s.ValidationTypes.FREE_SPINS_RESUME_AUTO_VALIDATION,s.ValidationProperties.AUTO_SPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(s.ValidationTypes.RESPINS_RESUME_AUTO_VALIDATION,s.ValidationProperties.AUTO_SPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(s.ValidationTypes.AUTOPLAY_IN_PROGRESS,s.ValidationProperties.AUTO_SPINS_IN_PROGRESS)},e}(l.Controller);e.AutoPlayInitializeModuleCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(s.Names.Proxies.AUTO_PLAY),this.moneyProxy=this.retrieveGlobalProxy(s.Names.Proxies.COINS_MONEY,s.Names.Modules.MONEY),this.autoPlayProxy.autoplayInProgress&&(this.autoPlayProxy.winnings=this.moneyProxy.displayValues.winningsInCoins,this.autoPlayProxy.checkStopFlags())},e}(i(3).Controller);e.AutoPlayUpdateDisplayValuesCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.handleUserAction()},e.prototype.handleUserAction=function(){this.sendGlobalNotification(a.Notifications.Global.UPDATE_USER_INTERFACE,s.UpdateUIAction.COMPLETE_AUTO_PLAY)},e}(i(3).Controller);e.CompleteAutoPlayCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(71),l=i(1),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.autoPlayProxy.autoplayInProgress||this.autoPlayProxy.isAutoPlayFinished||(this.sendGlobalNotification(c.Notifications.Global.COMPLETE_AUTO_PLAY),this.autoPlayProxy.isAutoPlayFinished=!0);var e=this.moneyProxy.validateStartGame(!1);if(!e.success)for(var i=0;i<e.status.length;i++){if(e.status[i].statusType==r.MoneyStatus.NO_MONEY_WARNING){this.updateInfoBoxMessage();break}}},e.prototype.updateInfoBoxMessage=function(){this.validationProxy.validateAll(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)||this.sendGlobalNotification(c.Notifications.Global.UPDATE_INFOBOX,{message:this.translations.getValue("warningMessageNoMoney")})},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER)),s.isNil(this.autoPlayProxy)&&(this.autoPlayProxy=this.retrieveProxy(l.Names.Proxies.AUTO_PLAY))},e}(i(3).Controller);e.EndGameEnableUICommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars()},e.prototype.initVars=function(){s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(a.Names.Proxies.LAYERS,a.Names.Modules.GAME_SETUP)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.showDecorativeLayer=function(){var t=this.layersProxy.retrieveLayer(a.Names.Layers.DECORATIVE_BACKGROUND);t&&t.container.style&&(t.container.style.display="block")},e}(i(3).Controller);e.onHideAutoPlayPopUpCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(108),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=this.moneyProxy.displayValues,i=e.balanceInCoins,n=e.totalBetInCoins;this.sendNotification(l.AutoPlayNotifications.SHOW_POP_UP_SETTINGS,{currentTotalBet:n,balance:i})},e.prototype.initVars=function(){s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig")),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY)),s.isNil(this.layersProxy)&&(this.layersProxy=this.retrieveGlobalProxy(a.Names.Proxies.LAYERS,a.Names.Modules.GAME_SETUP))},e.prototype.hideDecorativeLayer=function(){var t=this.layersProxy.retrieveLayer(a.Names.Layers.DECORATIVE_BACKGROUND);t&&(t.container.style.display="none")},e}(r.Controller);e.ShowAutoPlayPopUpCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(1),r=i(3),l=i(736),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(a.Names.Proxies.AUTO_PLAY),this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER);var e=new l.BasicAutoplayVO(t.body.uiAutoPlayComponent);e.stopIfCredit={enabled:!0,value:t.body.uiAutoPlayStopCreditComponent},e.stopIfWin={enabled:t.body.uiAutoPlayStopWinToggle,value:t.body.uiAutoPlayStopWinComponent},e.stopIfJackpotWin=t.body.uiAutoPlayStopJackpotToggle,e.stopWhenAllGamesHaveBeenPlayed=!0,e.hasToValidateBet=this.validateMoney(),this.autoPlayProxy.winnings=0,this.autoPlayProxy.pause=!1,this.autoPlayProxy.startAutoplay(e)},e.prototype.validateMoney=function(){return!!this.settings.getValue("CLIENT_MONEY_VALIDATION")&&this.validationProxy.validateAll(s.ValidationTypes.AUTOSPIN_BET_VALIDATION)},e}(r.Controller);e.StartAutoPlayCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=0),this.stopWhenAllGamesHaveBeenPlayed=!1,this.playedGamesCount=0,this.hasToValidateBet=!0,this.stopIfCredit={enabled:!1,value:0},this.stopIfWin={enabled:!1,value:0},this.stopIfJackpotWin=!1,this.totalGamesCount=t}return t.prototype.clone=function(){var e=new t(this.totalGamesCount);return e.stopWhenAllGamesHaveBeenPlayed=this.stopWhenAllGamesHaveBeenPlayed,e.playedGamesCount=this.playedGamesCount,e.totalGamesCount=this.totalGamesCount,e},t}();e.BasicAutoplayVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.autoPlayProxy=this.retrieveProxy(s.Names.Proxies.AUTO_PLAY),this.autoPlayProxy.jackPotWon=!0},e}(i(3).Controller);e.StartProgressivePopupCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(7),l=i(1),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER)),s.isNil(this.autoPlayProxy)&&(this.autoPlayProxy=this.retrieveProxy(l.Names.Proxies.AUTO_PLAY)),this.validationProxy.validateAll(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&(this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.STOP_AUTO_PLAY),this.autoPlayProxy.stopAutoplay(),this.sendGlobalNotification(c.Notifications.Global.NO_ENABLE_UI_ACTION,{name:"autospin"}))},e}(i(3).Controller);e.StopAutoPlayCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(55),a=i(7),r=i(1),l=i(2),c=i(19),u=i(4),h=i(5),p=i(108),d=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.autoPlaySettingsOpen=!1,n}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.AUTO_PLAY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoPlayPopUpView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY),this.registerToHook("autoSpin",this.onAutoSpinHook.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(s.MenuActionNames.MENU_SWITCH_TURBO,this.toggleTurbo,this),this.addListenerToSignal(p.AutoPlayActions.START_AUTO_PLAY,this.startAutoPlay,this),this.addListenerToSignal(p.AutoPlayActions.CANCEL_AUTO_PLAY,this.cancelAutoPlay,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),u.Device.instance().mobile&&(this.addNotification(l.Notifications.Global.CHANGE_COIN_VALUE,this.resetSetttings.bind(this)),this.addNotification(l.Notifications.Global.CHANGE_LINE_BET,this.resetSetttings.bind(this))),this.addNotification(p.AutoPlayNotifications.SHOW_POP_UP_SETTINGS,this.showPopupSettings.bind(this)),this.addNotification(l.Notifications.Global.HIDE_AUTO_PLAY_POP_UP,this.cancelAutoPlay.bind(this)),this.addNotification(p.AutoPlayNotifications.INIT_AUTO_PLAY_SETTINGS,this.initVariable.bind(this)),this.addNotification(l.Notifications.Increment.INCREMENT_COMPLETED,this.onIncrementCompleted.bind(this)),this.addNotification(l.Notifications.Global.CLICK_ON_PIXI_BG,this.bgClicked.bind(this)),this.addNotification(h.States.BEGIN_GAME,this.onBeginGame.bind(this)),this.addNotification(l.Notifications.Global.SPIN,this.onBeginGame.bind(this))},e.prototype.showPopupSettings=function(t){this.autoPlaySettingsOpen?this.cancelAutoPlay({}):(this.autoPlayPopUpView.receiveMoneyDisplay(t.body),this.layerTransitionInStart(),this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1),u.Device.instance().mobile||this.sendGlobalNotification(l.Notifications.Global.SHOW_PIXI_CLICK_CATCH,{callee:this.name}))},e.prototype.layerTransitionInStart=function(){this.autoPlaySettingsOpen=!0,t.prototype.layerTransitionInStart.call(this)},e.prototype.layerTransitionOutStart=function(){this.autoPlaySettingsOpen=!1,t.prototype.layerTransitionOutStart.call(this),u.Device.instance().mobile||this.sendGlobalNotification(l.Notifications.Global.HIDE_PIXI_CLICK_CATCH,this.name),this.sendGlobalNotification(l.Notifications.Global.ON_HIDE_AUTO_PLAY_POP_UP)},e.prototype.initVariable=function(){this.autoPlayPopUpView.initVar()},e.prototype.toggleTurbo=function(t){this.sendGlobalNotification(l.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:t})},e.prototype.onAutoSpinHook=function(t){var e=t.hookDetails,i={};i.uiAutoPlayComponent=e.uiAutoPlaySpinCount,i.uiAutoPlayStopCreditToggle=e.uiAutoPlayStopCreditToggle,i.uiAutoPlayStopCreditComponent=e.uiAutoPlayStopCreditValue,i.uiAutoPlayStopWinToggle=e.uiAutoPlayStopWinToggle,i.uiAutoPlayStopWinComponent=e.uiAutoPlayStopWinValue,i.uiAutoPlayStopJackpotToggle=e.uiAutoPlayStopJackpotToggle,this.sendGlobalNotification(l.Notifications.Global.START_AUTO_PLAY,i)},e.prototype.cancelAutoPlay=function(t){this.layerTransitionOutStart(),this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.bgClicked=function(t){t.body==this.name&&this.cancelAutoPlay({})},e.prototype.onBeginGame=function(t){this.autoPlaySettingsOpen&&this.cancelAutoPlay({})},e.prototype.startAutoPlay=function(t){this.layerTransitionOutStart(),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.START_AUTO_PLAY),this.sendGlobalNotification(l.Notifications.Global.START_AUTO_PLAY,t)},e.prototype.onIncrementCompleted=function(){this.autoPlaySettingsOpen&&this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1)},e.prototype.resetSetttings=function(){var t=this.moneyProxy.displayValues,e=t.balanceInCoins,i=t.totalBetInCoins;this.autoPlayPopUpView.receiveMoneyDisplay({currentTotalBet:i,balance:e}),this.autoPlayPopUpView.resetSettings()},e}(c.AbstractMediator);e.AutoPlayPopUpMediatorPixi=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(7),l=i(1),c=i(2),u=i(13),h=i(5),p=i(23),d=i(14),_=i(26),f=function(t){function e(e){var i=t.call(this,e)||this;return i.autoplayInProgress=!1,i.isAutoPlayFinished=!0,i.stopAutoplayAfterCurrentRound=!1,i.pause=!1,i.jackPotWon=!1,i._winnings=0,i.forceStopAutoPlay=!1,i.cumulatedWinnings=0,i.cumulatedBets=0,i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER))},Object.defineProperty(e.prototype,"winnings",{get:function(){return this._winnings},set:function(t){this._winnings=t},enumerable:!0,configurable:!0}),e.prototype.startAutoplay=function(t){this.autoplayVO=t,this.autoplayInProgress=!0,this.isAutoPlayFinished=!0,this.forceStopAutoPlay=!1,this.jackPotWon=!1,this.validationProxy.toggleValidation(a.ValidationProperties.AUTO_SPINS_IN_PROGRESS,!0),this.sendGlobalNotification(c.Notifications.Winning.UPDATE_WINNINGS_SHOW_ALL,!0),this.stopAutoplayAfterCurrentRound=!1,this.cumulatedWinnings=0,this.cumulatedBets=0,this.startAutoplayNextGame()},e.prototype.stopAutoplay=function(){this.stopAutoplayAfterCurrentRound=!0,this.completeAutoPlay()},e.prototype.startAutoplayNextGame=function(){this.updateNextGameAutoplayVO();var t=this.moneyProxy.displayValues;this.validationProxy.validateAll(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)||(this.cumulatedBets=this.autoplayVO.playedGamesCount*t.totalBetInCoins),this.validateNextGame()},e.prototype.getTotalGamesCount=function(){return this.autoplayVO.totalGamesCount},e.prototype.getPlayedGamesCount=function(){return this.autoplayVO.playedGamesCount},e.prototype.checkStopFlags=function(){this.forceStopAutoPlay||this.autoplayVO.stopIfWin.enabled&&this.autoplayVO.stopIfWin.value>0&&this.autoplayVO.stopIfWin.value<=this._winnings&&(this.forceStopAutoPlay=!0)},e.prototype.addWinnings=function(t){this.cumulatedWinnings+=t},e.prototype.isCurrentBetValid=function(){var t=!0;return this.moneyProxy.validateStartGame(!1).success||(t=!1),t},e.prototype.allConditionsValid=function(){if(this.forceStopAutoPlay)return!1;var t=this.autoplayVO;if(t.stopWhenAllGamesHaveBeenPlayed&&t.playedGamesCount-1>=t.totalGamesCount)return!1;var e=t.stopIfCredit.value+this.cumulatedWinnings-this.cumulatedBets<0;return!(t.stopIfCredit.value>0&&e)&&(!(t.stopIfWin.enabled&&t.stopIfWin.value>0&&t.stopIfWin.value<=this._winnings)&&!(this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS")&&t.stopIfJackpotWin&&this.jackPotWon))},e.prototype.updateNextGameAutoplayVO=function(){this.autoplayVO.playedGamesCount++},e.prototype.validateNextGame=function(){var t=this.isCurrentBetValid();(this.autoplayVO.hasToValidateBet||t&&!this.stopAutoplayAfterCurrentRound)&&this.allConditionsValid()?this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,h.States.AUTO_PLAY_BEGIN_GAME):(this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,h.States.BEGIN_GAME),this.completeAutoPlay())},e.prototype.completeAutoPlay=function(){var t=this.isCurrentBetValid();if(this.autoplayInProgress=!1,this.validationProxy.toggleValidation(a.ValidationProperties.AUTO_SPINS_IN_PROGRESS,!1),this.isAutoPlayFinished=!1,this.jackPotWon=!1,s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(p.FRProxiesName.FREE_ROUNDS_PROXY,l.Names.Modules.FREE_ROUNDS)),this.freeRoundsProxy.isFreeRoundsActive?this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,h.States.FREE_ROUNDS_END_GAME_ENABLE_UI):this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,h.States.END_GAME_ENABLE_UI),this.sendGlobalNotification(c.Notifications.Winning.UPDATE_WINNINGS_SHOW_ALL,!1),this.stopAutoplayAfterCurrentRound||t)this.sendGlobalNotification(c.Notifications.Global.CALL_BACK_ON_EVENT,new d.ATOnEventVO(_.SlotATEventNames.AUTO_SPIN_END,new d.ATGenericEvent(!1)));else{if(this.validationProxy.toggleValidation(a.ValidationProperties.ATM_AUTOPLAY_ENDED,!0),!this.validationProxy.validateAll(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)){var e=this.moneyProxy.validateStartGame();this.sendGlobalNotification(c.Notifications.Money.BET_NOT_VALID,e.status)}this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.COMPLETE_AUTO_PLAY)}this.sendGlobalNotification(c.Notifications.Global.AUTO_PLAY_COMPLETED)},e}(u.Proxy);e.AutoPlayProxy=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(18),l=i(153),c=i(45),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVar=function(){this.autoplayPanel=new r.ControllerContainer("apSettingsContainer",this.findMultipleChild("apSettingsContainer")),this.autoplayBg=this.findChild("autoplayBg"),this.autoplayBg.interactive=!0,this.autoplayBg.on(c.PointerStates.UP,this.preventPropagation.bind(this)),this.autoplayBg.on(c.PointerStates.OVER,(function(){a.SceneManager.renderer.view.style.cursor="pointer"})),this.autoplayBg.on(c.PointerStates.OUT,(function(){a.SceneManager.renderer.view.style.cursor="default"})),this.autoplayBgArrow=this.findChild("autoplayBgArrow");var e=this.findChild("autoplayKeyboardBg");e.interactive=!0,e.on(c.PointerStates.UP,this.preventPropagation.bind(this));var i=this.findChild("apJackpotContainer").height;this.turboContainer=this.findChild("apTurboContainer");var n=this.turboContainer.height;t.prototype.initVar.call(this),this.advSettingsArrow.x+=this.advSettingsArrow.width/2,this.advSettingsArrow.y+=this.advSettingsArrow.height/2,s.isNil(this.turboToggleButton)&&(this.autoplayPanel.y+=n,this.autoplayBg.height-=n,this.autoplayBgArrow.y=n-1,this.turboContainer=null),s.isNil(this.jackpotToggleButton)?(this.autoplayPanel.y+=i,this.autoplayBg.height-=i,this.autoplayBgArrow.y=this.autoplayBg.height-1,s.isNil(this.turboContainer)||(this.turboContainer.y-=i)):this.activateButton.currentComponent.y+=i,this.advSettingsHeight=this.advSettingsContent.height,this.autoplayPanel.visible=!1,this.toggleAdvSetting(!1),this.toggleAdvSetting(!0)},e.prototype.onHookClickButton=function(t){var e=t.hookDetails.buttonId,i=!1;if("toggleTurbo"===e){i=!0;var n=0==this.turboToggleButton.state?1:0;this.turboToggleButton.toggleState(n),this.toggleTurbo()}else"openMenu"===e&&(i=!0,this.autoplayPanel.visible=!this.autoplayPanel.visible);t.hookDetails.hookResult=i},e.prototype.toggleAdvSetting=function(e){void 0===e&&(e=null),t.prototype.toggleAdvSetting.call(this,e),this.advSettingsContent.visible?(this.autoplayPanel.y-=this.advSettingsHeight,this.autoplayBg.height+=this.advSettingsHeight,this.autoplayBgArrow.y=this.autoplayBg.height-1,this.activateButton.currentComponent.y+=this.advSettingsHeight,s.isNil(this.turboContainer)||(this.turboContainer.y+=this.advSettingsHeight)):(this.autoplayPanel.y+=this.advSettingsHeight,this.autoplayBg.height-=this.advSettingsHeight,this.autoplayBgArrow.y=this.autoplayBg.height-1,this.activateButton.currentComponent.y-=this.advSettingsHeight,s.isNil(this.turboContainer)||(this.turboContainer.y-=this.advSettingsHeight))},e.prototype.preventPropagation=function(t){t.stopPropagation()},e.prototype.showAsset=function(){this.autoplayPanel.visible=!0},e.prototype.hideAsset=function(){this.autoplayPanel.visible=!1},e.prototype.hideKeyboard=function(t){void 0===t&&(t=!1),this.keyboardInput.visible=!1,t&&(this.autoplayPanel.visible=!0)},e}(l.AbstractAutoPlayPopUpPixiView);e.AutoplayPopupDesktopPixiView=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(17),s=function(){function t(){}return Object.defineProperty(t,"serviceLocator",{get:function(){return n.isNil(this._serviceLocator)&&(this._serviceLocator=o.ServiceLocator.instance()),this._serviceLocator},enumerable:!0,configurable:!0}),Object.defineProperty(t,"mvc",{get:function(){return n.isNil(this._mvc)&&(this._mvc=this.serviceLocator.get("MVC")),this._mvc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"settings",{get:function(){return n.isNil(this._settings)&&(this._settings=this.serviceLocator.get("Settings")),this._settings},enumerable:!0,configurable:!0}),t.retrieveGlobalProxy=function(t,e){return this.mvc.retrieveProxy(t,e)},t}();e.MoneyUtils=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(18),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.yTurboContainerOpen=0,e.yTurboContainerClose=0,e}return o(e,t),e.prototype.initVar=function(){this.autoplayPanel=new a.ControllerContainer("apSubContainer",this.findMultipleChild("apSubContainer")),t.prototype.initVar.call(this),s.isNil(this.turboToggleButton)||(this.turboContainer=new a.ControllerContainer("apTurboContainer",this.findMultipleChild("apTurboContainer"))),this.advSettingsArrow.componentLandscape.x+=this.advSettingsArrow.componentLandscape.width/2,this.advSettingsArrow.componentLandscape.y+=this.advSettingsArrow.componentLandscape.height/2,s.isNil(this.turboContainer)||s.isNil(this.turboContainer.componentLandscape)||(this.yTurboContainerOpen=this.turboContainer.componentLandscape.y,this.yTurboContainerClose=this.turboContainer.componentLandscape.y-this.advSettingsContent.componentLandscape.height),this.toggleAdvSetting(!0)},e.prototype.toggleAdvSetting=function(e){void 0===e&&(e=null),t.prototype.toggleAdvSetting.call(this,e),this.advSettingsContent.visible?s.isNil(this.turboContainer)||(this.turboContainer.componentLandscape.y=this.yTurboContainerOpen):s.isNil(this.turboContainer)||(this.turboContainer.componentLandscape.y=this.yTurboContainerClose),this.autoplayPanel.recalculateScrolling()},e}(i(153).AbstractAutoPlayPopUpPixiView);e.AutoplayPopupMiniGamePixiView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(18),r=i(89),l=i(4),c=i(108),u=i(153),h=i(14),p=i(41),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVar=function(){this.autoplayPanel=new a.ControllerContainer("apSubContainer",this.findMultipleChild("apSubContainer")),this.turboContainer=new a.ControllerContainer("apTurboContainer",this.findMultipleChild("apTurboContainer"));var e=this.findMultipleChild("apJackpotContainer");t.prototype.initVar.call(this),s.isNil(this.turboToggleButton)&&(this.turboContainer=null),this.advSettingsArrow.componentLandscape.x+=this.advSettingsArrow.componentLandscape.width/2,this.advSettingsArrow.componentLandscape.y+=this.advSettingsArrow.componentLandscape.height/2,this.advSettingsArrow.componentPortrait.x+=this.advSettingsArrow.componentPortrait.width/2,this.advSettingsArrow.componentPortrait.y+=this.advSettingsArrow.componentPortrait.height/2,s.isNil(this.jackpotToggleButton)?(this.advSettingsHeight=[this.advSettingsContent.componentLandscape.height,this.advSettingsContent.componentPortrait.height],this.turboContainer&&!s.isNil(e[0])&&(this.turboContainer.componentPortrait.y+=e[0].height,this.turboContainer.componentLandscape.y+=e[1].height)):(this.advSettingsHeight=[this.advSettingsContent.componentLandscape.height+e[0].height,this.advSettingsContent.componentPortrait.height+e[1].height],this.activateButton.componentLandscape.y+=e[0].height,this.activateButton.componentPortrait.y+=e[1].height),this.toggleAdvSetting(!1),this.toggleAdvSetting(!0),this.autoplayPanel.visible=!1},e.prototype.onHookClickButton=function(t){if("toggleTurbo"===t.hookDetails.buttonId){var e=0==this.turboToggleButton.state?1:0;this.turboToggleButton.toggleState(e),this.toggleTurbo()}t.hookDetails.hookResult=!0},e.prototype.onOpenAutoplay=function(e){t.prototype.onOpenAutoplay.call(this,e);var i=this.autoplayPanel.currentComponent;this.scrollHeight=-1*(i.getViewportHeight-i.minScroll),this.autoplayPanel.currentComponent instanceof r.ScrollingContainer&&i.manualScroll(i.minScroll)},e.prototype.onScrollAutoplay=function(e){if(this.autoplayPanel.currentComponent instanceof r.ScrollingContainer){var i=this.autoplayPanel.currentComponent;if(i.contents.y>i.maxScroll){i.manualScroll(this.scrollHeight);var n=new h.ATPageScroll(e.hookDetails.id,!0),o=new h.ATOnEventVO(h.ATEventNames.PAGE_SCROLL,n,500);this.dispatchSignal(this.ON_EVENT,o),e.hookDetails.hookResult=!0}else t.prototype.onScrollAutoplay.call(this,e)}else t.prototype.onScrollAutoplay.call(this,e)},e.prototype.toggleAdvSetting=function(e){void 0===e&&(e=null),t.prototype.toggleAdvSetting.call(this,e),this.advSettingsContent.visible?(this.activateButton.componentLandscape.y+=this.advSettingsHeight[0],this.activateButton.componentPortrait.y+=this.advSettingsHeight[1],s.isNil(this.turboContainer)||(this.turboContainer.componentLandscape.y+=this.advSettingsHeight[0],this.turboContainer.componentPortrait.y+=this.advSettingsHeight[1])):(this.activateButton.componentLandscape.y-=this.advSettingsHeight[0],this.activateButton.componentPortrait.y-=this.advSettingsHeight[1],s.isNil(this.turboContainer)||(this.turboContainer.componentLandscape.y-=this.advSettingsHeight[0],this.turboContainer.componentPortrait.y-=this.advSettingsHeight[1])),this.autoplayPanel.recalculateScrolling()},e.prototype.onStartShowLayer=function(e,i){this.autoplayPanel.visible=!0,t.prototype.onStartShowLayer.call(this,e,i),this.lossLimitButton.updateLabel(this.lossLimitDisplay.text.text),this.winLimitButton.updateLabel(this.winLimitDisplay.text.text)},e.prototype.applyKeyboardValue=function(){var t=parseFloat(this.keyboardAmount.text.text.replace(/[^\d]/g,""));if(!s.isNaN(t)){var e="";switch(this.currentKeyboardDisplay){case c.AutoPlayNames.AP_LOSS_LIMIT_BUTTON:e=t>this.settingsAutoplayFGM.maxValueLoss?p.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueLoss):t<this.moneyData.totalBetInCoins?p.SlotMoneyUtils.getCoinsAsString(this.moneyData.totalBetInCoins):p.SlotMoneyUtils.getCoinsAsString(t),this.lossLimitDisplay.updateLabel(e),this.lossLimitButton.updateLabel(this.lossLimitDisplay.text.text);break;case c.AutoPlayNames.AP_WIN_LIMIT_BUTTON:e=t>=this.settingsAutoplayFGM.maxValueWin?p.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.maxValueWin):t<this.settingsAutoplayFGM.minValueWin?p.SlotMoneyUtils.getCoinsAsString(this.settingsAutoplayFGM.minValueWin):p.SlotMoneyUtils.getCoinsAsString(t),this.winLimitDisplay.updateLabel(e),this.winLimitButton.updateLabel(this.winLimitDisplay.text.text)}}},e.prototype.updateStepper=function(){l.Device.isLandscape()?this.stepper.componentPortrait&&(this.stepper.componentPortrait.index=this.stepper.index):this.stepper.componentLandscape&&(this.stepper.componentLandscape.index=this.stepper.index)},e}(u.AbstractAutoPlayPopUpPixiView);e.AutoplayPopupMobilePixiView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(292),r=i(124),l=i(293),c=i(294),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("stripView",[r.StripAbstractPixiView,c.StripMobilePixiView,l.StripMiniGamePixiView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(a.StripMediator,"stripView")},e}(s.AbstractModule);e.Strip=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(59),s=function(){function t(t,e,i){this._canShowStrips=!1,this.hasBonusBalance=!1,this.stripElements=t,this.bonusStrip=e,this.bonusLabel=i,this.timer=new o.Timer(2e3,this.changeStrip.bind(this)),this.currentlyVisible=this.stripElements}return Object.defineProperty(t.prototype,"canShowStrips",{set:function(t){this._canShowStrips=t,this.hasBonusBalance&&!this.timer.running&&this.timer.start()},enumerable:!0,configurable:!0}),t.prototype.updateBonusBalance=function(t){this.hasBonusBalance=!0,this.bonusLabel.updateLabel(t.toString()),!this.timer.running&&this._canShowStrips&&this.timer.start()},t.prototype.stopBonusDisplay=function(){this.hasBonusBalance=!1,this.bonusStrip.visible=!1,this.toggleArrayOfContainers(this.stripElements,!0),this.currentlyVisible=this.stripElements,this.timer.running&&this.timer.stop()},t.prototype.changeStrip=function(){this.currentlyVisible===this.stripElements?(this.toggleArrayOfContainers(this.stripElements,!1),this.bonusStrip.visible=!0,this.currentlyVisible=this.bonusStrip):(this.bonusStrip.visible=!1,this.toggleArrayOfContainers(this.stripElements,!0),this.currentlyVisible=this.stripElements)},t.prototype.toggleArrayOfContainers=function(t,e){n.each(t,(function(t){t.visible=e}))},t}();e.PIXIBonusBalanceManager=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(48),a=i(32),r=i(293),l=i(38),c=i(102),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY="SlotStripView.onIncrementUpdateForWin"+l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY="SlotStripView.onIncrementUpdateForWin"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementUpdateForBalance"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY="SlotStripView.onIncrementCompleteForBalance"+l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,e}return o(e,t),e.prototype.startCumulativeIncrementWin=function(t){this.initIncrementUpdates();var e=this.displayValues.getStringValueFrom(parseFloat(t.body.valueMoney),this.noCurrency);this.updateLabel(this.winLabel,e),this.cumulativeWinStarted=!0,this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY})},e.prototype.stopCumulativeIncrementWin=function(){this.cumulativeWinStarted=!1;var t=this.displayValues.getStringValueFrom(0,this.noCurrency);this.updateLabel(this.winLabel,t),this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.REMOVE_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CUMULATIVE_INCREMENTAL_WIN_MONEY,onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CUMULATIVE_KEY})},e.prototype.initIncrementUpdates=function(){this._labelSync||(this._labelSync=!0,this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForBalance.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_BALANCE_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.ADD_ON_UPDATE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onUpdate:this.onIncrementUpdateForWin.bind(this),onUpdateKey:this.ON_INCREMENT_UPDATE_FOR_WIN_CURRENT_KEY,updateType:c.IncrementUpdateTypeNames.INCREMENT_TYPE_HTML}),this.dispatchSignal(s.StripActionsNames.ADD_ON_COMPLETE_FUNCTION_TO_INCREMENT,{incrementId:l.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY,onComplete:this.onIncrementCompleteForBalance.bind(this),onCompleteKey:this.ON_INCREMENT_COMPLETE_FOR_BALANCE_CURRENT_KEY}))},e.prototype.setMaxWinCapReached=function(t){this.maxWinCapReached=t},e.prototype.onIncrementUpdateForBalance=function(e){if(this.maxWinCapReached){var i=this.displayValues.balance,n=this.displayValues.getStringValueFrom(i,this.noCurrency);if(this.updateLabel(this.balanceLabel,n),this.creditLabel){var o=i/this.displayValues.coinValue;this.noCurrency&&(o=Math.floor(o)),this.updateLabel(this.creditLabel,a.NumberFormatterUtil.formatNumber(o,0))}}else t.prototype.onIncrementUpdateForBalance.call(this,e)},e}(r.StripMiniGamePixiView);e.SlotStripMiniGamePixiView=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(3),l=i(23),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.connectionProxy.send(["800","activate_freerounds"]),this.freeRoundsProxy.startFreeRounds()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(a.Names.Proxies.CONNECTION,a.Names.Modules.CONNECTION)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(l.FRProxiesName.FREE_ROUNDS_PROXY))},e}(r.Controller);e.FreeRoundsAcceptCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(5),l=i(3),c=i(23),u=i(2),h=i(1),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.freeRoundsProxy.clearFreRoundsDetails(),this.freeRoundsProxy.setHasToStarFreeRoundsFeature(!1),this.connectionProxy.send(["800","decline_freerounds"]),this.sendGlobalNotification(u.Notifications.Global.CHANGE_STATE,r.States.BEGIN_GAME),this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BEGIN_GAME)},e.prototype.initVars=function(){s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(c.FRProxiesName.FREE_ROUNDS_PROXY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION))},e}(l.Controller);e.FreeRoundsDeclineCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(5),r=i(83),l=i(3),c=i(2),u=i(1),h=i(23),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.fRound?(this.sendGlobalNotification(c.Notifications.Global.ADD_ENABLE_UI_ACTION,{name:r.SlotEndGameDecisionNames.FREE_ROUNDS,notification:a.States.FREE_ROUNDS_END_GAME_ENABLE_UI}),this.updateFreeRoundsProxy()):this.sendGlobalNotification(c.Notifications.Global.NO_ENABLE_UI_ACTION,{name:r.SlotEndGameDecisionNames.FREE_ROUNDS}),this.updateFRProxyWithPendingWins(),this.sendGlobalNotification(c.Notifications.SlotLogic.NO_ENDGAME_ACTION,r.SlotEndGameDecisionNames.FREE_ROUNDS)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(u.Names.Proxies.CONNECTION,u.Names.Modules.CONNECTION)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(h.FRProxiesName.FREE_ROUNDS_PROXY)),this.fRound=this.connectionProxy.getServerData("fRound"),this.fRoundTotalWins=this.connectionProxy.getServerData("fRoundTotalWins"),this.fRoundPendingWins=this.connectionProxy.getServerData("fRoundPendingWins"),this.fRoundConvToBonus=this.connectionProxy.getServerData("fRoundConvToBonus"),this.fRoundBonusStatus=this.connectionProxy.getServerData("fRoundBonusStatus"),this.fRoundCap=this.connectionProxy.getServerData("fRoundCap"),this.fRoundUnlimited=this.connectionProxy.getServerData("fRoundUnlimited"),this.fRoundActiveBonusAmount=this.connectionProxy.getServerData("fRoundActiveBonusAmount"),this.fRoundDisplaySpinUntilYouWin=this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin"),this.endGame=this.connectionProxy.getServerData(a.States.END_GAME)},e.prototype.updateFreeRoundsProxy=function(){this.freeRoundsProxy.freeRoundsPackageDetails.fRoundRounds=this.fRound.fRoundRounds,this.fRoundTotalWins&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalWins=this.fRoundTotalWins.value),this.fRoundConvToBonus&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundConvToBonus="0"!=this.fRoundConvToBonus.value),this.fRoundBonusStatus&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundBonusStatus=this.fRoundBonusStatus.value),this.fRoundCap&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundCap=this.fRoundCap.value,this.fRoundUnlimited&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundUnlimited=this.fRoundUnlimited.value),this.fRoundDisplaySpinUntilYouWin&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundDisplaySpinUntilYouWin=this.fRoundDisplaySpinUntilYouWin.value)),this.fRoundActiveBonusAmount&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundActiveBonusAmount=this.fRoundActiveBonusAmount.value),this.freeRoundsProxy.updateFreeRoundsScreen()},e.prototype.updateFRProxyWithPendingWins=function(){this.fRoundPendingWins&&(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundPendingWins=this.getGamesNames())},e.prototype.getGamesNames=function(){return JSON.parse(atob(this.fRoundPendingWins.value))},e}(l.Controller);e.FreeRoundsEndGameCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(1),l=i(2),c=i(3),u=i(5),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.COIN_VALUE_COMMAND="2",e}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.initVars(),this.setBetLevelFeatureDetails(),!s.isNil(this.connectionProxy.getServerData("fRoundOriginalCV"))){var i=s.toNumber(this.connectionProxy.getServerData("fRoundOriginalCV").value),n=this.moneyProxy.updateCoinValue(i,!0);if(n.success){this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,u.States.BEGIN_GAME),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS),this.progressiveConnectionProxy.sendCoinValue();var o=["192837"].concat([this.COIN_VALUE_COMMAND,i.toString()]);this.connectionProxy.send(o)}else this.sendGlobalNotification(l.Notifications.Money.BET_NOT_VALID,n.status)}},e.prototype.setBetLevelFeatureDetails=function(){var t=this.settings.getValue("BET_LEVEL");s.isNil(t)||t.enabled&&(this.moneyProxy.getCurrentCoin()==t.betPerLine&&this.moneyProxy.getCurrentLine()==t.lines||(this.moneyProxy.updateCoins(t.betPerLine,!0,!1,!1),this.moneyProxy.updateLinesId(t.lines-1,!0,!1,!1),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BET_BUTTONS)))},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(r.Names.Proxies.COINS_MONEY,r.Names.Modules.MONEY)),s.isNil(this.progressiveConnectionProxy)&&(this.progressiveConnectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.PROGRESSIVE_CONNECTION,r.Names.Modules.CONNECTION))},e}(c.Controller);e.FreeRoundsHideEndPopUpFreeRoundsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(39),r=i(5),l=i(3),c=i(23),u=i(2),h=i(1),p=i(10),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.injectFSM(),this.registerValidations()},e.prototype.injectFSM=function(){var t=[];t.push(new a.StateVO(r.States.FREE_ROUNDS_START,r.States.FREE_ROUNDS_START,[r.States.INITIAL,r.States.REROUTE_GAME,r.States.END_FREE_SPINS,r.States.END_GAME_DECISION,r.States.END_RESPINS])),t.push(new a.StateVO(r.States.FREE_ROUNDS_BEGIN_GAME,r.States.FREE_ROUNDS_BEGIN_GAME,[r.States.FREE_ROUNDS_START])),t.push(new a.StateVO(r.States.BEGIN_GAME,r.States.BEGIN_GAME,[r.States.FREE_ROUNDS_START])),t.push(new a.StateVO(r.States.END_GAME_ENABLE_UI,r.States.END_GAME_ENABLE_UI,[r.States.FREE_ROUNDS_END])),t.push(new a.StateVO(r.States.WAIT_FOR_NEXT_ACTION,r.States.WAIT_FOR_NEXT_ACTION,[r.States.FREE_ROUNDS_BEGIN_GAME])),t.push(new a.StateVO(r.States.FREE_ROUNDS_END,r.States.FREE_ROUNDS_END,[r.States.END_GAME_DECISION,r.States.FREE_ROUNDS_END_GAME_ENABLE_UI,r.States.AUTO_PLAY_END_GAME_ENABLE_UI])),t.push(new a.StateVO(r.States.FREE_ROUNDS_END_GAME_ENABLE_UI,r.States.FREE_ROUNDS_END_GAME_ENABLE_UI,[r.States.END_GAME_DECISION,r.States.AUTO_PLAY_END_GAME_ENABLE_UI,r.States.END_FREE_SPINS,r.States.END_RESPINS,r.States.BEGIN_GAME])),t.push(new a.StateVO(r.States.FREE_ROUNDS_BEGIN_GAME,r.States.FREE_ROUNDS_BEGIN_GAME,[r.States.FREE_ROUNDS_END_GAME_ENABLE_UI])),this.sendGlobalNotification(u.Notifications.GameSetup.INJECT_FSM,t)},e.prototype.initVars=function(){s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(h.Names.Proxies.SERVER_RESPONSE,h.Names.Modules.CONNECTION)),this.serverResponseProxy.addDataHandlerWithPriority("fRoundTotalWins",this.receivefRoundTotalWinsData.bind(this)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(c.FRProxiesName.FREE_ROUNDS_PROXY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(h.Names.Proxies.VALIDATION,h.Names.Modules.LOADER))},e.prototype.receivefRoundTotalWinsData=function(){var t=this.connectionProxy.getServerData("fRoundTotalWins"),e=this.connectionProxy.getServerData("fRoundCap"),i=this.connectionProxy.getServerData("fRoundUnlimited"),n=this.connectionProxy.getServerData("fRoundActiveBonusAmount"),o=this.connectionProxy.getServerData("fRoundConvToBonus"),s=this.connectionProxy.getServerData("fRoundBonusStatus"),a=this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin"),r=this.connectionProxy.getServerData("fRound");if(t&&(!r||r&&0==parseInt(r.fRoundRounds))){var l={};l.fRoundTotalWins=t.value,e&&(l.fRoundCap=e.value,i&&(l.fRoundUnlimited=i.value),a&&(l.fRoundDisplaySpinUntilYouWin=a.value)),n&&(l.fRoundActiveBonusAmount=n.value),o&&(l.fRoundConvToBonus="0"!=o.value,s&&(l.fRoundBonusStatus=s.value)),this.freeRoundsProxy.freeRoundsPackageDetails=l,this.freeRoundsProxy.setHasToStarFreeRoundsFeature(!0)}},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(p.ValidationTypes.FREE_ROUNDS_IN_PROGRESS,p.ValidationProperties.FREE_ROUNDS_IN_PROGRESS),this.validationProxy.registerValidationRequest(p.ValidationTypes.SUBSTRACT_BET_VALIDATION,p.ValidationProperties.FREE_ROUNDS_IN_PROGRESS),this.validationProxy.registerValidationRequest(p.ValidationTypes.BET_VALIDATION,p.ValidationProperties.FREE_ROUNDS_IN_PROGRESS),this.validationProxy.registerValidationRequest(p.ValidationTypes.AUTOSPIN_BET_VALIDATION,p.ValidationProperties.FREE_ROUNDS_IN_PROGRESS)},e}(l.Controller);e.FreeRoundsInitializeModuleCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(36),r=i(5),l=i(83),c=i(3),u=i(23),h=i(2),p=i(1),d=i(10),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.initVars(),this.checkFreeRoundsFeature()){var i=this.getEndGameAction(this.endGame);this.sendGlobalNotification(h.Notifications.SlotLogic.ADD_ENDGAME_ACTION,i)}else this.sendGlobalNotification(h.Notifications.SlotLogic.NO_ENDGAME_ACTION,l.SlotEndGameDecisionNames.FREE_ROUNDS);this.checkFreeRoundsFeature()?this.sendGlobalNotification(h.Notifications.Global.ADD_ENABLE_UI_ACTION,{name:l.SlotEndGameDecisionNames.FREE_ROUNDS,notification:r.States.FREE_ROUNDS_END_GAME_ENABLE_UI}):this.sendGlobalNotification(h.Notifications.Global.NO_ENABLE_UI_ACTION,{name:l.SlotEndGameDecisionNames.FREE_ROUNDS})},e.prototype.initVars=function(){var t;(s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(p.Names.Proxies.CONNECTION,p.Names.Modules.CONNECTION)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(u.FRProxiesName.FREE_ROUNDS_PROXY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(p.Names.Proxies.VALIDATION,p.Names.Modules.LOADER)),this.fRound=this.connectionProxy.getServerData("fRound"),this.endGame=this.connectionProxy.getServerData(r.States.END_GAME),this.fRound&&this.setFreeRoundsPackageDetails(),this.fRoundPendingWins=this.connectionProxy.getServerData("fRoundPendingWins"),this.fRoundPendingWins)&&((t={}).fRoundPendingWins=this.getGamesNames(),this.connectionProxy.getServerData("fRoundCap")&&(t.fRoundCap=this.connectionProxy.getServerData("fRoundCap").value,this.connectionProxy.getServerData("fRoundUnlimited")&&(t.fRoundUnlimited=this.connectionProxy.getServerData("fRoundUnlimited").value),this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin")&&(t.fRoundDisplaySpinUntilYouWin=this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin").value)),this.connectionProxy.getServerData("fRoundActiveBonusAmount")&&(t.fRoundActiveBonusAmount=this.connectionProxy.getServerData("fRoundActiveBonusAmount").velue),this.freeRoundsProxy.freeRoundsPackageDetails=t);(this.fRoundTotalWins=this.connectionProxy.getServerData("fRoundTotalWins"),this.fRoundTotalWins&&!this.fRound)&&((t={}).fRoundTotalWins=this.fRoundTotalWins.value,this.connectionProxy.getServerData("fRoundCap")&&(t.fRoundCap=this.connectionProxy.getServerData("fRoundCap").value,this.connectionProxy.getServerData("fRoundUnlimited")&&(t.fRoundUnlimited=this.connectionProxy.getServerData("fRoundUnlimited").value),this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin")&&(t.fRoundDisplaySpinUntilYouWin=this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin").value)),this.connectionProxy.getServerData("fRoundActiveBonusAmount")&&(t.fRoundActiveBonusAmount=this.connectionProxy.getServerData("fRoundActiveBonusAmount").value),this.freeRoundsProxy.freeRoundsPackageDetails=t)},e.prototype.getEndGameAction=function(t){var e={};return e.name=l.SlotEndGameDecisionNames.FREE_ROUNDS,e.startNotification=r.States.FREE_ROUNDS_START,e.endNotification=a.UserInterfaceAction.HIDE_FREE_ROUNDS_END_POP_UP,e.sendImediatlyEndGameEnableUI=!1,e.startChangeState=!0,e},e.prototype.setFreeRoundsPackageDetails=function(){var t={};t.fRoundLines=this.fRound.fRoundLines,t.fRoundLineBet=this.fRound.fRoundLineBet,t.fRoundCoinValue=this.fRound.fRoundCoinValue,t.fRoundRounds=this.fRound.fRoundRounds,t.fRoundTotalRounds=this.fRound.fRoundTotalRounds,t.fRoundState=this.connectionProxy.getServerData("fRoundState").value,t.fRoundTotalWins=this.connectionProxy.getServerData("fRoundTotalWins").value,t.fRoundEndDate=this.connectionProxy.getServerData("fRoundEndDate").value,t.fRoundDurationRelative=this.connectionProxy.getServerData("fRoundDurationRelative").value,this.connectionProxy.getServerData("fRoundCap")&&(t.fRoundCap=this.connectionProxy.getServerData("fRoundCap").value,this.connectionProxy.getServerData("fRoundUnlimited")&&(t.fRoundUnlimited=this.connectionProxy.getServerData("fRoundUnlimited").value),this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin")&&(t.fRoundDisplaySpinUntilYouWin=this.connectionProxy.getServerData("fRoundDisplaySpinUntilYouWin").value)),this.connectionProxy.getServerData("fRoundActiveBonusAmount")&&(t.fRoundActiveBonusAmount=this.connectionProxy.getServerData("fRoundActiveBonusAmount").value),this.freeRoundsProxy.freeRoundsPackageDetails=t},e.prototype.getGamesNames=function(){return JSON.parse(atob(this.fRoundPendingWins.value))},e.prototype.checkFreeRoundsFeature=function(){var t=!1;return this.fRound&&(this.hasToStartFreeRoundsImmediately()?t=!0:this.freeRoundsProxy.setHasToStarFreeRoundsFeature(!0)),this.fRoundPendingWins&&(this.hasToStartFreeRoundsImmediately()?t=!0:this.freeRoundsProxy.setHasToStarFreeRoundsFeature(!0)),t},e.prototype.hasToStartFreeRoundsImmediately=function(){return"beginGame"==this.connectionProxy.getServerData(r.States.INITIAL).currentState&&this.validationProxy.validateNone(d.ValidationTypes.SPECIAL_FEATURE_BLOCKS_FREE_ROUNDS)},e}(c.Controller);e.FreeRoundsRerouteGameCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(23),l=i(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.connectionProxy.send(["800","activate_freerounds"]),this.freeRoundsProxy.startFreeRounds()},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(r.FRProxiesName.FREE_ROUNDS_PROXY))},e}(a.Controller);e.FreeRoundsResumeCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(7),r=i(5),l=i(3),c=i(2),u=i(23),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.freeRoundsProxy.clearFreRoundsDetails(),this.sendGlobalNotification(c.Notifications.Global.CHANGE_STATE,r.States.BEGIN_GAME),this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,a.UpdateUIAction.BEGIN_GAME)},e.prototype.initVars=function(){s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(u.FRProxiesName.FREE_ROUNDS_PROXY))},e}(l.Controller);e.FreeRoundsResumePendingWinningsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e}(i(3).Controller);e.FreeRoundsStartCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(19),l=i(5),c=i(23),u=i(2),h=a.Names.Layers,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.FREE_ROUNDS_END},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"freeRoundsEndView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(c.FRProxiesName.FREE_ROUNDS_PROXY))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(c.FRActions.FREE_ROUNDS_HIDE_END_POP_UP,this.onHideEndPopUp,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(l.States.FREE_ROUNDS_END,this.showEndPopUp.bind(this))},e.prototype.showEndPopUp=function(){this.drawLayer(),this.layerTransitionInStart()},e.prototype.layerTransitionInComplete=function(){t.prototype.layerTransitionInComplete.call(this),this.freeRoundsEndView.showEndPopUp(this.freeRoundsProxy.freeRoundsPackageDetails)},e.prototype.onHideEndPopUp=function(){this.layerTransitionOutStart(),this.settings.map("maxWinCapReached",!1),this.sendNotification(c.FRNotifications.HIDE_END_POP_UP_FREE_ROUNDS),this.sendGlobalNotification(u.Notifications.Winning.STOP_WINNINGS_ANIMATIONS),this.sendGlobalNotification(u.Notifications.Global.UPDATE_INFOBOX,{message:""})},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),this.deleteLayers()},e.prototype.deleteLayers=function(){$(this.layersProxy.retrieveLayer(h.FREE_ROUNDS_END).container).remove(),$(this.layersProxy.retrieveLayer(h.FREE_ROUNDS_START).container).remove(),$(this.layersProxy.retrieveLayer(h.FREE_ROUNDS_UI).container).remove()},e}(r.AbstractMediator);e.FreeRoundsEndMediator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(5),r=i(19),l=i(2),c=i(1),u=i(23),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPopUpVisible=!1,e}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return c.Names.Layers.FREE_ROUNDS_START},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"freeRoundsView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.preRegister=function(){t.prototype.preRegister.call(this)},e.prototype.whileRegistering=function(){t.prototype.whileRegistering.call(this)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(u.FRProxiesName.FREE_ROUNDS_PROXY))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.FRActions.ACCEPT_FREE_ROUNDS,this.onAcceptFreeRoundsAction,this),this.addListenerToSignal(u.FRActions.DECLINE_FREE_ROUNDS,this.onDeclineFreeRoundsAction,this),this.addListenerToSignal(u.FRActions.RESUME_FREE_ROUNDS,this.onResumeFreeRoundsAction,this),this.addListenerToSignal(u.FRActions.RESUME_PENDING_WINNINGS,this.onResumePendingWinningAction,this),this.addListenerToSignal(u.FRActions.FREE_ROUNDS_HIDE_START_POP_UP,this.onFRHideStartPopUp,this)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.States.FREE_ROUNDS_START,this.startFreeRounds.bind(this)),this.addNotification(l.Notifications.Global.SPIN,this.onSpinAction.bind(this))},e.prototype.startFreeRounds=function(){this.drawLayer(),this.layerTransitionInStart()},e.prototype.layerTransitionInComplete=function(){t.prototype.layerTransitionInComplete.call(this),this.freeRoundsView.showStartPopUp(this.freeRoundsProxy.freeRoundsPackageDetails),this.isPopUpVisible=!0,this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1)},e.prototype.onSpinAction=function(){this.isPopUpVisible&&this.freeRoundsView.hidePopUp(),this.isPopUpVisible=!1},e.prototype.onFRHideStartPopUp=function(){this.layerTransitionOutStart(),this.sendGlobalNotification(l.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0)},e.prototype.onAcceptFreeRoundsAction=function(){this.isPopUpVisible=!1,this.sendNotification(u.FRNotifications.ACCEPT_FREE_ROUNDS)},e.prototype.onDeclineFreeRoundsAction=function(){this.isPopUpVisible=!1,this.sendNotification(u.FRNotifications.DECLINE_FREE_ROUNDS)},e.prototype.onResumeFreeRoundsAction=function(){this.isPopUpVisible=!1,this.sendNotification(u.FRNotifications.RESUME_FREE_ROUNDS)},e.prototype.onResumePendingWinningAction=function(){this.isPopUpVisible=!1,this.sendNotification(u.FRNotifications.RESUME_PENDING_WINNINGS_FREE_ROUNDS)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(r.AbstractMediator);e.FreeRoundsStartMediator=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(47),l=i(18),c=i(27),u=i(20),h=i(8),p=i(23),d=i(41),_=PIXI.Sprite,f=PIXI.Graphics,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVisible=!1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.registerToHook("clickButton",this.onHookClickButton.bind(this))},e.prototype.onStartHideLayer=function(t,e){this.onCompleteHideLayer(t,e)},e.prototype.showEndPopUp=function(t){if(this.isVisible=!0,this.display.visible=!0,s.isNil(this.endPopUpHolder)&&this.initVar(),this.display.addChildAt(this.backgroundContainer,0),this.backgroundContainer.visible=!0,t.fRoundPendingWins)this.endPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsPendingWins"),this.getGamesNames(t.fRoundPendingWins)));else if(t.fRoundTotalWins>0){var e=d.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.fRoundTotalWins);if(this.endPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),t.fRoundConvToBonus)if(t.fRoundConvToBonus)switch(t.fRoundBonusStatus){case"ACTIVE":this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsEndBonusMoneyActive"),e));break;case"PENDING":if(t.fRoundActiveBonusAmount){var i=d.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.fRoundActiveBonusAmount);this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsEndBonusMoneyPendingAmount"),e,i))}else this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsEndBonusMoneyPending"),e));break;case"QUEUED":if(t.fRoundActiveBonusAmount){i=d.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.fRoundActiveBonusAmount);this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsEndBonusMoneyQueuedAmount"),e,i))}else this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundsEndBonusMoneyActiveNotActive"),e))}else this.endPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundPopupLine1End"),e));else this.endPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),this.endPopUpPrizeText.updateLabel(u.StringUtil.sprintf(this.translations.getValue("freeRoundPopupLine1End"),e))}else this.endPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsNoWinnings")),this.endPopUpPrizeText.updateLabel(this.translations.getValue("freeRoundsNoWinningsPrize"));this.resumeButton.updateLabel(this.translations.getValue("dialogWindowOkLabel")),this.resumeButton.onClickHandler=this.onButtonClick.bind(this)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.isVisible&&this.resumeButton.updateLabel(this.translations.getValue("dialogWindowOkLabel")),this.positionBackgroundDim()},e.prototype.positionBackgroundDim=function(){this.backgroundContainer&&(this.backgroundContainer.width=h.SceneManager.getScreenWidth,this.backgroundContainer.height=h.SceneManager.getScreenHeight,this.backgroundContainer.x=-h.SceneManager.getHMargin,this.backgroundContainer.y=0)},e.prototype.initVar=function(){this.backgroundGraphics=new f,this.backgroundGraphics.beginFill(0,1),this.backgroundGraphics.drawRect(0,0,h.SceneManager.getScreenWidth,h.SceneManager.getScreenHeight),this.backgroundGraphics.cacheAsBitmap=!0,this.backgroundGraphics.endFill(),this.backgroundGraphics.visible=!0,this.backgroundContainer=new _,this.backgroundContainer.alpha=.7,this.backgroundContainer.visible=!1,this.backgroundContainer.interactive=!0,this.backgroundContainer.addChildAt(this.backgroundGraphics,0),this.positionBackgroundDim(),this.endPopUpHolder=new l.ControllerContainer("endPopUpHolder",this.findMultipleChild("endPopUpHolder")),this.endPopUpCongratulationText=new c.ControllerTextField("endPopUpCongratulationText",this.findMultipleChild("endPopUpCongratulationText")),this.endPopUpPrizeText=new c.ControllerTextField("endPopUpPrizeText",this.findMultipleChild("endPopUpPrizeText")),this.resumeButton=new r.ControllerButton("resumeButton",this.findMultipleChild("resumeButton"))},e.prototype.onButtonClick=function(t,e,i){this.onEndPopUpResumeAction()},e.prototype.onEndPopUpResumeAction=function(){this.resumeButton&&this.resumeButton.enable(!1),this.removePopUp(),this.dispatchSignal(p.FRActions.FREE_ROUNDS_HIDE_END_POP_UP)},e.prototype.onHookClickButton=function(t){"resumeFreeRoundsEndButton"===t.hookDetails.buttonId&&this.onEndPopUpResumeAction()},e.prototype.removePopUp=function(){this.isVisible=!1,this.display.visible=!1},e.prototype.getGamesNames=function(t){var e=" ";return s.each(t,(function(i,n){e+=i,n<t.length-1&&(e+=", ")})),e},e}(a.PixiView);e.FreeRoundsEndViewPixi=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(18),l=i(761),c=i(23),u=i(41),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.registerToHook("clickButton",this.onHookClickButton.bind(this))},e.prototype.showStartPopUp=function(t,e){var i=this;void 0===e&&(e=l.FreeRoundsStartPopUpPixi),this.clearStartPopUpDisplay(),this.startPopUp=new e("FreeRoundsStartPopUpPixi",this,this.startPopUpHolder),this.startPopUp.startPopUpAcceptAction=function(){i.onStartPopUpAcceptAction()},this.startPopUp.startPopUpDeclineAction=function(){i.onStartPopUpDeclineAction()},this.startPopUp.startPopUpResumeAction=function(){i.onStartPopUpResumeAction()},this.startPopUp.startPopUpResumePendingWinningsAction=function(){i.startPopUpResumePendingWinningsAction()},this.startPopUp.show(t)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),s.isNil(this.startPopUp)||this.startPopUp.deviceScreenResized()},e.prototype.hidePopUp=function(){this.startPopUp.hide()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.onStartHideLayer=function(t,e){this.onCompleteHideLayer(t,e)},e.prototype.onStartPopUpAcceptAction=function(){this.dispatchSignal(c.FRActions.ACCEPT_FREE_ROUNDS),this.dispatchSignal(c.FRActions.FREE_ROUNDS_HIDE_START_POP_UP)},e.prototype.onStartPopUpDeclineAction=function(){this.dispatchSignal(c.FRActions.DECLINE_FREE_ROUNDS),this.dispatchSignal(c.FRActions.FREE_ROUNDS_HIDE_START_POP_UP)},e.prototype.onStartPopUpResumeAction=function(){this.dispatchSignal(c.FRActions.RESUME_FREE_ROUNDS),this.dispatchSignal(c.FRActions.FREE_ROUNDS_HIDE_START_POP_UP)},e.prototype.onHookClickButton=function(t){switch(t.hookDetails.buttonId){case"resumeFreeRoundsStartButton":this.onStartPopUpResumeAction(),this.startPopUp.atmHookHide();break;case"acceptFreeRoundsStartButton":this.onStartPopUpAcceptAction(),this.startPopUp.atmHookHide();break;case"declineFreeRoundsStartButton":this.onStartPopUpDeclineAction(),this.startPopUp.atmHookHide()}},e.prototype.startPopUpResumePendingWinningsAction=function(){this.dispatchSignal(c.FRActions.RESUME_PENDING_WINNINGS),this.dispatchSignal(c.FRActions.FREE_ROUNDS_HIDE_START_POP_UP)},e.prototype.clearStartPopUpDisplay=function(){this.startPopUpHolder=new r.ControllerContainer("startPopUpHolder",this.findMultipleChild("startPopUpHolder"))},e.prototype.getMoneyFromValueMoneyAsStringFR=function(t){return u.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t)},e}(a.PixiView);e.FreeRoundsStartViewPixi=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(47),l=i(27),c=i(17),u=i(8),h=i(30),p=i(20),d=PIXI.Sprite,_=PIXI.Graphics,f=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.freeRoundsPackDetails={},o.translations=c.ServiceLocator.instance().get("Translations"),o.isVisible=!1,o.freeRoundsView=i,o.container=n,o.display=i.display,o}return o(e,t),e.prototype.show=function(t){this.initVar(),this.isVisible=!0,this.display.visible=!0,this.freeRoundsPackDetails=t,this.display.addChildAt(this.backgroundContainer,0),this.backgroundContainer.visible=!0,t.fRoundPendingWins?this.showFreeRoundsPending():"created"==t.fRoundState.toLowerCase()?this.showAcceptDeclinePopUp():this.showResumePopUp()},e.prototype.hide=function(){this.isVisible=!1,this.display.visible=!1,this.onButtonClick("",null,{buttonAction:this.currentResumeFeature})},e.prototype.atmHookHide=function(){this.isVisible=!1,this.display.visible=!1},e.prototype.deviceScreenResized=function(){this.positionBackgroundDim()},e.prototype.positionBackgroundDim=function(){this.backgroundContainer&&(this.backgroundContainer.width=u.SceneManager.getScreenWidth,this.backgroundContainer.height=u.SceneManager.getScreenHeight,this.backgroundContainer.x=-u.SceneManager.getHMargin,this.backgroundContainer.y=-u.SceneManager.getVMargin-2*h.WindowUtil.ROUND_COMPENSATION)},e.prototype.updateButtonDetails=function(t,e,i,n){t.onClickHandler=this.onButtonClick.bind(this),t.buttonDetails={buttonName:e,buttonAction:n},t.updateLabel(this.translations.getValue(i)),t.visible=!0},e.prototype.onButtonClick=function(t,e,i){i.buttonAction.call(null),this.resumeButton&&(this.resumeButton.enable(!1),this.resumeButton.visible=!1),this.acceptButton&&(this.acceptButton.enable(!1),this.acceptButton.visible=!1),this.declineButton&&(this.declineButton.enable(!1),this.declineButton.visible=!1),this.resumePendingButton&&(this.resumePendingButton.enable(!1),this.resumePendingButton.visible=!1),this.removePopUp()},e.prototype.showAcceptDeclinePopUp=function(){var t,e=this.parseDate(this.freeRoundsPackDetails.fRoundEndDate),i=Number(this.freeRoundsPackDetails.fRoundDurationRelative),n="";if(""!=e&&(n=n+p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWonValueOne"),e)+"\n",this.freeRoundsPackDetails.fRoundEndDateValue=e),0!=i){i/=86400,n+=p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWonValue"),i);var o=new Date;o.setSeconds(o.getSeconds()+86400*i),this.freeRoundsPackDetails.fRoundEndDateValue=this.formatDate(o)}if(t=p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWon"),this.freeRoundsPackDetails.fRoundRounds)+"\n"+n,!s.isNil(this.freeRoundsPackDetails.fRoundCap)){var a=parseInt(this.freeRoundsPackDetails.fRoundCap);if(1==parseInt(this.freeRoundsPackDetails.fRoundUnlimited)){t=(1==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapYes"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(a)):0==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapNo"):p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWin"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(a)))+"\n"+n+"\n"+this.translations.getValue("infoMessageGoodLuck")}else t=p.StringUtil.sprintf(this.translations.getValue("freeRoundsWinUpTo"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(a))+"\n"+p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWon"),this.freeRoundsPackDetails.fRoundRounds)+"\n"+n}this.startPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),this.startPopUpPrizeText.updateLabel(t),this.updateButtonDetails(this.acceptButton,"acceptButton","freeRoundsPopUpAcceptButtonLabel",this.startPopUpAcceptAction.bind(this)),this.updateButtonDetails(this.declineButton,"declineButton","freeRoundsPopUpDeclineButtonLabel",this.startPopUpDeclineAction.bind(this)),this.currentResumeFeature=this.startPopUpDeclineAction},e.prototype.showResumePopUp=function(){var t=this.parseDate(this.freeRoundsPackDetails.fRoundEndDate),e=p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWonActiveValue"),t,this.freeRoundsPackDetails.fRoundRounds),i=p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWon"),this.freeRoundsPackDetails.fRoundRounds),n=p.StringUtil.sprintf(this.translations.getValue("freeRoundsYouWonValueOne"),t),o=this.translations.getValue("infoMessageGoodLuck"),a=!s.isNil(this.freeRoundsPackDetails.fRoundTotalRounds)&&parseInt(this.freeRoundsPackDetails.fRoundTotalRounds)===parseInt(this.freeRoundsPackDetails.fRoundRounds),r="";if(s.isNil(this.freeRoundsPackDetails.fRoundCap))r=a?i+"\n"+n+"\n"+o:e;else{var l=parseInt(this.freeRoundsPackDetails.fRoundCap);if(1==parseInt(this.freeRoundsPackDetails.fRoundUnlimited)){r=(1==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapYes"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(l)):0==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapNo"):p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWin"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(l)))+"\n"+n+"\n"+o}else{var c=p.StringUtil.sprintf(this.translations.getValue("freeRoundsWinUpTo"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(l));r=a?c+"\n"+i+"\n"+n+"\n"+o:c+"\n"+e}}this.freeRoundsPackDetails.fRoundEndDateValue=t,this.startPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),this.startPopUpPrizeText.updateLabel(r),this.updateButtonDetails(this.resumeButton,"resumeButton","freeSpinsResumeBtn",this.startPopUpResumeAction.bind(this)),this.currentResumeFeature=this.startPopUpResumeAction},e.prototype.showFreeRoundsPending=function(){if(this.startPopUpCongratulationText.updateLabel(this.translations.getValue("freeRoundsCongratulationsLabel")),s.isNil(this.freeRoundsPackDetails.fRoundCap))this.startPopUpPrizeText.updateLabel(p.StringUtil.sprintf(this.translations.getValue("freeRoundsPendingWins"),this.getGamesNames(this.freeRoundsPackDetails.fRoundPendingWins)));else{var t=parseInt(this.freeRoundsPackDetails.fRoundCap);if(1==parseInt(this.freeRoundsPackDetails.fRoundUnlimited)){var e="";e=1==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapYes"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(t)):0==parseInt(this.freeRoundsPackDetails.fRoundDisplaySpinUntilYouWin)?this.translations.getValue("freeRoundPopupSpinTillYouWinDisplayCapNo"):p.StringUtil.sprintf(this.translations.getValue("freeRoundPopupSpinTillYouWin"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(t)),this.startPopUpPrizeText.updateLabel(e+"\n"+p.StringUtil.sprintf(this.translations.getValue("freeRoundsPendingWins"),this.getGamesNames(this.freeRoundsPackDetails.fRoundPendingWins))+"\n"+this.translations.getValue("infoMessageGoodLuck"))}else this.startPopUpPrizeText.updateLabel(p.StringUtil.sprintf(this.translations.getValue("freeRoundsWinUpTo"),this.freeRoundsView.getMoneyFromValueMoneyAsStringFR(t))+"\n"+p.StringUtil.sprintf(this.translations.getValue("freeRoundsPendingWins"),this.getGamesNames(this.freeRoundsPackDetails.fRoundPendingWins)))}this.updateButtonDetails(this.resumePendingButton,"resumePendingButton","dialogWindowOkLabel",this.startPopUpResumePendingWinningsAction.bind(this)),this.currentResumeFeature=this.startPopUpResumePendingWinningsAction},e.prototype.initVar=function(){this.backgroundGraphics=new _,this.backgroundGraphics.beginFill(0,1),this.backgroundGraphics.drawRect(0,0,u.SceneManager.getScreenWidth,u.SceneManager.getScreenHeight),this.backgroundGraphics.cacheAsBitmap=!0,this.backgroundGraphics.endFill(),this.backgroundGraphics.visible=!0,this.backgroundContainer=new d,this.backgroundContainer.alpha=.7,this.backgroundContainer.visible=!1,this.backgroundContainer.interactive=!0,this.backgroundContainer.addChildAt(this.backgroundGraphics,0),this.positionBackgroundDim(),this.startPopUpCongratulationText=new l.ControllerTextField("startPopUpCongratulationText",this.findMultipleChild("startPopUpCongratulationText")),this.startPopUpPrizeText=new l.ControllerTextField("startPopUpPrizeText",this.findMultipleChild("startPopUpPrizeText")),this.acceptButton=new r.ControllerButton("acceptButton",this.findMultipleChild("acceptButton")),this.declineButton=new r.ControllerButton("declineButton",this.findMultipleChild("declineButton")),this.resumeButton=new r.ControllerButton("resumeButton",this.findMultipleChild("resumeButton")),this.resumePendingButton=new r.ControllerButton("resumePendingButton",this.findMultipleChild("resumePendingButton")),this.acceptButton.visible=!1,this.declineButton.visible=!1,this.resumeButton.visible=!1,this.resumePendingButton.visible=!1},e.prototype.removePopUp=function(){this.isVisible=!1,this.display.visible=!1},e.prototype.parseDate=function(t){var e=t.substring(0,10).split("-").map(Number),i=t.substring(10,t.length).split(":").map(Number);if(0==e[0])return"";var n=new Date;return n.setFullYear(e[0]),n.setMonth(e[1]-1),n.setDate(e[2]),n.setHours(i[0]),n.setMinutes(i[1]),n.setSeconds(i[2]),n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),this.formatDate(n)},e.prototype.formatDate=function(t){return this.addZero(t.getDate())+"-"+this.addZero(t.getMonth()+1)+"-"+t.getFullYear()+" "+this.addZero(t.getHours())+":"+this.addZero(t.getMinutes())+":"+this.addZero(t.getSeconds())},e.prototype.addZero=function(t){return t<10?"0"+t:""+t},e.prototype.getGamesNames=function(t){var e=" ";return s.each(t,(function(i,n){e+=i,n<t.length-1&&(e+=", ")})),e},e}(a.PixiView);e.FreeRoundsStartPopUpPixi=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(146),r=i(63),l=i(10),c=i(7),u=i(2),h=i(1),p=i(23),d=i(14),_=i(26),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),!this.freeRoundsProxy.checkFreeRoundsAvailability()&&this.validationProxy.validateNone(l.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&this.validationProxy.validateAll(l.ValidationTypes.ATM_READY_TO_SPIN)&&(this.validationProxy.toggleValidation(l.ValidationProperties.ATM_READY_TO_SPIN,!1),this.sendGlobalNotification(u.Notifications.Global.CALL_BACK_ON_EVENT,new d.ATOnEventVO(_.SlotATEventNames.READY_TO_SPIN,new d.ATGenericEvent,1e3)))},e.prototype.handleUserInteraction=function(){t.prototype.handleUserInteraction.call(this),this._incrementStatus==r.IncrementStatusNames.INCREMENTING?this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.FREE_ROUNDS_END_GAME_ENABLE_UI_WIN):this.sendGlobalNotification(u.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUIAction.FREE_ROUNDS_END_GAME_ENABLE_UI_NO_WIN)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(p.FRProxiesName.FREE_ROUNDS_PROXY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(h.Names.Proxies.VALIDATION,h.Names.Modules.LOADER))},e}(a.EndGameEnableUiCommand);e.FreeRoundsEndGameEnableUICommand=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(10),l=i(23),c=i(2),u=i(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.freeRoundsProxy.hasToStarFreeRoundsFeature&&(this.validationProxy.validateAll(r.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&this.sendGlobalNotification(c.Notifications.Global.STOP_AUTO_PLAY),this.freeRoundsProxy.hasToStartFreeRoundFeature())},e.prototype.initVars=function(){s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(l.FRProxiesName.FREE_ROUNDS_PROXY)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(u.Names.Proxies.VALIDATION,u.Names.Modules.LOADER))},e}(a.Controller);e.FreeRoundsHasToStartAtRestoreCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(2),r=i(1),l=i(5),c=i(19),u=i(23),h=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.hasToShowPanel=!1,n}return o(e,t),Object.defineProperty(e.prototype,"freeRoundsUIView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.FREE_ROUNDS_UI},enumerable:!0,configurable:!0}),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveProxy(u.FRProxiesName.FREE_ROUNDS_PROXY))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.Notifications.Global.LAYER_TRANSITION_OUT_COMPLETED,this.showPanel.bind(this)),this.addNotification(u.FRNotifications.UPDATE_FREE_ROUNDS_SCREEN,this.updateFreeRoundsScreen.bind(this)),this.addNotification(u.FRNotifications.ACCEPT_FREE_ROUNDS,this.acceptFreeRounds.bind(this)),this.addNotification(u.FRNotifications.RESUME_FREE_ROUNDS,this.acceptFreeRounds.bind(this)),this.addNotification(l.States.FREE_ROUNDS_END,this.hidePanel.bind(this))},e.prototype.acceptFreeRounds=function(t){this.hasToShowPanel=!0},e.prototype.showPanel=function(t){t.body==r.Names.Layers.FREE_ROUNDS_START&&this.hasToShowPanel&&(this.drawLayer(),this.viewComponent.display.visible=!0,this.freeRoundsUIView.updateFreeRoundsPopUp(this.freeRoundsProxy.freeRoundsPackageDetails)),t.body==r.Names.Layers.FREE_ROUNDS_END&&this.freeRoundsProxy.finishFreeRounds()},e.prototype.hidePanel=function(t){this.freeRoundsUIView.pauseStar(),this.layerTransitionOutComplete()},e.prototype.updateFreeRoundsScreen=function(t){this.freeRoundsUIView.updateFreeRoundsScreen(t.body)},e}(c.AbstractMediator);e.FreeRoundsUIMediator=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(16),r=i(18),l=i(27),c=i(40),u=i(4),h=i(20),p=i(8),d=i(45),_=i(41),f=PIXI.Point,y=PIXI.Rectangle,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShown=!1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.registerToHook("openStarFreeRounds",this.onOpenStarFreeRounds.bind(this)),this.registerToHook("closeStarFreeRounds",this.onCloseStarFreeRounds.bind(this))},e.prototype.updateFreeRoundsScreen=function(t){s.isNil(this.freeRoundsLeftText)||(this.setTextToText(this.freeRoundsLeftText,t.fRoundRounds.toString()),s.isNil(t.fRoundCap)||1!=parseInt(t.fRoundUnlimited)||this.setTextToText(this.freeRoundsLeftText,"?"))},e.prototype.updateFreeRoundsPopUp=function(t){if(s.isNil(this.freeRoundsLeftText)){if(this.panelPopUpHolder=new r.ControllerContainer("panelPopUpHolder",this.findMultipleChild("panelPopUpHolder")),this.freeRoundsExpireText=new l.ControllerTextField("freeRoundsExpireText",this.findMultipleChild("freeRoundsExpireText")),this.freeRoundsExpireValueText=new l.ControllerTextField("freeRoundsExpireValueText",this.findMultipleChild("freeRoundsExpireValueText")),this.panelHolder=new r.ControllerContainer("panelHolder",this.findMultipleChild("panelHolder")),this.starHolder=new c.ControllerImage("starHolder",this.findMultipleChild("starHolder")),this.freeRoundsLeftText=new l.ControllerTextField("freeRoundsLeftText",this.findMultipleChild("freeRoundsLeftText")),this.panelHolder.interactive=!0,this.panelPopUpHolder.currentComponent.visible=!1,this.starHolderW=this.starHolder.width,this.starHolderH=this.starHolder.height,this.starHolder.currentComponent.pivot.set(this.starHolder.width,this.starHolder.height),(u.Device.instance().mobile||u.Device.instance().minigame)&&this.display){var e=this.getMobileDisplayPosition();this.display.x=e.x,this.display.y=e.y}this.pulseStar(),this.addEventToStar()}this.setTextToText(this.freeRoundsLeftText,t.fRoundRounds.toString());var i=this.translations.getValue("freeRoundStatusPanelTitleLabel");if(!s.isNil(t.fRoundCap)){1==parseInt(t.fRoundUnlimited)&&this.setTextToText(this.freeRoundsLeftText,"?");var n=parseInt(t.fRoundCap);i=1==parseInt(t.fRoundUnlimited)&&0==parseInt(t.fRoundDisplaySpinUntilYouWin)?this.translations.getValue("freeRoundStatusPanelTitleLabel"):h.StringUtil.sprintf(this.translations.getValue("freeRoundsWinUpTo"),_.SlotMoneyUtils.getMoneyFromValueMoneyAsString(n)).toUpperCase()+"\n"+this.translations.getValue("freeRoundStatusPanelTitleLabel")}this.freeRoundsExpireText.updateLabel(i);var o=t.fRoundEndDateValue.split(" "),a=o[0]+"\n"+o[1];this.setTextToText(this.freeRoundsExpireValueText,a)},e.prototype.deviceScreenResized=function(){if((u.Device.instance().mobile||u.Device.instance().minigame)&&this.display){var t=this.getMobileDisplayPosition();this.display.x=t.x,this.display.y=t.y}},e.prototype.getMobileDisplayPosition=function(){var t=new f;return t.x=this.display.x=100-p.SceneManager.getHMargin,t.y=this.display.y,t},e.prototype.pulseStar=function(){this.starHolderTimeLineLite=new TimelineMax({repeat:-1,yoyo:!0}),this.starHolderTimeLineLite.to(this.starHolder,.3,{width:.6*this.starHolderW,height:.6*this.starHolderH,ease:Sine.easeIn}),this.starHolderTimeLineLite.to(this.starHolder,.3,{width:.5*this.starHolderW,height:.5*this.starHolderH,ease:Sine.easeOut})},e.prototype.addEventToStar=function(){this.panelHolder.currentComponent.hitArea=new y(0,0,50,50),u.Device.instance().mobile?this.panelHolder.handleMouseDownGesture(this.handleMouseEvent.bind(this)):u.Device.instance().tablet?this.panelHolder.currentComponent.addListener(d.PointerStates.DOWN,this.handleMouseEvent.bind(this)):(this.panelHolder.currentComponent.addListener("mouseover",this.handleMouseEvent.bind(this)),this.panelHolder.currentComponent.addListener("mouseout",this.handleMouseEvent.bind(this)))},e.prototype.handleMouseEvent=function(){this.isShown?this.hidePanelPopup():this.showPanelPopup()},e.prototype.onOpenStarFreeRounds=function(t){this.handleMouseEvent()},e.prototype.onCloseStarFreeRounds=function(t){this.handleMouseEvent()},e.prototype.pauseStar=function(){s.isNil(this.starHolderTimeLineLite)||this.starHolderTimeLineLite.paused(!0),this.display.visible=!1},e.prototype.showPanelPopup=function(){this.panelPopUpHolder&&(this.panelPopUpHolder.currentComponent.visible=!0,this.isShown=!0)},e.prototype.hidePanelPopup=function(){this.panelPopUpHolder&&(this.panelPopUpHolder.currentComponent.visible=!1,this.isShown=!1)},e.prototype.setTranslationToText=function(t,e){t.updateLabel(this.translations.getValue(e))},e.prototype.setTextToText=function(t,e){t.text.text=e},e}(a.PixiView);e.FreeRoundsUIViewPixi=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(767),a=i(768),r=i(233),l=i(769),c=i(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(c.Notifications.Global.INITIALIZE_MODULE,l.InitializeBonusSystemModuleCommand)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(s.BonusSystemEndMediator,"bonusSystemEndView")},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("bonusSystemEndView",[a.BonusSystemEndViewPixi,a.BonusSystemEndViewPixi,a.BonusSystemEndViewPixi])},e}(r.BonusSystem);e.SlotBonusSystem=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(5),r=i(19),l=i(2),c=i(1),u=i(299),h=i(10),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return c.Names.Layers.BONUS_SYSTEM_END},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bonusSystemEndView",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.bonusSystemEndView.initPopUp()},e.prototype.whileRegistering=function(){this.drawLayer(),t.prototype.whileRegistering.call(this)},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initVars()},e.prototype.initVars=function(){s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.bonusSystemProxy)&&(this.bonusSystemProxy=this.retrieveProxy(c.Names.Proxies.BONUS_SYSTEM))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.States.END_GAME_ENABLE_UI,this.onEndGameEnableUI.bind(this)),this.addNotification(a.States.AUTO_PLAY_END_GAME_ENABLE_UI,this.onAutoPlayEndGameEnableUI.bind(this)),this.addNotification(l.Notifications.Global.SPIN,this.onSpin.bind(this)),this.addNotification(l.Notifications.Global.SKIP,this.onSkip.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(u.BonusSystemActionsNames.BONUS_SYSTEM_HIDE_END_POP_UP,this.onBonusSystemHideEndPopUp,this)},e.prototype.onEndGameEnableUI=function(){this.showBonusSystemEndPopUp()},e.prototype.onAutoPlayEndGameEnableUI=function(){this.showBonusSystemEndPopUp()},e.prototype.onSpin=function(){this.hideBonusSystemEndPopUp()},e.prototype.onSkip=function(){this.hideBonusSystemEndPopUp()},e.prototype.onBonusSystemHideEndPopUp=function(){this.hideBonusSystemEndPopUp()},e.prototype.showBonusSystemEndPopUp=function(){this.bonusSystemProxy.hasBonusSystemPopUpPending&&(this.bonusSystemProxy.hasBonusSystemPopUpPending=!1,this.bonusSystemProxy.isBonusSystemPupPupVisible=!0,this.bonusSystemEndView.showBonusSystemEndPopUp(this.bonusSystemProxy.bonusSystemPackageDetails),this.layerTransitionInStart(),this.hotfixUpdateBalance())},e.prototype.hideBonusSystemEndPopUp=function(){this.bonusSystemProxy.isBonusSystemPupPupVisible&&(this.bonusSystemProxy.isBonusSystemPupPupVisible=!1,this.validationProxy.toggleValidation(h.ValidationProperties.BONUS_SYSTEM_IN_PROGRESS,!1),this.layerTransitionOutStart(),this.settings.map("maxWinCapReached",!1),this.sendGlobalNotification(l.Notifications.Global.UPDATE_INFOBOX,{message:this.translations.getValue("infoMessageGoodLuck")}))},e.prototype.hotfixUpdateBalance=function(){var t=this.connectionProxy.getServerData(a.States.DOUBLE_WIN),e=this.connectionProxy.getServerData("balance"),i=0,n=!1;if(t){var o=this.connectionProxy.getServerData(a.States.END_GAME);if(o){var r=parseInt(o.totalWinnings),c=parseInt(o.totalWinningsMoney);0==r&&0==c&&(i=parseInt(t.money),n=!0)}}else e&&(s.isArray(e)?(i=parseInt(e[e.length-1].cashBalance),n=!0):s.isObject(e)&&(i=parseInt(e.cashBalance),n=!0));n&&(this.settings.map("maxWinCapReached",this.skipBalanceIncrement()),this.moneyProxy.updateBalance(i,!1,!1,!1),this.sendGlobalNotification(l.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues))},e.prototype.skipBalanceIncrement=function(){var t=this.connectionProxy.getServerData(a.States.END_GAME),e=this.connectionProxy.getServerData(a.States.DOUBLE_WIN);if(t&&e){var i=parseInt(t.money),n=parseInt(e.money);return i+parseInt(e.totalWinningsMoney)>n}return!1},e}(r.AbstractMediator);e.BonusSystemEndMediator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(299),r=i(16),l=i(47),c=i(18),u=i(27),h=i(20),p=i(41),d=PIXI.Sprite,_=PIXI.Graphics,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVisible=!1,e}return o(e,t),e.prototype.initPopUp=function(){var t=new _;t.beginFill(0,1),t.drawRect(0,0,1584,820),t.cacheAsBitmap=!0,t.endFill(),t.visible=!0,this.backgroundContainer=new d,this.backgroundContainer.alpha=.7,this.backgroundContainer.visible=!1,this.backgroundContainer.interactive=!0,this.backgroundContainer.addChildAt(t,0),this.endPopUpHolder=new c.ControllerContainer("endPopUpHolder",this.findMultipleChild("endPopUpHolder")),this.endPopUpPrizeText=new u.ControllerTextField("endPopUpPrizeText",this.findMultipleChild("endPopUpPrizeText")),this.resumeButton=new l.ControllerButton("resumeButton",this.findMultipleChild("resumeButton")),this.resumeButton.updateLabel(this.translations.getValue("dialogWindowOkLabel")),this.resumeButton.onClickHandler=this.onButtonClick.bind(this)},e.prototype.onStartHideLayer=function(t,e){this.onCompleteHideLayer(t,e)},e.prototype.showBonusSystemEndPopUp=function(t){if(this.isVisible=!0,this.display.visible=!0,this.resumeButton.enable(!0),this.display.addChildAt(this.backgroundContainer,0),this.backgroundContainer.visible=!0,t.bonusTotalWin>0){var e=p.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.bonusTotalWin);s.isNil(t.bonusThresHold)?this.setTextToText(this.endPopUpPrizeText,h.StringUtil.sprintf(this.translations.getValue("bonusSystemPopupBonusWin"),e)):this.setTextToText(this.endPopUpPrizeText,h.StringUtil.sprintf(this.translations.getValue("bonusSystemPopupBonusThreshold"),e))}else s.isNil(t.bonusThresHold)?this.setTranslationToText(this.endPopUpPrizeText,"bonusSystemPopupBonusNoWin"):this.setTranslationToText(this.endPopUpPrizeText,"bonusSystemPopupBonusThresholdNoLoss")},e.prototype.onButtonClick=function(){this.resumeButton&&this.resumeButton.enable(!1),this.removePopUp(),this.dispatchSignal(a.BonusSystemActionsNames.BONUS_SYSTEM_HIDE_END_POP_UP)},e.prototype.removePopUp=function(){this.isVisible=!1,this.display.visible=!1},e.prototype.setTranslationToText=function(t,e){var i=this.translations.getValue(e);t.updateLabel(i)},e.prototype.setTextToText=function(t,e){t.updateLabel(e)},e}(r.PixiView);e.BonusSystemEndViewPixi=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(2),l=i(1),c=i(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.registerValidations(),this.addServerResponses()},e.prototype.initVars=function(){s.isNil(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(l.Names.Proxies.SERVER_RESPONSE,l.Names.Modules.CONNECTION)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(l.Names.Proxies.VALIDATION,l.Names.Modules.LOADER)),s.isNil(this.bonusSystemProxy)&&(this.bonusSystemProxy=this.retrieveProxy(l.Names.Proxies.BONUS_SYSTEM))},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(c.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS,c.ValidationProperties.BONUS_SYSTEM_IN_PROGRESS)},e.prototype.addServerResponses=function(){this.serverResponseProxy.addDataHandlerWithPriority("bonusTotalWin",this.onReceiveBonusSystemTotalWins.bind(this))},e.prototype.onReceiveBonusSystemTotalWins=function(){this.validationProxy.validateAtLeastOne(c.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&this.sendGlobalNotification(r.Notifications.Global.STOP_AUTO_PLAY);var t=this.connectionProxy.getServerData("bonusTotalWin"),e=this.connectionProxy.getServerData("bonusThresHold");this.bonusSystemProxy.bonusSystemPackageDetails={bonusTotalWin:parseInt(t.value)},e&&(this.bonusSystemProxy.bonusSystemPackageDetails.bonusThresHold=parseInt(e.value)),this.bonusSystemProxy.hasBonusSystemPopUpPending=!0,this.validationProxy.toggleValidation(c.ValidationProperties.BONUS_SYSTEM_IN_PROGRESS,!0)},e}(a.Controller);e.InitializeBonusSystemModuleCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(1),r=i(2),l=i(5),c=i(771),u=i(772),h=i(773),p=i(774),d=i(775),_=i(776),f=i(778),y=i(780),m=i(782),N=i(783),S=i(784),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(r.Notifications.Global.INITIALIZE_MODULE,d.SlotLoggerInitializeModuleCommand),this.replaceCommand(r.Notifications.Global.REMOVE_PRELOADER,f.SlotLoggerSendLoadingTimeCommand),this.replaceCommand(l.States.ERROR,p.SlotLoggerErrorCommand),this.addCommand(r.Notifications.Wheels.SPIN_WHEEL_ANIMATION,_.SlotLoggerRegisterResponseTimeCommand),this.replaceCommand(l.States.END_GAME,c.SlotLoggerCompleteRegisterResponseTimeCommand),this.replaceCommand(r.Notifications.Global.DATA_SENT_TO_SERVER,h.SlotLoggerDataSentCommand),this.replaceCommand(r.Notifications.Global.DATA_RECEIVED_FROM_SERVER,u.SlotLoggerDataReceivedCommand),this.addCommand(s.UINotifications.USER_ACTION_TRIGGERED,y.SlotLoggerUserActionCommand,a.Names.Modules.USER_INTERFACE),this.replaceCommand(r.Notifications.Global.UNLOADING_GAME,N.SlotLoggerUnloadingGameCommand),this.replaceCommand(r.Notifications.Global.TURBO_MODE_STATE_CHANGED,m.SlotLoggerTurboModeStateChangedCommand),this.replaceCommand(r.Notifications.Global.SOUND_STATE_CHANGED,S.SlotLoggerSoundStateChangedCommand)},e}(i(248).Logger);e.SlotLogger=g},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.NewRelic.log("isb_bet_response","{}")},e}(i(252).LoggerCompleteRegisterResponseTimeCommand);e.SlotLoggerCompleteRegisterResponseTimeCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(60),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isString(e.body)||(e.body.roundId=a.SlotLoggerModuleUtil.instance.getRoundId(this.connectionProxy)),a.NewRelic.log("isb_data_recv",e.body)},e}(i(254).LoggerDataReceivedCommand);e.SlotLoggerDataReceivedCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.NewRelic.log("isb_data_sent",e.body)},e}(i(253).LoggerDataSentCommand);e.SlotLoggerDataSentCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;i.roundId=s.SlotLoggerModuleUtil.instance.getRoundId(this.connectionProxy),s.NewRelic.log("isb_error",i)},e}(i(251).LoggerErrorCommand);e.SlotLoggerErrorCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(59),a=i(60),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),new s.Timer(1e3,this.sendFPS.bind(this)).start()},e.prototype.sendFPS=function(){a.NewRelic.log("isb_current_FPS",{fps:PIXI.ticker.shared.FPS,currentState:this.stateMachineProxy.state})},e}(i(249).LoggerInitializeModuleCommand);e.SlotLoggerInitializeModuleCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(60),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i={};i.coinValue=this.moneyProxy.getCurrentCoinValue(),i.lines=this.moneyProxy.getCurrentLine(),i.coins=this.moneyProxy.getCurrentCoin(),r.NewRelic.log("isb_bet_command",i)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(a.Names.Proxies.COINS_MONEY,a.Names.Modules.MONEY))},e}(i(777).LoggerRegisterResponseTimeCommand);e.SlotLoggerRegisterResponseTimeCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){},e}(i(3).Controller);e.LoggerRegisterResponseTimeCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(60),l=i(779),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=this.settings.getValue("name").split(","),n=this.slotGameConfig.skinID.toString(),o={funMode:this.settings.getValue("funmode"),operator:i.length>2?i[2]:"0",gameName:a.Device.ASSET_PATH_BASE.split("/")[0],skin:n,licensee:i.length>1?i[0]:"0",gameVersion:this.settings.getValue("gameVersion"),crDeploy:this.settings.getValue("crDeploy"),qaDeploy:this.settings.getValue("qaDeploy"),platform:this.getPlatform(),filesDownloadTime:this.settings.getValue("filesDownloadTime"),roundId:r.SlotLoggerModuleUtil.instance.getRoundId(this.connectionProxy)};s.each(this.connectionProxy.getServerData("version"),(function(t,e){o[e]=t})),r.NewRelic.log("isb_load_end",o),l.LoggerModuleKafka.instance.sendKafkaLoadEnd(this.settings,o)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(i(250).LoggerSendLoadingTimeCommand);e.SlotLoggerSendLoadingTimeCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(120),s=i(238),a=i(6),r=function(){function t(){var t=this;this.kafkaPostResponse=function(e){var i=e.target;i.removeEventListener("load",t.kafkaPostResponse),i.removeEventListener("error",t.kafkaPostError),i&&200==i.status&&4==i.readyState&&a.Log.infoch("KAFKA","Sent kafka feed")},this.kafkaPostError=function(e){var i=e.target.status;i==XMLHttpRequest.UNSENT?a.Log.logch("KAFKA","ERROR - This needs to be investigated, there was a connection error for a request that got status: "+i):t.sendKafkaRequest()}}return t.prototype.match=function(t,e,i){var n=t.match(i);return n&&n.length>1&&n[e]||""},Object.defineProperty(t,"instance",{get:function(){return n.isNil(this._instance)&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.sendKafkaLoadEnd=function(e,i){if(n.isNil(this._kafkaHost)&&(this._kafkaHost=e.getValue("host")),n.isNil(this._serverPort)){var s=e.getValue(t.KAFKA_SETTINGS_IDENTIFIER);n.isNil(s)?this._serverPort=t.DEFAULT_KAFKA_SERVER_PORT:this._serverPort=parseFloat(s.serverPort)}var a=document.title,r=window.location.href,l=e.getValue("lang"),c=e.getCookie(o.ConnectionProxy.SESSION_KEY),u=window.innerWidth+"x"+window.innerHeight,h=window.devicePixelRatio,p=this.match(this._kafkaHost,1,/(?:[:?\/0-9a-zA-Z-_.]+):\/\/([a-zA-Z-.]+)([?:\/a-zA-Z-_]+)/i),d={totalLoadTime:e.getValue("filesDownloadTime")},_="N/A",f="N/A";PerformanceDetector.Core.osInfo&&PerformanceDetector.Core.osInfo.operatingSystem&&(_=PerformanceDetector.Core.osInfo.operatingSystem.name,f=PerformanceDetector.Core.osInfo.operatingSystem.version);var y="N/A",m="N/A";PerformanceDetector.Core.device&&PerformanceDetector.Core.device.browser&&(y=PerformanceDetector.Core.device.browser.name,m=PerformanceDetector.Core.device.browser.version);var N="N/A";PerformanceDetector.Core.performanceLevel&&PerformanceDetector.Core.performanceLevel.gpu&&(N=PerformanceDetector.Core.performanceLevel.gpu);var S="N/A";PerformanceDetector.Core.deviceInfo&&PerformanceDetector.Core.deviceInfo.deviceInfo&&(S=PerformanceDetector.Core.deviceInfo.deviceInfo.name+" "+PerformanceDetector.Core.deviceInfo.deviceInfo.version);this._kafkaMessage={title:a,landing_page:r,language:l,device:S,GPU:N,osVersion:f,resolution:u,devicePixelRatio:h,platform:i.platform,operating_system:_,browser:y,browserVersion:m,uuid:c,funMode:i.funMode,gameName:i.gameName,gameVersion:i.gameVersion,licensee:i.licensee,operator:i.operator,provider_id:"1",environment_domain:p,crDeploy:i.crDeploy,qaDeploy:i.qaDeploy,roundId:i.roundId,skin:i.skin,versionGMAPI:i.versionGMAPI,versionServer:i.versionServer,eventName:"isb_load_end",eventDetails:d},this.sendKafkaRequest()},t.prototype.sendKafkaRequest=function(){var t=new XMLHttpRequest;t.addEventListener("load",this.kafkaPostResponse),t.addEventListener("error",this.kafkaPostError),t.open("POST",this._kafkaHost,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded");var e=new s.URLBuilder;e.addParameter("uid",void 0);var i="";for(var o in this._kafkaMessage)if(n.isPlainObject(this._kafkaMessage[o]))for(var r in this._kafkaMessage[o])i+=this._kafkaMessage[o][r]+"|";else i+=this._kafkaMessage[o]+"|";i=i.substr(0,i.length-1),e.addParameter("cmd",this._serverPort+"\r\n"+i+"\r\n"),e.addParameter("fmt","json");try{t.send(e.createURL())}catch(t){a.Log.errorch("KAFKA","Error sending kafka feed: "+t.message)}},t.DEFAULT_KAFKA_SERVER_PORT=5347,t.KAFKA_SETTINGS_IDENTIFIER="KAFKA_FORWARDING_DETAILS",t}();e.LoggerModuleKafka=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i={};i.roundId=s.SlotLoggerModuleUtil.instance.getRoundId(this.connectionProxy),i.type=e.body,s.NewRelic.log("isb_ui_event",i)},e}(i(781).LoggerUserActionCommand);e.SlotLoggerUserActionCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars()},e.prototype.initVars=function(){a.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e}(s.Controller);e.LoggerUserActionCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;s.NewRelic.log("turbo_mode_status",i)},e}(i(256).LoggerTurboModeStateChangedCommand);e.SlotLoggerTurboModeStateChangedCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),window.isb&&window.isb.log&&(window.isb.log=void 0,window.isb=void 0)},e}(i(255).LoggerUnloadingGameCommand);e.SlotLoggerUnloadingGameCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(60),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body;s.NewRelic.log("sound_status",i)},e}(i(257).LoggerSoundStateChangedCommand);e.SlotLoggerSoundStateChangedCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.validationProxy.validateAll(s.ValidationTypes.ATM_SCREENSHOT_ENABLED)?this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"screenshotIntro",hookDetails:e.body}):this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"skipIntro",hookDetails:e.body})},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookSkipIntroCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=!1,n=e.body,o=n.betPerLine;this.moneyProxy.validateCoins(o)&&(this.sendGlobalNotification(s.Notifications.Global.CHANGE_LINE_BET,{lineBet:o}),i=!0),n.hookResult=i},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookSetBetPerLineCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.hookResult=this.getCurrentSymbols()},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveGlobalProxy(a.Names.Proxies.WINNINGS_ANIMATIONS,a.Names.Modules.WINNINGS))},e.prototype.getCurrentSymbols=function(){for(var t=this.winningsAnimationsProxy.symbolsMatrix,e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return-1==e[0]&&(e=this.settings.getValue("INITIAL_DISPLAYED_SYMBOLS")),e},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetCurrentSymbolsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(10),r=i(7),l=i(1),c=i(25),u=i(12),h=i(14),p=i(26),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.validationProxy.validateAll(a.ValidationTypes.ATM_SCREENSHOT_ENABLED)){var i=e.body,n=i==r.UpdateUIAction.END_GAME_ENABLE_UI_NO_WIN||i==r.UpdateUIAction.SKIP||i==r.UpdateUIAction.SKIP_CELEBRATION;if(i==r.UpdateUIAction.SKIP_CELEBRATION&&this.validationProxy.toggleValidation(a.ValidationProperties.ATM_READY_TO_SPIN,!0),i!=r.UpdateUIAction.ATM_SCREENSHOT||this.winningsAnimationsProxy.celebrationInProgress||(n=!0,this.validationProxy.toggleValidation(a.ValidationProperties.ATM_READY_TO_SPIN,!0)),n&&this.validationProxy.validateNone(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.RESPINS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)){var o=1e3;i==r.UpdateUIAction.SKIP&&(o=4e3),this.validationProxy.validateAll(a.ValidationTypes.ATM_READY_TO_SPIN)&&(this.validationProxy.toggleValidation(a.ValidationProperties.ATM_READY_TO_SPIN,!1),u.ATCallBack.onEvent(new h.ATOnEventVO(p.SlotATEventNames.READY_TO_SPIN,new h.ATGenericEvent,o)))}}},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveGlobalProxy(l.Names.Proxies.WINNINGS_ANIMATIONS,l.Names.Modules.WINNINGS))},e}(c.SlotAutomatedTestAbstractCommand);e.SlotATOnEventScreenshotReadyToSpinCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(23),r=i(10),l=i(1),c=i(25),u=i(12),h=i(26),p=i(14),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.freeRoundsLogic(),this.rciLogic(),this.readyToSpinLogic()},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(a.FRProxiesName.FREE_ROUNDS_PROXY,l.Names.Modules.FREE_ROUNDS))},e.prototype.freeRoundsLogic=function(){if(this.validationProxy.validateAll(r.ValidationTypes.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING)){var t=this.connectionProxy.getServerData("fRound"),e=this.connectionProxy.getServerData("fRoundTotalWins"),i=this.connectionProxy.getServerData("fRoundConvToBonus");if(t&&e&&i){this.validationProxy.toggleValidation(r.ValidationProperties.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING,!1);var n=parseInt(t.fRoundRounds),o=parseInt(e.value)/this.moneyProxy.getCurrentCoinValue(),s="0"!=i.value,a=new h.SlotATFeatureEndedFreeRounds(n,o,s),l=new p.ATOnEventVO(h.SlotATEventNames.FEATURE_ENDED,a);u.ATCallBack.onEvent(l)}}},e.prototype.rciLogic=function(){this.validationProxy.validateNone(r.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(r.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(r.ValidationTypes.RESPINS_IN_PROGRESS)&&this.validationProxy.validateNone(r.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)&&u.ATCallBack.onEvent(new p.ATOnEventVO(p.ATEventNames.RCI_CHECKPOINT,new p.ATGenericEvent(!1)))},e.prototype.readyToSpinLogic=function(){this.validationProxy.validateNone(r.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&this.validationProxy.validateAll(r.ValidationTypes.ATM_READY_TO_SPIN)&&this.validationProxy.validateNone(r.ValidationTypes.REALITY_CHECK_VALIDATION)&&(this.validationProxy.toggleValidation(r.ValidationProperties.ATM_READY_TO_SPIN,!1),u.ATCallBack.onEvent(new p.ATOnEventVO(h.SlotATEventNames.READY_TO_SPIN,new p.ATGenericEvent,1e3)))},e}(c.SlotAutomatedTestAbstractCommand);e.SlotATOnEventReadyToSpinCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.validationProxy.toggleValidation(s.ValidationProperties.ATM_GAMEROUND_ENDED_TO_BE_SEND,!0)},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotATOnEndGamePrepareCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=i(142),r=i(227),l=i(0),c=i(12),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerValidations=function(){t.prototype.registerValidations.call(this),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_GAMEROUND_ENDED_TO_BE_SEND,s.ValidationProperties.ATM_GAMEROUND_ENDED_TO_BE_SEND),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_READY_TO_SPIN,s.ValidationProperties.ATM_READY_TO_SPIN),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_SCREENSHOT_ENABLED,s.ValidationProperties.ATM_SCREENSHOT_ENABLED),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING,s.ValidationProperties.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_REDO_SPIN,s.ValidationProperties.ATM_REDO_SPIN),this.validationProxy.registerValidationRequest(s.ValidationTypes.ATM_AUTOPLAY_ENDED,s.ValidationProperties.ATM_AUTOPLAY_ENDED),this.validationProxy.toggleValidation(s.ValidationProperties.ATM_READY_TO_SPIN,!0)},e.prototype.initializeGameHooksObject=function(){if(t.prototype.initializeGameHooksObject.call(this),this.hasOldGAT){var e={addSpinConfigurations:this.addSpinConfigurations.bind(this),resetSpinConfigurations:this.resetSpinConfigurations.bind(this),getCoinValue:this.getCoinValue.bind(this),setCoinValue:this.setCoinValue.bind(this),getLines:this.getLines.bind(this),setLines:this.setLines.bind(this),getBetPerLine:this.getBetPerLine.bind(this),setBetPerLine:this.setBetPerLine.bind(this),skipIntro:this.skipIntro.bind(this),setSpecialDebugCommand:this.setSpecialDebugCommand.bind(this),spin:this.spin.bind(this),autoSpin:this.autoSpin.bind(this),getCurrentSymbols:this.getCurrentSymbols.bind(this),getProgressive:this.getProgressive.bind(this),clickBonusChoice:this.clickBonusChoice.bind(this),closeFeaturePopUp:this.closeFeaturePopUp.bind(this)};l.extend(window.gameHooks,e),c.ATCallBack.channels.push("onEvent")}},e.prototype.addSpinConfigurations=function(t){var e=t.map((function(t){return t.sequence})),i=t.map((function(t){return t.special_command}));this.sendNotification(a.SlotATNotifications.ADD_SPIN_CONFIGURATIONS_HOOK,{sequence:e,specialCommands:i}),this.sendNotification(a.SlotATNotifications.ADD_SPECIAL_COMMAND_CONFIGURATIONS_HOOK,{sequence:e,specialCommands:i})},e.prototype.resetSpinConfigurations=function(){this.sendNotification(a.SlotATNotifications.RESET_SPIN_CONFIGURATIONS_HOOK)},e.prototype.getCoinValue=function(){var t={};return this.sendNotification(a.SlotATNotifications.GET_COIN_VALUE_HOOK,t),t},e.prototype.setCoinValue=function(t){var e={};return e.coinValue=t,this.sendNotification(a.SlotATNotifications.SET_COIN_VALUE_HOOK,e),e.hookResult},e.prototype.getLines=function(){var t={};return this.sendNotification(a.SlotATNotifications.GET_LINES_HOOK,t),t},e.prototype.setLines=function(t){var e={};return e.linesNumber=t,this.sendNotification(a.SlotATNotifications.SET_LINES_HOOK,e),e.hookResult},e.prototype.getBetPerLine=function(){var t={};return this.sendNotification(a.SlotATNotifications.GET_BET_PER_LINE_HOOK,t),t},e.prototype.setBetPerLine=function(t){var e={};return e.betPerLine=t,this.sendNotification(a.SlotATNotifications.SET_BET_PER_LINE_HOOK,e),e.hookResult},e.prototype.skipIntro=function(){this.sendNotification(a.SlotATNotifications.SKIP_INTRO_HOOK)},e.prototype.setSpecialDebugCommand=function(t){var e={};return e.specialDebugString=t,this.sendNotification(a.SlotATNotifications.SET_SPECIAL_DEBUG_COMMAND,e),e.hookResult},e.prototype.spin=function(t){this.sendNotification(a.SlotATNotifications.SPIN_HOOK,t)},e.prototype.autoSpin=function(t){this.sendNotification(a.SlotATNotifications.AUTO_SPIN_HOOK,t)},e.prototype.getCurrentSymbols=function(){var t={};return this.sendNotification(a.SlotATNotifications.GET_CURRENT_SYMBOLS,t),t.hookResult},e.prototype.getProgressive=function(){var t={};return this.sendNotification(a.SlotATNotifications.GET_PROGRESSIVE_HOOK,t),t.progressiveValues},e.prototype.clickBonusChoice=function(t){this.sendNotification(a.SlotATNotifications.CLICK_BONUS_CHOICE,t)},e.prototype.closeFeaturePopUp=function(t){this.sendNotification(a.SlotATNotifications.CLOSE_FEATURE_POP_UP,t)},e}(r.AutomatedTestInitializeModuleCommand);e.SlotAutomatedTestInitializeModuleCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"clickBonusChoice",hookDetails:e.body})},e}(s.Controller);e.SlotAutomatedTestHookClickBonusChoiceCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(14),r=i(10),l=i(25),c=i(12),u=i(26),h=i(0),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.turboModeProxy.getTurboModeActive()&&c.ATCallBack.onEvent(new a.ATOnEventVO(u.SlotATEventNames.TURBO_WHEELS_ANIMATIONS_COMPLETE,new a.ATGenericEvent(!1))),this.validationProxy.toggleValidation(r.ValidationProperties.ATM_READY_TO_SPIN,!0),this.validationProxy.validateAll(r.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&c.ATCallBack.onEvent(new a.ATOnEventVO(u.SlotATEventNames.WHEELS_ANIMATIONS_COMPLETE))},e.prototype.initVars=function(){t.prototype.initVars.call(this),h.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(s.Names.Proxies.TURBO_MODE,s.Names.Modules.CERTIFICATION))},e}(l.SlotAutomatedTestAbstractCommand);e.SlotATOnWheelsAnimationsCompleteCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(302),a=i(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.allowCheatTool){var i=e.body.specialDebugString,n=this.getFinalSpecialDebugCommand(i);n&&(e.body.hookResult=!0),this.cheatToolProxy.setDebugCommand(null,!0,n)}else a.ATCallBack.onError(["Special Command: Cheat tool is not permitted on this environment"])},e}(s.SlotAutomatedTestAbstractSpecialDebugCommand);e.SlotAutomatedTestHookSetSpecialDebugCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AUTOPLAY_HOOK="autoplay",e.SCROLL_AUTOPLAY="scrollAutoplay",e.COINVALUE_HOOK="coinvalue",e.SCROLL_COINVALUE="scrollCoinvalue",e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap[this.AUTOPLAY_HOOK]=this.scrollAutoplayHook.bind(this),this.eventCallbacksMap[this.COINVALUE_HOOK]=this.scrollCoinvalueHook.bind(this)},e.prototype.scrollAutoplayHook=function(t){this.sendCallHookListener(this.SCROLL_AUTOPLAY,t)},e.prototype.scrollCoinvalueHook=function(t){this.sendCallHookListener(this.SCROLL_COINVALUE,t)},e}(i(230).AutomatedTestHookScrollPageCommand);e.SlotAutomatedTestHookScrollPageCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),a=i(14),r=i(10),l=i(25),c=i(12),u=i(26),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),""!=this.getInitialCurrentState()&&this.validationProxy.validateAll(r.ValidationTypes.ATM_READY_TO_SPIN)&&this.validationProxy.validateNone(r.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&this.validationProxy.validateNone(r.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(r.ValidationTypes.RESPINS_IN_PROGRESS)?(this.validationProxy.toggleValidation(r.ValidationProperties.ATM_READY_TO_SPIN,!1),c.ATCallBack.onEvent(new a.ATOnEventVO(u.SlotATEventNames.READY_TO_SPIN,new a.ATGenericEvent,2e3))):this.validationProxy.validateAll(r.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&this.validationProxy.toggleValidation(r.ValidationProperties.ATM_READY_TO_SPIN,!1)},e.prototype.getInitialCurrentState=function(){var t="",e=this.connectionProxy.getServerData(s.States.INITIAL);return e&&(t=e.currentState),t},e}(l.SlotAutomatedTestAbstractCommand);e.SlotATOnEventReadyToSpinOnBeginGameCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(10),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.sendRCItoGAT=function(){this.validationProxy.validateNone(s.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(s.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(s.ValidationTypes.RESPINS_IN_PROGRESS)&&this.validationProxy.validateNone(s.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)&&t.prototype.sendRCItoGAT.call(this)},e}(i(222).ATHandleRealityCheckCommand);e.SlotATHandleRealityCheckCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.value=this.moneyProxy.getCurrentLine()},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetLinesCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),a=i(12),r=i(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.allowProgressive){e.body.progressiveValues=this.progressiveProxy.getLastProgressiveValues();var i=this.settings.getValue("PROGRESSIVE_CONNECTION_DETAILS").hasOwnProperty("jackpotFix");r.each(e.body.progressiveValues,(function(t){t.type=i?"coins":"money"}))}else a.ATCallBack.onError(["Get Progressive Command: Progressive is not permitted on this environment"])},e}(s.SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetProgressiveCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),a=i(12),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body&&(this.allowCheatTool?this.cheatToolProxy.setDebugCommand(e.body,!0):a.ATCallBack.onError(["Spin Command: Cheat tool is not permitted on this environment"])),this.sendGlobalNotification(r.Notifications.Global.SPIN)},e}(s.SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookSpinCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(36),r=i(14),l=i(2),c=i(228),u=i(4),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AUTOPLAY_HOOK="autoplay",e.COINVALUE_HOOK="coinvalue",e.STARFREEROUNDS_HOOK="starFreeRounds",e.CLOSE_STARFREEROUNDS="closeStarFreeRounds",e.CLOSE_TIMEOUT=500,e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap[this.AUTOPLAY_HOOK]=this.closeAutoplayHook.bind(this),this.eventCallbacksMap[this.COINVALUE_HOOK]=this.closeCoinvalueHook.bind(this),this.eventCallbacksMap[this.STARFREEROUNDS_HOOK]=this.closeStarFreeRoundsHook.bind(this)},e.prototype.onClosePaytableHook=function(e){t.prototype.onClosePaytableHook.call(this,e),u.Device.instance().mobile&&this.sendGlobalNotification(l.Notifications.Global.HIDE_SETTINGS_MENU)},e.prototype.onCloseHistoryHook=function(e){t.prototype.onCloseHistoryHook.call(this,e),u.Device.instance().mobile&&this.sendGlobalNotification(l.Notifications.Global.HIDE_SETTINGS_MENU)},e.prototype.closeAutoplayHook=function(t){u.Device.instance().mobile?this.sendGlobalNotification(l.Notifications.Global.HIDE_SETTINGS_MENU):this.sendGlobalNotification(l.Notifications.Global.HIDE_AUTO_PLAY_POP_UP),this.sendATCallBack(new r.ATPageClose(this.AUTOPLAY_HOOK),1e3)},e.prototype.closeCoinvalueHook=function(t){u.Device.instance().mobile?this.sendGlobalNotification(l.Notifications.Global.HIDE_SETTINGS_MENU):this.sendGlobalNotification(s.UINotifications.USER_ACTION_TRIGGERED,a.UserInterfaceAction.TOGGLE_COIN_VALUE),this.sendATCallBack(new r.ATPageClose(this.COINVALUE_HOOK),1e3)},e.prototype.closeStarFreeRoundsHook=function(t){this.sendCallHookListener(this.CLOSE_STARFREEROUNDS,this.STARFREEROUNDS_HOOK),this.sendATCallBack(new r.ATPageClose(this.STARFREEROUNDS_HOOK),1e3)},e}(c.AutomatedTestHookClosePageCommand);e.SlotAutomatedTestHookClosePageCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.allowCheatTool){for(var i=e.body.specialCommands,n=[],o=0;o<i.length;o++)if(i[o]){var a=this.getFinalSpecialDebugCommand(i[o]);a?n.push(a):s.ATCallBack.onError(["Special Command: "+i[o]+" does not exist"])}else n.push(void 0);this.cheatToolProxy.setSpecialCommands(n)}else s.ATCallBack.onError(["Special Command: Cheat tool is not permitted on this environment"])},e}(i(302).SlotAutomatedTestAbstractSpecialDebugCommand);e.SlotAutomatedTestHookAddSpecialCommandConfigurationsCommand=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=!1,n=e.body,o=n.coinValue;this.moneyProxy.getCoinValuesList().indexOf(o)>=0&&(this.sendGlobalNotification(a.Notifications.Global.CHANGE_COIN_VALUE,{coinValue:o}),i=!0),n.hookResult=i},e}(s.SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookSetCoinValueCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(26),a=i(14),r=i(71),l=i(12),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body,n=r.MoneyStatus.retrieveHighestPriorityStatus(i);n.statusType==r.MoneyStatus.NO_MONEY_WARNING&&n.statusType==r.MoneyStatus.NOT_ENOUGH_MONEY&&(this.initVars(),l.ATCallBack.onEvent(new a.ATOnEventVO(s.SlotATEventNames.BALANCE_TOO_LOW,new a.ATGenericEvent(!1))),this.eventCallbacksMap[e.body[0].statusType]&&l.ATCallBack.onEvent(this.eventCallbacksMap[e.body[0].statusType]))},e.prototype.initVars=function(){if(!this.eventCallbacksMap){this.eventCallbacksMap={};var t=new s.SlotATFeaturePopUpOpen(s.SlotATFeaturePopUpOpen.NOT_ENOUGH_MONEY_POPUP,[s.SlotATFeaturePopUpOpen.MONEY_PLACE_MIN_BET_BTN,s.SlotATFeaturePopUpOpen.MONEY_CLOSE_NO_MONEY_BTN]);this.eventCallbacksMap.notEnoughMoney=new a.ATOnEventVO(s.SlotATEventNames.FEATURE_POP_UP_OPEN,t,1e3);var e=new s.SlotATFeaturePopUpOpen(s.SlotATFeaturePopUpOpen.NO_MONEY_POPUP,[s.SlotATFeaturePopUpOpen.MONEY_CLOSE_NO_MONEY_BTN]);this.eventCallbacksMap.noMoneyWarning=new a.ATOnEventVO(s.SlotATEventNames.FEATURE_POP_UP_OPEN,e,1e3)}},e}(i(3).Controller);e.SlotATOnBetNotValidCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.value=this.moneyProxy.getCurrentCoin()},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetBetPerLineCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),a=i(25),r=i(26),l=i(14),c=i(12),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),""==this.getInitialCurrentState()){var i=new r.SlotATSpinsGroupStarted(r.SlotATSpinsGroupStarted.FREE_SPINS_GROUP),n=new l.ATOnEventVO(r.SlotATEventNames.SPINS_GROUP_STARTED,i);c.ATCallBack.onEvent(n)}},e.prototype.getInitialCurrentState=function(){var t="",e=this.connectionProxy.getServerData(s.States.INITIAL);return e&&(t=e.currentState),t},e}(a.SlotAutomatedTestAbstractCommand);e.SlotATOnHideFreeSpinsStartPopUpCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),a=i(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.allowCheatTool?(this.cheatToolProxy.resetDebugCommands(),this.cheatToolProxy.resetSpecialDebugCommands()):a.ATCallBack.onError(["resetSpinConfigurations:: Cheat tool is not permitted on this environment"])},e}(s.SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookResetSpinConfigurationsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.value=this.moneyProxy.getCurrentCoinValue()},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetCoinValueCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(14),r=i(12),l=i(25),c=i(26),u=i(0),h=i(56),p=i(5),d=i(2),_=i(810),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){var i;t.prototype.execute.call(this,e),this.turboModeProxy.getTurboModeActive()&&r.ATCallBack.onEvent(new a.ATOnEventVO(c.SlotATEventNames.TURBO_SPIN_END_GAME,new a.ATGenericEvent(!1))),i=h.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(p.States.END_GAME).symbols),this.sendGlobalNotification(d.Notifications.Global.CALL_BACK_ON_EVENT,new a.ATOnEventVO(_.SlotExternalActionsEvents.SYMBOLS_ARRAY,new _.SlotSymbolsDetails(i),0))},e.prototype.initVars=function(){t.prototype.initVars.call(this),u.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(s.Names.Proxies.TURBO_MODE,s.Names.Modules.CERTIFICATION))},e}(l.SlotAutomatedTestAbstractCommand);e.SlotATOnEndGameCommand=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.doScreenshot=!1,this.symbols=t};e.SlotSymbolsDetails=n;var o=function(){function t(){}return t.SYMBOLS_ARRAY="SYMBOLS_ARRAY",t}();e.SlotExternalActionsEvents=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(26),r=i(14),l=i(23),c=i(12),u=i(3),h=i(0),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.tryStartFreeRounds(e.body)},e.prototype.initVars=function(){h.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(l.FRProxiesName.FREE_ROUNDS_PROXY,s.Names.Modules.FREE_ROUNDS))},e.prototype.tryStartFreeRounds=function(t){if(t===s.Names.Layers.FREE_ROUNDS_START&&!h.isNil(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalRounds)&&parseInt(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalRounds)===parseInt(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundRounds)){var e=new a.SlotATFeatureStartedFreeRounds(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundRounds,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalRounds,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundUnlimited,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundCap,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundCoinValue,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundLines,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundLineBet,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundState,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalWins,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundEndDate,this.freeRoundsProxy.freeRoundsPackageDetails.fRoundDurationRelative),i=new r.ATOnEventVO(a.SlotATEventNames.FEATURE_STARTED,e);c.ATCallBack.onEvent(i)}},e}(u.Controller);e.SlotATOnFeaturePopUpClosedCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"closeFeaturePopUp",hookDetails:e.body})},e}(s.Controller);e.SlotAutomatedTestHookCloseFeaturePopUpCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(105),a=i(14),r=i(12),l=i(3),c=i(26),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),r.ATCallBack.onEvent(new a.ATOnEventVO(c.SlotATEventNames.INTRO_CLOSED,new a.ATGenericEvent(!1))),r.ATCallBack.onEvent(new a.ATOnEventVO(c.SlotATEventNames.GAME_READY,new a.ATGenericEvent(!1))),s.ATMPublicApiService.instance.ready()},e}(l.Controller);e.SlotATOnIntroClosedCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(105),r=i(12),l=i(141),c=i(7),u=i(36),h=i(2),p=i(224),d=i(4),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AUTOPLAY_HOOK="autoplay",e.COINVALUE_HOOK="coinvalue",e.STARFREEROUNDS_HOOK="starFreeRounds",e.OPEN_AUTOPLAY="openAutoplay",e.OPEN_COINVALUE="openCoinvalue",e.OPEN_STARFREEROUNDS="openStarFreeRounds",e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),this.eventCallbacksMap[this.AUTOPLAY_HOOK]=this.openAutoplayHook.bind(this),this.eventCallbacksMap[this.COINVALUE_HOOK]=this.openCoinvalueHook.bind(this),this.eventCallbacksMap[this.STARFREEROUNDS_HOOK]=this.openStarFreeRoundsHook.bind(this)},e.prototype.openPaytableHook=function(e){t.prototype.openPaytableHook.call(this,e),d.Device.instance().mobile?this.sendGlobalNotification(h.Notifications.Global.SHOW_SETTINGS_MENU):this.sendGlobalNotification(h.Notifications.Global.SHOW_PAY_TABLE),this.sendATCallBack(new s.ATPageOpen(this.PAYTABLE_HOOK,!0)),a.ATMPublicApiService.instance.eventEmitter.emit(l.Page,this.pagePaytableObject)},e.prototype.updatePagePaytable=function(){var e=this;t.prototype.updatePagePaytable.call(this),this.pagePaytableObject.scrollable=!0,this.pagePaytableObject.scroll=function(){return new Promise((function(t){var i={};i.id=e.PAYTABLE_HOOK,i.hookResult=!1,e.sendNotification(r.ATNotifications.SCROLL_PAGE_COMMAND,i),setTimeout((function(){t(i.hookResult)}),500)}))}},e.prototype.openHistoryHook=function(e){t.prototype.openHistoryHook.call(this,e),d.Device.instance().mobile&&(this.sendGlobalNotification(h.Notifications.Global.SHOW_SETTINGS_MENU),this.sendCallHookListener(this.OPEN_HISTORY,this.HISTORY_HOOK)),this.sendATCallBack(new s.ATPageOpen(this.HISTORY_HOOK)),a.ATMPublicApiService.instance.eventEmitter.emit(l.Page,this.pageHistoryObject)},e.prototype.openAutoplayHook=function(t){d.Device.instance().mobile?this.sendGlobalNotification(h.Notifications.Global.SHOW_SETTINGS_MENU):this.sendGlobalNotification(h.Notifications.Global.SHOW_AUTO_PLAY_POP_UP),this.sendCallHookListener(this.OPEN_AUTOPLAY,this.AUTOPLAY_HOOK),d.Device.instance().mobile?this.sendATCallBack(new s.ATPageOpen(this.AUTOPLAY_HOOK,!0)):this.sendATCallBack(new s.ATPageOpen(this.AUTOPLAY_HOOK))},e.prototype.openCoinvalueHook=function(t){var e=!1;d.Device.instance().mobile?(this.sendGlobalNotification(h.Notifications.Global.SHOW_SETTINGS_MENU),this.sendCallHookListener(this.OPEN_COINVALUE,this.COINVALUE_HOOK)):this.sendGlobalNotification(c.UINotifications.USER_ACTION_TRIGGERED,u.UserInterfaceAction.TOGGLE_COIN_VALUE),d.Device.instance().mobile&&d.Device.isLandscape()&&(e=!0),this.sendATCallBack(new s.ATPageOpen(this.COINVALUE_HOOK,e))},e.prototype.openStarFreeRoundsHook=function(t){this.sendCallHookListener(this.OPEN_STARFREEROUNDS,this.STARFREEROUNDS_HOOK),this.sendATCallBack(new s.ATPageOpen(this.STARFREEROUNDS_HOOK))},e}(p.AutomatedTestHookOpenPageCommand);e.SlotAutomatedTestHookOpenPageCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),a=i(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.allowCheatTool){var i=e.body.sequence;this.cheatToolProxy.setDebugCommands(i)}else a.ATCallBack.onError(["Spin Preset Command: Cheat tool is not permitted on this environment"])},e}(s.SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookAddSpinConfigurationsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(26),r=i(12),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=new a.SlotATSpinsGroupEnded(a.SlotATSpinsGroupEnded.FREE_SPINS_GROUP),n=new s.ATOnEventVO(a.SlotATEventNames.SPINS_GROUP_ENDED,i);r.ATCallBack.onEvent(n)},e}(i(3).Controller);e.SlotATOnHideFreeSpinsEndPopUpCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),e.body.balance=this.moneyProxy.displayValues.balance,e.body.balanceInCoins=this.moneyProxy.displayValues.balanceInCoins},e}(i(25).SlotAutomatedTestAbstractCommand);e.SlotAutomatedTestHookGetBalanceCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(26),r=i(10),l=i(25),c=i(14),u=i(23),h=i(12),p=i(0),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.updateStartFreeRoundsPopupDetails(e.body),this.tryFinishFreeRounds(e.body),this.sendATCallBackEvent(e.body)},e.prototype.initVars=function(){t.prototype.initVars.call(this),p.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(u.FRProxiesName.FREE_ROUNDS_PROXY,s.Names.Modules.FREE_ROUNDS))},e.prototype.sendATCallBackEvent=function(t,e){var i;switch(void 0===e&&(e=1e3),t){case s.Names.Layers.FREE_GAMES_START:var n=new a.SlotATFeaturePopUpOpen(a.SlotATFeaturePopUpOpen.START_FREE_SPINS_POPUP,[a.SlotATFeaturePopUpOpen.HIDE_FREE_SPINS_START_BTN]);i=new c.ATOnEventVO(a.SlotATEventNames.FEATURE_POP_UP_OPEN,n);break;case s.Names.Layers.FREE_GAMES_EXTRA:var o=new a.SlotATFeaturePopUpOpen(a.SlotATFeaturePopUpOpen.EXTRA_FREE_SPINS_POPUP,[a.SlotATFeaturePopUpOpen.HIDE_FREE_SPINS_EXTRA_BTN]);i=new c.ATOnEventVO(a.SlotATEventNames.FEATURE_POP_UP_OPEN,o);break;case s.Names.Layers.FREE_GAMES_END:var r=new a.SlotATFeaturePopUpOpen(a.SlotATFeaturePopUpOpen.END_FREE_SPINS_POPUP,[a.SlotATFeaturePopUpOpen.HIDE_FREE_SPINS_END_BTN]);i=new c.ATOnEventVO(a.SlotATEventNames.FEATURE_POP_UP_OPEN,r);break;case s.Names.Layers.FREE_ROUNDS_END:var l=new a.SlotATFeaturePopUpOpen(a.SlotATFeaturePopUpOpen.END_FREE_ROUNDS_POPUP,[a.SlotATFeaturePopUpOpen.RESUME_FREE_ROUNDS_END_BTN]);i=new c.ATOnEventVO(a.SlotATEventNames.FEATURE_POP_UP_OPEN,l)}p.isNil(i)||(i.delayedCall=e,this.updateCallBackEventsProperties(i),h.ATCallBack.onEvent(i))},e.prototype.updateCallBackEventsProperties=function(t){},e.prototype.updateStartFreeRoundsPopupDetails=function(t){if(t===s.Names.Layers.FREE_ROUNDS_START){var e=[a.SlotATFeaturePopUpOpen.RESUME_FREE_ROUNDS_START_BTN],i=a.SlotATFeaturePopUpOpen.RESUME_FREE_ROUNDS_POPUP;p.isNil(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundState)||"created"!=this.freeRoundsProxy.freeRoundsPackageDetails.fRoundState.toLowerCase()||(e=[a.SlotATFeaturePopUpOpen.ACCEPT_FREE_ROUNDS_START_BTN,a.SlotATFeaturePopUpOpen.DECLINE_FREE_ROUNDS_START_BTN]),p.isNil(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalRounds)||parseInt(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundTotalRounds)!==parseInt(this.freeRoundsProxy.freeRoundsPackageDetails.fRoundRounds)||(i=a.SlotATFeaturePopUpOpen.START_FREE_ROUNDS_POPUP);var n=new a.SlotATFeaturePopUpOpen(i,e),o=new c.ATOnEventVO(a.SlotATEventNames.FEATURE_POP_UP_OPEN,n);h.ATCallBack.onEvent(o)}},e.prototype.tryFinishFreeRounds=function(t){t===s.Names.Layers.FREE_ROUNDS_END&&this.validationProxy.toggleValidation(r.ValidationProperties.ATM_FREE_ROUNDS_FEATURE_ENDED_PENDING,!0)},e}(l.SlotAutomatedTestAbstractCommand);e.SlotATOnFeaturePopUpOpenCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(14),r=i(10),l=i(12),c=i(2),u=i(26),h=i(229),p=i(0),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),p.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(s.Names.Proxies.COINS_MONEY,s.Names.Modules.MONEY)),p.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e.prototype.onPlaceMinBet=function(){this.sendGlobalNotification(c.Notifications.Global.CHANGE_COIN_VALUE,{coinValue:this.moneyProxy.getCoinValuesList()[0]}),this.slotGameConfig.alwaysMaxBetPerLines||this.sendGlobalNotification(c.Notifications.Global.CHANGE_LINE_BET,{lineBet:this.moneyProxy.getCoinsList()[0]}),this.slotGameConfig.alwaysMaxLines||this.sendGlobalNotification(c.Notifications.Global.CHANGE_LINES,{linesNumber:1}),t.prototype.onPlaceMinBet.call(this),this.onContinueWithATMEvents()},e.prototype.onOkClicked=function(){t.prototype.onOkClicked.call(this),this.onContinueWithATMEvents()},e.prototype.onContinueWithATMEvents=function(){this.validationProxy.validateAll(r.ValidationTypes.ATM_AUTOPLAY_ENDED)&&(this.validationProxy.toggleValidation(r.ValidationProperties.ATM_AUTOPLAY_ENDED,!1),l.ATCallBack.onEvent(new a.ATOnEventVO(u.SlotATEventNames.AUTO_SPIN_END,new a.ATGenericEvent(!1)))),l.ATCallBack.onEvent(new a.ATOnEventVO(u.SlotATEventNames.READY_TO_SPIN,new a.ATGenericEvent,1e3))},e}(h.AutomatedTestHookNotEnoughMoneyCommand);e.SlotAutomatedTestHookNotEnoughMoneyCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(11),a=i(223),r=i(10),l=i(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onContinueLogic=function(){this.sendGlobalNotification(l.Notifications.Global.PLAY_SOUND,{soundName:s.SlotSoundNames.GENERIC_BUTTON_CLICK}),t.prototype.onContinueLogic.call(this),this.validationProxy.validateAll(r.ValidationTypes.ATM_REDO_SPIN)&&this.sendGlobalNotification(l.Notifications.Global.SPIN)},e}(a.AutomatedTestHookRciChoiceCommand);e.SlotAutomatedTestHookRciChoiceCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"autoSpin",hookDetails:e.body})},e}(s.Controller);e.SlotAutomatedTestHookAutoSpinCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(14),a=i(25),r=i(12),l=i(10),c=i(2),u=i(26),h=i(0),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.validationProxy.validateAll(l.ValidationTypes.ATM_SCREENSHOT_ENABLED)){var i=void 0;switch(e.name){case c.Notifications.Winning.BIG_WIN_ANIMATION_STARTED:i=new s.ATOnEventVO(u.SlotATEventNames.BIG_WIN_ANIMATION_STARTED,new s.ATGenericEvent);break;case c.Notifications.Winning.FANTASTIC_WIN_ANIMATION_STARTED:i=new s.ATOnEventVO(u.SlotATEventNames.FANTASTIC_WIN_ANIMATION_STARTED,new s.ATGenericEvent);break;case c.Notifications.Winning.ULTRA_WIN_ANIMATION_STARTED:i=new s.ATOnEventVO(u.SlotATEventNames.ULTRA_WIN_ANIMATION_STARTED,new s.ATGenericEvent);break;case c.Notifications.Winning.PLAY_FIVE_OF_A_KIND_ANIMATION:i=new s.ATOnEventVO(u.SlotATEventNames.PLAY_FIVE_OF_A_KIND_ANIMATION,new s.ATGenericEvent);break;case c.Notifications.Global.START_PROGRESSIVE_POPUP:i=new s.ATOnEventVO(u.SlotATEventNames.START_PROGRESSIVE_POPUP,new s.ATGenericEvent)}if(!h.isNil(i)){i.delayedCall=1e3,this.updateCallBackEventsProperties(i),r.ATCallBack.onEvent(i)}}},e.prototype.updateCallBackEventsProperties=function(t){},e}(a.SlotAutomatedTestAbstractCommand);e.SlotATOnEventWinAnimationsCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=!1,n=e.body,o=n.linesNumber,s=this.settings.getValue("GameConfig"),r=s.linesCnt;!s.alwaysMaxLines&&o<=r&&(this.sendGlobalNotification(a.Notifications.Global.CHANGE_LINES,{linesNumber:o}),i=!0),n.hookResult=i},e}(s.Controller);e.SlotAutomatedTestHookSetLinesCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),a=i(3),r=i(26),l=i(14),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i=e.body,n=new l.ATDisplayValues(!1,i.balance,i.bets);s.ATCallBack.onEvent(new l.ATOnEventVO(r.SlotATEventNames.DISPLAY_VALUES,n,0))},e}(a.Controller);e.SlotATOnUpdateDisplayValues=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(13).Proxy);e.SlotAutomatedTestProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(232),a=i(2),r=i(1),l=i(12),c=i(231),u=i(7),h=i(0),p=i(5),d=i(10),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this),h.isNil(this.autoPlayProxy)&&(this.autoPlayProxy=this.retrieveGlobalProxy(r.Names.Proxies.AUTO_PLAY,r.Names.Modules.AUTO_PLAY))},e.prototype.clickButton=function(t){var e={};return e.buttonId=t,this.sendNotification(l.ATNotifications.CLICK_BUTTON_HOOK,e),"placeMinBet"!==t&&"closeNoMoneyPopup"!==t||this.notEnoughMoney(t),e.hookResult},e.prototype.notEnoughMoney=function(t){this.sendNotification(l.ATNotifications.NOT_ENOUGH_MONEY_HOOK,t)},e.prototype.openPage=function(t){this.sendNotification(l.ATNotifications.OPEN_PAGE_COMMAND,t)},e.prototype.receiveMessage=function(e){t.prototype.receiveMessage.call(this,e);var i=e.data.toString();if(this.hasExternalAction(i))switch(i){case s.ExternalActions.STOP_AUTO_PLAY:this.autoPlayProxy.autoplayInProgress&&this.isActionAllowedInThisState(i)&&this.getExtraFeaturesStatusForAutospin()?this.clickButton(u.UIButtonsNames.STOP_AUTO_PLAY):this.notifyActionNotAllowed();break;case s.ExternalActions.SHOW_PAY_TABLE:this.getPaytebleState()||this.getIntroState()||!this.isActionAllowedInThisState(i)?this.notifyActionNotAllowed():this.openPage(s.ExternalActionsPages.PAY_TABLE);break;case s.ExternalActions.HIDE_PAY_TABLE:this.getPaytebleState()&&this.isActionAllowedInThisState(i)?this.sendNotification(l.ATNotifications.CLOSE_PAGE_COMMAND,s.ExternalActionsPages.PAY_TABLE):this.notifyActionNotAllowed()}},e.prototype.getExtraFeaturesStatusForAutospin=function(){var t=!0;return(this.validationProxy.validateAtLeastOne(d.ValidationTypes.FREE_SPINS_IN_PROGRESS)||this.validationProxy.validateAtLeastOne(d.ValidationTypes.RESPINS_IN_PROGRESS))&&(t=!1),t},e.prototype.getPaytebleState=function(){var t={};return this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"getPaytableState",hookDetails:t}),t.hookResult},e.prototype.getIntroState=function(){var t={};return this.sendGlobalNotification(a.Notifications.Global.CALL_HOOK_LISTENERS,{hookName:"getIntroState",hookDetails:t}),t.hookResult},e.prototype.registerExternalActionsAvailability=function(){t.prototype.registerExternalActionsAvailability.call(this),this.allowedExternalActions.push(new s.AllowedExternalActionsVO(s.ExternalActions.STOP_AUTO_PLAY,[p.States.AUTO_PLAY_BEGIN_GAME,p.States.AUTO_PLAY_END_GAME_ENABLE_UI,p.States.END_GAME])),this.allowedExternalActions.push(new s.AllowedExternalActionsVO(s.ExternalActions.SHOW_PAY_TABLE,[p.States.BEGIN_GAME,p.States.END_GAME_ENABLE_UI])),this.allowedExternalActions.push(new s.AllowedExternalActionsVO(s.ExternalActions.HIDE_PAY_TABLE,[p.States.BEGIN_GAME,p.States.END_GAME_ENABLE_UI]))},e}(c.ManageExternalActionsCommand);e.SlotManageExternalActionsCommand=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),t.body.callBack.call(null,this.soundEffectsProxy.currentAmbianceVO)},e}(s.Controller);e.GetCurrentAmbianceCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=i(3),c=i(11),u=i(144),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ambianceSounds={},e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.sendNotification(r.Notifications.Global.OVERRIDE_SOUNDS),this.initializeAmbianceSounds(),this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:c.SlotSoundNames.GENERAL_AMBIANCE,volume:1}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:c.SlotSoundNames.GENERAL_AMBIANCE,loop:!0,fadeIn:.5})},e.prototype.initializeAmbianceSounds=function(){var t=this.getFreeSpinsAmbiance();if(t&&this.registerAmbiance(t),this.slotGameConfig.hasBonuses){var e=this.getBonusAmbiance();e&&this.registerAmbiance(e)}},e.prototype.registerAmbiance=function(t){var e;for(e=0;e<t.startNotifications.length;e++)this.sendNotification(c.SlotSoundEffectsNotifications.LISTEN_FOR_AMBIANCE_NOTIFICATION,{notification:t.startNotifications[e],callback:t.startCallbackFunction});for(e=0;e<t.stopNotifications.length;e++)this.sendNotification(c.SlotSoundEffectsNotifications.LISTEN_FOR_AMBIANCE_NOTIFICATION,{notification:t.stopNotifications[e],callback:t.stopCallbackFunction});this.ambianceSounds[t.soundName]=t},e.prototype.getFreeSpinsAmbiance=function(){var t=new u.AmbianceVO(c.SlotSoundNames.FREESPIN_AMBIANCE);return t.startNotifications=[r.Notifications.Global.FREE_SPINS_STARTED],t.stopNotifications=[r.Notifications.Global.FREE_SPINS_ENDED],t.startCallbackFunction=this.startFreeSpinsAmbiance.bind(this),t.stopCallbackFunction=this.stopFreeSpinsAmbiance.bind(this),t},e.prototype.getBonusAmbiance=function(){var t=new u.AmbianceVO(c.SlotSoundNames.BONUS1_AMBIANCE);return t.startNotifications=[r.Notifications.Bonus.START_BONUS_AMBIANCE_SOUND],t.stopNotifications=[r.Notifications.Bonus.STOP_BONUS_AMBIANCE_SOUND],t.startCallbackFunction=this.startBonusAmbiance.bind(this),t.stopCallbackFunction=this.stopBonusAmbiance.bind(this),t},e.prototype.getRespinAmbiance=function(){var t=new u.AmbianceVO(c.SlotSoundNames.RESPIN_AMBIANCE);return t.startNotifications=[r.Notifications.Global.START_RESPINS],t.stopNotifications=[r.Notifications.Global.RESPINS_ENDED],t.startCallbackFunction=this.startRespinAmbiance.bind(this),t.stopCallbackFunction=this.stopRespinAmbiance.bind(this),t},e.prototype.startFreeSpinsAmbiance=function(t){var e=this.soundEffectsProxy.currentAmbianceVO;this.soundEffectsProxy.addAmbianceToPlay(this.ambianceSounds[c.SlotSoundNames.FREESPIN_AMBIANCE],!0),this.defaultPlayAmbiance(this.ambianceSounds[c.SlotSoundNames.FREESPIN_AMBIANCE],e)},e.prototype.startBonusAmbiance=function(t){var e=this.soundEffectsProxy.currentAmbianceVO;this.soundEffectsProxy.addAmbianceToPlay(this.ambianceSounds[c.SlotSoundNames.BONUS1_AMBIANCE],!0),this.defaultPlayAmbiance(this.ambianceSounds[c.SlotSoundNames.BONUS1_AMBIANCE],e)},e.prototype.startRespinAmbiance=function(t){var e=this.soundEffectsProxy.currentAmbianceVO;this.soundEffectsProxy.addAmbianceToPlay(this.ambianceSounds[c.SlotSoundNames.RESPIN_AMBIANCE],!0),this.defaultPlayAmbiance(this.ambianceSounds[c.SlotSoundNames.RESPIN_AMBIANCE],e)},e.prototype.stopFreeSpinsAmbiance=function(t){this.soundEffectsProxy.removeAmbianceFromPlay(this.ambianceSounds[c.SlotSoundNames.FREESPIN_AMBIANCE]);var e=this.soundEffectsProxy.currentAmbianceVO;this.defaultStopAmbiance(this.ambianceSounds[c.SlotSoundNames.FREESPIN_AMBIANCE],e)},e.prototype.stopBonusAmbiance=function(t){this.soundEffectsProxy.removeAmbianceFromPlay(this.ambianceSounds[c.SlotSoundNames.BONUS1_AMBIANCE]);var e=this.soundEffectsProxy.currentAmbianceVO;this.defaultStopAmbiance(this.ambianceSounds[c.SlotSoundNames.BONUS1_AMBIANCE],e)},e.prototype.stopRespinAmbiance=function(t){this.soundEffectsProxy.removeAmbianceFromPlay(this.ambianceSounds[c.SlotSoundNames.RESPIN_AMBIANCE]);var e=this.soundEffectsProxy.currentAmbianceVO;this.defaultStopAmbiance(this.ambianceSounds[c.SlotSoundNames.RESPIN_AMBIANCE],e)},e.prototype.defaultPlayAmbiance=function(t,e){this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:t.soundName,volume:1}),e&&t.soundName===e.soundName||(this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:t.soundName,fadeIn:t.fadeIn,loop:!0}),e&&this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:e.soundName,fadeOut:e.fadeOut}))},e.prototype.defaultStopAmbiance=function(t,e){e&&e.soundName===t.soundName||this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:t.soundName,fadeOut:t.fadeOut}),null!=e&&(this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:e.soundName,volume:1}),e.soundName!==t.soundName&&this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:e.soundName,fadeIn:e.fadeIn,loop:!0}))},e.prototype.initVars=function(){s.isNil(this.soundEffectsProxy)&&(this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT)),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(l.Controller);e.InitializeAmbianceSoundsCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.soundEffectsProxy.ambiancePlaying=!0,this.sendNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE,loop:!0}),this.sendNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE,volume:.2})},e}(s.Controller);e.IntroFeaturesSoundEffectsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.INTRO_VIDEO,fadeOut:1})},e}(s.Controller);e.IntroVideoStopSoundEffectCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.MENU_CLOSING})},e}(s.Controller);e.MenuClosingCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.MENU_OPENING})},e}(s.Controller);e.MenuOpeningCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(55),a=i(3),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),"false"==this.settings.getCookie(s.MenuStaticNames.MENU_COOKIE_SOUND_CATEGORY_PREFIX+s.MenuStaticNames.SOUND_SWITCH,!0)&&this.sendGlobalNotification(r.Notifications.Global.MUTE_ALL_SOUNDS,{toggle:!e.body})},e}(a.Controller);e.PageVisibilityChangedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(11),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.soundNamesProxy)&&(this.soundNamesProxy=this.retrieveProxy(r.Names.Proxies.SOUND_NAMES));var e=t.body.occurrence,i=this.soundNamesProxy.names[c.SlotSoundNames.SCATTER_ANNOUNCE]+e;this.sendGlobalNotification(l.Notifications.Global.PLAY_SOUND,{soundName:i})},e}(a.Controller);e.PlayAnnounceSpecialSymbolSoundsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.soundEffectsProxy.currentAmbianceVO&&this.sendGlobalNotification(r.Notifications.Global.PAUSE_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO.soundName,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.BIG_WIN})},e}(s.Controller);e.PlayBigWinAnimationStartedSoundCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(11),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:a.SlotSoundNames.BIG_WIN_INCREMENT_ENDED}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:a.SlotSoundNames.BIG_WIN,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:a.SlotSoundNames.FANTASTIC_WIN,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:a.SlotSoundNames.ULTRA_WIN,fadeOut:.3})},e}(s.Controller);e.PlayBigWinIncrementEndedSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(11),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:a.SlotSoundNames.EXTENDED_WILD_WIN})},e}(s.Controller);e.PlayExtendedWildAnimationStartedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.FANTASTIC_WIN}),this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.FANTASTIC_WIN+r.SlotSoundNames.VOICE}),this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.BIG_WIN+r.SlotSoundNames.VOICE})},e}(s.Controller);e.PlayFantasticWinAnimationStartedSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(11),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.soundEffectsProxy.fiveOfAKindIsPlaying=!0,this.sendGlobalNotification(l.Notifications.Global.PLAY_SOUND,{soundName:c.SlotSoundNames.FIVE_OF_A_KIND}),this.sendGlobalNotification(l.Notifications.Global.PLAY_SOUND,{soundName:c.SlotSoundNames.FIVE_OF_A_KIND+c.SlotSoundNames.VOICE})},e.prototype.initVars=function(){s.isNil(this.soundEffectsProxy)&&(this.soundEffectsProxy=this.retrieveGlobalProxy(r.Names.Proxies.SOUND_EFFECT,r.Names.Modules.SOUND_EFFECT_MODULE))},e}(a.Controller);e.PlayFiveOfAKindAnimationSoundCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){t.body.showOnlyLastValue||(this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.INCREMENT}),this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.INCREMENT_STOP}))},e}(s.Controller);e.PlayIncrementCompleteSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){t.body.showOnlyLastValue||this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.INCREMENT,loop:!0})},e}(s.Controller);e.PlayIncrementSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.ULTRA_WIN}),this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.ULTRA_WIN+r.SlotSoundNames.VOICE}),this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.FANTASTIC_WIN+r.SlotSoundNames.VOICE})},e}(s.Controller);e.PlayUltraWinAnimationStartedSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=i(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.validationProxy=this.retrieveGlobalProxy(a.Names.Proxies.VALIDATION,a.Names.Modules.LOADER),this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.validationProxy.validateNone(c.ValidationTypes.SKIP_WELCOME_SOUND)&&(this.soundEffectsProxy.hasWelcomeSound?this.playWelcomeSounds():(this.soundEffectsProxy.ambiancePlaying||(this.soundEffectsProxy.ambiancePlaying=!0,this.sendNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE,loop:!0})),this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE,volume:1})))},e.prototype.playWelcomeSounds=function(){this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.GAME_WELCOME,loop:!1,callBackFunction:this.playAmbianceAgain.bind(this)})},e.prototype.playAmbianceAgain=function(){this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.GENERAL_AMBIANCE,loop:!0})},e}(s.Controller);e.PlayWelcomeGameSoundsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(1),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e);var i,n=this.retrieveGlobalProxy(a.Names.Proxies.SOUND,a.Names.Modules.SOUND),o=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),l=this.retrieveProxy(a.Names.Proxies.SOUND_NAMES)._names[o.currentAmbianceVO.soundName];s.isNil(l)||(i=n.getSoundVO(l)),s.isNil(i)||((i.playing||o.currentAmbianceVO.isRunning)&&this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:o.currentAmbianceVO.soundName}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:o.currentAmbianceVO.soundName,loop:!0,fadeIn:.5}),o.currentAmbianceVO.isRunning=!0)},e}(i(3).Controller);e.StartAmbianceCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:this.soundEffectsProxy.currentAmbianceVO,volume:1,fade:.5}),this.sendGlobalNotification(r.Notifications.Global.RESUME_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO}),this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:l.SlotSoundNames.WHEEL_SPIN,volume:1}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:l.SlotSoundNames.WHEEL_SPIN,loop:!0,fadeIn:.5})},e}(s.Controller);e.SpinWheelAnimationSoundEffectsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.PROGRESSIVE_START})},e}(s.Controller);e.StartProgressivePopupSoundEffectsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.soundEffectsProxy.currentAmbianceVO&&(this.soundEffectsProxy.featureSoundPlayed?this.soundEffectsProxy.currentAmbianceVO.soundName==l.SlotSoundNames.FREESPIN_AMBIANCE&&this.sendGlobalNotification(r.Notifications.Global.RESUME_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO.soundName,fadeIn:.3}):this.sendGlobalNotification(r.Notifications.Global.RESUME_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO.soundName,fadeIn:.3})),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.BIG_WIN,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.FANTASTIC_WIN,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.ULTRA_WIN,fadeOut:.3}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.BIG_WIN_VOICE}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.FANTASTIC_WIN_VOICE}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.ULTRA_WIN_VOICE})},e}(s.Controller);e.StopBigWinAnimationSoundCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=i(11),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.WHEEL_SPIN}),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.SlotSoundNames.NEAR_MISS})},e}(s.Controller);e.StopWheelAnimationSoundEffectsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.FIVE_OF_A_KIND,fadeOut:.3}),this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.FIVE_OF_A_KIND+r.SlotSoundNames.VOICE,fadeOut:.3})},e}(s.Controller);e.StopWinningsAllSoundsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT);for(var e=0;e<this.soundEffectsProxy.playingWinSounds.length;e++)this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:this.soundEffectsProxy.playingWinSounds[e],fadeOut:.2});this.soundEffectsProxy.playingWinSounds=[]},e}(s.Controller);e.StopWinningsSoundsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.WHEEL_COMPLETE_WIN})},e}(s.Controller);e.WheelCompleteWinAnimationSoundsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(2),c=i(11),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){s.isNil(this.soundEffectsProxy)&&(this.soundEffectsProxy=this.retrieveProxy(r.Names.Proxies.SOUND_EFFECT)),this.sendGlobalNotification(l.Notifications.Global.STOP_SOUND,{soundName:c.SlotSoundNames.WHEEL_STOP}),this.sendGlobalNotification(l.Notifications.Global.PLAY_SOUND,{soundName:c.SlotSoundNames.WHEEL_STOP})},e}(a.Controller);e.WheelStopSoundCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i(114).AbstractView);e.SlotSoundEffectsView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.INTRO_VIDEO})},e}(s.Controller);e.IntroVideoPlaySoundEfectCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.GET_SOUND_STATE,{soundName:r.SlotSoundNames.NEAR_MISS,callback:this.onReceiveSoundState.bind(this)})},e.prototype.onReceiveSoundState=function(t){t&&(t.playing||this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.NEAR_MISS}))},e}(s.Controller);e.PlayNearMissAnimationSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.NEAR_MISS_STOP})},e}(s.Controller);e.WheelStopNearMissAnimationSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(11),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:a.SlotSoundNames.NEAR_MISS})},e}(s.Controller);e.StopNearMissAnimationSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=t.body;this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:e+r.SlotSoundNames.VOICE})},e}(s.Controller);e.PlayBigWinVoiceSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=t.body;this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:e+r.SlotSoundNames.VOICE})},e}(s.Controller);e.StopBigWinVoiceSoundCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.USER_INTERFACE_TRANSITION})},e}(s.Controller);e.StartFreeSpinSoundEffectCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:r.SlotSoundNames.FREESPIN_CONGRATULATION,fadeOut:1}),this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.USER_INTERFACE_TRANSITION})},e}(s.Controller);e.HideFreeSpinsEndPopUpSoundEffectsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(1),r=i(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.soundEffectsProxy=this.retrieveProxy(a.Names.Proxies.SOUND_EFFECT),this.sendGlobalNotification(r.Notifications.Global.RESUME_SOUND,{soundName:this.soundEffectsProxy.currentAmbianceVO}),this.sendGlobalNotification(r.Notifications.Global.SET_SOUND_VOLUME,{soundName:this.soundEffectsProxy.currentAmbianceVO,volume:1,fade:.5})},e}(s.Controller);e.ShowFreeSpinsExtraPopUpSoundEffectsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.PAYTABLE_OPENING})},e}(s.Controller);e.PayTableOpeningCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(2),r=i(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.SlotSoundNames.PAYTABLE_CLOSING})},e}(s.Controller);e.PayTableClosingCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(866),a=i(144),r=i(11),l=i(6),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastRandomWinSoundIndex=0,e.playingWinSounds=[],e.featureSoundPlayed=!1,e.gameAmbiances=new Array,e.hasWelcomeSound=!1,e.fiveOfAKindIsPlaying=!1,e.ambiancePlaying=!1,e}return o(e,t),e.prototype.initProxy=function(){var t=new a.AmbianceVO(r.SlotSoundNames.GENERAL_AMBIANCE);this.gameAmbiances.push(t),this._currentAmbiance=t,this.addFocusInOutEvent()},Object.defineProperty(e.prototype,"currentAmbianceVO",{get:function(){return this._currentAmbiance},enumerable:!0,configurable:!0}),e.prototype.addAmbianceToPlay=function(t,e){l.Log.logch("Ambiance","try addAmbianceFromPlay -> "+t.soundName),this.verifyIfAmbianceIsRunning()&&this.checkIfIsIdenticalSoundName(t)||this.addAmbiance(t,e)},e.prototype.playAmbiance=function(t){this._currentAmbiance=t,this._currentAmbiance.isRunning=!0},e.prototype.removeAmbianceFromPlay=function(t){l.Log.logch("Ambiance","try removeAmbianceFromPlay -> "+t.soundName),this.verifyIfAmbianceIsRunning(t.soundName)&&(l.Log.logch("Ambiance","removeAmbianceFromPlay -> "+t.soundName),t.isRunning=!1,this.gameAmbiances.pop(),this.gameAmbiances.length<=0&&this.gameAmbiances.push(new a.AmbianceVO(r.SlotSoundNames.GENERAL_AMBIANCE)),this.playAmbiance(this.gameAmbiances[this.gameAmbiances.length-1]))},e.prototype.verifyIfAmbianceIsRunning=function(t){void 0===t&&(t="");var e=!1;if(this.gameAmbiances.length>0)for(var i=this.gameAmbiances.length,n=0;n<i;n++){var o=this.gameAmbiances[n];if(""==t){if(o.isRunning){e=!0;break}}else if(o.isRunning&&o.soundName==t){e=!0;break}}return e},e.prototype.checkIfIsIdenticalSoundName=function(t){for(var e=this.gameAmbiances.length,i=0;i<e;i++){var n=this.gameAmbiances[i];if(n.isRunning&&n.soundName==t.soundName)return!0}return!1},e.prototype.addAmbiance=function(t,e){if(l.Log.logch("Ambiance","addAmbianceFromPlay -> "+t.soundName),e)this.gameAmbiances.push(t);else{var i=this.gameAmbiances.indexOf(this._currentAmbiance);this.gameAmbiances.splice(i,0,t)}e&&this.playAmbiance(t)},e.prototype.addFocusInOutEvent=function(){window.addEventListener("focus",(function(){})),window.addEventListener("blur",(function(){}))},e}(s.SoundEffectsProxy);e.SlotSoundEffectsProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){},e}(i(13).Proxy);e.SoundEffectsProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(868),a=i(11),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setDefaultMapping=function(){t.prototype.setDefaultMapping.call(this),this._names[a.SlotSoundNames.GENERIC_SPIN_CLICK]="click_spin",this._names[a.SlotSoundNames.GENERIC_STOP_CLICK]="click_spin_stop",this._names[a.SlotSoundNames.GENERIC_COIN_VALUE_CLICK]="coin_value_increase",this._names[a.SlotSoundNames.GENERIC_COIN_VALUE_DECREASE_CLICK]="coin_value_decrease",this._names[a.SlotSoundNames.WHEEL_SPIN]="reel_spin",this._names[a.SlotSoundNames.WHEEL_STOP]="reel_stop",this._names[a.SlotSoundNames.NEAR_MISS]="near_miss",this._names[a.SlotSoundNames.NEAR_MISS_STOP]="near_miss_stop",this._names[a.SlotSoundNames.BONUS1_AMBIANCE]="bonus1_ambiance",this._names[a.SlotSoundNames.BONUS2_AMBIANCE]="bonus2_ambiance",this._names[a.SlotSoundNames.BONUS_WIN]="bonus_win",this._names[a.SlotSoundNames.BONUS1_CONGRATULATION]="bonus1_congratulations",this._names[a.SlotSoundNames.BONUS2_CONGRATULATION]="bonus2_congratulations",this._names[a.SlotSoundNames.FREESPIN_AMBIANCE]="freespin_ambiance",this._names[a.SlotSoundNames.FREESPIN_WIN]="freespin_win",this._names[a.SlotSoundNames.FREESPIN_CONGRATULATION]="freespin_congratulations",this._names[a.SlotSoundNames.RESPIN_WIN]="respin_win",this._names[a.SlotSoundNames.RESPIN_AMBIANCE]="respin_ambiance",this._names[a.SlotSoundNames.SCATTER]="scatter_win",this._names[a.SlotSoundNames.SCATTER_ANNOUNCE]="announce_0",this._names[a.SlotSoundNames.EXTENDED_WILD_WIN]="extended_wild_win",this._names[a.SlotSoundNames.FIVE_OF_A_KIND]="five_of_a_kind",this._names[a.SlotSoundNames.LOW_WINNING]="low_symbol_win",this._names[a.SlotSoundNames.MEDIUM_WINNING]="medium_symbol_win",this._names[a.SlotSoundNames.HIGH_WINNING]="high_symbol_win",this._names[a.SlotSoundNames.BIG_WIN]="big_win",this._names[a.SlotSoundNames.BIG_WIN_VOICE]="big_win_voice",this._names[a.SlotSoundNames.BIG_WIN_INCREMENT_ENDED]="big_win_increment_ended",this._names[a.SlotSoundNames.FANTASTIC_WIN]="fantastic_win",this._names[a.SlotSoundNames.FANTASTIC_WIN_VOICE]="fantastic_win_voice",this._names[a.SlotSoundNames.ULTRA_WIN]="ultra_win",this._names[a.SlotSoundNames.ULTRA_WIN_VOICE]="ultra_win_voice",this._names[a.SlotSoundNames.WHEEL_COMPLETE_WIN]="wheel_complete_win",this._names[a.SlotSoundNames.LOGO]="logo",this._names[a.SlotSoundNames.PROGRESSIVE_START]="progressive_start",this._names[a.SlotSoundNames.PROGRESSIVE_WIN]="progressive_win",this._names[a.SlotSoundNames.INTRO_VIDEO]="intro_video",this._names[a.SlotSoundNames.INTRO_FEATURES]="intro_features",this._names[a.SlotSoundNames.LINE_1]="line1",this._names[a.SlotSoundNames.LINE_2]="line2",this._names[a.SlotSoundNames.LINE_3]="line3",this._names[a.SlotSoundNames.LINE_4]="line4",this._names[a.SlotSoundNames.LINE_5]="line5",this._names[a.SlotSoundNames.LINE_6]="line6",this._names[a.SlotSoundNames.LINE_7]="line7",this._names[a.SlotSoundNames.LINE_8]="line8",this._names[a.SlotSoundNames.LINE_9]="line9",this._names[a.SlotSoundNames.LINE_10]="line10",this._names[a.SlotSoundNames.LINE_11]="line11",this._names[a.SlotSoundNames.LINE_12]="line12",this._names[a.SlotSoundNames.LINE_13]="line13",this._names[a.SlotSoundNames.LINE_14]="line14",this._names[a.SlotSoundNames.LINE_15]="line15",this._names[a.SlotSoundNames.LINE_16]="line16",this._names[a.SlotSoundNames.LINE_17]="line17",this._names[a.SlotSoundNames.LINE_18]="line18",this._names[a.SlotSoundNames.LINE_19]="line19",this._names[a.SlotSoundNames.LINE_20]="line20",this._names[a.SlotSoundNames.LINE_21]="line21",this._names[a.SlotSoundNames.LINE_22]="line22",this._names[a.SlotSoundNames.LINE_23]="line23",this._names[a.SlotSoundNames.LINE_24]="line24",this._names[a.SlotSoundNames.LINE_25]="line25",this._names[a.SlotSoundNames.LINE_26]="line26",this._names[a.SlotSoundNames.LINE_27]="line27",this._names[a.SlotSoundNames.LINE_28]="line28",this._names[a.SlotSoundNames.LINE_29]="line29",this._names[a.SlotSoundNames.LINE_30]="line30",this._names[a.SlotSoundNames.LINE_31]="line31",this._names[a.SlotSoundNames.LINE_32]="line32",this._names[a.SlotSoundNames.LINE_33]="line33",this._names[a.SlotSoundNames.LINE_34]="line34",this._names[a.SlotSoundNames.LINE_35]="line35",this._names[a.SlotSoundNames.LINE_36]="line36",this._names[a.SlotSoundNames.LINE_37]="line37",this._names[a.SlotSoundNames.LINE_38]="line38",this._names[a.SlotSoundNames.LINE_39]="line39",this._names[a.SlotSoundNames.LINE_40]="line40",this._names[a.SlotSoundNames.LINE_41]="line41",this._names[a.SlotSoundNames.LINE_42]="line42",this._names[a.SlotSoundNames.LINE_43]="line43",this._names[a.SlotSoundNames.LINE_44]="line44",this._names[a.SlotSoundNames.LINE_45]="line45",this._names[a.SlotSoundNames.LINE_46]="line46",this._names[a.SlotSoundNames.LINE_47]="line47",this._names[a.SlotSoundNames.LINE_48]="line48",this._names[a.SlotSoundNames.LINE_49]="line49",this._names[a.SlotSoundNames.LINE_50]="line50"},e}(s.SoundNamesProxy);e.SlotSoundNamesProxy=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13),a=i(57),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._names={},e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){this._names={},this.setDefaultMapping()},Object.defineProperty(e.prototype,"names",{get:function(){return this._names},enumerable:!0,configurable:!0}),e.prototype.overrideDefaultMapping=function(){},e.prototype.setDefaultMapping=function(){this._names[a.SoundNames.GENERAL_AMBIANCE]="general_ambiance",this._names[a.SoundNames.GAME_WELCOME]="game_welcome",this._names[a.SoundNames.GENERIC_BUTTON_CLICK]="click_button",this._names[a.SoundNames.INCREMENT]="increment",this._names[a.SoundNames.INCREMENT_STOP]="increment_stop",this._names[a.SoundNames.POPUP_SHOW]="popup_show",this._names[a.SoundNames.POPUP_HIDE]="popup_hide",this._names[a.SoundNames.CHANGE_BACKGROUND]="change_background",this._names[a.SoundNames.PAYTABLE_OPENING]="paytable_show",this._names[a.SoundNames.PAYTABLE_CLOSING]="paytable_hide",this._names[a.SoundNames.MENU_OPENING]="menu_show",this._names[a.SoundNames.MENU_CLOSING]="menu_hide",this._names[a.SoundNames.USER_INTERFACE_TRANSITION]="user_interface_transition"},e}(s.Proxy);e.SoundNamesProxy=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(11),r=i(1),l=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return r.Names.Layers.ACTION},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.SlotSoundEffectsNotifications.LISTEN_FOR_AMBIANCE_NOTIFICATION,this.onListenForAmbianceNotification.bind(this))},e.prototype.onListenForAmbianceNotification=function(t){var e=t.body.notification,i=t.body.callback;this.addNotification(e,i.bind(this))},e}(s.AbstractMediator);e.SoundEffectsMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.initVars(),this.overrideSoundNames()},e.prototype.overrideSoundNames=function(){},e.prototype.initVars=function(){s.isNil(this.soundEffectsProxy)&&(this.soundEffectsProxy=this.retrieveProxy(r.Names.Proxies.SOUND_EFFECT)),s.isUndefined(this.soundNamesProxy)&&(this.soundNamesProxy=this.retrieveProxy(r.Names.Proxies.SOUND_NAMES))},e}(a.Controller);e.SlotOverrideSoundsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(872),r=i(310),l=i(312),c=i(875),u=i(876),h=i(154),p=i(7),d=i(877),_=i(878),f=i(2),y=i(879),m=i(880),N=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(f.Notifications.Global.INITIALIZE_MODULE,a.InitializeUserInterfaceModuleCommand),this.addCommand(f.Notifications.Global.INITIALIZING_MODULE,u.UserInterfaceModuleInitializedCommand),this.addCommand(f.Notifications.Global.UPDATE_USER_INTERFACE,c.UpdateUserInterfaceCommand),this.addCommand(p.UINotifications.REGISTER_USER_INTERFACE_BEHAVIOR,l.RegisterUserInterfaceBehaviorCommand),this.addCommand(p.UINotifications.REGISTER_USER_INTERFACE_ACTIONS,r.RegisterUserInterfaceActionsCommand)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(p.UIProxies.USER_INTERFACE_ACTIONS_PROXY,d.UserInterfaceActionsProxy)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("userActionsHandler",[_.UserActionsHandlerView,_.UserActionsHandlerView,_.UserActionsHandlerView]),this.addView("clickCatcher",[y.PixiClickCatcher,y.PixiClickCatcher,y.PixiClickCatcher])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(h.UserActionsHandlerMediator,"userActionsHandler"),this.addMediator(m.PixiClickCatcherMediator,"clickCatcher")},e}(s.AbstractModule);e.UserInterface=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(7),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendNotification(a.UINotifications.REGISTER_USER_INTERFACE_BEHAVIOR)},e}(s.Controller);e.InitializeUserInterfaceModuleCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(311),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userActions=[],e}return o(e,t),e.prototype.execute=function(t){},e.prototype.registerUserAction=function(t,e,i,n,o){void 0===i&&(i=[]),void 0===n&&(n=!1),void 0===o&&(o=!0);var a=this.getActionDetails(t),l=[];a&&s.has(a,"shortcuts")&&null!=a.shortcuts&&(l=a.shortcuts.split(",")),this.userActions.push(new r.UserInterfaceActionVO(t,e,i,l,n,o))},e.prototype.getActionDetails=function(t){return s.find(this.settings.getValue("USER_INTERFACE_BUTTONS"),{buttonAction:t})},e}(a.Controller);e.AbstractRegisterUserInterfaceActionsCommand=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.buttonName=t,this.showButton=e,this.enableButton=i};e.ButtonBehaviorVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(6),l=i(7),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body;this.uiActionsProxy.updateUIDependOnAction(e),r.Log.debug(""),r.Log.debugch("UI MODULE","-------------<LASTEST EXECUTED UI ACTION>-------------"),r.Log.debugch("UI MODULE",e.toUpperCase()),r.Log.debugch("UI MODULE","-------------</LASTEST EXECUTED UI ACTION>-------------"),r.Log.debug("")},e.prototype.initVars=function(){s.isNil(this.uiActionsProxy)&&(this.uiActionsProxy=this.retrieveProxy(l.UIProxies.USER_INTERFACE_ACTIONS_PROXY))},e}(a.Controller);e.UpdateUserInterfaceCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(7),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendNotification(a.UINotifications.REGISTER_USER_INTERFACE_ACTIONS)},e}(s.Controller);e.UserInterfaceModuleInitializedCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(13),r=i(6),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.initProxy()},e.prototype.initProxy=function(){this.userInterfaceActions=new Array},e.prototype.onUnregister=function(){t.prototype.onUnregister.call(this),this.userInterfaceActions=null},e.prototype.registerUIBehaviorDependOnAction=function(t,e){this.userInterfaceActions.push({actionName:t,actionHandler:e})},e.prototype.updateUIDependOnAction=function(t){var e=s.find(this.userInterfaceActions,{actionName:t});e&&(r.Log.debug("Last UIAction fired : "+t),e.actionHandler.call(this))},e}(a.Proxy);e.UserInterfaceActionsProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this)},e}(i(114).AbstractView);e.UserActionsHandlerView=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(8),a=i(16),r=i(7),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){var e=this;t.prototype.onRegister.call(this),this.pixiBgClick=new PIXI.Graphics,this.pixiBgClick.interactive=!0,this.pixiBgClick.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.dispatchSignal(r.UpdateUIAction.CLICK_ON_CATCHER)})),this.drawMask()},e.prototype.showMask=function(){this.display.addChild(this.pixiBgClick)},e.prototype.hideMask=function(){this.display.removeChild(this.pixiBgClick)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.drawMask()},e.prototype.drawMask=function(){var t=s.SceneManager.getScreenOrigin;this.pixiBgClick.clear(),this.pixiBgClick.beginFill(0,0),this.pixiBgClick.drawRect(-t.x,-t.y,s.SceneManager.getScreenWidth,s.SceneManager.getScreenHeight),this.pixiBgClick.endFill()},e}(a.PixiView);e.PixiClickCatcher=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(19),r=i(1),l=i(7),c=i(2),u=r.Names.Layers,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.catchingClicks=[],e}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return u.PIXI_CLICK_CATCHER},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(c.Notifications.Global.SHOW_PIXI_CLICK_CATCH,this.showClickCatcher.bind(this)),this.addNotification(c.Notifications.Global.HIDE_PIXI_CLICK_CATCH,this.hideClickCatcher.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(l.UpdateUIAction.CLICK_ON_CATCHER,this.onClickOnBG,this)},e.prototype.onClickOnBG=function(){this.sendGlobalNotification(c.Notifications.Global.CLICK_ON_PIXI_BG,this.catchingClicks[0])},e.prototype.showClickCatcher=function(t){var e=this;(t.body.closeOthers||s.isNil(t.body.closeOthers))&&(s.each(this.catchingClicks,(function(t){e.sendGlobalNotification(c.Notifications.Global.CLICK_ON_PIXI_BG,t)})),this.catchingClicks=[]),this.catchingClicks.push(t.body.callee),this.viewComponent.showMask()},e.prototype.hideClickCatcher=function(t){s.remove(this.catchingClicks,(function(e){return e==t.body})),0==this.catchingClicks.length&&this.viewComponent.hideMask()},e}(a.AbstractMediator);e.PixiClickCatcherMediator=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(3),r=i(7),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.sendGlobalNotification(s.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.BET_BUTTONS)},e}(a.Controller);e.SlotMinBetPlacedCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(154),r=i(59),l=i(1),c=i(36),u=i(123),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holdSpaceEnabled=!0,e.initialTurboModeActive=!1,e.timerValue=2e3,e.INIT_KEY_UP_NAME=e.KEY_UP,e}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),s.isNil(this.settings.getValue("HOLD_SPACE"))||(this.holdSpaceEnabled=this.settings.getValue("HOLD_SPACE").enabled,this.timerValue=this.settings.getValue("HOLD_SPACE").time),s.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(l.Names.Proxies.TURBO_MODE,l.Names.Modules.CERTIFICATION))},e.prototype.onKeyUp=function(t){var e=this;this.checkToKillTimer(t),t.preventDefault();var i=u.KeyboardMap.getString(t.keyCode);s.each(this.activeShortcuts,(function(n){if(n.isEnabled&&e.matchKey(n.shortcuts,i)&&(n.isAvailableOnAllStates||e.isActiveOnCurrentState(n.availableStates,e.stateMachineProxy.state))){var o=32==t.keyCode&&t.target==document.body&&e.holdSpaceEnabled&&!s.isNil(e.keyDownTimer)&&t.type!==e.INIT_KEY_UP_NAME;return e.isAllowedHoldSpaceAction(n.actionName)&&o||(n.isOnlyOnce&&(document.removeEventListener(e.KEY_UP,e.onKeyUpBind),e.eventKeyDownRemoved=!0),e.handleUserAction(n)),!1}}))},e.prototype.createTimerOnHoldSpace=function(t){32==t.keyCode&&t.target==document.body&&this.holdSpaceEnabled&&!this.keyDownTimer&&(this.onKeyUp(t),this.keyDownTimer=new r.Timer(this.timerValue,this.onTimerComplete.bind(this),1),this.keyDownTimer.start())},e.prototype.onKeyDown=function(e){t.prototype.onKeyDown.call(this,e),this.createTimerOnHoldSpace(e)},e.prototype.onTimerComplete=function(){this.initialTurboModeActive=this.turboModeProxy.getTurboModeActive(),this.turboModeProxy.changeTurboModeState(!0),this.KEY_UP=this.KEY_DOWN,document.addEventListener(this.KEY_UP,this.onKeyUpBind)},e.prototype.killTimer=function(){this.turboModeProxy.changeTurboModeState(this.initialTurboModeActive),this.keyDownTimer.stop(),this.keyDownTimer=void 0,this.KEY_UP===this.KEY_DOWN&&(document.removeEventListener(this.KEY_UP,this.onKeyUpBind),this.KEY_UP=this.INIT_KEY_UP_NAME)},e.prototype.checkToKillTimer=function(t){32==t.keyCode&&t.target==document.body&&this.holdSpaceEnabled&&this.keyDownTimer&&t.type===this.INIT_KEY_UP_NAME&&this.killTimer()},e.prototype.isAllowedHoldSpaceAction=function(t){return t!==c.UserInterfaceAction.SPIN&&t!==c.UserInterfaceAction.STOP_SPIN},e}(a.UserActionsHandlerMediator);e.SlotUserActionsHandlerMediatorDesktop=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(154),r=i(59),l=i(2),c=i(1),u=i(36),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holdButtonEnabled=!0,e.initialTurboModeActive=!1,e.timerValue=2e3,e}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.initVars()},e.prototype.initVars=function(){s.isNil(this.settings.getValue("HOLD_SPACE"))||(this.holdButtonEnabled=this.settings.getValue("HOLD_SPACE").enabled,this.timerValue=this.settings.getValue("HOLD_SPACE").time),s.isNil(this.turboModeProxy)&&(this.turboModeProxy=this.retrieveGlobalProxy(c.Names.Proxies.TURBO_MODE,c.Names.Modules.CERTIFICATION)),this.holdButtonEnabled&&(this.initialTurboModeActive=this.turboModeProxy.getTurboModeActive(),this.repeatedTimer=new r.Timer(r.Timer.SECOND,this.update.bind(this),-1))},e.prototype.touchEnd=function(){s.isNil(this.repeatedTimer)||s.isNil(this.spinButtonDownTimer)||this.destroyTimers()},e.prototype.update=function(){var t=this;s.each(this.activeShortcuts,(function(e){if(e.isEnabled&&(e.isAvailableOnAllStates||t.isActiveOnCurrentState(e.availableStates,t.stateMachineProxy.state))){var i=t.holdButtonEnabled&&!s.isNil(t.spinButtonDownTimer);return t.isAllowedHoldButtonAction(e.actionName)&&i||(e.isOnlyOnce&&(document.removeEventListener("touchend",t.onKeyUpBind),t.eventKeyDownRemoved=!0),t.handleUserAction(e)),!1}}))},e.prototype.createTimer=function(){this.holdButtonEnabled&&s.isNil(this.spinButtonDownTimer)&&(this.spinButtonDownTimer=new r.Timer(this.timerValue,this.onTimerComplete.bind(this),1),this.spinButtonDownTimer.start(),document.addEventListener("touchend",this.touchEnd.bind(this)))},e.prototype.onTimerComplete=function(){this.initialTurboModeActive=this.turboModeProxy.getTurboModeActive(),this.turboModeProxy.changeTurboModeState(!0),this.sendGlobalNotification(l.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:!0}),this.repeatedTimer.start()},e.prototype.destroyTimers=function(){this.turboModeProxy.changeTurboModeState(this.initialTurboModeActive),this.sendGlobalNotification(l.Notifications.Global.TURBO_MODE_TOGGLED,{isTurboActive:this.initialTurboModeActive}),document.removeEventListener("touchend",this.onKeyUpBind),!s.isNil(this.spinButtonDownTimer)&&this.holdButtonEnabled&&(this.spinButtonDownTimer.stop(),this.spinButtonDownTimer=void 0),this.repeatedTimer.reset(),this.repeatedTimer.stop()},e.prototype.isAllowedHoldButtonAction=function(t){return t!==u.UserInterfaceAction.SPIN&&t!==u.UserInterfaceAction.STOP_SPIN},e.prototype.onUserAction=function(e){e.body==u.UserInterfaceAction.SPIN_BUTTON_DOWN_ACTION&&this.holdButtonEnabled?(this.createTimer(),this.update()):e.body!=u.UserInterfaceAction.SPIN_BUTTON_DOWN_ACTION&&t.prototype.onUserAction.call(this,e)},e}(a.UserActionsHandlerMediator);e.SlotUserActionsHandlerMediatorMobile=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.isInteractable=!0}return t.prototype.clone=function(){var e=new t;return e.buttonName=this.buttonName,e.buttonLabel=this.buttonLabel,e.buttonInstance=this.buttonInstance,e.buttonDetails=this.buttonDetails,e.attachedDivLabel=this.attachedDivLabel,e.isInteractable=this.isInteractable,e},t}();e.UserButtonVO=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(54),s=i(90),a=i(53),r=i(17),l=i(15),c=i(45),u=PIXI.Sprite,h=function(){function t(t){this.betLevelEnabled=!1,this.betButtonLevel=[],this.asset=t,this.asset.visible=!1,this.totalBetLabel=a.PixiUtils.findChildByName(this.asset,"uiTotalBetValue"),this.betInCoinsLabel=a.PixiUtils.findChildByName(this.asset,"uiTotalBetCoinsValue"),this.uiCoinValueSeparator=a.PixiUtils.findChildByName(this.asset,"uiCoinValueSeparator")}return Object.defineProperty(t.prototype,"showing",{get:function(){return this.isVisible},enumerable:!0,configurable:!0}),t.prototype.showCoinValuesPanel=function(){this.isVisible||(this.asset.visible=!0,this.panelEvent({eventName:"showMask",maskName:"coinValuesPanel"}),this.isVisible=!0)},t.prototype.hideCoinValuePanel=function(){this.isVisible&&(this.asset.visible=!1,this.panelEvent({eventName:"hideMask",maskName:"coinValuesPanel"}),this.isVisible=!1)},t.prototype.createCoinValuesPanel=function(t,e,i){var o=this;this.currentCoinValueList=t,this.totalBet=i;var s=r.ServiceLocator.instance().get("Settings").getValue("BET_LEVEL");!n.isNil(s)&&s.enabled&&(this.betLevelEnabled=!0),this.currentCoinValueListInMoney=t.map((function(t){var e={eventName:"getMoney",coinValueInCoins:t,result:""};return o.betLevelEnabled&&(e={eventName:"getMoney",coinValueInCoins:t*i,result:""}),o.panelEvent(e),e.result}));var l=a.PixiUtils.findChildByName(this.asset,"coinValuePanelBg");l.on(c.PointerStates.UP,(function(t){t.stopPropagation()})),l.interactive=!0,this.coinValueStepper=a.PixiUtils.findChildByName(this.asset,"uiCoinValueStepper"),this.coinValueStepper.setValues(this.currentCoinValueListInMoney),this.coinValueStepper.callback=this.sliderChanged.bind(this);var u=a.PixiUtils.findChildByName(this.asset,"coinValuePanelBetPerLineContainer");if(this.betPerLineStepper=a.PixiUtils.findChildByName(this.asset,"uiBetPerLineStepper"),n.isNil(e))u.visible=!1;else{this.currentBetValueList=e.map((function(t){return t.toString()})),this.betPerLineStepper.setValues(this.currentBetValueList),this.betPerLineStepper.callback=this.sliderChanged.bind(this);var h=u.height;a.PixiUtils.findChildByName(this.asset,"coinValuePanelContentsContainer").y-=h,l.y-=h,l.height+=h}if(this.betLevelEnabled){a.PixiUtils.findChildByName(this.asset,"coinValuePanelContentsContainer").visible=!1;var p=a.PixiUtils.findChildByName(this.asset,"betLevelContentsContainer");p.visible=!0,this.createBetLevel(this.currentCoinValueListInMoney,p);h=l.height-p.height-10;u.visible?p.y+=h:p.y+=h+u.height,l.y+=h,l.height-=h}},t.prototype.setCoinValuePanelItem=function(t){var e={eventName:"getMoney",coinValueInCoins:t,result:""};this.panelEvent(e),this.coinValueStepper.index=this.currentCoinValueList.indexOf(Number(t))},t.prototype.setCoinPanelItem=function(t){this.betPerLineStepper.index=this.currentBetValueList.indexOf(t)},t.prototype.setTotalBet=function(t){this.totalBetLabel.updateLabel(t)},t.prototype.setBetInCoins=function(t){this.betInCoinsLabel.updateLabel(t)},t.prototype.setCoinValue=function(t){if(this.betLevelEnabled){var e=n.findIndex(this.currentCoinValueList,(function(e){return e/100==t}));this.betButtonLevel&&this.betButtonLevel.length>0&&n.each(this.betButtonLevel,(function(t,i){t.alpha=1,t.name==e.toString()?t.label.textStyle.fill=16767232:t.label.textStyle.fill=16777215}))}},t.prototype.resetStepperIndex=function(t){var e=this;this.coinValueStepper&&n.each(this.coinValueStepper.values,(function(i,n){e.coinValueStepper.values[n]==t&&(e.coinValueStepper.index=n)})),this.betLevelEnabled&&this.setCoinValue(this.currentCoinValueList[this.coinValueStepper.index]/100)},t.prototype.setCoinValuesPanelVisibility=function(){this.isVisible?this.hideCoinValuePanel():this.showCoinValuesPanel()},t.prototype.createButtonForList=function(t,e,i,n,a,r,l){void 0===a&&(a=50),void 0===r&&(r=0),void 0===l&&(l=0);var c=o.Button.createButton(t.toString(),"",n,a);c.onClickHandler=this.clickBetLevelButton.bind(this),c.onRollOverHandler=this.onRollOverHandler.bind(this),c.onMouseOutHandler=this.onMouseOutHandler.bind(this),c.buttonDetails=c,c.y=r,c.x=l,c.buttonDetails={indexList:t,indexButton:i};var u=new s.ButtonLabel(e+"Label",{labelWidth:c.width,labelHeight:c.height,labelFontSize:40,labelFont:"noto_sanscondensed_bold",labelFontColor:"0xFFFFFF",align:"center",vAlign:"center"});return c.label=u,c.addChild(u),c.updateLabel(e),c},t.prototype.clickBetLevelButton=function(t,e,i){this.coinValueStepper.index!=parseFloat(t)&&(e?(e.currentTarget.alpha=1,e.currentTarget.label.textStyle.fill=16767232):(i.alpha=1,i.label.textStyle.fill=16767232),this.coinValueStepper.index=parseFloat(t),this.coinValueStepper.callback(this.coinValueStepper.name,this.coinValueStepper.index,this.coinValueStepper.current))},t.prototype.onRollOverHandler=function(t,e,i){parseFloat(t)!=this.coinValueStepper.index&&(i.label.text.style.fill=16777215,i.alpha=.7)},t.prototype.onMouseOutHandler=function(t,e,i){parseFloat(t)!=this.coinValueStepper.index&&(i.label.text.style.fill=16777215,i.alpha=1)},t.prototype.sliderChanged=function(t,e){switch(t){case this.coinValueStepper.name:this.onCoinValueItemChange(this.currentCoinValueList[e]);break;case this.betPerLineStepper.name:this.onBetPerLineChange(Number(this.currentBetValueList[e]))}},t.prototype.createBetLevel=function(t,e){var i=this;n.each(t,(function(n,o){var s=i.createButtonForList(o,n,o,227,20,25*(t.length-o),0);e.addChild(s),i.betButtonLevel.push(s);var a=new u(l.TextureUtil.instance().getTextureFromCache("SettingsSeparator"));0!=o&&(a.cacheAsBitmap=!0,e.addChild(a),a.x=i.uiCoinValueSeparator.x,a.y=s.y+s.height/2+12,a.width=i.uiCoinValueSeparator.width,a.height=i.uiCoinValueSeparator.height)}))},t}();e.SlotCoinValuesPanelDesktopPixi=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(27),s=i(106),a=i(18),r=i(53),l=function(){function t(t){this.asset=r.PixiUtils.findChildByName(t,"coinValuePanel"),this.totalBetLabel=new o.ControllerTextField("uiTotalBetValue",[r.PixiUtils.findChildByName(this.asset,"uiTotalBetValue")]),this.betInCoinsLabel=new o.ControllerTextField("uiTotalBetCoinsValue",[r.PixiUtils.findChildByName(this.asset,"uiTotalBetCoinsValue")])}return t.prototype.createCoinValuesPanel=function(t,e){var i=this;this.currentCoinValueList=t;var o=t.map((function(t){var e={eventName:"getMoney",coinValueInCoins:t,result:""};return i.panelEvent(e),e.result}));this.coinValueStepper=new s.ControllerNumberStepper("uiCoinValueStepper",[r.PixiUtils.findChildByName(this.asset,"uiCoinValueStepper")],this.stepperChanged.bind(this)),this.coinValueStepper.setValues(o);var l=new a.ControllerContainer("coinValuePanelBetPerLineContainer",[r.PixiUtils.findChildByName(this.asset,"coinValuePanelBetPerLineContainer")]);this.betPerLineStepper=new s.ControllerNumberStepper("uiBetPerLineStepper",[r.PixiUtils.findChildByName(this.asset,"uiBetPerLineStepper")],this.stepperChanged.bind(this)),n.isNil(e)?l.visible=!1:(this.currentBetValueList=e.map((function(t){return t.toString()})),this.betPerLineStepper.setValues(this.currentBetValueList))},t.prototype.setCoinValuePanelItem=function(t){this.coinValueStepper.index=this.currentCoinValueList.indexOf(Number(t))},t.prototype.setCoinPanelItem=function(t){this.betPerLineStepper.index=this.currentBetValueList.indexOf(t)},t.prototype.setTotalBet=function(t){this.totalBetLabel.updateLabel(t)},t.prototype.setBetInCoins=function(t){this.betInCoinsLabel.updateLabel(t)},t.prototype.deviceScreenResized=function(){},t.prototype.setCoinValue=function(t){},t.prototype.resetStepperIndex=function(t){var e=this;this.coinValueStepper&&n.each(this.coinValueStepper.values,(function(i,n){e.coinValueStepper.values[n]==t&&(e.coinValueStepper.index=n)}))},t.prototype.stepperChanged=function(t,e){switch(t){case this.coinValueStepper.name:this.onCoinValueItemChange(this.currentCoinValueList[e]);break;case this.betPerLineStepper.name:this.onBetPerLineChange(Number(this.currentBetValueList[e]))}},t}();e.SlotCoinValuesPanelMinigamePixi=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),s=i(16),a=i(54),r=i(90),l=i(18),c=i(40),u=i(106),h=i(27),p=i(4),d=i(53),_=i(17),f=i(15),y=i(21),m=PIXI.Sprite,N=function(){function t(t){this.LANDSCAPE=0,this.PORTRAIT=1,this.betLevelEnabled=!1,this.betButtonLevel=[],this.asset=[];var e=d.PixiUtils.findChildByName(t,s.PixiView.MAIN_LANDSCAPE),i=d.PixiUtils.findChildByName(t,s.PixiView.MAIN_PORTRAIT);this.asset[this.LANDSCAPE]=d.PixiUtils.findChildByName(e,"coinValuePanel"),this.asset[this.PORTRAIT]=d.PixiUtils.findChildByName(i,"coinValuePanel"),this.totalBetLabel=new h.ControllerTextField("uiTotalBetValue",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiTotalBetValue"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiTotalBetValue")]),this.betInCoinsLabel=new h.ControllerTextField("uiTotalBetCoinsValue",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiTotalBetCoinsValue"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiTotalBetCoinsValue")]),this.asset[this.LANDSCAPE].visible=!1,this.asset[this.PORTRAIT].visible=!1,this.uiCoinValueSeparator=new c.ControllerImage("uiCoinValueSeparator",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiCoinValueSeparator"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiCoinValueSeparator")])}return t.prototype.createCoinValuesPanel=function(t,e,i){var s=this;this.currentCoinValueList=t,this.totalBet=i;var a=_.ServiceLocator.instance().get("Settings").getValue("BET_LEVEL");!n.isNil(a)&&a.enabled&&(this.betLevelEnabled=!0),this.currentCoinValueListWithTotalBetInMoney=t.map((function(t){var e={eventName:"getMoney",coinValueInCoins:t,result:""};return s.betLevelEnabled&&(e={eventName:"getMoney",coinValueInCoins:t*i,result:""}),s.panelEvent(e),e.result})),this.currentCoinValueListInMoney=t.map((function(t){var e={eventName:"getMoney",coinValueInCoins:t,result:""};return s.panelEvent(e),e.result})),this.coinValueStepper=new u.ControllerNumberStepper("uiCoinValueStepper",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiCoinValueStepper"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiCoinValueStepper")],this.stepperChanged.bind(this)),this.coinValueStepper.setValues(this.currentCoinValueListWithTotalBetInMoney),n.isNil(this.coinValueStepper.componentPortrait)||(this.coinValueStepper.componentPortrait.callback=null);var r=new l.ControllerContainer("coinValuePanelBetPerLineContainer",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"coinValuePanelBetPerLineContainer"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"coinValuePanelBetPerLineContainer")]);if(this.betPerLineStepper=new u.ControllerNumberStepper("uiBetPerLineStepper",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiBetPerLineStepper"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiBetPerLineStepper")],this.stepperChanged.bind(this)),n.isNil(this.betPerLineStepper.componentPortrait)||(this.betPerLineStepper.componentPortrait.callback=null),n.isNil(e)?r.visible=!1:(this.currentBetValueList=e.map((function(t){return t.toString()})),this.betPerLineStepper.setValues(this.currentBetValueList)),this.asset[this.LANDSCAPE].recalculate(),this.asset[this.PORTRAIT].recalculate(),this.asset[this.LANDSCAPE].visible=!0,this.asset[this.PORTRAIT].visible=!0,this.betLevelEnabled){new l.ControllerContainer("coinValueContainer",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"coinValueContainer"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"coinValueContainer")]).visible=!1;var c=new l.ControllerContainer("betLevelContentsContainer",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"betLevelContentsContainer"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"betLevelContentsContainer")]);c.visible=!0,this.createBetLevel(this.currentCoinValueListWithTotalBetInMoney,c.componentLandscape,this.uiCoinValueSeparator.componentLandscape,"landscape"),this.createBetLevel(this.currentCoinValueListWithTotalBetInMoney,c.componentPortrait,this.uiCoinValueSeparator.componentLandscape,"portarit");var p=d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"coinValueHolder");p.visible=!0,this.asset[this.LANDSCAPE].addChild(p),this.coinValueHolderPortrait=d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"coinValueHolder"),this.asset[this.PORTRAIT].addChild(this.coinValueHolderPortrait),this.coinValueHolderPortrait.visible=!0,this.coinValueHolderPortrait.y=Math.max(o.SceneManager.getScreenHeight,o.SceneManager.getScreenWidth)-460,this.translations=_.ServiceLocator.instance().get("Translations"),new h.ControllerTextField("uiCoinValueHolderLabel",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiCoinValueHolderLabel"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiCoinValueHolderLabel")]).updateLabel(this.translations.getValue("uiCoinValueLabel").replace(":","").replace("：","")),this.uiCoinValueHolderValue=new h.ControllerTextField("uiCoinValueHolderValue",[d.PixiUtils.findChildByName(this.asset[this.LANDSCAPE],"uiCoinValueHolderValue"),d.PixiUtils.findChildByName(this.asset[this.PORTRAIT],"uiCoinValueHolderValue")]),this.asset[this.LANDSCAPE].recalculate(),this.asset[this.PORTRAIT].recalculate()}},t.prototype.deviceScreenResized=function(){this.asset[this.LANDSCAPE].x=-12,this.betLevelEnabled&&!n.isNil(this.coinValueHolderPortrait)&&(this.coinValueHolderPortrait.y=550*Math.max(p.Device.getGameClientHeight(),p.Device.getGameClientWidth())/Math.min(p.Device.getGameClientHeight(),p.Device.getGameClientWidth()))},t.prototype.setCoinValuePanelItem=function(t){this.coinValueStepper.index=this.currentCoinValueList.indexOf(Number(t))},t.prototype.setCoinPanelItem=function(t){this.betPerLineStepper.index=this.currentBetValueList.indexOf(t)},t.prototype.setTotalBet=function(t){this.totalBetLabel.updateLabel(t)},t.prototype.setBetInCoins=function(t){this.betInCoinsLabel.updateLabel(t)},t.prototype.setCoinValue=function(t){var e=this;if(this.betLevelEnabled){var i=n.findIndex(this.currentCoinValueList,(function(e){return e/100==t}));this.betButtonLevel&&this.betButtonLevel.length>0&&n.each(this.betButtonLevel,(function(t,n){t.alpha=1,t.name==i.toString()?(t.label.textStyle.fill=16767232,e.uiCoinValueHolderValue.updateLabel(e.currentCoinValueListInMoney[i])):t.label.textStyle.fill=16777215}))}},t.prototype.resetStepperIndex=function(t){var e=this;this.coinValueStepper&&n.each(this.coinValueStepper.currentComponent.values,(function(i,n){e.coinValueStepper.currentComponent.values[n]==t&&(e.coinValueStepper.currentComponent.index=n)})),this.betLevelEnabled&&this.setCoinValue(this.currentCoinValueList[this.coinValueStepper.index]/100)},t.prototype.stepperChanged=function(t,e){switch(t){case this.coinValueStepper.name:this.onCoinValueItemChange(this.currentCoinValueList[e]);break;case this.betPerLineStepper.name:this.onBetPerLineChange(Number(this.currentBetValueList[e]))}},t.prototype.createBetLevel=function(t,e,i,o){var s,a,r,l=this;"landscape"==o?(s=510,a=180,r=.8*i.width):(s=410,a=130,r=.8*i.width),n.each(t,(function(n,o){var c=l.createButtonForList(o,n,o,s,40,80*(t.length-o-1),0);e.addChild(c),l.betButtonLevel.push(c);var u=new m(f.TextureUtil.instance().getTextureFromCache("SettingsSeparator"));0!=o&&(u.cacheAsBitmap=!0,u.x=a,u.y=c.y+c.height/2+40,u.width=r,u.height=i.height,e.addChild(u))}))},t.prototype.createButtonForList=function(t,e,i,n,o,s,l){void 0===o&&(o=50),void 0===s&&(s=0),void 0===l&&(l=0);var c=a.Button.createButton(t.toString(),"",2*n*y.TextField.FONT_MULTIPLIER,2*o*y.TextField.FONT_MULTIPLIER);c.onClickHandler=this.clickBetLevelButton.bind(this),c.onRollOverHandler=this.onRollOverHandler.bind(this),c.onMouseOutHandler=this.onMouseOutHandler.bind(this),c.buttonDetails=c,c.y=s,c.x=l,c.buttonDetails={indexList:t,indexButton:i};var u=new r.ButtonLabel(e+"Label",{labelWidth:n,labelHeight:o,labelFontSize:40,labelFont:"noto_sanscondensed_bold",labelFontColor:"0xFFFFFF",align:"center"});return c.label=u,c.addChild(u),c.updateLabel(e),c},t.prototype.clickBetLevelButton=function(t,e,i){this.coinValueStepper.index!=parseFloat(t)&&(e?(e.currentTarget.alpha=1,e.currentTarget.label.textStyle.fill=16767232):(i.alpha=1,i.label.textStyle.fill=16767232),this.coinValueStepper.index=parseFloat(t),this.coinValueStepper.componentLandscape.callback(this.coinValueStepper.name,this.coinValueStepper.index,this.coinValueStepper.current))},t.prototype.onRollOverHandler=function(t,e,i){parseFloat(t)!=this.coinValueStepper.index&&(i.label.text.style.fill=16777215,i.alpha=.7)},t.prototype.onMouseOutHandler=function(t,e,i){parseFloat(t)!=this.coinValueStepper.index&&(i.label.text.style.fill=16777215,i.alpha=1)},t}();e.SlotCoinValuesPanelMobilePixi=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(202),r=i(889),l=i(37),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),this.setFeatures()},e.prototype.setFeatures=function(){this.setBetLevelFeatures(),this.initMathTool()},e.prototype.setBetLevelFeatures=function(){var t,e,i=this.settings.getValue("name").split(","),n=new r.BetLevelFeatureVO;i.length>2&&(t=i[2]),i.length>1&&(e=i[0]);var o=this.settings.getValue("BET_LEVEL_FEATURE");if(s.isNil(o))n.enabled=!1;else if(!s.isEmpty(o.enabled_per_licensee)&&o.enabled_per_licensee.indexOf(e)>-1&&(n.enabled=!0),!s.isEmpty(o.enabled_per_operator)&&o.enabled_per_operator.indexOf(t)>-1&&(n.enabled=!0),s.isEmpty(o.lines)||(o.lines==r.BetLevelFeatureVO.MAX_LINES?n.lines=this.gameConfigVO.linesCnt:o.lines==r.BetLevelFeatureVO.MIN_LINES?n.lines=1:s.isNumber(o.lines)||(n.lines=parseFloat(o.lines))),!s.isEmpty(o.lines)){var a=[],l=this.settings.getValue("COINS_VALUES");a=s.isArray(l)?l:[l.undefined],o.betPerLine==r.BetLevelFeatureVO.MAX_BET_PER_LINE?n.betPerLine=a[a.length-1]:o.betPerLine==r.BetLevelFeatureVO.MIN_BET_PER_LINE?n.betPerLine=a[0]:s.isNumber(o.betPerLine)||(n.betPerLine=parseFloat(o.betPerLine))}this.settings.map("BET_LEVEL",n)},e.prototype.initMathTool=function(){var t=this;if(l.MasterLayoutConfig.symbolPrefabsVersion)this.configureMathToolFromBundleJson(l.MasterLayoutConfig.slotGameSettings.serverConfig);else{var e=this.settings.getValue("mathServerConfig");s.isNil(e)||(window.parent.postMessage("mathServerConfig","*"),window.addEventListener("message",(function(e){t.configureMathTool(e.data)}),!1))}},e.prototype.configureMathTool=function(t){var e=!1;s.isNil(t)?e=!0:t.reels_generator.mathToolServer?(this.settings.map("mathServerConfig",t),this.settings.map("serverPortFun",9e3),this.settings.map("serverPortReal",9e3),this.settings.map("skinid",4620),this.gameConfigVO.skinID=4620,this.settings.map("host","https://master-dt.isoftbet.com/play_isb"),this.gameConfigVO.columnsCnt=t.reels_generator.number_of_columns,this.gameConfigVO.rowsCnt=t.reels_generator.number_of_result_rows,this.gameConfigVO.linesCnt=t.reels_generator.lines.length/this.gameConfigVO.columnsCnt,this.gameConfigVO.msNumberOfSymbols=t.reels_generator.number_of_normal_symbols+t.reels_generator.special_symbols.length):e=!0;e&&this.settings.map("mathServerConfig",void 0)},e.prototype.configureMathToolFromBundleJson=function(t){this.settings.map("mathServerConfig",t),this.settings.map("serverPortFun",9e3),this.settings.map("serverPortReal",9e3),this.settings.map("skinid",4620),this.gameConfigVO.skinID=4620,this.settings.map("host","https://master-dt.isoftbet.com/play_isb"),this.gameConfigVO.columnsCnt=t.number_of_columns,this.gameConfigVO.rowsCnt=t.number_of_result_rows,this.gameConfigVO.linesCnt=t.lines.length/this.gameConfigVO.columnsCnt,this.gameConfigVO.msNumberOfSymbols=t.number_of_normal_symbols+t.special_symbols.length},e}(a.SettingsLoadedCommand);e.SlotSettingsLoadedCommand=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.enabled=!1}return t.MIN_BET_PER_LINE="minBet",t.MAX_BET_PER_LINE="maxBet",t.MIN_LINES="minLines",t.MAX_LINES="maxLines",t}();e.BetLevelFeatureVO=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(198),a=i(0),r=i(1),l=i(2),c=i(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.checkFilesAndDoLoad=function(t,e){t.files.length>0?(this.removeExcludedResources(t),this.sendGlobalNotification(l.Notifications.Global.LOAD_GROUP,t)):this.modulesProxy.hasBeenLoaded(e.moduleId),this.loadOptionalFiles(e)},e.prototype.removeExcludedResources=function(t){var e;switch(c.Device.deviceLevel()){case c.DeviceLevel.obsolete:e=this.masterLayoutProxy.spinesToExcludeOnObsoleteDevices;break;case c.DeviceLevel.good:case c.DeviceLevel.passable:case c.DeviceLevel.unavailable:default:return}this.removeExcludedSpineResources(t,e)},e.prototype.removeExcludedSpineResources=function(t,e){var i,n,o=e.filter((function(t){return!!t.fileName})).map((function(t){return t.fileName}));for(o=a.uniq(o);o.length;){i=[(n=c.Device.getGlobalAssetPath()+c.Device.ASSET_PATH_ANIMATIONS_SPINE+"/"+o.pop()+".")+"json",n+"atlas"];for(var s=0;s<i.length;s++)for(var r=0;r<t.files.length;r++)t.files[r].path===i[s]&&t.files.splice(r,1)}},e.prototype.initVars=function(){a.isNil(this.masterLayoutProxy)&&(this.masterLayoutProxy=this.retrieveGlobalProxy(r.Names.Proxies.MASTER_LAYERS,r.Names.Modules.GAME_SETUP)),t.prototype.initVars.call(this)},e}(s.LoadModuleCommand);e.SlotLoadModuleCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(31),r=PIXI.spine.Spine,l=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this,e,i)||this;if(!s.isNil(i)){var o=i.spineData;n.spine=new r(o),n.spine&&(n.spine.pivot.set(i.pivotX,i.pivotY),n.spine.width=i.width,n.spine.height=i.height,n.spine.scale.set(i.scaleX,i.scaleY),n.spine.x=i.x,n.spine.y=i.y,n.spine.rotation=i.rotation,n.addChild(n.spine))}return n}return o(e,t),Object.defineProperty(e.prototype,"scale",{get:function(){return this.spine.scale},set:function(t){this.spine.scale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.spine.x},set:function(t){this.spine.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.spine.y},set:function(t){this.spine.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.spine.position},set:function(t){this.spine.position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.spine.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skeleton",{get:function(){return this.spine.skeleton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateData",{get:function(){return this.spine.stateData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spineData",{get:function(){return this.params.spineData},enumerable:!0,configurable:!0}),e.prototype.update=function(t){this.spine.update(t)},e.prototype.autoUpdateTransform=function(){this.spine.autoUpdateTransform()},e.prototype.setComponentDetails=function(t){this.spine&&(this.spine.pivot.set(t.pivotX,t.pivotY),this.spine.width=t.width,this.spine.height=t.height,this.spine.scale.set(t.scaleX,t.scaleY),this.spine.x=t.x,this.spine.y=t.y,this.spine.rotation=t.rotation)},e.prototype.getAnimation=function(t){return this.skeleton.data.findAnimation(t)},e}(a.BaseComponent);e.SpineComponent=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(216),a=i(119),r=i(212),l=i(1),c=function(t){function e(e){return void 0===e&&(e="LayersProxy"),t.call(this,e)||this}return o(e,t),e.prototype.initLayerOrder=function(){this._pixiLayerOrder=[new a.PIXILayerVO(l.Names.Layers.ACTION,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,!0),new a.PIXILayerVO(l.Names.Layers.WHEELS,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,!0),new a.PIXILayerVO(l.Names.Layers.SYMBOLS_FRAME,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,!0),new a.PIXILayerVO(l.Names.Layers.COPYRIGHT,!0),new a.PIXILayerVO(l.Names.Layers.RESPINS),new a.PIXILayerVO(l.Names.Layers.LINES,!0),new a.PIXILayerVO(l.Names.Layers.GAME_INFO,!0),new a.PIXILayerVO(l.Names.Layers.LOGO,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE_NOTICE,!0),new a.PIXILayerVO(l.Names.Layers.PROGRESSIVE_POPUP),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN,!0),new a.PIXILayerVO(l.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,!0),new a.PIXILayerVO(l.Names.Layers.BONUS,!0,!1),new a.PIXILayerVO(l.Names.Layers.INTRO_VIDEO),new a.PIXILayerVO(l.Names.Layers.MASK_PREVENT_CLICK,!0)],this._htmlLayerOrder=[new s.HTMLLayerVO(l.Names.Layers.PRELOADER,!1,!1,"layer_container_full"),new s.HTMLLayerVO(l.Names.Layers.INTRO_FEATURES,!0,!1,"layer_container_full"),new s.HTMLLayerVO(l.Names.Layers.DECORATIVE_BACKGROUND,!0,!1,"layer_container_full"),new s.HTMLLayerVO(l.Names.Layers.GAMEPLAY_BUTTONS,!0,!1),new s.HTMLLayerVO(l.Names.Layers.FREE_GAMES_UI,!1,!0),new s.HTMLLayerVO(l.Names.Layers.AUTO_PLAY,!0,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_GAMES_EXTRA,!1,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_GAMES_START,!1,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_GAMES_END,!1,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_ROUNDS_START,!1,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_ROUNDS_UI,!1,!0),new s.HTMLLayerVO(l.Names.Layers.FREE_ROUNDS_END,!1,!0),new s.HTMLLayerVO(l.Names.Layers.BONUS_SYSTEM_END,!1,!0),new s.HTMLLayerVO(l.Names.Layers.BONUS_START,!1,!0),new s.HTMLLayerVO(l.Names.Layers.BONUS_END,!1,!0),new s.HTMLLayerVO(l.Names.Layers.PAY_TABLE,!0,!0),new s.HTMLLayerVO(l.Names.Layers.MENU,!0,!1,"layer_container_full"),new s.HTMLLayerVO(l.Names.Layers.STRIP,!0,!1,"layer_container_full"),new s.HTMLLayerVO(l.Names.Layers.CHEAT_TOOL,!1,!1),new s.HTMLLayerVO(l.Names.Layers.WARNING,!1,!1,"layer_container_full")]},e}(r.LayersProxy);e.SlotLayersProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e.prototype.initVars=function(){t.prototype.initVars.call(this),s.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue("GameConfig"))},e}(i(200).ParseManifestMasterLayoutCommand);e.SlotParseManifestMasterLayoutCommand=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(75),o=function(t,e,i){this.manifests=[],this.symbols=[],this.path=e,this.manifests=i,this.projectType=t,this.urlKey=t+n.DTConstants.MANIFEST_URL_KEY,this.groupId="{1}"+t};e.DTProjectDetails=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(243),a=i(324),r=i(896),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("PreloaderView",a.SlotPreloaderViewPixi,0),this.replaceView("PreloaderView",r.SlotMobilePreloaderViewPixi,1),this.replaceView("PreloaderView",a.SlotPreloaderViewPixi,2)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this)},e}(s.Preloader);e.SlotPreloader=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(8),r=i(40),l=i(324),c=i(30),u=i(4),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){this.portraitSafe=new r.ControllerImage("safe",this.findMultipleChild("safe")),t.prototype.postRegister.call(this)},e.prototype.alignPreloaderUIElements=function(){var t=window.innerWidth/a.SceneManager.ratio,e="",i="",n=0,o=0,r=0;s.isNil(this.portraitSafeArea)&&(this.portraitSafeArea=this.portraitSafe.componentLandscape.getChildByName("safeArea")),s.isNil(this.portraitSafe.componentLandscape.params.safeAreaHorizontalShift)||(r=parseInt(this.portraitSafe.componentLandscape.params.safeAreaHorizontalShift)),s.isNil(this.portraitSafe.componentLandscape.params.padding)||("%"==(e=this.portraitSafe.componentLandscape.params.padding).charAt(e.length-1)?(i="%",o=n=+e.substring(0,e.length-1)):(n=+e,i="px")),this.barEmpty.width=this.strip.width=Math.ceil(a.SceneManager.getScreenWidth)+2*c.WindowUtil.ROUND_COMPENSATION,this.barFull.x=this.strip.x=this.barEmpty.x=-a.SceneManager.getHMargin-c.WindowUtil.ROUND_COMPENSATION;var l=u.Device.isIPhoneX()?.95:1;this.barAll.y=a.SceneManager.getScreenHeight-this.barAll.height*l,s.isNil(this.logo.componentLandscape)||(this.logo.componentLandscape.x=this.strip.componentLandscape.x+this.strip.componentLandscape.width/2-this.logo.componentLandscape.width/2),s.isNil(this.logo.componentPortrait)||(this.logo.componentPortrait.x=this.strip.componentPortrait.x+this.strip.componentPortrait.width/2-this.logo.componentPortrait.width/2),s.isNil(this.portraitSafe)||s.isNil(this.portraitSafeArea)||u.Device.isLandscape()||(0!=o&&"%"==i&&(n=window.innerWidth*o/100),this.portraitSafe.componentLandscape.scale.x=this.portraitSafe.componentLandscape.scale.y=(window.innerWidth-2*n)/(this.portraitSafeArea.width*a.SceneManager.ratio),this.portraitSafe.componentLandscape.x=-a.SceneManager.getHMargin+o*t/100,this.portraitSafeArea.x=this.portraitSafeArea.width/2+r),this.drawBar()},e}(l.SlotPreloaderViewPixi);e.SlotMobilePreloaderViewPixi=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(218),a=i(898),r=i(900),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerConfigModule=function(){t.prototype.registerConfigModule.call(this)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this)},e.prototype.getSceneTemplateConfig=function(){var e=t.prototype.getSceneTemplateConfig.call(this);e.className=a.SlotPixiScene;var i=new r.SlotSceneProps;return this.useMasterLayout&&(i.MOBILE_PORTRAIT_RATIO={width:720,height:720}),e.sceneProps=i,e},e}(s.GraphicsEngine);e.SlotGraphicsEngine=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.preRegister=function(){t.prototype.preRegister.call(this),this.gameConfigVO.useMasterLayout&&(this.MOBILE_PORTRAIT_RATIO={width:720,height:720})},e}(i(899).FullPixiScene);e.SlotPixiScene=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(4),r=i(219),l=i(220),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCENE_HEIGHT=720,e.SCENE_WIDTH=1584,e.DESKTOP_RATIO={width:1280,height:720},e.MOBILE_PORTRAIT_RATIO={width:960,height:720},e.MOBILE_LANDSCAPE_RATIO={width:1280,height:720},e.TABLET_MOBILE_PORTRAIT_RATIO={width:1500,height:720},e.MINI_RATIO={width:240,height:320},e.maxResolution=2,e.calculateOffSetRatioSetted=!1,e}return o(e,t),e.prototype.addSceneProps=function(e){t.prototype.addSceneProps.call(this,e),s.isNil(e)||(this.SCENE_HEIGHT=this.sceneProps.SCENE_HEIGHT,this.SCENE_WIDTH=this.sceneProps.SCENE_WIDTH,this.DESKTOP_RATIO=this.sceneProps.DESKTOP_RATIO,this.MOBILE_PORTRAIT_RATIO=this.sceneProps.MOBILE_PORTRAIT_RATIO,this.MOBILE_LANDSCAPE_RATIO=this.sceneProps.MOBILE_LANDSCAPE_RATIO,this.TABLET_MOBILE_PORTRAIT_RATIO=this.sceneProps.TABLET_MOBILE_PORTRAIT_RATIO,this.MINI_RATIO=this.sceneProps.MINI_RATIO)},e.prototype.create=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=void 0),this.renderer)return this;document.querySelector("meta[name=viewport]").setAttribute("content","minimal-ui,width=device-width,height=device-height,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"),this.setDeviceRatio();var i=this.getRendererOptions(e);return this.gameConfigVO.useHighPrecisionFragment&&a.Device.instance().iOS&&(PIXI.settings.PRECISION_FRAGMENT="highp"),this.renderer=PIXI.autoDetectRenderer(this.SCENE_WIDTH,this.SCENE_HEIGHT,i),this.renderer.view.id="game",this.renderer.view.style.display="none",(a.Device.instance().firefoxMobileOS||a.Device.instance().firefox)&&this.renderer.view.setAttribute("moz-opaque",""),this.$layerContainer=$("#layer_container"),this.layerContainer=this.$layerContainer[0],this.$layerContainerFull=$("#layer_container_full"),this.layerContainerFull=this.$layerContainerFull[0],document.body.appendChild(this.renderer.view),this.$head=$("head"),this.head=this.$head[0],this.layerContainer.style.width=this.ACTIVE_RATIO.width+"px",this.layerContainer.style.height=this.ACTIVE_RATIO.height+"px",this.layerContainer.style.transformOrigin="0% 0%",this.renderer.view.style.transformOrigin="0% 0%",this.startRenderingLoop(),this},e.prototype.getScreenWidth=function(){var t=a.Device.getGameClientWidth();return t=a.Device.isLandscape()?(t-this.SCENE_X_OFFSET[l.ScreenOrientation.LANDSCAPE])/this.ratio:(t-this.SCENE_X_OFFSET[l.ScreenOrientation.PORTRAIT])/this.ratio},e.prototype.getHMargin=function(){return(this.getScreenWidth()-this.SCENE_WIDTH)/2},e.prototype.getScreenHeight=function(){var t=a.Device.getGameClientHeight();return t=a.Device.isLandscape()?(t-this.SCENE_Y_OFFSET[l.ScreenOrientation.LANDSCAPE])/this.ratio:(t-this.SCENE_Y_OFFSET[l.ScreenOrientation.PORTRAIT])/this.ratio},e.prototype.getVMargin=function(){return(this.getScreenHeight()-this.SCENE_HEIGHT)/2},e.prototype.calculateOffSetRatio=function(){this.calculateOffSetRatioSetted||(this.SCENE_X_OFFSET={portrait:Math.floor(this.ratio*this.SCENE_X_OFFSET[l.ScreenOrientation.PORTRAIT]/this.SCENE_X_OFFSET.ratio),landscape:Math.floor(this.ratio*this.SCENE_X_OFFSET[l.ScreenOrientation.LANDSCAPE]/this.SCENE_X_OFFSET.ratio),ratio:this.SCENE_X_OFFSET.ratio},this.SCENE_Y_OFFSET={portrait:Math.floor(this.ratio*this.SCENE_Y_OFFSET[l.ScreenOrientation.PORTRAIT]/this.SCENE_Y_OFFSET.ratio),landscape:Math.floor(this.ratio*this.SCENE_Y_OFFSET[l.ScreenOrientation.LANDSCAPE]/this.SCENE_Y_OFFSET.ratio),ratio:this.SCENE_Y_OFFSET.ratio},this.calculateOffSetRatioSetted=!0)},e.prototype._rescale=function(t,e){this.ticker.stop(),this.resizeAuthorized=!0,this.setDeviceRatio(),this.loop()},e.prototype._applyRatio=function(t,e){t.scale.x=t.scale.y=e;var i=this.getCurrentOrientation(),n=this.X_SCENE_ALIGNMENT_OFFSET=(a.Device.getGameClientWidth()-Math.ceil(this.SCENE_WIDTH*e))/2;this.SCENE_TOP=(a.Device.getGameClientHeight()-Math.ceil(this.SCENE_HEIGHT*e))/2,a.Device.minigames&&(this.SCENE_TOP=0);var o=this.Y_SCENE_ALIGNMENT_OFFSET=this.SCENE_TOP;if(this.resizeAuthorized&&a.Device.instance()){var s=void 0,r=void 0;a.Device.isLandscape()||a.Device.instance().desktop?(a.Device.instance().mobile||a.Device.instance().tablet&&!0===a.Device.forceMobileOnTablet?this.renderer.view.style.top="0px":this.renderer.view.style.top=o+"px",this.renderer.view.style.left=n+"px",this.gameConfigVO.usesUIv3?(s=Math.round(this.SCENE_WIDTH*e),r=Math.round(this.SCENE_HEIGHT*e)):(t.x=this.SCENE_X_OFFSET[i],t.y=this.SCENE_Y_OFFSET[i],s=Math.ceil(this.SCENE_WIDTH*e),r=Math.ceil(this.SCENE_HEIGHT*e))):(a.Device.instance().mobile?this.renderer.view.style.top="0px":this.renderer.view.style.top=o+"px",this.renderer.view.style.left="0px",this.gameConfigVO.usesUIv3||(t.x=n+this.SCENE_X_OFFSET[i],t.y=this.SCENE_Y_OFFSET[i]),a.Device.instance().desktop||a.Device.instance().tablet&&!1===a.Device.forceMobileOnTablet?(s=Math.ceil(this.SCENE_WIDTH*e),r=Math.ceil(this.SCENE_HEIGHT*e)):(s=a.Device.getGameClientWidth(),r=a.Device.getGameClientHeight())),this.renderer.resize(s,r),this.layerContainer.style.top="0px",this.layerContainer.style.left="0px",a.Device.instance().mobile?this.layerContainer.style.transform="scale(1)":this.layerContainer.style.transform="scale("+e+")"}},e.prototype.setDeviceRatio=function(){a.Device.instance().mobile&&!a.Device.instance().tablet?a.Device.isLandscape()||a.Device.instance().desktop?(this.ACTIVE_RATIO=this.MOBILE_LANDSCAPE_RATIO,this.ratio=this.getCurrentRatio(),(this.SCENE_X_OFFSET[l.ScreenOrientation.LANDSCAPE]>0||this.SCENE_Y_OFFSET[l.ScreenOrientation.LANDSCAPE]>0)&&this.calculateOffSetRatio()):(a.Device.instance().tablet&&!0===a.Device.forceMobileOnTablet?this.ACTIVE_RATIO=this.TABLET_MOBILE_PORTRAIT_RATIO:this.ACTIVE_RATIO=this.MOBILE_PORTRAIT_RATIO,this.ratio=this.getCurrentRatio(),(this.SCENE_X_OFFSET[l.ScreenOrientation.PORTRAIT]>0||this.SCENE_Y_OFFSET[l.ScreenOrientation.PORTRAIT]>0)&&this.calculateOffSetRatio()):(this.ACTIVE_RATIO=this.DESKTOP_RATIO,this.ratio=this.getCurrentRatio())},e.prototype.getRendererOptions=function(t){var e;void 0===t&&(t=void 0);var i=Math.min(this.maxResolution,window.devicePixelRatio);return a.Device.instance().mobile&&(e={transparent:!1,resolution:i,autoResize:!0,backgroundColor:0}),a.Device.instance().tablet&&(e={transparent:!1,resolution:i,autoResize:!0,backgroundColor:0}),a.Device.instance().desktop&&(e={transparent:!1,resolution:i,autoResize:!0,backgroundColor:0}),e.powerPreference="high-performance",e.preserveDrawingBuffer=!0,e.clearBeforeRender=!0,s.isNil(t)||(e=s.extend(e,t)),e},e}(r.AbstractScene);e.FullPixiScene=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(901).SceneProps);e.SlotSceneProps=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.SCENE_HEIGHT=720,this.SCENE_WIDTH=1584,this.DESKTOP_RATIO={width:1280,height:720},this.MOBILE_PORTRAIT_RATIO={width:960,height:720},this.MOBILE_LANDSCAPE_RATIO={width:1280,height:720},this.TABLET_MOBILE_PORTRAIT_RATIO={width:1500,height:720},this.MINI_RATIO={width:240,height:320}};e.SceneProps=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(258),a=i(9),r=i(20),l=i(0),c=PIXI.Point,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getSymbolPosition=function(t,e){var i=this;if(l.isNil(this.megawaysSymbolPositions)){this.megawaysSymbolPositions=new Map;var n=this.getProperties(a.MegawaysNames.WHEEL_COLUMNS_DETAILS),o=this.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_SETTING),s=0;o.rowsAllowed.forEach((function(t,e){s=Math.max(s,t),i.megawaysSymbolPositions.set(t,[])})),o.rowsAllowed.forEach((function(t,e){for(var o=0;o<i.columnsCnt;o++)for(var s=o+1,a=r.StringUtil.stringToRectangle(n[s].columnBounds),l=n[s].hasOwnProperty("topPadding")?n[s].topPadding:0,u=n[s].hasOwnProperty("bottomPadding")?n[s].bottomPadding:0,h=(a.height-(t-1)*n[s].symbolRowSpacing-(l+u))/t,p=0;p<t;p++){var d=new c;d.x=a.x+a.width/2,d.y=l+a.y+p*(h+n[s].symbolRowSpacing)+h/2,i.megawaysSymbolPositions.get(t)[p*i.columnsCnt+o]=d}}))}return this.megawaysSymbolPositions.get(e)[t]},e}(s.SlotGameConfigVO);e.MegawaysSlotGameConfig=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9),s=PIXI.Point,a=function(){function t(){}return t.prototype.setGPMValue=function(t){n.isNil(t.ignoreStop)||(this.ignoreStop=t.ignoreStop);var e=1;n.isNil(t.minimumDelay)||(e=t.minimumDelay),n.isNil(this.eplSettings.spinTime)?this.eplSettings.spinTime=e:this.eplSettings.spinTime=Math.max(this.eplSettings.spinTime,e),n.isNil(this.eplSettings.stopDelay)&&(n.isNil(t.stopDelay)?this.eplSettings.stopDelay=.1:this.eplSettings.stopDelay=t.stopDelay),n.isNil(this.eplSettings.startDelay)&&(n.isNil(t.startDelay)?this.eplSettings.startDelay=.1:this.eplSettings.startDelay=t.startDelay)},t.prototype.parseSymbolsSettings=function(t){var e=this;this.symbolsInfo=[],t.symbolsIds.forEach((function(t){var i=n.find(e.eplSettings.symbolsInfo,{symbolId:t});n.isNil(i)?i={symbolId:t,priority:0,layerDuringSpin:0,layerAtRest:0,hasBlur:e.eplSettings.hasBlur}:(n.isNil(i.priority)&&(i.priority=0),n.isNil(i.layerDuringSpin)&&(i.layerDuringSpin=0),n.isNil(i.layerAtRest)&&(i.layerAtRest=0),n.isNil(i.hasBlur)&&(i.hasBlur=e.eplSettings.hasBlur)),e.symbolsInfo[t]=i}))},t.prototype.parseReelStartSettings=function(t){if(this.eplSettings.wheelsCnt=t.wheelsCnt,n.isNil(this.eplSettings.randomStart)&&n.isNil(this.eplSettings.startDelays)){var e=n.isNil(this.eplSettings.startDelay)?.1:this.eplSettings.startDelay;this.eplSettings.startDelays=[];for(var i=0;i<t.wheelsCnt;i++)this.eplSettings.startDelays.push(i*e)}},t.prototype.createRandomWeights=function(t){if(n.isNil(this.eplSettings.randomWeights)){this.eplSettings.randomWeights=[];for(var e=0;e<t.symbolsIds.length;e++)isNaN(t.symbolsIds[e])||this.eplSettings.randomWeights.push(t.symbolsIds.length-e)}},t.prototype.parseWheelBehaviour=function(){n.isNil(this.eplSettings.baseSpinStart)?this.eplSettings.baseSpinStart={bumpTarget:5,bumpSpeed:.1,snapValue:2}:(n.isNil(this.eplSettings.baseSpinStart.bumpTarget)&&(this.eplSettings.baseSpinStart.bumpTarget=-5),n.isNil(this.eplSettings.baseSpinStart.bumpSpeed)&&(this.eplSettings.baseSpinStart.bumpSpeed=.1),n.isNil(this.eplSettings.baseSpinStart.snapValue)&&(this.eplSettings.baseSpinStart.snapValue=2),n.isNil(this.eplSettings.baseSpinStart.accelFactor)&&(this.eplSettings.baseSpinStart.accelFactor=.2)),n.isNil(this.eplSettings.baseSpinStop)?this.eplSettings.baseSpinStop={bump:5,bumpFactor:.25,stopFactor:.95,snapValue:2,bounciness:.2,bounceGravity:2,numBounces:3}:(n.isNil(this.eplSettings.baseSpinStop.bump)&&(this.eplSettings.baseSpinStop.bump=30),n.isNil(this.eplSettings.baseSpinStop.bumpFactor)&&(this.eplSettings.baseSpinStop.bumpFactor=.2),n.isNil(this.eplSettings.baseSpinStop.stopFactor)&&(this.eplSettings.baseSpinStop.stopFactor=.95),n.isNil(this.eplSettings.baseSpinStop.snapValue)&&(this.eplSettings.baseSpinStop.snapValue=2),n.isNil(this.eplSettings.baseSpinStop.bounciness)&&(this.eplSettings.baseSpinStop.bounciness=.2),n.isNil(this.eplSettings.baseSpinStop.bounceGravity)&&(this.eplSettings.baseSpinStop.bounceGravity=2),n.isNil(this.eplSettings.baseSpinStop.numBounces)&&(this.eplSettings.baseSpinStop.numBounces=1)),n.isNil(this.eplSettings.baseSpinStop)&&(this.eplSettings.baseSpinStop={}),n.isNil(this.eplSettings.cruiseSpeed)&&(this.eplSettings.cruiseSpeed=80)},t.prototype.parseReelCascadeSettings=function(){n.isNil(this.eplSettings.cascadeSettings)?this.eplSettings.cascadeSettings={ease:o.MegawaysNames.BOUNCE,time:.5,delayIncrement:.05}:(n.isNil(this.eplSettings.cascadeSettings.ease)&&(this.eplSettings.cascadeSettings.ease=o.MegawaysNames.BOUNCE),n.isNil(this.eplSettings.cascadeSettings.time)&&(this.eplSettings.cascadeSettings.time=.5),n.isNil(this.eplSettings.cascadeSettings.delayIncrement)&&(this.eplSettings.cascadeSettings.delayIncrement=.05))},t.prototype.parseNearMissSettings=function(t){if(this.cascadeNearMissSettings=new l,this.cascadeNearMissSettings.settings=t.getProperty(o.MegawaysNames.MEGAWAYS_WHEELS,o.MegawaysNames.MEGAWAYS_WHEELS_CASCADE_NEAR_MISS),this.cascadeNearMissSettings.settings){if(n.isNil(this.cascadeNearMissSettings.settings.symbols))return;this.cascadeNearMissSettings.enabled=!0,n.isNil(this.cascadeNearMissSettings.settings.delay)&&(this.cascadeNearMissSettings.settings.delay=1),n.isNil(this.cascadeNearMissSettings.settings.zoom)&&(this.cascadeNearMissSettings.settings.zoom=1),n.isNil(this.cascadeNearMissSettings.settings.delayIncrement)&&(this.cascadeNearMissSettings.settings.delayIncrement=.05),this.cascadeNearMissSettings.settings.symbols.forEach((function(t){n.isNil(t.allowedReels)&&(t.allowedReels=[]),n.isNil(t.onlyOneByReel)&&(t.onlyOneByReel=!0)})),n.isNil(this.cascadeNearMissSettings.settings.zoom)&&(this.cascadeNearMissSettings.settings.zoom=1),n.isNil(this.cascadeNearMissSettings.settings.zoomTime)&&(this.cascadeNearMissSettings.settings.zoomTime=.5),n.isNil(this.cascadeNearMissSettings.settings.zoomTime)&&(this.cascadeNearMissSettings.settings.zoomOutTime=.5),n.isNil(this.cascadeNearMissSettings.settings.zoomInDelay)&&(this.cascadeNearMissSettings.settings.zoomInDelay=0),n.isNil(this.cascadeNearMissSettings.settings.genericZoomPivot)&&(this.cascadeNearMissSettings.settings.genericZoomPivot=new s(450,0)),n.isNil(this.cascadeNearMissSettings.settings.layerZoomPivots)&&(this.cascadeNearMissSettings.settings.layerZoomPivots=new Map),n.isNil(this.cascadeNearMissSettings.settings.genericZoomOffset)&&(this.cascadeNearMissSettings.settings.genericZoomOffset=new s(0,0)),n.isNil(this.cascadeNearMissSettings.settings.layerZoomOffsets)&&(this.cascadeNearMissSettings.settings.layerZoomOffsets=new Map),n.isNil(this.cascadeNearMissSettings.settings.defaultZoomOffsets)&&(this.cascadeNearMissSettings.settings.defaultZoomOffsets=new Map),n.isNil(this.cascadeNearMissSettings.settings.offset)&&(this.cascadeNearMissSettings.settings.offset=new s(0,0)),n.isNil(this.cascadeNearMissSettings.settings.scale)&&(this.cascadeNearMissSettings.settings.scale=new s(.5,.5))}},t}();e.MegawaysWheelsSettings=a;var r=function(){this.active=!1,this.enabled=!1};e.SpinNearMissSettings=r;var l=function(){this.active=!1,this.enabled=!1};e.CascadeNearMissSettings=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(328),s=i(9),a=function(){function t(t,e,i){this.speedChangeFactor=.2,this.spinState=n.Inactive,this.timer=new o.MegawaysWheelTimer,this.targetSpeed=t,this.startSettings=e,this.stopSettings=i}return t.prototype.start=function(t){this.speed=0,this.spinState=n.DelayedForStart,this.timer.reset(),this.timer.start(t,!0),this.timer.onComplete.add(this.actuallyStartSpin.bind(this)),this.needsToStop=!1,this.completed=!1},t.prototype.actuallyStartSpin=function(){this.spinState=n.StartBump},t.prototype.update=function(){switch(this.timer.update(),this.spinState){case n.StartBump:this.speed!=this.startSettings.bumpTarget?this.updateSpeedToTarget(this.startSettings.bumpTarget,this.startSettings.bumpSpeed,this.startSettings.snapValue):this.spinState=n.Accelerating;break;case n.Accelerating:this.speed!=this.targetSpeed?this.updateSpeedToTarget(this.targetSpeed,this.startSettings.accelFactor,2):this.spinState=n.Cruising;break;case n.Cruising:this.speed!=this.targetSpeed&&this.updateSpeedToTarget(this.targetSpeed,this.speedChangeFactor,2);break;case n.Stopping:this.speed=this.stopSpeeds.shift(),this.completed=0==this.stopSpeeds.length}},t.prototype.stopToDistance=function(t){switch(this.timer.reset(),this.spinState=n.Stopping,this.speed=this.targetSpeed,this.stopSettings.ease){case s.MegawaysNames.BOUNCE:this.setStopDistanceBounce(t);break;case s.MegawaysNames.LINEAR:this.setStopToDistanceLinear(t);break;case s.MegawaysNames.BACK:default:this.setStopDistanceBack(t)}},t.prototype.setStopToDistanceLinear=function(t){var e=Math.ceil(2*t/this.speed),i=this.speed/e,n=this.speed;this.stopSpeeds=[];for(var o=0,s=0;s<e;s++)o+=n-=i,this.stopSpeeds.push(n);var a=(t-o)/this.stopSpeeds.length;for(s=0;s<this.stopSpeeds.length;s++)this.stopSpeeds[s]+=a},t.prototype.setStopDistanceBack=function(t){for(var e,i,n=this.stopSettings.bump,o=this.stopSettings.stopFactor,s=(t+=this.stopSettings.bump)+1;s>t;){for(s=0,e=[],i=this.speed;i>0;)i*=o,e.push(i),s+=i,Math.abs(i)<this.stopSettings.snapValue&&(i=0);s>t&&(o-=.01)}for(var a=Math.floor((t-s)/this.speed),r=0;r<a;r++)e.splice(0,0,this.speed),s+=this.speed;var l=(t-s)/e.length;for(e.forEach((function(t,i){e[i]+=l}));n>1;){var c=n*-this.stopSettings.bumpFactor;e.push(c),n+=c}this.stopSpeeds=e},t.prototype.setStopDistanceBounce=function(t){this.stopSpeeds=[];for(var e=Math.floor(t/this.speed),i=0;i<e;i++)this.stopSpeeds.push(this.speed);this.stopSpeeds.push(t%this.speed);for(i=0;i<this.stopSettings.numBounces;i++){for(var n=this.speed*this.stopSettings.bounciness/(i+1),o=[];n>0;)o.push(n),this.stopSpeeds.push(-n),n-=this.stopSettings.bounceGravity;this.stopSpeeds=this.stopSpeeds.concat(o)}},t.prototype.updateSpeedToTarget=function(t,e,i){this.speed+=(t-this.speed)*e,Math.abs(t-this.speed)<i&&(this.speed=t)},t}();e.BaseSpinController=a,function(t){t[t.Inactive=0]="Inactive",t[t.DelayedForStart=1]="DelayedForStart",t[t.StartBump=2]="StartBump",t[t.Accelerating=3]="Accelerating",t[t.Cruising=4]="Cruising",t[t.Stopping=5]="Stopping"}(n||(n={}))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(35),a=PIXI.spine.Spine,r=function(t){function e(e,i,n){var o=t.call(this)||this;return o.animations=[],o.animation=e.spineAnimationLoop,i.forEach((function(t,i){var s=new a(n.spineData);s.skeleton.setToSetupPose(),s.update(0),s.autoUpdate=!1,s.x=t.x+t.width/2+e.offset.x,s.y=t.y+t.height/2+e.offset.y,s.scale.set(e.scale.x,e.scale.y),o.animations.push(s)})),o.onAllWheels=e.onAllWheels,o}return o(e,t),e.prototype.onNearMiss=function(t){var e=this;this.animations.forEach((function(i,n){(t[n]||e.onAllWheels)&&e.startNearMiss(n)}))},e.prototype.startNearMiss=function(t){this.animations[t].parent||(this.animations[t].state.setAnimation(0,this.animation,!0),this.addChild(this.animations[t]),s.SpineManager.getInstance().addSpine(this.animations[t]),this.animations[t].alpha=0,TweenMax.to(this.animations[t],.5,{alpha:1}))},e.prototype.stopNearMiss=function(t){var e=this;this.animations[t].parent&&TweenMax.to(this.animations[t],.5,{alpha:0,onComplete:function(){e.animations[t].state.setEmptyAnimation(0,0),s.SpineManager.getInstance().addSpine(e.animations[t]),e.removeChild(e.animations[t])}})},e.prototype.stopAllNearMiss=function(){var t=this;this.animations.forEach((function(e,i){t.stopNearMiss(i)}))},e}(PIXI.Container);e.MegawaysCascadeNearMissDisplay=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(3),r=i(1),l=i(56),c=i(5),u=i(28),h=i(9),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=-1==this.initialServerSymbols()[0];this.setInitialSymbols(e)},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(r.Names.Proxies.CONNECTION,r.Names.Modules.CONNECTION))},e.prototype.setInitialSymbols=function(t){var e;e=t?this.initialClientSymbols():this.initialServerSymbols();var i=this.retrieveGlobalProxy(h.MegawaysNames.MEGAWAYS_PROXY,h.MegawaysNames.MEGAWAYS_WHEELS_MODULE),n=this.settings.getValue(h.MegawaysNames.GAME_CONFIG);i.rowsPerWheel=s.fill(new Array(n.wheelsCnt),i.maxRowsPerWheel),e.forEach((function(t,e){var o=e%n.wheelsCnt;-1==t&&i.rowsPerWheel[o]--})),i.megaways=i.rowsPerWheel.reduce((function(t,e,i){return t*e}),1),this.sendNotification(u.MegawaysNotifications.UPDATE_DISPLAY_SYMBOLS,e)},e.prototype.initialServerSymbols=function(){var t=[],e=l.SymbolUtil.extractSymbols(this.connectionProxy.getServerData(c.States.END_GAME).symbols);return s.each(e,(function(e){t=t.concat(e)})),t},e.prototype.initialClientSymbols=function(){return this.settings.getValue("INITIAL_DISPLAYED_SYMBOLS")},e}(a.Controller);e.MegawaysSetInitialSymbolsCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(28),r=i(0),l=i(9),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var e=t.body,i=[];r.each(e,(function(t){i=i.concat(t)})),this.sendNotification(a.MegawaysNotifications.UPDATE_DISPLAY_SYMBOLS,i)},e.prototype.initVars=function(){r.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveProxy(l.MegawaysNames.MEGAWAYS_PROXY)),r.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(l.MegawaysNames.GAME_CONFIG))},e}(s.Controller);e.MegawaysUpdateDisplaySymbolsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13),a=i(9),r=function(t){function e(e){var i=t.call(this,e)||this;return i.cascadeStage=0,i.cascadeStates=[],i.nearMissData={nearMissAtStart:!1,nearMissAtEnd:!1,nearMissReels:[]},i}return o(e,t),Object.defineProperty(e.prototype,"initted",{get:function(){return this._initted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cascadesFinished",{get:function(){return this.cascadeStage>=this.cascadeStates.length},enumerable:!0,configurable:!0}),e.prototype.initProxy=function(t){this._initted=!0;var e=t.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_SETTING);this.maxRowsPerWheel=t.rowsCnt=e.rowsAllowed.reduce((function(t,e){return Math.max(t,e)}),0)},e}(s.Proxy);e.MegawaysProxy=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(0),r=i(9),l=i(28),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.initVars(),0==this.megawaysProxy.cascadeStage){this.computeNearMiss(this.megawaysProxy.cascadeStates[0]),this.computeAnnounce(this.megawaysProxy.cascadeStates[0]);for(var e=1;e<this.megawaysProxy.cascadeStates.length;e++)this.computeNearMiss(this.megawaysProxy.cascadeStates[e]),this.computeAnnounce(this.megawaysProxy.cascadeStates[e])}var i={nearMissAtEnd:this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].nearMissActive&&this.megawaysProxy.cascadeStage<this.megawaysProxy.cascadeStates.length-1,nearMissAtStart:this.megawaysProxy.cascadeStage>0&&this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage-1].nearMissActive,nearMissReels:this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStage].nearMissReels};this.megawaysProxy.nearMissData=i,this.sendGlobalNotification(l.MegawaysNotifications.UPDATE_NEAR_MISS,i)},e.prototype.computeNearMiss=function(t){var e=this;this.megawaysProxy.wheelSettings.cascadeNearMissSettings.settings.symbols.forEach((function(i){var n;n=i.allowedReels.length>0?i.allowedReels.reduce((function(t,e){return t[e]=!0,t}),a.fill(Array(t.symbolsMatrix[0].length),!1)):a.fill(Array(t.symbolsMatrix[0].length),!0),e.getNearMiss(n,i,t)}))},e.prototype.getNearMiss=function(t,e,i){for(var n=0,o=0;o<i.symbolsMatrix[0].length;o++)if(t[o])for(var s=0;s<i.symbolsMatrix.length;s++)i.symbolsMatrix[s][o]==e.symbolId&&(n++,e.onlyOneByReel&&(t[o]=!1));n>=e.minSymbols&&n<e.maxSymbols&&(i.nearMissActive=!0),i.nearMissReels=t.concat()},e.prototype.computeAnnounce=function(t){var e=this;if(t.announceSymbols=[],this.announceSettings){var i=new Map;t.symbolsMatrix.forEach((function(n,o){n.forEach((function(n,o){e.announceSettings.symbols.forEach((function(t){n==t.symbolId&&(i.has(n)||i.set(n,0),i.set(n,i.get(n)+1))})),t.announceSymbols.push(0)}))})),this.announceSettings.symbols.forEach((function(n){t.newSymbols.forEach((function(o,s){o.forEach((function(o,a){var r=i.get(o);n.symbolId==o&&r>=n.minSymbols&&(r<=n.maxSymbols||n.maxSymbols<0)&&(t.announceSymbols[s+a*e.slotGameConfig.wheelsCnt]=1)}))}))}))}},e.prototype.initVars=function(){a.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveProxy(r.MegawaysNames.MEGAWAYS_PROXY)),a.isNil(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(r.MegawaysNames.GAME_CONFIG),this.announceSettings=this.slotGameConfig.getProperty(r.MegawaysNames.MEGAWAYS_WHEELS,r.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE))},e}(s.Controller);e.MegawaysParseSpecialSymbolsCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(9),r=i(2),l=i(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this,i=this.settings.getValue(a.MegawaysNames.GAME_CONFIG),n=t.body.config,o=i.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE);o||(o={spineConfig:n}),o.spineConfig||(o.spineConfig=n),o.symbols||(o.symbols=[]),o.spineData=new Map,n.forEach((function(t,i){l.find(o.symbols,(function(t){return t.symbolId==i}))||o.symbols.push({symbolId:i,minSymbols:1,maxSymbols:-1,allowedReels:[]}),t.forEach((function(t,i){t.forEach((function(t){if(!o.spineData.has(t.atlas)){var i={json:[t.atlas]};e.sendGlobalNotification(r.Notifications.Winning.GET_SPINE_DATA,{spineInfo:i}),o.spineData.set(t.atlas,i.atlasData[0].spineData)}}))}))})),i.addProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANNOUNCE,o,!1)},e}(s.Controller);e.MegawaysSendSpineAnnounceConfigCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(9),r=i(2),l=i(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e=this,i=this.settings.getValue(a.MegawaysNames.GAME_CONFIG),n=t.body.config,o=i.getProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANTICIPATION);o||(o={spineConfig:n}),o.symbols||(o.symbols=[]),o.spineData=new Map,n.forEach((function(t,i){l.find(o.symbols,(function(t){return t.symbolId==i}))||o.symbols.push({symbolId:i,minSymbols:1,maxSymbols:-1,allowedReels:[]}),t.forEach((function(t,i){t.forEach((function(t){if(!o.spineData.has(t.atlas)){var i={json:[t.atlas]};e.sendGlobalNotification(r.Notifications.Winning.GET_SPINE_DATA,{spineInfo:i}),o.spineData.set(t.atlas,i.atlasData[0].spineData)}}))}))})),i.addProperty(a.MegawaysNames.MEGAWAYS_WHEELS,a.MegawaysNames.MEGAWAYS_WHEELS_ANTICIPATION,o,!1)},e}(s.Controller);e.MegawaysSendSpineAnticipationConfigCommand=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(266),a=i(2),r=i(5),l=i(0),c=i(1),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.handleUserInteraction(t),this.handleNextState(),this.updateDisplayValues(),this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,r.States.END_GAME_DECISION)},e.prototype.initVars=function(){l.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY)),l.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION))},e}(s.WheelsAnimationsCompleteCommand);e.MegawaysWheelsAnimationCompleteCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(268),a=i(39),r=i(5),l=i(2),c=i(66),u=i(0),h=i(6),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.injectStatesIntoFSM=function(){t.prototype.injectStatesIntoFSM.call(this);var e=new Array;e.push(new a.StateVO(r.States.END_GAME,r.States.END_GAME,[r.States.WAIT_FOR_NEXT_ACTION,r.States.END_GAME_ENABLE_UI,r.States.END_GAME_DECISION,r.States.AUTO_PLAY_END_GAME_ENABLE_UI,r.States.FREE_ROUNDS_END_GAME_ENABLE_UI])),this.sendGlobalNotification(l.Notifications.GameSetup.INJECT_FSM,e)},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(c.MegawaysValidationTypes.CASCADES_IN_PROGRESS,c.MegawaysValidationProperties.CASCADES_IN_PROGRESS)},e.prototype.sendSpinCommand=function(){if(this.allowCheatTool&&!u.isNil(this.cheatToolProxy)&&(this.cheatToolProxy.isDebugCommandPresent()||this.cheatToolProxy.isSpecialDebugCommandPresent())){var t=void 0,e=void 0;if(this.cheatToolProxy.isSpecialDebugCommandPresent()){var i=this.cheatToolProxy.getDebugSpecialCommand();this.cheatToolProxy.isDebugCommandPresent()?(e=[this.DEBUG_COMMAND,this.cheatToolProxy.getDebugCommand().replace(/\-1/g,"0")].concat(i),h.Log.info("Sending Debug command + special"+e)):(e=i,h.Log.info("Sending only SPECIAL Debug command "+e)),t=this.getCoinValueCommand().concat(e).concat(this.getBetCommand())}else e=[this.DEBUG_COMMAND,this.cheatToolProxy.getDebugCommand().replace(/\-1/g,"0")],t=this.getCoinValueCommand().concat(e).concat(this.getBetCommand()),h.Log.info("Sending Debug command "+e);this.connectionProxy.send(t)}else this.connectionProxy.send(this.getCoinValueCommand().concat(this.getBetCommand()));this.connectionProxy.resetServerData()},e}(s.InitializeSlotLogicModuleCommand);e.MegawaysInitializeSlotLogicCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(63),r=i(7),l=i(146),c=i(0),u=i(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.handleUserInteraction=function(){this.sendGlobalNotification(s.Notifications.Global.CHANGE_COIN_VALUES_FROM_SERVER),this.winningsAnimationsProxy.isCascadeWin||(this._incrementStatus==a.IncrementStatusNames.INCREMENTING?this.sendGlobalNotification(s.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.END_GAME_ENABLE_UI_WIN):this.sendGlobalNotification(s.Notifications.Global.UPDATE_USER_INTERFACE,r.UpdateUIAction.END_GAME_ENABLE_UI_NO_WIN),this.sendGlobalNotification(s.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0))},e.prototype.initVars=function(){t.prototype.initVars.call(this),c.isNil(this.winningsAnimationsProxy)&&(this.winningsAnimationsProxy=this.retrieveGlobalProxy(u.Names.Proxies.WINNINGS_ANIMATIONS,u.Names.Modules.WINNINGS))},e}(l.EndGameEnableUiCommand);e.MegawaysEndGameEnableUiCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(263),a=i(38),r=i(2),l=i(1),c=i(9),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){this.stateMachineProxy||(this.stateMachineProxy=this.retrieveGlobalProxy(l.Names.Proxies.STATE_MACHINE,l.Names.Modules.GAME_SETUP)),t.prototype.execute.call(this,e)},e.prototype.getIncrementStatus=function(t){var e=a.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS;this.slotGameConfig.allWinValuesInCurrency&&(e=a.IncrementNames.CURRENT_INCREMENTAL_WIN_MONEY),this.sendGlobalNotification(r.Notifications.Increment.GET_INCREMENT_STATUS,{incrementId:e,callback:t}),this.stateMachineProxy.state==c.MegawaysNames.CASCADES_SUMMARY_STATE&&(this.isIncrementingValue=!0)},e}(s.SkipWinningsAnimationsCommand);e.MegawaysSkipWinningsAnimationsCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(313),a=i(9),r=i(28),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e)},e.prototype.registerUserActions=function(){t.prototype.registerUserActions.call(this),this.registerUserAction(a.MegawaysNames.SKIP_CASCADE_SUMMARY_ACTION,r.MegawaysNotifications.SKIP_CASCADE_SUMMARY,[a.MegawaysNames.CASCADES_SUMMARY_STATE],!1,!1)},e}(s.SlotRegisterUserInterfaceActionsCommand);e.MegawaysRegisterUiActionsCommand=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(318),a=i(41),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateDisplayValues=function(t){this.displayValues=t,this.setLabelText(this.betPerLineTextLabel,t.coinsAsString()),this.setLabelText(this.linesTextLabel,t.linesAsString()),0==t.winnings&&this.setLabelText(this.winTextLabel," "),this.coinValuesPanelComponent.setTotalBet(t.betsAsString(!1)),this.coinValuesPanelComponent.setCoinValue(t.coinValue),this.coinValuesPanelComponent.setBetInCoins(this.translations.getValue("uiBetInCoins",[t.totalBetInCoins])),this.betLevelEnabled?(this.setLabelText(this.coinValueLabel,t.betsAsString(!1)),this.isInCascades||this.setLabelText(this.totalBetTextLabel,"")):(this.setLabelText(this.totalBetTextLabel,t.totalBetInCoinsAsString()),this.setLabelText(this.coinValueLabel,a.SlotMoneyUtils.getMoneyFromValueMoneyAsString(t.coinValueInCoins)))},e}(s.SlotDesktopUserInterfaceViewPixi);e.MegawaysDesktopUserInterfaceView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(150),a=i(0),r=i(72),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updatePayouts=function(){var t=this;this.updatedPayouts=[],a.each(this.symbolsBasePayouts,(function(e,i){t.updatedPayouts[i]=[],a.each(e,(function(e,n){var o=e,s="";if(o.indexOf(":")>-1){var r=o.split(":");s=r[0]+" "+t.fullPixiSpaceSeparator+" ",o=r[1]}isNaN(parseInt(o))||-1!=a.findIndex(t.translationPayoutsID,(function(t){return t==i}))||t.noMultiplicationSymbols&&t.noMultiplicationSymbols.indexOf((Number(i)+1).toString())>=0?t.updatedPayouts[i][n]=s+o:t.totalBetMultipliedSymbols&&t.totalBetMultipliedSymbols.indexOf((Number(i)+1).toString())>=0?t.updatedPayouts[i][n]=s+t.moneyProxy.getStringValueFrom(parseFloat(o)*t.moneyProxy.getTotalBetInCoins()):t.slotGameConfig.payoutsFixed?t.updatedPayouts[i][n]=s+t.moneyProxy.getStringValueFrom(parseInt(o)):t.updatedPayouts[i][n]=s+t.moneyProxy.getStringValueFrom(parseFloat(o)*t.moneyProxy.getCurrentCoin())}))})),this.sendNotification(r.PaytableNotifications.UPDATE_PAY_TABLE_ACTION,this.updatedPayouts)},e}(s.PayoutsProxy);e.MegawaysPayoutsProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(297),a=i(920),r=i(23),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(r.FRProxiesName.FREE_ROUNDS_PROXY,a.MegawaysFreeRoundsProxy)},e}(s.FreeRounds);e.MegawaysFreeRounds=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(298),a=i(2),r=i(0),l=i(9),c=i(23),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initProxy=function(){t.prototype.initProxy.call(this),r.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(l.MegawaysNames.MEGAWAYS_PROXY,l.MegawaysNames.MEGAWAYS_WHEELS_MODULE))},e.prototype.checkFreeRoundsAvailability=function(){return this.megawaysProxy.cascadeStage>=this.megawaysProxy.cascadeStates.length-1&&t.prototype.checkFreeRoundsAvailability.call(this)},e.prototype.updateFreeRoundsConditions=function(){var t=this.moneyProxy.getCurrentLine(),e=this.moneyProxy.getCurrentCoinValue(),i=!1,n=this.settings.getValue("GameConfig");t==this.freeRoundsPackageDetails.fRoundLines||n.hasWays||n.hasBetPerSpin||(this.moneyProxy.updateLines(this.freeRoundsPackageDetails.fRoundLines,!0,!1,!1),i=!0),e!=this.freeRoundsPackageDetails.fRoundCoinValue&&(this.moneyProxy.updateCoinValue(this.freeRoundsPackageDetails.fRoundCoinValue,!0,!1,!1),i=!0,this.hasProgressive&&this.progressiveConnectionProxy.sendCoinValue()),i&&this.sendGlobalNotification(a.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues)},e.prototype.updateFreeRoundsScreen=function(){this.settings.map("maxWinCapReached",this.skipBalanceIncrement()),this.megawaysProxy.cascadeStates.length-this.megawaysProxy.cascadeStage<=1&&this.sendNotification(c.FRNotifications.UPDATE_FREE_ROUNDS_SCREEN,this.freeRoundsPackageDetails)},e}(s.FreeRoundsProxy);e.MegawaysFreeRoundsProxy=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(291),a=i(2),r=i(28),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.MegawaysNotifications.STRIP_ALLOW_UPDATE_BALANCE,this.onUpdateAllowUpdateBalance.bind(this)),this.addNotification(r.MegawaysNotifications.UPDATE_STRIP_BALANCE,this.onStripBalanceupdate.bind(this)),this.addNotification(a.Notifications.Global.SPIN,this.onSpin.bind(this)),this.addNotification(r.MegawaysNotifications.UPDATE_STRIP_WINNINGS_ONLY,this.updateWinningsValuesOnly.bind(this))},e.prototype.onUpdateAllowUpdateBalance=function(t){this.viewComponent.allowBalanceUpdate=t.body},e.prototype.onStripBalanceupdate=function(t){this.viewComponent.updateBalance(t.body)},e.prototype.onSpin=function(){this.viewComponent.onSpin()},e.prototype.updateWinningsValuesOnly=function(t){this.viewComponent.updateWinLabelOnly(t.body)},e}(s.SlotStripMediator);e.MegawaysStripMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(295),a=i(32),r=i(96),l=i(41),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._allowBalanceUpdate=!0,e}return o(e,t),Object.defineProperty(e.prototype,"allowBalanceUpdate",{set:function(t){this._allowBalanceUpdate=t},enumerable:!0,configurable:!0}),e.prototype.onIncrementUpdateForBalance=function(e){this._allowBalanceUpdate&&t.prototype.onIncrementUpdateForBalance.call(this,e)},e.prototype.updateBalance=function(t){if(this.displayValues=t,this.updateLabel(this.balanceLabel,this.displayValues.balanceAsString(!1)),this.betLevelEnabled&&this.updateLabelsOutsideStrip(this.balanceLabel.text.text,r.LabelToUpdateVO.BALANCE,r.LabelToUpdateVO.MONEY),this.creditLabel){var e=this.displayValues.balance/this.displayValues.coinValue;this.noCurrency&&(e=Math.floor(e)),this.updateLabel(this.creditLabel,a.NumberFormatterUtil.formatNumber(e,0))}},e.prototype.updateWinLabelOnly=function(t){this.betLevelEnabled?(this.updateWinLabel(this.displayValues.winningsAsString()),this.updateLabelsOutsideStrip(l.SlotMoneyUtils.getMoneyFromCoinsAsString(this.displayValues.winningsInCoins),r.LabelToUpdateVO.WIN,r.LabelToUpdateVO.MONEY)):this.updateWinLabel(this.displayValues.winningsAsString(!1))},e.prototype.onSpin=function(){this.allowBalanceUpdate=!0},e}(s.SlotStripPixiView);e.MegawaysStripDesktopView=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(120),a=i(5),r=i(9),l=i(0),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getServerData=function(t,e){if(void 0===e&&(e=!1),this.serverData){var i=this.serverData[t];if(!1===e){var n=this.serverData[r.MegawaysNames.SPINS_CASCADES];t==a.States.END_GAME?l.isUndefined(n)||(l.isArray(n.spin)||(n.spin=[n.spin]),n.spin.length>0&&(i=n.spin[0])):t==r.MegawaysNames.SPINS_CASCADES&&(l.isUndefined(n)||l.isArray(n.spin)||(n.spin=[n.spin],i=n))}return i}},e.prototype.removeCascadeState=function(){this.serverData[r.MegawaysNames.SPINS_CASCADES].spin.shift()},e}(s.ConnectionProxy);e.MegawaysConnectionProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(276),a=i(5),r=i(2),l=i(925),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.States.END_GAME_ENABLE_UI,l.MegawaysRealityCheckCommand),this.replaceCommand(a.States.AUTO_PLAY_END_GAME_ENABLE_UI,l.MegawaysRealityCheckCommand),this.replaceCommand(r.Notifications.Global.SHOW_REALITY_CHECK_CLIENT,l.MegawaysRealityCheckCommand)},e}(s.SlotCertification);e.MegawaysCertificationModule=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(277),a=i(10),r=i(2),l=i(5),c=i(39),u=i(66),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.validationProxy.validateAtLeastOne(a.ValidationTypes.REALITY_CHECK_VALIDATION)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_ROUNDS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.FREE_SPINS_IN_PROGRESS)&&this.validationProxy.validateNone(a.ValidationTypes.BONUS_SYSTEM_IN_PROGRESS)&&this.validationProxy.validateNone(u.MegawaysValidationTypes.CASCADES_IN_PROGRESS)&&(this.sendGlobalNotification(r.Notifications.Global.CHANGE_STATE,l.States.REALITY_CHECK),this.sendGlobalNotification(r.Notifications.GameSetup.INJECT_FSM,[new c.StateVO(l.States.END_GAME_ENABLE_UI,l.States.END_GAME_ENABLE_UI,null,null,[l.States.REALITY_CHECK])]))},e}(s.RealityCheckCommand);e.MegawaysRealityCheckCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(271),a=i(73),r=i(927),l=i(928),c=i(929),u=i(930),h=i(931),p=i(1),d=i(932),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView(a.NgsMwAztecGoldBackgroundNames.SYMBOLS_FRAME_VIEW,r.NgsMwAztecGoldSymbolsFrameView,0),this.replaceView(a.NgsMwAztecGoldBackgroundNames.SYMBOLS_FRAME_VIEW,r.NgsMwAztecGoldSymbolsFrameView,1),this.replaceView(a.NgsMwAztecGoldBackgroundNames.HTML_BACKGROUND_VIEW,c.NgsMwAztecGoldBackgroundView,0),this.replaceView(a.NgsMwAztecGoldBackgroundNames.HTML_BACKGROUND_VIEW,u.NgsMwAztecGoldBackgroundViewMobile,1),this.addView(a.NgsMwAztecGoldBackgroundNames.INTRO_TRANSITION_VIEW,[d.NgsMwAztecGoldIntroTransitionView,d.NgsMwAztecGoldIntroTransitionView,d.NgsMwAztecGoldIntroTransitionView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator(a.NgsMwAztecGoldBackgroundNames.SYMBOLS_FRAME_VIEW,l.NgsMwAztecGoldSymbolsFrameMediator,0),this.replaceMediator(a.NgsMwAztecGoldBackgroundNames.SYMBOLS_FRAME_VIEW,l.NgsMwAztecGoldSymbolsFrameMediator,1),this.addMediator(h.NgsMwAztecGoldIntroTransitionMediator,a.NgsMwAztecGoldBackgroundNames.INTRO_TRANSITION_VIEW)},e.prototype.registerLayerModule=function(){t.prototype.registerLayerModule.call(this),this.layersProxy.addPIXILayer(a.NgsMwAztecGoldBackgroundNames.INTRO_TRANSITION_LAYER,p.Names.Layers.INTRO_FEATURES,!0,!0,!0)},e}(s.Background);e.NgsMwAztecGoldBackgroundModule=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(274),a=i(73),r=i(79),l=i(18),c=i(50),u=i(35),h=i(74),p=i(29),d=i(4),_=i(88),f=PIXI.spine.Spine,y=PIXI.Container,m=PIXI.Point,N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AMBIENT_BASE_TRACK=0,e.AMBIENT_FEATURE_TRACK=1,e.AMBIENT_SHIMMER_TRACK=3,e.AMBIENT_MODIFIER_TRACK=2,e.valuesXPosLandscape=[614,792,970],e.valuesXPosLandscapeRespin=[600,792,990],e.valuesYPosLandscape=103,e.valuesYPosLandscapeRespin=49,e.valuesXPosPortrait=[666,792,916],e.valuesXPosPortraitRespin=[657,792,931],e.valuesYPosPortrait=315,e.valuesYPosPortraitRespin=278,e.valuesScaleDesktop=.5,e.valuesScaleMobile=.4,e.valueContainerScaleLandscape=1.3,e.valueContainerScalePortrait=1,e.megawaysPosLandscape=new m(400,90),e.megawaysPosPortrait=new m(510,307),e.megawaysPosLandscapeRespin=new m(238,83),e.megawaysPosPortraitRespin=new m(510,248),e.megawaysScaleLandscape=1,e.megawaysScaleLandscapeRespins=.83,e.megawaysScalePortrait=.7,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.createDisplayValues(),this.retrieveAssets(),this.orderLayers(),this.currentIndex=-1,this.switchFrame(c.BackgroundActions.MODE_NORMAL,!0)},e.prototype.createDisplayValues=function(){this.valuesHolder=new y,this.valuesHolder.name="valuesHolder",this.megawaysValueContainer=new y,this.megawaysValueContainer.name="Megaways value tf",this.megawaysValueContainer.x=400,this.megawaysValueContainer.y=90,this.megawaysValue=new r.MegawaysBitmapValue(this.megawaysValueContainer,.5,1,1,a.NgsMwAztecGoldBackgroundNames.MEGAWAYS_VALUES),this.megawaysValue.substituteImages=!1,this.valuesHolder.addChild(this.megawaysValueContainer),this.bonusValues=[],this.bonusValuesContainers=[];for(var t=d.Device.instance().mobile?this.valuesScaleMobile:this.valuesScaleDesktop,e=0;e<3;e++){var i=new y;i.name="bonus value tf "+e,this.valuesHolder.addChild(i);var n=new r.MegawaysBitmapValue(i,t,.85,0,a.NgsMwAztecGoldBackgroundNames.BONUS_VALUES);n.substituteImages=!1,this.bonusValues.push(n),this.bonusValuesContainers.push(i)}this.placeValues()},e.prototype.placeValues=function(){var t,e,i,n=d.Device.instance().mobile&&d.Device.isLandscape()?this.valueContainerScaleLandscape:this.valueContainerScalePortrait,o=d.Device.isLandscape()||!d.Device.instance().mobile?this.megawaysScaleLandscape:this.megawaysScalePortrait;this.currentIndex===c.BackgroundActions.MODE_NORMAL?(t=d.Device.isLandscape()||!d.Device.instance().mobile?this.valuesXPosLandscape:this.valuesXPosPortrait,e=d.Device.isLandscape()||!d.Device.instance().mobile?this.valuesYPosLandscape:this.valuesYPosPortrait,i=d.Device.isLandscape()||!d.Device.instance().mobile?this.megawaysPosLandscape:this.megawaysPosPortrait):(t=d.Device.isLandscape()||!d.Device.instance().mobile?this.valuesXPosLandscapeRespin:this.valuesXPosPortraitRespin,e=d.Device.isLandscape()||!d.Device.instance().mobile?this.valuesYPosLandscapeRespin:this.valuesYPosPortraitRespin,i=d.Device.isLandscape()||!d.Device.instance().mobile?this.megawaysPosLandscapeRespin:this.megawaysPosPortraitRespin,!d.Device.isLandscape()&&d.Device.instance().mobile||(o=this.megawaysScaleLandscapeRespins)),this.bonusValuesContainers.forEach((function(i,o){i.x=t[o],i.y=e,i.scale.x=i.scale.y=n/r.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE})),this.megawaysValueContainer.position.set(i.x,i.y),this.megawaysValueContainer.scale.set(o)},e.prototype.retrieveAssets=function(){var t=c.BackgroundActions.SUBLAYOUT_FRAMES[c.BackgroundActions.MODE_NORMAL];this.baseSpinsAssets=new l.ControllerContainer(t,this.findMultipleChild(t));var e=c.BackgroundActions.SUBLAYOUT_FRAMES[c.BackgroundActions.MODE_FREESPIN];this.freeSpinsAssets=new l.ControllerContainer(e,this.findMultipleChild(e))},e.prototype.switchFrame=function(t,e){void 0===e&&(e=!0),this.currentIndex!=t&&(this.currentIndex=t,this.currentIndex==c.BackgroundActions.MODE_FREESPIN&&this.gameModeChange(e))},e.prototype.gameModeChange=function(t){void 0===t&&(t=!0),this.ambientAnimations&&(this.ambientAnimations.visible=this.lightSweepAnimations.visible=this.currentIndex===c.BackgroundActions.MODE_NORMAL,d.Device.instance().mobile&&(this.ambientAnimations.visible=d.Device.isLandscape()&&this.currentIndex===c.BackgroundActions.MODE_NORMAL)),this.setContainerVisible(this.baseSpinsAssets,this.currentIndex===c.BackgroundActions.MODE_NORMAL,t),this.placeValues(),this.setContainerVisible(this.freeSpinsAssets,this.currentIndex===c.BackgroundActions.MODE_FREESPIN,t)},e.prototype.setContainerVisible=function(t,e,i){var n=this;TweenMax.killTweensOf(t),i?(t.visible=e,t.alpha=e?1:0):e?(t.visible=!0,1!=t.alpha&&TweenMax.to(t,this.BACKGROUND_ANIMATION_DURATION,{alpha:1})):0!=t.alpha?TweenMax.to(t,this.BACKGROUND_ANIMATION_DURATION,{alpha:0,onComplete:function(){n.hideAllFrameComplete()}}):(t.visible=!1,this.hideAllFrameComplete())},e.prototype.orderLayers=function(){var t=2;this.lightSweepAnimations&&this.display.addChildAt(this.lightSweepAnimations,t++),this.ambientAnimations&&this.display.addChildAt(this.ambientAnimations,t++),this.display.addChildAt(this.valuesHolder,t++)},e.prototype.setBonusValues=function(t){var e=d.Device.instance().mobile&&d.Device.isLandscape()?this.valueContainerScaleLandscape:this.valueContainerScalePortrait;this.bonusValues.forEach((function(i,n){i.updateBitmapValue(t[n],"",0,"X"),i.container.scale.x=i.container.scale.y=e/r.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE}))},e.prototype.setMegaways=function(t){t>0?(this.megawaysValue.updateBitmapValue(t),this.megawaysValueContainer.scale.set(d.Device.isLandscape()||!d.Device.instance().mobile?this.megawaysScaleLandscape:this.megawaysScalePortrait)):this.megawaysValue.resetBitmapValue()},e.prototype.ambientSpineLoaded=function(t){this.ambientAnimations=new f(t.spineData),this.ambientAnimations.name="ambientAnimations",this.ambientAnimations.skeleton.setToSetupPose(),this.ambientAnimations.update(0),this.ambientAnimations.scale.set(p.AztecAssetPositions.BIG_SPINES_SCALE),this.ambientAnimations.autoUpdate=!1,this.ambientAnimations.x=p.AztecAssetPositions.BIG_SPINES_X,this.ambientAnimations.y=p.AztecAssetPositions.BIG_SPINES_Y,u.SpineManager.getInstance().addSpine(this.ambientAnimations),this.ambientAnimations.alpha=0,TweenMax.to(this.ambientAnimations,.5,{alpha:1}),this.ambientAnimations.state.setAnimation(this.AMBIENT_BASE_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAIN_STAGE_IDLE,!0),this.ambientAnimations.state.setAnimation(this.AMBIENT_FEATURE_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAIN_STAGE_IDLE_OVERGROUND,!0),this.lightSweepAnimations=new f(t.spineData),this.lightSweepAnimations.name="lightSweepAnimations",this.lightSweepAnimations.skeleton.setToSetupPose(),this.lightSweepAnimations.state.setAnimation(this.AMBIENT_SHIMMER_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAIN_STAGE_GOLD_SHIMMER,!1),this.lightSweepAnimations.update(0),this.lightSweepAnimations.autoUpdate=!1,this.placeAmbientSpines(),this.ambientAnimations.visible=this.lightSweepAnimations.visible=this.currentIndex===c.BackgroundActions.MODE_NORMAL,d.Device.instance().mobile&&(this.ambientAnimations.visible=d.Device.isLandscape()),this.orderLayers()},e.prototype.placeAmbientSpines=function(){d.Device.instance().mobile&&d.Device.isPortrait()?(this.lightSweepAnimations.scale.set(p.AztecAssetPositions.BIG_SPINES_PORTRAIT_SCALE),this.ambientAnimations.scale.set(p.AztecAssetPositions.BIG_SPINES_PORTRAIT_SCALE),this.ambientAnimations.x=this.lightSweepAnimations.x=p.AztecAssetPositions.BIG_SPINES_PORTRAIT_X,this.ambientAnimations.y=this.lightSweepAnimations.y=p.AztecAssetPositions.BIG_SPINES_PORTRAIT_Y):(this.lightSweepAnimations.scale.set(p.AztecAssetPositions.BIG_SPINES_SCALE),this.ambientAnimations.scale.set(p.AztecAssetPositions.BIG_SPINES_SCALE),this.ambientAnimations.x=this.lightSweepAnimations.x=p.AztecAssetPositions.BIG_SPINES_X,this.ambientAnimations.y=this.lightSweepAnimations.y=p.AztecAssetPositions.BIG_SPINES_Y)},e.prototype.playGoldShimmer=function(t){var e=this;this.lightSweepAnimations&&(u.SpineManager.getInstance().addSpine(this.lightSweepAnimations),TweenMax.delayedCall(t,(function(){e.lightSweepAnimations.state.setAnimation(e.AMBIENT_SHIMMER_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAIN_STAGE_GOLD_SHIMMER,!1),e.lightSweepAnimations.state.tracks[e.AMBIENT_SHIMMER_TRACK].trackTime=0,e.lightSweepAnimations.update(2.5),e.playSound(_.NgsMwAztecGoldSoundNames.UI_LIGHT_SWEEP)})))},e.prototype.showMaxWays=function(){this.ambientAnimations&&(this.ambientAnimations.state.setAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAX_WAYS_MODIFIER_IN,!1),this.ambientAnimations.state.addAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAX_WAYS_MODIFIER_LOOP,!0))},e.prototype.showSunDiscs=function(){this.ambientAnimations&&(this.ambientAnimations.state.setAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.BONUS_ADD_MODIFIER_IN,!1),this.ambientAnimations.state.addAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.BONUS_ADD_MODIFIER_LOOP,!0))},e.prototype.finishMaxWays=function(){this.ambientAnimations&&this.ambientAnimations.state.setAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.MAX_WAYS_MODIFIER_OUT,!1)},e.prototype.finishSunDiscs=function(){this.ambientAnimations&&this.ambientAnimations.state.setAnimation(this.AMBIENT_MODIFIER_TRACK,h.NgsMwAztecGoldAmbientAnimations.BONUS_ADD_MODIFIER_OUT,!1)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),d.Device.instance().mobile&&(this.placeValues(),this.ambientAnimations&&(this.ambientAnimations.visible=d.Device.isLandscape()&&this.currentIndex===c.BackgroundActions.MODE_NORMAL,this.lightSweepAnimations.visible=this.currentIndex===c.BackgroundActions.MODE_NORMAL,this.placeAmbientSpines()))},e}(s.AbstractSymbolsFrameView);e.NgsMwAztecGoldSymbolsFrameView=N},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(273),a=i(2),r=i(9),l=i(1),c=i(74),u=i(29),h=i(126),p=i(79),d=i(73),_=i(4),f=i(5),y=i(24),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.megawaysProxy=this.retrieveGlobalProxy(r.MegawaysNames.MEGAWAYS_PROXY,r.MegawaysNames.MEGAWAYS_WHEELS_MODULE),this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY),this.modifierProxy=this.retrieveGlobalProxy(u.AztecProxies.MODIFIER_PROXY,u.AztecModules.MODIFIER_MODULE),p.MegawaysBitmapValue.VALUES_MINI_MAJOR_MEGA=this.bonusMultipliers=this.settings.getValue("BONUS_WIN_VALUES"),this.view.setBonusValues(this.bonusMultipliers)},e.prototype.addNotifications=function(){var e=this;t.prototype.addNotifications.call(this),this.addNotification(a.Notifications.Wheels.WHEEL_COMPLETE,this.setMegaways.bind(this)),this.addNotification(f.States.REALITY_CHECK,this.setMegaways.bind(this)),this.addNotification(a.Notifications.Global.SPIN,this.setMegaways.bind(this)),this.addNotification(a.Notifications.Global.INTRO_CLOSED,(function(t){e.view.gameModeChange(),e.setMegaways(t)})),this.addNotification(u.AztecNotifications.SHOW_REEL_MODIFIER,this.showModifier.bind(this)),this.addNotification(h.NgsMwAztecGoldModifierSignals.FINISH_SUN_DISCS,(function(){e.view.finishSunDiscs()})),this.addNotification(h.NgsMwAztecGoldModifierSignals.FINISH_MAX_WAY,(function(){e.view.finishMaxWays()})),this.addNotification(d.NgsMwAztecGoldBackgroundNames.AMBIENT_ANIMATIONS_LOADED,this.ambientAnimationsLoaded.bind(this)),this.addNotification(a.Notifications.GameSetup.ALL_MODULES_INITIALIZED,(function(){e.sendGlobalNotification(a.Notifications.Global.LOAD_OPTIONAL_GROUP,l.Names.Modules.BACKGROUND)})),this.addNotification(y.MegawaysCashRespinsNotifications.CLEAN_RESPIN_WHEELS,this.gameModeChange.bind(this))},e.prototype.ambientAnimationsLoaded=function(){var t=_.Device.instance().mobile?{json:c.NgsMwAztecGoldAmbientAnimations.FILE_NAME_MOBILE,atlasData:null}:{json:c.NgsMwAztecGoldAmbientAnimations.FILE_NAME,atlasData:null};this.sendGlobalNotification(a.Notifications.Winning.GET_SPINE_DATA,{spineInfo:t}),this.view.ambientSpineLoaded(t.atlasData[0])},e.prototype.gameModeChange=function(){this.view.gameModeChange()},e.prototype.showModifier=function(t){var e=this,i=t.body,n=Math.max(0,h.NgsMwAztecGoldModifierTimings.SHIMMER_DELAY-(Date.now()-this.modifierProxy.spinTime)/1e3);this.view.playGoldShimmer(n),i.isMaxWaysModifier?TweenMax.delayedCall(n+h.NgsMwAztecGoldModifierTimings.MODIFIER_BEGIN,(function(){e.view.showMaxWays()})):i.isBonusAddModifier&&TweenMax.delayedCall(n+h.NgsMwAztecGoldModifierTimings.MODIFIER_BEGIN,(function(){e.view.showSunDiscs()}))},Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.setMegaways=function(t){t.name==a.Notifications.Global.SPIN?this.view.setMegaways(0):this.view.setMegaways(this.megawaysProxy.megaways)},e}(s.AbstractSymbolsFrameMediator);e.NgsMwAztecGoldSymbolsFrameMediator=m},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(148),a=i(73),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){a.NgsMwAztecGoldBackgroundUtils.orderMainLayers(this.display),t.prototype.postRegister.call(this)},e.prototype.onIntroClosed=function(){t.prototype.onIntroClosed.call(this);var e=this.findChildByName(this.display,"Preloader_BG");e&&e.parent&&e.parent.removeChild(e)},e}(s.BackgroundViewPixi);e.NgsMwAztecGoldBackgroundView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onIntroClosed=function(){t.prototype.onIntroClosed.call(this);var e=this.findChildByName(this.display,"Preloader_BG");e&&e.parent&&e.parent.removeChild(e),(e=this.findChildByName(this.display,"Portrait_Preloader"))&&e.parent&&e.parent.removeChild(e)},e}(i(275).BackgroundMasterLayoutMobileView);e.NgsMwAztecGoldBackgroundViewMobile=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(73),r=i(74),l=i(2),c=i(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.NgsMwAztecGoldBackgroundNames.INTRO_TRANSITION_LAYER},enumerable:!0,configurable:!0}),e.prototype.postRegister=function(){t.prototype.postRegister.call(this);var e={json:c.Device.instance().mobile?r.NgsMwAztecGoldIntroTransitionAnimations.FILE_NAME_MOBILE:r.NgsMwAztecGoldIntroTransitionAnimations.FILE_NAME,atlasData:null};this.sendGlobalNotification(l.Notifications.Winning.GET_SPINE_DATA,{spineInfo:e}),e.atlasData&&e.atlasData[0]&&(this.viewComponent.setupSpine(e.atlasData[0]),this.hasSpine=!0)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.NgsMwAztecGoldBackgroundNames.PLAY_TRANSITION_ANIMATION,this.playTransitionAnimation.bind(this))},e.prototype.playTransitionAnimation=function(t){this.hasSpine?this.viewComponent.playIntro(t.body.callbackIntroClose):t.body.callbackIntroClose.call(null)},e}(s.AbstractMediator);e.NgsMwAztecGoldIntroTransitionMediator=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(35),r=i(4),l=i(74),c=i(8),u=i(88),h=PIXI.spine.Spine,p=PIXI.Point,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.POS_DESKTOP=new p(792,360),e.SCALE_DESKTOP=.5,e.POS_LANDSCAPE=new p(792,360),e.SCALE_LANDSCAPE=.5,e.POS_PORTRAIT=new p(792,792),e.SCALE_PORTRAIT=.55,e}return o(e,t),e.prototype.setupSpine=function(t){var e=this;this.spine=new h(t.spineData),this.spine.name="intro-anim-spine",this.spine.skeleton.setToSetupPose(),this.spine.update(0),this.spine.scale.set(.5),this.spine.autoUpdate=!1,this.spine.state.addListener({complete:function(){a.SpineManager.getInstance().removeSpine(e.spine),e.spine.removeAllListeners(),e.display.removeChild(e.spine),e.display.visible=!1,e.spine=null}}),this.display.interactive=!0,this.positionIntro()},e.prototype.playIntro=function(t){this.spine&&(this.display.visible=!0,this.spine.state.setAnimation(0,l.NgsMwAztecGoldIntroTransitionAnimations.ANIMATION,!1),this.display.addChild(this.spine),a.SpineManager.getInstance().addSpine(this.spine),this.playSound(u.NgsMwAztecGoldSoundNames.INTRO_ANIMATION),this.spine.state.addListener({complete:function(){t.call(null)}}))},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this.positionIntro()},e.prototype.positionIntro=function(){this.spine&&(r.Device.instance().mobile?r.Device.isLandscape()?(this.spine.x=this.POS_LANDSCAPE.x,this.spine.y=this.POS_LANDSCAPE.y,this.spine.scale.set(this.SCALE_LANDSCAPE)):(this.spine.x=this.POS_PORTRAIT.x,this.spine.y=c.SceneManager.getScreenHeight/2,this.spine.scale.set(this.SCALE_PORTRAIT)):(this.spine.x=this.POS_DESKTOP.x,this.spine.y=this.POS_DESKTOP.y,this.spine.scale.set(this.SCALE_DESKTOP)))},e}(s.PixiView);e.NgsMwAztecGoldIntroTransitionView=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(934),r=i(935),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView("LogoView",[a.NgsMwAztecGoldLogoView,a.NgsMwAztecGoldLogoView,a.NgsMwAztecGoldLogoView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(r.NgsMwAztecGoldLogoMediator,"LogoView")},e}(s.AbstractModule);e.NgsMwAztecGoldLogoModule=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(18),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onRegister=function(){t.prototype.onRegister.call(this),this.freespinLogo=new a.ControllerContainer("freespinLogo",this.findMultipleChild("FreeSpins")),this.defaultLogo=new a.ControllerContainer("defaultLogo",this.findMultipleChild("Normal")),this.freespinLogo.visible=!1},e}(s.PixiView);e.NgsMwAztecGoldLogoView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.LOGO},enumerable:!0,configurable:!0}),e}(s.AbstractMediator);e.NgsMwAztecGoldLogoMediator=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(325),a=i(9),r=i(937),l=i(942),c=i(5),u=i(943),h=i(29),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView(a.MegawaysNames.MEGAWAYS_WHEELS_VIEW,[r.NgsMwAztecGoldWheelsView,r.NgsMwAztecGoldWheelsView,r.NgsMwAztecGoldWheelsView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(l.NgsMwAztecGoldWheelsMediator,a.MegawaysNames.MEGAWAYS_WHEELS_VIEW)},e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(c.States.END_GAME_PREPARE,u.NgsMwAztecGoldWheelsEndGameCommand),this.addCommand(h.AztecNotifications.SEND_SCATTER_VALUES_INITIAL,u.NgsMwAztecGoldWheelsEndGameCommand)},e}(s.MegawaysWheelsModule);e.NgsMwAztecGoldWheelsModule=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(326),a=i(938),r=i(939),l=i(941),c=i(331),u=i(101),h=PIXI.Graphics,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.playAnnounce=function(t,e,i,n){this.GMAPIShown||this.specialSymbolDisplay.startAnnounce(t,e,i,n[t],this.scatterValues)},e.prototype.startAnticipation=function(t,e){this.specialSymbolDisplay.startAnticipation(t,e,this.scatterValues),this.playSound(c.MegawaysSounds.ANTICIPATION,!0)},e.prototype.getWheel=function(t,e,i,n,o){var s=new a.NgsMwAztecGoldWheel(t,e,i,n,o);return s.bonusSymbol=this.slotGameConfig.bonusSymbol,s.wildSymbol=this.slotGameConfig.wildSymbol,s},e.prototype.setScatterValue=function(t){this.scatterValues=t,this.wheels.forEach((function(e,i){e.setScatterValues(t[i])}))},e.prototype.createSymbolsPool=function(){this.symbolsPool=new r.NgsMwAztecGoldSymbolsPool},e.prototype.createSpecialSymbolDisplay=function(){this.specialSymbolDisplay=new l.NgsMwAztecGoldSpecialSymbolsDisplay(this.slotGameConfig),this.display.addChild(this.specialSymbolDisplay)},e.prototype.createMask=function(){var t=u.MegawaysWheelsUtils.getMaskBounds(this.wheelAnimationConfig,this.wheelSettings.eplSettings.maskOffsetRect);this.wheelsMask=new h,this.wheelsMask.beginFill(0),this.wheelsMask.drawRect(t.x,t.y,t.width,t.height-1),this.display.addChild(this.wheelsMask)},e}(s.MegawaysWheelsView);e.NgsMwAztecGoldWheelsView=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusSymbol=12,e.wildSymbol=11,e}return o(e,t),e.prototype.setSymbols=function(e){t.prototype.setSymbols.call(this,e),this.spinning||this.checkResultScatters()},e.prototype.startCascade=function(e,i,n){void 0===n&&(n=0);var o=t.prototype.startCascade.call(this,e,i,n);return this.checkResultScatters(),o},e.prototype.doStop=function(){t.prototype.doStop.call(this),this.cascading||this.checkResultScatters()},e.prototype.checkResultScatters=function(){var t=this;this.resultSymbols.forEach((function(e,i){e.symbolId==t.bonusSymbol&&e.setScatterSymbol(t.scatterValues[t.numRows-i-1])}))},e.prototype.setScatterValues=function(t){this.scatterValues=t},e.prototype.addRandomSymbol=function(){var t=Math.floor(this.randomSymbolPool.length*Math.random());if(0==this.wheelId||5==this.wheelId)for(;this.randomSymbolPool[t]+1==this.wildSymbol;)t=Math.floor(this.randomSymbolPool.length*Math.random());var e=this.addNewSymbol(this.randomSymbolPool[t]+1);return e.symbolId==this.bonusSymbol&&e.setScatterSymbol(Math.ceil(5*Math.random())),e},e}(i(327).MegawaysWheel);e.NgsMwAztecGoldWheel=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(329),a=i(940),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.createSymbolDisplay=function(){return new a.NgsMwAztecGoldWheelSymbolDisplay},e}(s.MegawaysSymbolsPool);e.NgsMwAztecGoldSymbolsPool=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(157),a=i(24),r=i(79),l=PIXI.Container,c=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.setScatterSymbol=function(t){this.cashValueContainer||(this.cashValueContainer=new l,this.cashValueContainer.name="cashValue",this.cashValue=new r.MegawaysBitmapValue(this.cashValueContainer,1.1,.8,1,a.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX)),this.addChild(this.cashValueContainer),this.cashValueContainer.visible=!0,this.cashValue.updateBitmapValue(t,"",0,"X"),this.cashValueContainer.scale.x=this.cashValueContainer.scale.y=.5/r.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE},e.prototype.clear=function(){t.prototype.clear.call(this),this.cashValueContainer&&this.cashValueContainer.parent&&this.cashValueContainer.parent.removeChild(this.cashValueContainer),this.imgJackpot&&this.imgJackpot.parent&&this.imgJackpot.parent.removeChild(this.imgJackpot)},e}(s.MegawaysSymbolDisplay);e.NgsMwAztecGoldWheelSymbolDisplay=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(330),a=i(79),r=i(24),l=PIXI.Container,c=PIXI.Point,u=function(t){function e(i){var n=t.call(this,i)||this;n.scatterValuesPool=[],n.STORE_SCATTER_VALUE="scatterValue";for(var o=0;o<n.CASH_VALUE_POOL_LENGTH;o++)n.scatterValuesPool.push(new a.MegawaysBitmapValue(new l,1.1,.8,1,r.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX));return e.shiftOffsets.set(3,new c(.3,.3)),e.shiftOffsets.set(4,new c(.3,.3)),e.shiftOffsets.set(5,new c(.3,.3)),e.shiftOffsets.set(6,new c(.3,.3)),e.shiftOffsets.set(7,new c(.3,.3)),n}return o(e,t),e.prototype.playSymbolAt=function(i,n,o,s,r,l){var c=t.prototype.playSymbolAt.call(this,i,n,o,s,r),u=this.scatterValuesPool.pop();c[this.STORE_SCATTER_VALUE]=u,c.addChild(u.container),u.updateBitmapValue(l,"",0,"X"),u.container.scale.set(1/a.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE);var h=e.shiftOffsets.get(o);return c.x-=c.scale.x+h.x,c.y-=c.scale.x+h.y,u.container.x=1+h.x/c.scale.x,u.container.y=1+h.y/c.scale.x,c},e.prototype.startAnticipation=function(t,e,i){this.stopAnnounceAnimations();for(var n=0;n<t[0].length;n++)for(var o=0;o<t.length;o++)this.anticipationSettings.spineConfig.has(t[o][n])&&this.anticipationSpines.push(this.playSymbolAt(n,o,e[n],this.anticipationSettings.spineConfig.get(t[o][n]).get(e[n])[0],!0,i[n][o]))},e.prototype.startAnnounce=function(t,e,i,n,o){this.announceSpines.push(this.playSymbolAt(t,e,n,this.announceSettings.spineConfig.get(i).get(n)[0],!1,o[t][e]))},e.prototype.spineComplete=function(e,i){e[this.STORE_SCATTER_VALUE]&&(this.scatterValuesPool.push(e[this.STORE_SCATTER_VALUE]),e.removeChild(e[this.STORE_SCATTER_VALUE]),e[this.STORE_SCATTER_VALUE]=null),t.prototype.spineComplete.call(this,e,i)},e.shiftOffsets=new Map,e}(s.MegawaysSpecialSymbolDisplay);e.NgsMwAztecGoldSpecialSymbolsDisplay=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(155),a=i(29),r=i(33),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isInModifier=!1,e}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.AztecNotifications.SHOW_REEL_MODIFIER,this.showModifier.bind(this)),this.addNotification(a.AztecNotifications.SEND_SCATTER_VALUES,this.onSendScatterValues.bind(this))},e.prototype.onSendScatterValues=function(t){this.viewComponent.setScatterValue(t.body)},e.prototype.postRegister=function(){for(t.prototype.postRegister.call(this);this.megawaysProxy.wheelSettings.eplSettings.randomWeights.length>this.slotGameConfig.bonusSymbol;)this.megawaysProxy.wheelSettings.eplSettings.randomWeights.pop();this.view.setRandomSymbolsWeights(this.megawaysProxy.wheelSettings.eplSettings.randomWeights)},e.prototype.showModifier=function(t){var e=this;this._isInModifier=t.body.isMaxWaysModifier||t.body.isBonusAddModifier,this.view.setSpinDuration(100),t.body.isBonusAddModifier&&(this.bonusSymbolRandomWeight||(this.bonusSymbolRandomWeight=this.megawaysProxy.wheelSettings.eplSettings.randomWeights.concat(),this.bonusSymbolRandomWeight[this.slotGameConfig.bonusSymbol-1]+=20),TweenMax.delayedCall(2,(function(){e.view.setRandomSymbolsWeights(e.bonusSymbolRandomWeight)})))},e.prototype.hideModifier=function(t){this.view.resetRandomSymbolsWeights()},e.prototype.onStopWheelAnimation=function(t){r.isNil(t)||r.isNil(t.body)||r.isNil(t.body.skipUIAction)||!0===t.body.skipUIAction&&(this.skipWheelCompleteUIAction=!0),this._isInModifier?(this.view.stopWheelSpinIndividual(.2),this._isInModifier=!1):this.view.stopWheelSpin(),this.view.resetRandomSymbolsWeights()},Object.defineProperty(e.prototype,"aztecView",{get:function(){return this.view},enumerable:!0,configurable:!0}),e.prototype.onWinningAnimationsStart=function(e){var i=e.body.animationStep;i.symbols&&i.symbols[0]&&0===i.symbols[0].length&&t.prototype.onWinningAnimationsStart.call(this,e)},e}(s.MegawaysWheelsMediator);e.NgsMwAztecGoldWheelsMediator=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(5),r=i(33),l=i(1),c=i(9),u=i(29),h=i(56),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){var e;(this.initVars(),t.name==u.AztecNotifications.SEND_SCATTER_VALUES_INITIAL)?(e=this.connectionProxy.getServerData(a.States.INITIAL).lastGame.endGame).symbolsMatrix=h.SymbolUtil.extractSymbols(e.symbols):e=this.connectionProxy.getServerData(a.States.END_GAME);var i=[];if(e.gameSpecific)for(var n=e.gameSpecific.scatterValues.split("-"),o=n.length/e.symbolsMatrix[0].length,s=e.symbolsMatrix[0].length,l=0;l<s;l++){i[l]=r.fill(new Array(o),0);for(var c=0,p=o-1;p>=0;p--){var d=parseInt(n[l+p*s]);d>0&&this.setScatterValue(d,c++,l,i[l],e.symbolsMatrix)}}else for(var _=0;_<e.symbolsMatrix[0].length;_++)i.push(r.fill(new Array(e.symbolsMatrix.length),0));this.sendGlobalNotification(u.AztecNotifications.SEND_SCATTER_VALUES,i)},e.prototype.setScatterValue=function(t,e,i,n,o){for(var s=0,a=o.length-1;a>=0;a--)o[a][i]==this.slotGameConfig.bonusSymbol&&s++==e&&(n[a]=t)},e.prototype.initVars=function(){r.isUndefined(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),this.slotGameConfig||(this.slotGameConfig=this.settings.getValue(c.MegawaysNames.GAME_CONFIG))},e}(s.Controller);e.NgsMwAztecGoldWheelsEndGameCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(22),a=i(945),r=i(5),l=i(946),c=i(947),u=i(29),h=i(948),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(r.States.END_GAME_PREPARE,a.NgsMwAztecGoldModifiersEndGameCommand)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.addView(u.AztecViews.MODIFIERS_VIEW,[l.NgsMwAztecGoldModifierView,l.NgsMwAztecGoldModifierView,l.NgsMwAztecGoldModifierView])},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.addMediator(c.NgsMwAztecGoldModifierMediator,u.AztecViews.MODIFIERS_VIEW)},e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.addProxy(u.AztecProxies.MODIFIER_PROXY,h.NgsMwAztecGoldModifiersProxy)},e}(s.AbstractModule);e.NgsMwAztecGoldModifierModule=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),a=i(9),r=i(29),l=i(2),c=i(126),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){if(this.megawaysProxy||(this.megawaysProxy=this.retrieveGlobalProxy(a.MegawaysNames.MEGAWAYS_PROXY,a.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),this.modifierProxy||(this.modifierProxy=this.retrieveProxy(r.AztecProxies.MODIFIER_PROXY)),this.slotGameConfig||(this.slotGameConfig=this.settings.getValue(a.MegawaysNames.GAME_CONFIG)),this.modifierProxy.allowStopSpin=!0,0==this.megawaysProxy.cascadeStage){var e=this.getModifiers(this.megawaysProxy.cascadeStates[this.megawaysProxy.cascadeStates.length-1]);(e.isBonusAddModifier||e.isMaxWaysModifier)&&(this.sendGlobalNotification(r.AztecNotifications.SHOW_REEL_MODIFIER,e),this.sendGlobalNotification(l.Notifications.Global.UPDATE_USER_INTERFACE,r.AztecUiActions.MODIFIER_SHOWING),this.modifierProxy.allowStopSpin=!1)}this.modifierProxy.stopSpinTriggered&&this.modifierProxy.allowStopSpin&&this.sendGlobalNotification(l.Notifications.Wheels.STOP_WHEEL_ANIMATION)},e.prototype.getModifiers=function(t){var e=this,i={},n=t.gameSpecific;if(i.isBonusAddModifier=n&&"1"==n.isBonusAddModifier,i.isMaxWaysModifier=n&&"1"==n.isMaxWaysModifier,i.isBonusAddModifier){var o=t.symbolsMatrix.reduce((function(t,i){return i.reduce((function(t,i){return i==e.slotGameConfig.bonusSymbol?t+1:t}),t)>=5?c.NgsMwAztecGoldFakeBonusAmounts.MIN_RATIO:c.NgsMwAztecGoldFakeBonusAmounts.MAX_RATIO}),0);i.numBonusAdded=Math.random()>o?c.NgsMwAztecGoldFakeBonusAmounts.MAX_VALUE:c.NgsMwAztecGoldFakeBonusAmounts.MIN_VALUE}return i},e}(s.Controller);e.NgsMwAztecGoldModifiersEndGameCommand=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(70),r=i(35),l=i(79),c=i(74),u=i(29),h=i(126),p=i(15),d=i(8),_=i(4),f=i(88),y=PIXI.Container,m=PIXI.spine.Spine,N=PIXI.Point,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modifierFinished=new a.Signal,e.isShaking=!1,e._previousSunDiskValue=-1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.sundiscNumbersHolder=new y,this.sundiscNumbers=new l.MegawaysBitmapValue(this.sundiscNumbersHolder,.8,1,1),this.sundiscNumbers.substituteImages=!1,this.sundiscNumbersHolder.y=-25,this.featureHolder=new y,this.featureHolder.x=u.AztecAssetPositions.BIG_SPINES_X,this.featureHolder.y=u.AztecAssetPositions.BIG_SPINES_Y,this.maxWaysLogo=p.TextureUtil.instance().createImageFromTexture("Max_Ways.png"),this.maxWaysGlow=p.TextureUtil.instance().createImageFromTexture("MW_Glow.png"),this.maxWaysGlow.scale.set(2),this.maxWaysLogo.anchor.set(.5),this.maxWaysGlow.anchor.set(.5),this._gameScene=d.SceneManager.currentScene,this._gameScenePos=new N(this.getXPosition(),this._gameScene.y)},e.prototype.showMaxWays=function(){var t=this;this.display.visible=!0,this.shakeScreen(),this.featureHolder.addChild(this.maxWaysGlow),this.featureHolder.addChild(this.maxWaysLogo),this.display.addChild(this.featureHolder),this.featureHolder.alpha=0,this.featureHolder.scale.set(.5);var e=h.NgsMwAztecGoldModifierTimings.MAX_WAY_MAX_SCALE;this.playSound(f.NgsMwAztecGoldSoundNames.MEGAWAYS_EARTHQUAKE_SOUND),this.playSound(f.NgsMwAztecGoldSoundNames.MAX_MEGAWAYS_AMBIANCE,!0),TweenMax.to(this.featureHolder,h.NgsMwAztecGoldModifierTimings.MAX_WAY_TWEEN_IN,{alpha:1,pixi:{scaleX:e,scaleY:e},onComplete:function(){TweenMax.to(t.featureHolder,h.NgsMwAztecGoldModifierTimings.MAX_WAY_LOOP_TIME,{pixi:{scaleX:1,scaleY:1},repeat:h.NgsMwAztecGoldModifierTimings.MAX_WAY_LOOPS,yoyo:!0,ease:Quad.easeInOut,onComplete:function(){TweenMax.delayedCall(1,(function(){t.modifierOver(),t.stopShakeScreen(),t.stopSound(f.NgsMwAztecGoldSoundNames.MAX_MEGAWAYS_AMBIANCE,5),t.dispatchSignal(h.NgsMwAztecGoldModifierSignals.FINISH_SUN_DISCS)})),TweenMax.to(t.featureHolder,h.NgsMwAztecGoldModifierTimings.BONUS_TWEEN_OUT,{alpha:0,pixi:{scaleX:2,scaleY:2},ease:Back.easeIn,onComplete:function(){t.removeSpine(t.featuresAnimations),t.featureHolder.removeChildren()}})}})}})},e.prototype.showBonuses=function(t,e){var i=this;this.display.visible=!0,this.playSound(f.NgsMwAztecGoldSoundNames.SUN_DISK_APPEAR),this.featuresAnimations.state.setAnimation(0,c.NgsMwAztecGoldFeatureAnimations.SUN_DISK_LOOP,!0),this.featuresAnimations.state.update(0),r.SpineManager.getInstance().addSpine(this.featuresAnimations),this.featureHolder.addChild(this.featuresAnimations),this.featureHolder.addChild(this.sundiscNumbersHolder),this.display.addChild(this.featureHolder),this.featureHolder.alpha=0,this.featureHolder.scale.set(.5),TweenMax.to(this.featureHolder,h.NgsMwAztecGoldModifierTimings.BONUS_TWEEN_IN,{alpha:1,pixi:{scaleX:1,scaleY:1},delay:e,ease:Back.easeOut}),this.numSundiscs=0,TweenMax.to(this,h.NgsMwAztecGoldModifierTimings.BONUS_COUNT_UP,{numSundiscs:t,delay:e,onComplete:function(){i.stopSound(f.NgsMwAztecGoldSoundNames.SUN_DISK_INCREMENT),i.playSound(f.NgsMwAztecGoldSoundNames.SUN_DISK_INCREMENT_STOP),i.stopTween=TweenMax.delayedCall(h.NgsMwAztecGoldModifierTimings.BONUS_DELAY,(function(){i.playSound(f.NgsMwAztecGoldSoundNames.SUN_DISK_DISSAPPEAR),TweenMax.to(i.featureHolder,h.NgsMwAztecGoldModifierTimings.BONUS_TWEEN_OUT,{alpha:0,pixi:{scaleX:.5,scaleY:.5},ease:Back.easeIn,onComplete:function(){i.removeSpine(i.featuresAnimations),i.featureHolder.removeChild(i.sundiscNumbersHolder),i.dispatchSignal(h.NgsMwAztecGoldModifierSignals.FINISH_SUN_DISCS)}}),i.stopTween=TweenMax.delayedCall(3,i.modifierOver.bind(i))}))}})},e.prototype.removeSpine=function(t){t.state.clearListeners(),r.SpineManager.getInstance().removeSpine(t),t.parent&&t.parent.removeChild(t)},Object.defineProperty(e.prototype,"numSundiscs",{get:function(){return this._numSundiscs},set:function(t){this._numSundiscs=t,this._previousSunDiskValue!==Math.round(this._numSundiscs)&&this.playSound(f.NgsMwAztecGoldSoundNames.SUN_DISK_INCREMENT,!1),this._previousSunDiskValue=Math.round(this._numSundiscs),this.sundiscNumbers.updateBitmapValue(Math.round(t))},enumerable:!0,configurable:!0}),e.prototype.modifierOver=function(){this.display.visible=!1,this.modifierFinished.dispatch()},e.prototype.hideModifier=function(){this.display.visible=!1,TweenMax.killTweensOf(this),TweenMax.killTweensOf(this.featureHolder),this.removeSpine(this.featuresAnimations),this.sundiscNumbersHolder.parent&&this.sundiscNumbersHolder.parent.removeChild(this.sundiscNumbersHolder),this.stopTween&&this.stopTween.kill()},e.prototype.sendFeaturesSpine=function(t){this.featuresAnimations=new m(t.spineData),this.featuresAnimations.skeleton.setToSetupPose(),this.featuresAnimations.update(0),this.featuresAnimations.scale.set(.5),this.featuresAnimations.autoUpdate=!1},e.prototype.shakeScreen=function(){var t=this;this._shakeInterval=setInterval((function(){t.shakeCanvas()}),e.SHAKE_FREQUENCY),this.isShaking=!0},e.prototype.stopShakeScreen=function(){clearInterval(this._shakeInterval),this._gameScene.x=this.getXPosition(),this._gameScene.y=0},e.prototype.shakeCanvas=function(){Math.random()>.5&&(this._gameScene.x=this.getXPosition()+Math.random()*e.SHAKE_DISTANCE,this._gameScene.y=Math.random()*e.SHAKE_DISTANCE)},e.prototype.getXPosition=function(){var t=0;return(_.Device.instance().mobile||_.Device.instance().tablet)&&_.Device.isPortrait()&&(t=d.SceneManager.X_SCENE_ALIGNMENT_OFFSET),t},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),this._gameScenePos.x=this.getXPosition()},e.SHAKE_FREQUENCY=50,e.SHAKE_DISTANCE=5,e}(s.PixiView);e.NgsMwAztecGoldModifierView=S},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(1),r=i(29),l=i(2),c=i(74),u=i(7),h=i(36),p=i(126),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return a.Names.Layers.PROGRESSIVE},enumerable:!0,configurable:!0}),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.view.modifierFinished.add(this.onModifierFinished.bind(this)),this.sendFeaturesSpine(),this.modifierProxy=this.retrieveGlobalProxy(r.AztecProxies.MODIFIER_PROXY,r.AztecModules.MODIFIER_MODULE)},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.AztecNotifications.SHOW_REEL_MODIFIER,this.showModifier.bind(this)),this.addNotification(l.Notifications.Global.STOP_SPIN,this.hideModifier.bind(this))},e.prototype.addSignalListeners=function(){var e=this;t.prototype.addSignalListeners.call(this),this.addListenerToSignal(p.NgsMwAztecGoldModifierSignals.FINISH_SUN_DISCS,(function(){e.sendGlobalNotification(p.NgsMwAztecGoldModifierSignals.FINISH_SUN_DISCS)})),this.addListenerToSignal(p.NgsMwAztecGoldModifierSignals.FINISH_MAX_WAY,(function(){e.sendGlobalNotification(p.NgsMwAztecGoldModifierSignals.FINISH_MAX_WAY)}))},e.prototype.showModifier=function(t){var e=this,i=t.body,n=Math.max(0,p.NgsMwAztecGoldModifierTimings.SHIMMER_DELAY-(Date.now()-this.modifierProxy.spinTime)/1e3)+p.NgsMwAztecGoldModifierTimings.MODIFIER_BEGIN;i.isMaxWaysModifier?TweenMax.delayedCall(n,(function(){e.view.showMaxWays()})):i.isBonusAddModifier&&TweenMax.delayedCall(n,(function(){e.view.showBonuses(i.numBonusAdded,p.NgsMwAztecGoldModifierTimings.BRING_IN_DISC)}))},e.prototype.sendFeaturesSpine=function(){var t={json:c.NgsMwAztecGoldFeatureAnimations.FILE_NAME,atlasData:null};this.sendGlobalNotification(l.Notifications.Winning.GET_SPINE_DATA,{spineInfo:t}),this.view.sendFeaturesSpine(t.atlasData[0])},e.prototype.onModifierFinished=function(){this.sendGlobalNotification(l.Notifications.Wheels.STOP_WHEEL_ANIMATION),this.sendNotification(u.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:h.UserInterfaceAction.STOP_SPIN,activate:!0})},e.prototype.hideModifier=function(){this.modifierProxy.allowStopSpin&&this.view.hideModifier()},Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e}(s.AbstractMediator);e.NgsMwAztecGoldModifierMediator=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i(13).Proxy);e.NgsMwAztecGoldModifiersProxy=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(338),a=i(7),r=i(950),l=i(951),c=i(4),u=i(952),h=i(29),p=i(953),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.UINotifications.REGISTER_USER_INTERFACE_BEHAVIOR,r.NgsMwAztecGoldRegisterUserBehaviourCommand)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator(h.ViewNames.USER_INTERFACE,u.NgsMwAztecGoldUserInterfaceMediatorMobile,c.Device.CLASS_INDEX_MOBILE),this.replaceMediator(h.ViewNames.USER_INTERFACE,p.NgsMwAztecGoldUserInterfaceMediatorDesktop,c.Device.CLASS_INDEX_DESKTOP)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView(h.ViewNames.USER_INTERFACE,l.NgsMwAztecGoldMobileUserInterfaceView,c.Device.CLASS_INDEX_MOBILE)},e}(s.MegawaysUserInterfaceModule);e.NgsMwAztecGoldUserInterfaceModule=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(339),a=i(7),r=i(125),l=i(36),c=i(29),u=i(10),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerActions=function(){t.prototype.registerActions.call(this),this.registerAction(c.AztecUiActions.MODIFIER_SHOWING,this.onModifierShownAction.bind(this)),this.registerAction(c.AztecUiActions.BIG_WIN_ALLOW_SKIP_ACTION,this.bigWinSkipEnabled.bind(this)),this.registerAction(c.AztecUiActions.STATIC_WIN_SUMMARY,this.staticWinSummary.bind(this))},e.prototype.onModifierShownAction=function(){this.sendNotification(a.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1),this.sendNotification(a.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(a.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.ENABLE)]),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!1})},e.prototype.onCascadeSummaryStateAction=function(){this.sendNotification(a.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1);var t=[this.setButtonBehaviour(a.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.SKIP,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE)];this.validationProxy.validateAtLeastOne(u.ValidationTypes.AUTOPLAY_IN_PROGRESS)&&t.push(this.setButtonBehaviour(a.UIButtonsNames.STOP_AUTO_PLAY,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE),this.setButtonBehaviour(a.UIButtonsNames.AUTO_PLAY,r.ButtonStateVO.UNCHANGED,r.ButtonStateVO.DISABLE)),this.sendNotification(a.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,t),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!1})},e.prototype.staticWinSummary=function(){this.sendNotification(a.UINotifications.ENABLE_USER_INTERFACE_BUTTONS,!1);var t=[this.setButtonBehaviour(a.UIButtonsNames.SPIN,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.STOP_SPIN,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.DISABLE),this.setButtonBehaviour(a.UIButtonsNames.SKIP,r.ButtonStateVO.INVISIBLE,r.ButtonStateVO.DISABLE)];this.sendNotification(a.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,t),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!1}),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SPIN,activate:!1})},e.prototype.bigWinSkipEnabled=function(){this.sendNotification(a.UINotifications.UPDATE_USER_INTERFACE_BUTTONS,[this.setButtonBehaviour(a.UIButtonsNames.SKIP,r.ButtonStateVO.VISIBLE,r.ButtonStateVO.ENABLE)]),this.sendNotification(a.UINotifications.ACTIVATE_USER_SHORTCUT,{userAction:l.UserInterfaceAction.SKIP,activate:!0})},e}(s.MegawaysRegisterUserBehaviourCommand);e.NgsMwAztecGoldRegisterUserBehaviourCommand=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(320),a=i(18),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.gameplayButtons=new a.ControllerContainer("gameplayButtonsContainer",this.findMultipleChild("gameplayButtonsContainer"))},e.prototype.hideMobileSpinButton=function(){var t=this;this.gameplayButtons&&TweenMax.to(this.gameplayButtons.componentLandscape,.5,{alpha:0,onComplete:function(){t.gameplayButtons.componentLandscape.visible=!1}})},e.prototype.showMobileSpinButton=function(){this.gameplayButtons.componentLandscape&&(this.gameplayButtons.componentLandscape.visible=!0,TweenMax.to(this.gameplayButtons.componentLandscape,.5,{alpha:1}))},e}(s.SlotMobileUserInterfaceViewPixi);e.NgsMwAztecGoldMobileUserInterfaceView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(317),a=i(24),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.MegawaysCashRespinsServerData.SETUP_RESPIN_WHEELS,this.hideSpinButton.bind(this)),this.addNotification(a.MegawaysCashRespinsNotifications.CLEAN_RESPIN_WHEELS,this.showSpinButton.bind(this))},e.prototype.hideSpinButton=function(){this.viewComponent.hideMobileSpinButton()},e.prototype.showSpinButton=function(){this.viewComponent.showMobileSpinButton()},e}(s.SlotUserInterfaceMediatorMobilePixi);e.NgsMwAztecGoldUserInterfaceMediatorMobile=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(340),a=i(61),r=i(29),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.cashRespinsProxy=this.retrieveGlobalProxy(a.MegawaysCashRespinsProxy.NAME,r.AztecModules.RESPINS_MODULE)},e.prototype.updateDisplayValues=function(t){this.view.isInCascades=!this.megawaysProxy.cascadesFinished||this.cashRespinsProxy.isInRespinsCountup,this.view.updateDisplayValues(t.body)},e}(s.MegawaysUserInterfaceMediatorDesktop);e.NgsMwAztecGoldUserInterfaceMediatorDesktop=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};e.MegawaysCashRespinsVo=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(332),a=i(2),r=i(956),l=i(957),c=i(5),u=i(958),h=i(959),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(c.States.INITIAL,u.NgsMwAztecGoldInitialCommand),this.replaceCommand(a.Notifications.Global.SPIN,r.NgsMwAztecGoldSpinCommand),this.replaceCommand(a.Notifications.Global.STOP_SPIN,l.NgsMwAztecGoldStopSpinCommand),this.replaceCommand(c.States.END_GAME,h.NgsMwEndGameCommand)},e}(s.MegawaysLogicModule);e.NgsMwAztecGoldLogicModule=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(29),a=i(334),r=i(2),l=i(36),c=i(1),u=i(5),h=c.Names.Modules,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){this.modifierProxy||(this.modifierProxy=this.retrieveGlobalProxy(s.AztecProxies.MODIFIER_PROXY,s.AztecModules.MODIFIER_MODULE)),this.stateMachineProxy||(this.stateMachineProxy=this.retrieveGlobalProxy(c.Names.Proxies.STATE_MACHINE,h.GAME_SETUP)),this.stateMachineProxy.state!=u.States.INTRO_FEATURES&&(this.modifierProxy.allowStopSpin=this.modifierProxy.stopSpinTriggered=!1,this.modifierProxy.spinTime=Date.now(),t.prototype.execute.call(this,e),this.sendGlobalNotification(r.Notifications.Global.ENABLE_USER_SHORTCUT,{key:l.UserInterfaceAction.STOP_SPIN,enable:!0}))},e}(a.MegawaysSpinCommand);e.NgsMwAztecGoldSpinCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(265),a=i(29),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.handelUserInteraction(),this.modifierProxy||(this.modifierProxy=this.retrieveGlobalProxy(a.AztecProxies.MODIFIER_PROXY,a.AztecModules.MODIFIER_MODULE)),this.modifierProxy.stopSpinTriggered=!0,this.modifierProxy.allowStopSpin&&this.stopWheelsAnimations()},e}(s.StopSpinCommand);e.NgsMwAztecGoldStopSpinCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(29),a=i(335),r=i(5),l=i(33),c=i(56),u=i(9),h=i(61),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){this.initVars(),this.sendGlobalNotification(s.AztecNotifications.SEND_SCATTER_VALUES_INITIAL);var i=this.retrieveGlobalProxy(u.MegawaysNames.MEGAWAYS_PROXY,u.MegawaysNames.MEGAWAYS_WHEELS_MODULE);i.initted||i.initProxy(this.slotGameConfig);var n=this.retrieveGlobalProxy(h.MegawaysCashRespinsProxy.NAME,s.AztecModules.RESPINS_MODULE),o=this._connectionProxy.getServerData(r.States.INITIAL);if(o.lastGame){var a=o.lastGame.endGame;i.rowsPerWheel=l.fill(new Array(this.slotGameConfig.wheelsCnt),i.maxRowsPerWheel),a.symbolsMatrix=c.SymbolUtil.extractSymbols(a.symbols),a.symbolsMatrix.forEach((function(t,e){t.forEach((function(t,e){-1==t&&i.rowsPerWheel[e]--}))})),n.processEndGame(a)}t.prototype.execute.call(this,e)},e}(a.MegawaysInitialCommand);e.NgsMwAztecGoldInitialCommand=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.hasFeatureWithCelebration=function(t){var e=t.gameSpecific;return!(e&&e.bonusGameInProgress&&"1"===e.bonusGameInProgress)},e}(i(333).MegawaysEndGameCommand);e.NgsMwEndGameCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(3),r=i(10),l=i(2),c=i(1),u=i(5),h=i(39),p=i(24),d=i(61),_=i(6),f=i(9),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DEBUG_COMMAND="770",e}return o(e,t),e.prototype.execute=function(t){this.initVars(),this.injectStatesIntoFSM(),this.addServerActions(),this.addCallbackToServerResponseChain(),this.registerValidations()},e.prototype.initVars=function(){s.isUndefined(this.serverResponseProxy)&&(this.serverResponseProxy=this.retrieveGlobalProxy(c.Names.Proxies.SERVER_RESPONSE,c.Names.Modules.CONNECTION)),s.isUndefined(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isUndefined(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isUndefined(this.cashRespinsProxy)&&(this.cashRespinsProxy=this.retrieveProxy(d.MegawaysCashRespinsProxy.NAME)),s.isNil(this.serverActionsProxy)&&(this.serverActionsProxy=this.retrieveGlobalProxy(c.Names.Proxies.SERVER_ACTIONS,c.Names.Modules.CONNECTION)),s.isNil(this.allowCheatTool)&&(this.allowCheatTool=this.settings.getValue("ALLOW_CHEAT_TOOL")),s.isNil(this.cheatToolProxy)&&this.allowCheatTool&&(this.cheatToolProxy=this.retrieveGlobalProxy(c.Names.Proxies.CHEAT_TOOL,c.Names.Modules.CHEAT_TOOL))},e.prototype.addServerActions=function(){var t=this;this.serverActionsProxy.registerServerAction(p.MegawaysCashRespinsServerData.SERVER_ACTION_SEND_RESPINS,(function(){if(t.allowCheatTool&&!s.isNil(t.cheatToolProxy)&&(t.cheatToolProxy.isDebugCommandPresent()||t.cheatToolProxy.isSpecialDebugCommandPresent())){var i=void 0;if(t.cheatToolProxy.isSpecialDebugCommandPresent()){var n=t.cheatToolProxy.getDebugSpecialCommand();t.cheatToolProxy.isDebugCommandPresent()?(i=[t.DEBUG_COMMAND,t.cheatToolProxy.getDebugCommand().replace(/\-1/g,"0")].concat(n),_.Log.info("Sending Debug command + special"+i)):(i=n,_.Log.info("Sending only SPECIAL Debug command "+i))}else i=[t.DEBUG_COMMAND,t.cheatToolProxy.getDebugCommand().replace(/\-1/g,"0")],_.Log.info("Sending Debug command "+i);i=i.concat([e.CMD_RESPINS]),t.connectionProxy.send(i)}else t.connectionProxy.send([e.CMD_RESPINS])}))},e.prototype.addCallbackToServerResponseChain=function(){this.serverResponseProxy.insertDataHandlerWithPriority(u.States.END_GAME,this.parseCashRespinsResponse.bind(this),u.States.END_GAME)},e.prototype.registerValidations=function(){this.validationProxy.registerValidationRequest(r.ValidationTypes.BET_VALIDATION,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(r.ValidationTypes.SUBSTRACT_BET_VALIDATION,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_RESUME_AUTO_VALIDATION,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(r.ValidationTypes.RESPINS_IN_PROGRESS,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(r.ValidationTypes.RESPINS_ENDED,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(r.ValidationTypes.AUTOPLAY_PAUSED,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS),this.validationProxy.registerValidationRequest(r.ValidationTypes.SPECIAL_FEATURE_BLOCKS_FREE_ROUNDS,p.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS)},e.prototype.parseCashRespinsResponse=function(t){this.cashRespinsProxy.reset(),this.cashRespinsProxy.processEndGame(t.endGame)},e.prototype.injectStatesIntoFSM=function(){var t=[];t.push(new h.StateVO(u.States.WAIT_FOR_NEXT_ACTION,u.States.WAIT_FOR_NEXT_ACTION,[p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP])),t.push(new h.StateVO(u.States.FREE_ROUNDS_START,u.States.FREE_ROUNDS_START,[p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP])),t.push(new h.StateVO(u.States.FREE_ROUNDS_END_GAME_ENABLE_UI,u.States.FREE_ROUNDS_END_GAME_ENABLE_UI,[p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP])),t.push(new h.StateVO(p.MegawaysCashRespinsStates.CASH_RESPINS_START_POPUP,p.MegawaysCashRespinsStates.CASH_RESPINS_START_POPUP,[u.States.END_GAME_DECISION,u.States.REROUTE_GAME])),t.push(new h.StateVO(p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP,p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP,[p.MegawaysCashRespinsStates.CASH_RESPINS,u.States.REROUTE_GAME])),t.push(new h.StateVO(p.MegawaysCashRespinsStates.CASH_RESPINS,p.MegawaysCashRespinsStates.CASH_RESPINS,[p.MegawaysCashRespinsStates.CASH_RESPINS_START_POPUP])),t.push(new h.StateVO(f.MegawaysNames.CASCADES_SUMMARY_STATE,f.MegawaysNames.CASCADES_SUMMARY_STATE,[p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP])),t.push(new h.StateVO(u.States.END_GAME_DECISION,u.States.END_GAME_DECISION,[p.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP])),this.sendGlobalNotification(l.Notifications.GameSetup.INJECT_FSM,t)},e.CMD_RESPINS="104",e}(a.Controller);e.MegawaysCashRespinsInitializeModuleCommand=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(3),r=i(5),l=i(132),c=i(2),u=i(7),h=i(1),p=i(24),d=i(61),_=i(9),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){this.initVars();var i=this.connectionProxy.getServerData(r.States.END_GAME),n=this.createEndGameAction(i);s.isUndefined(n)?(this.sendGlobalNotification(c.Notifications.SlotLogic.NO_ENDGAME_ACTION,e.END_GAME_ACTION_NAME),this.sendGlobalNotification(c.Notifications.SlotLogic.NO_ENDGAME_ACTION,e.END_GAME_RESTORE_ACTION_NAME)):(this.sendGlobalNotification(p.MegawaysCashRespinsNotifications.FEATURE_WIN),this.sendGlobalNotification(p.MegawaysCashRespinsNotifications.RESTORE_SHARE_SYMBOL_BITMAP_CONTAINER),this.sendGlobalNotification(c.Notifications.SlotLogic.ADD_ENDGAME_ACTION,n),this.sendGlobalNotification(c.Notifications.SlotLogic.NO_ENDGAME_ACTION,e.END_GAME_RESTORE_ACTION_NAME),this.sendGlobalNotification(c.Notifications.Winning.UPDATE_WINNINGS_SHOW_ALL,!0),this.sendGlobalNotification(c.Notifications.Winning.UPDATE_SHOW_ONE_CYCLE,!0))},e.prototype.createEndGameAction=function(t){var i;if(this.cashRespinsProxy.hasCashRespin(t)){(i=new l.EndGameActionDetailsVO).name=e.END_GAME_ACTION_NAME,i.startNotification=p.MegawaysCashRespinsNotifications.FEATURE_TRANSITION_IN,i.endNotification=p.MegawaysCashRespinsNotifications.FEATURE_COMPLETED,i.startChangeState=!1,i.sendImmediatelyEndGameEnableUI=!1,i.isComplete=!1,i.oneTimeOnly=!1;var n=this.connectionProxy.getServerData(r.States.INITIAL);if(s.isUndefined(n)){if(i.lines=[],this.megawaysProxy.cascadeStage==this.megawaysProxy.cascadeStates.length-1){var o=this.getLine(t);o.onlyShowAll=!0,o.skipIncrement=!0,o.featureRequest={},o.featureRequest.skipFiveOfAKindAnimation=!0,o.featureRequest.skipBigWinAnimation=!0,i.lines.push(o)}}else this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!1),this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,u.UpdateUIAction.DISABLE_ALL_BUTTONS)}return i},e.prototype.getLineRestore=function(t){var e={},i=t.gameSpecific;e.name="cashRespins";var n="";return s.forEach(i.scatterValues,(function(t){n+="0"!=t?"1":"0"})),e.highlight=i.scatterValues.split("-").map((function(){return"0"})).join(""),e},e.prototype.getLine=function(t){var e={},i=t[p.MegawaysCashRespinsServerData.GAME_SPECIFIC];e.name="cashRespins",e.infoBoxMessage=this.translations.getValue("oneByOneCashRespinsWin").replace("{1}",""+parseInt(i.bonusGameSpinLeft)),e.showAllMessage=this.translations.getValue("showAllCashRespins").replace("{1}",""+parseInt(i.bonusGameSpinLeft));var n=i.scatterValues.split("-"),o="";return s.forEach(n,(function(t){o+="0"===t?"0":"1"})),e.highlight=o,e},e.prototype.initVars=function(){s.isNil(this.cashRespinsProxy)&&(this.cashRespinsProxy=this.retrieveProxy(d.MegawaysCashRespinsProxy.NAME)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(h.Names.Proxies.VALIDATION,h.Names.Modules.LOADER)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION)),s.isNil(this.megawaysProxy)&&(this.megawaysProxy=this.retrieveGlobalProxy(_.MegawaysNames.MEGAWAYS_PROXY,_.MegawaysNames.MEGAWAYS_WHEELS_MODULE)),s.isUndefined(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(_.MegawaysNames.GAME_CONFIG))},e.END_GAME_ACTION_NAME="cashRespins",e.END_GAME_RESTORE_ACTION_NAME="cashRespinsRestore",e}(a.Controller);e.MegawaysCashRespinsEndGamePrepare=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(15),a=i(101),r=i(963),l=i(24),c=i(35),u=i(347),h=i(4),p=PIXI.Container,d=PIXI.Graphics,_=PIXI.Sprite,f=PIXI.spine.Spine,y=function(t){function e(i,n,o,a,c,u,y){var m=t.call(this)||this;m.isLooked=!1,m._spinningSymbols=[],m._symbolsPositionsValues=[],m._currentPosition=0,m._wheelDuration=0,m._willLock=!1,m.noMoreFreePositions=!1,m._wheelCompleteCallback=i,m.wheel=new p,m.wheel.name="cashWheel",m.addChild(m.wheel),m._graphicMask=new d,m._graphicMask.name="maskCashWheel",m._graphicMask.beginFill(16777215),m._graphicMask.drawRect(0,0,10,10),m._graphicMask.endFill(),m._graphicMask.interactive=!1,m.addChild(m._graphicMask),m.wheel.mask=m._graphicMask;for(var N=0;N<e.MCR_SYMBOL_POOL_LENGTH;N++)m._spinningSymbols.push(new r.MegawaysCashRespinsSymbol(n,o,a,c,u));return m.lowerFrame=new _,m.lowerFrame.name="lowerFrame",m.lowerFrame.texture=s.TextureUtil.instance().getTextureFromCache(l.MegawaysCashRespinsStrings.MCR_WHEEL_SEPARATOR_ASSET_NAME),m.lowerFrame.anchor.set(.5),m.addChild(m.lowerFrame),h.Device.deviceLevel()!=h.DeviceLevel.obsolete&&(m.wheelAnimation=new f(y.spineData),m.wheelAnimation.name="wheelAnimation",m.wheelAnimation.skeleton.setToSetupPose(),m.wheelAnimation.update(0),m.wheelAnimation.scale.set(.5),m.wheelAnimation.visible=!1,m.wheelAnimation.autoUpdate=!1,m.wheelAnimation.y=e.MCR_SPIN_ANIMATION_OFFSET_Y,m.addChild(m.wheelAnimation)),m}return o(e,t),e.prototype.setupWheel=function(t,i,n,o,s,r,l,c,u){this._indexColumn=t,this._rowHeight=o,this._columnSize=n,this.position.set(i.x,i.y),this._graphicMask.height=o-2,this._graphicMask.width=s,this._graphicMask.x=-this._graphicMask.width/2,this._graphicMask.y=-this._graphicMask.height/2,!0===r?this.lowerFrame.visible=!1:(this.lowerFrame.visible=!0,this.lowerFrame.width=l?-s:s,this.lowerFrame.height=e.MCR_HEIGHT_LOWER_FRAME,this.lowerFrame.y=o/2),this.wheel.y=0,this._currentPosition=0,this.noMoreFreePositions=!1,this._willLock=!1;var h=a.MegawaysWheelsUtils.getSymbolAssetReference(12,this._columnSize,!1),p=a.MegawaysWheelsUtils.getSymbolAssetReference(13,this._columnSize,!1);if(0===c){this.isLooked=!1;for(var d=0;d<this._spinningSymbols.length;d++)this._spinningSymbols[d].updateTextureSymbol(h,p),this._spinningSymbols[d].setSymbolTexture(!0),this._spinningSymbols[d].y=d*this._rowHeight,this._spinningSymbols[d].setWinTextField(u),this.wheel.addChild(this._spinningSymbols[d]),this.lastSymbol=void 0}else this.isLooked=!0,this.noMoreFreePositions=!0,this._spinningSymbols[0].updateTextureSymbol(h),this._spinningSymbols[0].setSymbolTexture(!1),this._spinningSymbols[0].updateCashText(c),this._spinningSymbols[0].setWinTextField(u),this.wheel.y=0,this._spinningSymbols[0].y=0,this._spinningSymbols[0].currentPosition=0,this.lastSymbol=this._spinningSymbols[0],this.wheel.addChild(this._spinningSymbols[0])},e.prototype.setupSpin=function(t,i){if(!1===this.isLooked){this._spinningSymbols[0].y=0,this._spinningSymbols[0].resetCashText(),this._spinningSymbols[0].setSymbolTexture(!0),this._spinningSymbols[0].currentPosition=-1,this.wheel.y=0,this._spinningSymbols.push(this._spinningSymbols.shift()),this._currentPosition=0,this.noMoreFreePositions=!1,this._wheelDuration=e.MCR_DURATION_SPIN+e.MCR_DELAY_BETWEEN_WHEELS*i,this._spinAmountSymbol=e.MCR_NB_SYMBOL_DURING_SPIN+Math.floor(i>u.MegawaysCashRespinsWheelView.MCR_EXTRA_STEPS_ANTICIPATION?2*i:i),this._symbolsPositionsValues=[];for(var n=0;n<this._spinAmountSymbol-1;n++)this._symbolsPositionsValues[n]=0,Math.random()<e.MCR_WEIGHT_AMOUNT_SYMBOLS&&(this._symbolsPositionsValues[n]=e.MCR_WEIGHT_VALUES_SYMBOL[Math.floor(Math.random()*e.MCR_WEIGHT_VALUES_SYMBOL.length)]);0===t?this._symbolsPositionsValues[this._spinAmountSymbol-1]=0:(this.isLooked=!1,this._willLock=!0,this._symbolsPositionsValues[this._spinAmountSymbol-1]=t);for(n=1;n<this._spinningSymbols.length;n++)this.moveSymbolToNextPosition();this.startSpin()}},e.prototype.playWheelAnimation=function(){this.wheelAnimation&&(this.wheelAnimation.visible=!0,c.SpineManager.getInstance().addSpine(this.wheelAnimation),this.wheelAnimation.state.clearListeners(),this.wheelAnimation.state.addListener({complete:this.onCompleteAnimation.bind(this)}),this.wheelAnimation.state.setAnimation(0,e.MCR_SPIN_ANIMATION_NAME,!0))},e.prototype.onCompleteAnimation=function(){this.wheelAnimation&&(this.wheelAnimation.skeleton.setToSetupPose(),this.wheelAnimation.visible=!1,c.SpineManager.getInstance().removeSpine(this.wheelAnimation))},e.prototype.moveSymbolToNextPosition=function(){if(!1===this.noMoreFreePositions){for(var t=!1,e=this._currentPosition;e<this._spinAmountSymbol;e++)if(-1!==this._symbolsPositionsValues[e]){0===this._symbolsPositionsValues[e]?(this._spinningSymbols[0].resetCashText(),this._spinningSymbols[0].setSymbolTexture(!0)):(this._spinningSymbols[0].updateCashText(this._symbolsPositionsValues[e]),this._spinningSymbols[0].setSymbolTexture(!1)),this._spinningSymbols[0].y=-(e+1)*this._rowHeight,this._spinningSymbols[0].currentPosition=e,e===this._spinAmountSymbol-1&&(this.lastSymbol=this._spinningSymbols[0]),this._symbolsPositionsValues[e]=-1,this._spinningSymbols.push(this._spinningSymbols.shift()),t=!0;break}!1===t&&(this.noMoreFreePositions=!0)}},e.prototype.getCurrentPosition=function(t){return Math.floor(t/this._rowHeight)},e.prototype.startSpin=function(){var t=this;!1===this.isLooked&&TweenMax.to(this.wheel,this._wheelDuration,{y:this._rowHeight*this._spinAmountSymbol+e.MCR_OFFSET_SPIN_END_BOUNCE,ease:Sine.easeInOut,onUpdate:function(){t._currentPosition=t.getCurrentPosition(t.wheel.y),-1!==t._currentPosition&&t._spinningSymbols[0].currentPosition<t._currentPosition-2&&t.moveSymbolToNextPosition()},onComplete:function(){TweenMax.to(t.wheel,e.MCR_DURATION_SPIN_END_BOUNCE,{y:t._rowHeight*t._spinAmountSymbol,ease:Sine.easeInOut,onComplete:function(){!0===t._willLock&&(t.isLooked=!0,t.lastSymbol.playWinAnimation(t._columnSize)),t._wheelCompleteCallback.call(null,t._indexColumn,t.isLooked)}})}})},e.prototype.collectWins=function(t){this.lastSymbol.playWinAnimation(this._columnSize),this.lastSymbol.collectValue(t)},e.prototype.clearValues=function(){this.wheelAnimation&&this.wheelAnimation.state.clearListeners(),this._spinningSymbols.forEach((function(t){t.clearValues()}))},e.prototype.cleanWheels=function(){this.isLooked=!1,this._willLock=!1,this.noMoreFreePositions=!1,this.wheel.y=0;for(var t=0;t<this._spinningSymbols.length;t++)this._spinningSymbols[t].cleanSymbol(),this._spinningSymbols[t].currentPosition=-1},e.MCR_SYMBOL_POOL_LENGTH=3,e.MCR_DURATION_SPIN=1.3,e.MCR_DURATION_SPIN_END_BOUNCE=0,e.MCR_OFFSET_SPIN_END_BOUNCE=0,e.MCR_NB_SYMBOL_DURING_SPIN=30,e.MCR_WEIGHT_AMOUNT_SYMBOLS=.3,e.MCR_WEIGHT_VALUES_SYMBOL=[1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,8,8,8,8,10,10,10,15,15,15,15,20,20,20,20,30,30,30,30,100,100,1e3],e.MCR_HEIGHT_LOWER_FRAME=20,e.MCR_DELAY_BETWEEN_WHEELS=.05,e.MCR_SPIN_ANIMATION_NAME="Respins",e.MCR_SPIN_ANIMATION_OFFSET_Y=-65,e}(p);e.MegawaysCashRespinsWheel=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Container,a=PIXI.Sprite,r=PIXI.Point,l=PIXI.spine.Spine,c=i(15),u=i(24),h=i(35),p=i(348),d=i(79),_=i(4),f=function(t){function e(i,n,o,r,h){var _=t.call(this)||this;return _.currentPosition=-1,_._onWheelWinAnimationComplete=i,_._startNextStepCallback=n,_._playSoundCallback=o,_._stopSoundCallback=r,_.name="symbol",_.anchor.set(.5),_.cashValueContainer=new s,_.cashValueContainer.name="cashValue",_.addChild(_.cashValueContainer),_.cashValue=new d.MegawaysBitmapValue(_.cashValueContainer,.55,.8,1,u.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX),_.winAnimation=new l(h.spineData),_.winAnimation.name="winAnimation",_.winAnimation.skeleton.setToSetupPose(),_.winAnimation.update(0),_.winAnimation.scale.set(.5),_.winAnimation.visible=!1,_.winAnimation.autoUpdate=!1,_.winAnimation.x+=e.WIN_ANIMATION_OFFSETS.x,_.winAnimation.y+=e.WIN_ANIMATION_OFFSETS.y,_.imgJackpot=new a,_.imgJackpot.name="frame",_.imgJackpot.texture=c.TextureUtil.instance().getTextureFromCache(p.MegawaysCashRespinsMultiplierBlock.BLOCK_WIN_FRAME_ASSET_PREFIX),_.imgJackpot.visible=!1,_.imgJackpot.anchor.set(.5),_.addChild(_.imgJackpot),_}return o(e,t),e.prototype.updateTextureSymbol=function(t,e){this.texturePool={textureSymbol:c.TextureUtil.instance().getTextureFromCache(t),textureEmpty:null},e&&(this.texturePool.textureEmpty=c.TextureUtil.instance().getTextureFromCache(e))},e.prototype.setSymbolTexture=function(t){this.texture=t?this.texturePool.textureEmpty:this.texturePool.textureSymbol},e.prototype.updateCashText=function(t){this.currentValue=t,this.cashValue.updateBitmapValue(t,"",0,"X"),this.cashValueContainer.scale.x=this.cashValueContainer.scale.y=1/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE,this.cashValueContainer.visible=!0},e.prototype.resetCashText=function(){this.cashValue.resetBitmapValue()},e.prototype.setWinTextField=function(t){this.uiFieldTotalWin=t},e.prototype.playWinAnimation=function(t){var i=this;this.currentSize=t,this.addChildAt(this.winAnimation,0),this.winAnimation.visible=!0,this._currentAnimationName=3===t?e.SYMBOL_ANIMATION_PREFIX+e.SYMBOL_ANIMATION_SUFFIX:e.SYMBOL_ANIMATION_PREFIX+"-"+(t-3)+e.SYMBOL_ANIMATION_SUFFIX,h.SpineManager.getInstance().addSpine(this.winAnimation),this.winAnimation.state.setAnimation(0,this._currentAnimationName,!1),this.winAnimation.state.addListener({complete:function(){h.SpineManager.getInstance().removeSpine(i.winAnimation),i.winAnimation.visible=!1}})},e.prototype.collectValue=function(t){var i=this;this.currentValue<3?this._playSoundCallback.call(null,u.MegawaysCashRespinsSounds.SHOW_ALL_WIN_01):this.currentValue>=3&&this.currentValue<10?this._playSoundCallback.call(null,u.MegawaysCashRespinsSounds.SHOW_ALL_WIN_02):this._playSoundCallback.call(null,u.MegawaysCashRespinsSounds.SHOW_ALL_WIN_03),this.skipCollect=!1,TweenMax.to(this.cashValueContainer.scale,u.MegawaysCashRespinsStrings.MCR_DURATION_CASH_FIRST_SCALE_UP,{x:e.VALUE_TEXT_FIRST_SCALE_UP/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE,y:e.VALUE_TEXT_FIRST_SCALE_UP/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE,ease:Back.easeOut,onComplete:function(){i.treatMultiplier(t)}})},e.prototype.clearValues=function(){this.cashValueContainer.visible=!1,this.skipCollect=!0,this.winTimeLineAnimation&&this.winTimeLineAnimation.kill()},e.prototype.treatMultiplier=function(t){var i=this;if(this.skipCollect)this.cleanSymbol();else if(1===t)this.continueCollect();else{var n={val:this.currentValue};this.cashValue.substituteImages=!1;var o=this.currentValue*t,s=o.toString().length,a=e.VALUE_TEXT_SCALE_UP_FROM_LENGTH[s];6===this.currentSize?a=Math.min(a,1.7):7===this.currentSize&&(a=Math.min(a,1.5)),a/=d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE;var r=u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_ABOVE50X;o<10?r=u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_BELOW_10X:o>=10&&o<50&&(r=u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_10_50X),this._playSoundCallback.call(null,r,r!==u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_BELOW_10X);var l=-1;TweenMax.to(this.cashValueContainer.scale,.2,{x:a,y:a,ease:Back.easeOut,onComplete:function(){TweenMax.to(n,u.MegawaysCashRespinsStrings.getMultiplierDuration(o)-.2,{val:o,ease:Power0.easeNone,onUpdate:function(){r===u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_BELOW_10X&&l!==Math.floor(n.val)&&i._playSoundCallback.call(null,u.MegawaysCashRespinsSounds.INCREMENT_MULTIPLIER_BELOW_10X),l=Math.floor(n.val),i.cashValue.updateBitmapValue(n.val,"",0,"X"),i.cashValueContainer.scale.set(a)},onComplete:function(){i.cashValue.substituteImages=!0,i.currentValue=i.currentValue*t,i._stopSoundCallback.call(null,r),i._playSoundCallback.call(null,u.MegawaysCashRespinsSounds.INCREMENT_STOP),TweenMax.delayedCall(.3,(function(){i.continueCollect()}))}})}})}},e.prototype.continueCollect=function(){if(this.skipCollect)this.cleanSymbol();else{var t=this.uiFieldTotalWin.currentComponent.parent,i=t.toLocal(new r(0,0),this.cashValueContainer);this.cashValueContainer.position.set(i.x+this.cashValueContainer.width/2,i.y+this.cashValueContainer.height/2),t.addChildAt(this.cashValueContainer,t.children.length-1),this.winTimeLineAnimation=new TimelineMax({onComplete:this._onWheelWinAnimationComplete}),this.winTimeLineAnimation.addCallback(this._playSoundCallback,"+=0",[u.MegawaysCashRespinsSounds.SYMBOL_WHOOSH]),this.winTimeLineAnimation.to(this.cashValueContainer.scale,u.MegawaysCashRespinsStrings.MCR_DURATION_TEXT_SCALE_UP,{x:e.VALUE_TEXT_SCALE_UP/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE,y:e.VALUE_TEXT_SCALE_UP/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE},"+=0");var n,o=this.uiFieldTotalWin.currentComponent;n=_.Device.instance().mobile?new r(o.x+o.width,o.y+o.height):new r(o.x+o.width/2,o.y),this.winTimeLineAnimation.to(this.cashValueContainer,u.MegawaysCashRespinsStrings.MCR_DURATION_CASH_MONEY_MOVE,{x:n.x,y:n.y,ease:Power0.easeNone},"-="+u.MegawaysCashRespinsStrings.MCR_DURATION_TEXT_SCALE_UP),this.winTimeLineAnimation.addCallback(this._playSoundCallback,"+=0",[u.MegawaysCashRespinsSounds.COINS_COLLECT]),this.winTimeLineAnimation.to(this.cashValueContainer.scale,u.MegawaysCashRespinsStrings.MCR_DURATION_TEXT_SCALE_UP,{x:0,y:0},"-="+u.MegawaysCashRespinsStrings.MCR_DURATION_CASH_MONEY_MOVE/4),this.winTimeLineAnimation.addCallback(this._startNextStepCallback,"-="+u.MegawaysCashRespinsStrings.MCR_DURATION_CASH_MONEY_MOVE/4,[this.currentValue])}},e.prototype.cleanSymbol=function(){this.winAnimation.visible=!1,this.winAnimation.state.clearListeners(),h.SpineManager.getInstance().removeSpine(this.winAnimation),this.addChildAt(this.cashValueContainer,0),this.cashValueContainer.position.set(0,0),this.cashValueContainer.scale.set(1/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE,1/d.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE),this.winTimeLineAnimation&&this.winTimeLineAnimation.kill(),this.resetCashText()},e.VALUE_TEXT_FIRST_SCALE_UP=1.5,e.VALUE_TEXT_SCALE_UP=1.5,e.VALUE_TEXT_SCALE_UP_FROM_LENGTH=[2.2,2.2,2,1.8,1.5],e.SYMBOL_ANIMATION_PREFIX="Symbol-12",e.SYMBOL_ANIMATION_SUFFIX="-Win",e.WIN_ANIMATION_OFFSETS=new r(-.8,-.8),e}(a);e.MegawaysCashRespinsSymbol=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(61),r=i(24),l=i(7),c=i(2),u=i(3),h=i(1),p=i(28),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){t.prototype.execute.call(this,e),s.isUndefined(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(h.Names.Proxies.VALIDATION,h.Names.Modules.LOADER)),this.updateFreeRoundsProxy(),this.validationProxy.toggleValidation(r.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS,!0),this.sendGlobalNotification(c.Notifications.Global.DISABLE_LINES_BUTTONS),this.sendGlobalNotification(c.Notifications.Winning.STOP_WINNINGS_ANIMATIONS),this.sendGlobalNotification(c.Notifications.Global.UPDATE_USER_INTERFACE,l.UpdateUIAction.DISABLE_ALL_BUTTONS),this.sendGlobalNotification(c.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0),this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.SHOW_INTRO_POPUP),this.sendGlobalNotification(c.Notifications.Global.UPDATE_INFOBOX,{message:""}),this.sendGlobalNotification(p.MegawaysNotifications.STRIP_ALLOW_UPDATE_BALANCE,!0)},e.prototype.updateFreeRoundsProxy=function(){s.isUndefined(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(h.Names.Proxies.CONNECTION,h.Names.Modules.CONNECTION)),s.isUndefined(this.cashRespinsProxy)&&(this.cashRespinsProxy=this.retrieveProxy(a.MegawaysCashRespinsProxy.NAME));var t=this.connectionProxy.getServerData("fRound"),e=this.connectionProxy.getServerData("fRoundState"),i=this.connectionProxy.getServerData("fRoundEndDate"),n=this.connectionProxy.getServerData("fRoundDurationRelative"),o=this.connectionProxy.getServerData("fRoundTotalWins"),r=this.connectionProxy.getServerData("fRoundConvToBonus"),l=this.connectionProxy.getServerData("fRoundBonusStatus"),c=this.connectionProxy.getServerData("fRoundCap"),u=this.connectionProxy.getServerData("fRoundUnlimited"),p=this.connectionProxy.getServerData("fRoundActiveBonusAmount");t&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundRounds=t.fRoundRounds),e&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundState=e.value),i&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundEndDate=i.value),n&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundDurationRelative=n.value),o&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundTotalWins=o.value),r&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundConvToBonus="0"!=r.value),l&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundBonusStatus=l.value),c&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundCap=c.value,u&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundUnlimited=u.value)),p&&(this.cashRespinsProxy.freeRoundsPackageDetails.fRoundActiveBonusAmount=p.value)},e}(u.Controller);e.MegawaysCashRespinsTransitionInCommand=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(2),r=i(24),l=i(1),c=i(50),u=i(11),h=i(4),p=l.Names.Layers,d=a.Notifications.Wheels,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSetup=!1,e.isShowing=!1,e}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return p.FREE_GAMES_START},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.MegawaysCashRespinsNotifications.SHOW_INTRO_POPUP,this.layerTransitionInStart.bind(this)),this.addNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_START_POPUP_CLICKED,this.onPopupClicked.bind(this))},e.prototype.addSignalListeners=function(){var e=this;t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.ON_START_POPUP_BUTTON_CLICK,(function(){e.sendGlobalNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_START_POPUP_CLICKED)}))},e.prototype.postRegister=function(){t.prototype.postRegister.call(this)},e.prototype.onPopupClicked=function(){!0===this.viewComponent.isShown&&(this.sendGlobalNotification(a.Notifications.Global.HIDE_USER_INTERFACE),this.sendGlobalNotification(a.Notifications.Global.CHANGE_BACKGROUND,{frame:c.BackgroundActions.MODE_FREESPIN}),this.layerTransitionOutStart())},e.prototype.layerTransitionInStart=function(){t.prototype.layerTransitionInStart.call(this),this.isShowing=!0,h.Device.instance().mobile&&h.Device.isPortrait()&&this.layersProxy.changePIXILayerDepth(p.FREE_GAMES_START,p.PIXI_CLICK_CATCHER,!0)},e.prototype.layerTransitionInComplete=function(){t.prototype.layerTransitionInComplete.call(this),this.sendGlobalNotification(a.Notifications.Global.CHANGE_STATE,r.MegawaysCashRespinsStates.CASH_RESPINS_START_POPUP),!1===this.hasSetup&&(this.hasSetup=!0,this.sendGlobalNotification(r.MegawaysCashRespinsServerData.SETUP_RESPIN_WHEELS),this.sendGlobalNotification(d.HIDE_WHEELS),this.sendGlobalNotification(a.Notifications.Global.STOP_SOUND,{soundName:u.SlotSoundNames.GENERAL_AMBIANCE}),this.sendGlobalNotification(a.Notifications.Global.PLAY_SOUND,{soundName:r.MegawaysCashRespinsSounds.RESPIN_AMBIANCE,loop:!0}))},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),this.isShowing&&(this.sendGlobalNotification(r.MegawaysCashRespinsServerData.START_RESPIN_WHEELS),this.isShowing=!1,h.Device.instance().mobile&&this.layersProxy.changePIXILayerDepth(p.FREE_GAMES_START,p.PAY_TABLE,!0),this.hasSetup=!1)},e.prototype.onDeviceScreenResized=function(e){t.prototype.onDeviceScreenResized.call(this,e),h.Device.instance().mobile&&!0===this.isShowing&&(h.Device.isPortrait()?this.layersProxy.changePIXILayerDepth(p.FREE_GAMES_START,p.PIXI_CLICK_CATCHER,!0):this.layersProxy.changePIXILayerDepth(p.FREE_GAMES_START,p.PAY_TABLE,!0))},e}(s.AbstractMediator);e.MegawaysCashRespinsPopupStartMediator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(2),r=i(24),l=i(1),c=i(33),u=i(61),h=i(29),p=i(38),d=i(5),_=i(9),f=i(4),y=i(53),m=i(16),N=i(50),S=i(74),g=i(73),A=i(28),E=l.Names.Layers,I=PIXI.Point,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ON_COMPLETE_TO_INCREMENT_KEY="CashRespins.onIncrementCompleteForWin"+p.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,e.isRespinsRunning=!1,e.incrementSkipped=!1,e.doingCountUp=!1,e}return o(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return E.FREE_GAMES_UI},enumerable:!0,configurable:!0}),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_START_POPUP_CLICKED,this.layerTransitionInStart.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.INIT_SPIN_LEFT,this.initLeftSpin.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.RESPINS_ALL_SPIN_COMPLETED,this.onSpinCompleted.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.START_NEXT_RESPIN,this.onStartSpin.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.GET_TOTAL_WIN_TEXTFIELD,this.getTotalWinTextField.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_WIN_INCREMENT,this.incrementCashRespinsWin.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.CLEAN_RESPIN_WHEELS,this.cleanUpRespins.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_PARTICLE_COLLECT,this.startParticleCollect.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.UPDATE_TOTAL_WIN_FIELD,this.updateTotalWinField.bind(this)),this.addNotification(a.Notifications.Global.CHANGE_BACKGROUND,this.moveStripCenter.bind(this)),this.addNotification(g.NgsMwAztecGoldBackgroundNames.AMBIENT_ANIMATIONS_LOADED,this.ambientAnimationsLoaded.bind(this)),this.addNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_COUNTUP_CLICKED,this.onCountupClick.bind(this)),this.addNotification(r.MegawaysCashRespinsNotifications.RESPINS_START_WIN_COLLECT,this.onRespinCollectStart.bind(this))},e.prototype.addSignalListeners=function(){t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.RESPINS_COLLECT_CLICK_EVENT,this.onCountupClick.bind(this))},e.prototype.updateTotalWinField=function(t){if(this.cashRespinsProxy.isInRespinsCountup){var e=t.body*this.cashRespinsProxy.cashRespinsData.currentBet/this.moneyProxy.displayValues.coinValue/100;this.viewComponent.updateTotalWinField(e)}},e.prototype.startParticleCollect=function(){this.viewComponent.startEmitter()},e.prototype.postRegister=function(){if(t.prototype.postRegister.call(this),this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY),this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION),this.cashRespinsProxy=this.retrieveGlobalProxy(u.MegawaysCashRespinsProxy.NAME,h.AztecModules.RESPINS_MODULE),this.slotGameConfig=this.settings.getValue(_.MegawaysNames.GAME_CONFIG),f.Device.instance().mobile){var e=this.layersProxy.retrieveLayer(E.STRIP).container.getChildByName(m.PixiView.MAIN_PORTRAIT);this.containerStrip=y.PixiUtils.findChildByName(e,r.MegawaysCashRespinsStrings.STRIP_CENTER_CONTAINER),this.originalParentStrip=this.containerStrip.parent,this.targetContainerStrip=this.viewComponent.display.getChildByName(m.PixiView.MAIN_PORTRAIT)}},e.prototype.onRespinCollectStart=function(){this.viewComponent.onRespinCollectStart()},e.prototype.onCountupClick=function(){var t=this;if(this.cashRespinsProxy.isInRespinsCountup){var e=this.doingCountUp;this.doingCountUp=!0,e?(this.incrementCompleted(),this.sendGlobalNotification(a.Notifications.Increment.STOP_ALL_INCREMENTS)):this.doEndDelay(),this.cashRespinsProxy.isInRespinsCountup=!1,this.incrementSkipped=!0,this.sendNotification(r.MegawaysCashRespinsNotifications.SKIP_RESPINS_COLLECT),requestAnimationFrame((function(){t.showFinalValues()}))}},e.prototype.ambientAnimationsLoaded=function(){var t=f.Device.instance().mobile?{json:S.NgsMwAztecGoldAmbientAnimations.FILE_NAME_MOBILE,atlasData:null}:{json:S.NgsMwAztecGoldAmbientAnimations.FILE_NAME,atlasData:null};this.sendGlobalNotification(a.Notifications.Winning.GET_SPINE_DATA,{spineInfo:t}),this.viewComponent.backgroundSpineLoaded(t.atlasData[0])},e.prototype.moveStripCenter=function(t){if(f.Device.instance().mobile)if(t.body.frame===N.BackgroundActions.MODE_FREESPIN){if(this.isRespinsRunning=!0,this.layersProxy.changePIXILayerDepth(E.FREE_GAMES_UI,E.GAMEPLAY_BUTTONS,f.Device.isPortrait()),f.Device.isPortrait()){if(c.isNil(this.targetPosition)){var e=this.viewComponent.display.toLocal(new I(0,0),this.containerStrip);this.originalPosition=new I(this.containerStrip.position.x,this.containerStrip.position.y),this.targetPosition=e}this.containerStrip.position.set(this.targetPosition.x,this.targetPosition.y+r.MegawaysCashRespinsStrings.STRIP_CENTER_OFFSET_Y),this.targetContainerStrip.addChildAt(this.containerStrip,1)}}else this.isRespinsRunning=!1,this.originalPosition&&(this.layersProxy.changePIXILayerDepth(E.FREE_GAMES_UI,E.GAMEPLAY_BUTTONS,!1),this.containerStrip.position.set(this.originalPosition.x,this.originalPosition.y),this.originalParentStrip.addChild(this.containerStrip))},e.prototype.initLeftSpin=function(){this.viewComponent.initLeftSpin(this.cashRespinsProxy.cashRespinsData.bonusGameSpinsLeft?this.cashRespinsProxy.cashRespinsData.bonusGameSpinsLeft:r.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT)},e.prototype.onStartSpin=function(){this.viewComponent.decreaseSpinLeftDigit()},e.prototype.onSpinCompleted=function(){this.cashRespinsProxy.cashRespinsData.bonusGameSpinsLeft===r.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT?this.viewComponent.resetLeftDigit():0===this.cashRespinsProxy.cashRespinsData.bonusGameSpinsLeft&&this.viewComponent.zeroSpinLeftDigit()},e.prototype.getTotalWinTextField=function(t){t.body.controller=this.viewComponent.uiFieldTotalWin},e.prototype.incrementCashRespinsWin=function(){var t=this;if(this.doingCountUp=!0,this.cashRespinsProxy.isInRespinsCountup){var e=this.connectionProxy.getServerData(d.States.DOUBLE_WIN),i=this.cashRespinsProxy.cashRespinsData.bonusGameGain-this.cashRespinsProxy.cashRespinsData.bonusOnlyGain,n=this.moneyProxy.displayValues.coinValue,o=this.cashRespinsProxy.cashRespinsData.bonusOnlyGain*n;this.sendGlobalNotification(a.Notifications.Increment.START_CUMULATIVE_INCREMENTING_WIN,{startValueCoins:i,startValueMoney:i*n}),this.moneyProxy.removeWinnings(!1),this.moneyProxy.updateWinningId(this.slotGameConfig.bonusSymbol,Number(e.totalWinnings)),this.moneyProxy.updateBalance(Number(e.money)),this.moneyProxy.displayValues.updateWinnings(o),this.sendGlobalNotification(a.Notifications.Money.UPDATE_DISPLAY_VALUES,this.moneyProxy.displayValues),this.sendGlobalNotification(a.Notifications.Increment.ADD_ON_COMPLETE_TO_INCREMENT,{incrementId:p.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,onComplete:function(){TweenMax.delayedCall(.5,t.incrementCompleted.bind(t))},onCompleteKey:this.ON_COMPLETE_TO_INCREMENT_KEY});var s=0,l=0;c.forEach(this.cashRespinsProxy.cashRespinsData.scatterValues,(function(e,i){if(0!=e&&0!==i){s++;var n=t.cashRespinsProxy.cashRespinsData.bonusGameMultipliers[i%t.slotGameConfig.columnsCnt];if(1!==n){var o=e*n;l+=r.MegawaysCashRespinsStrings.getMultiplierDuration(o)+.3}}})),this.sendGlobalNotification(a.Notifications.Increment.START_WINNINGS_INCREMENT,{endWinningsIncrementCoins:this.cashRespinsProxy.cashRespinsData.bonusOnlyGain,endWinningsIncrementMoney:o,startWinningsIncrementCoins:0,startWinningsIncrementMoney:0,duration:s*(2*r.MegawaysCashRespinsStrings.MCR_DURATION_TEXT_SCALE_UP+r.MegawaysCashRespinsStrings.MCR_DURATION_CASH_MONEY_MOVE)+l}),this.incrementSkipped=!1}else this.showFinalValues(),this.incrementSkipped=!0,this.doEndDelay()},e.prototype.showFinalValues=function(){var t=this.connectionProxy.getServerData(d.States.DOUBLE_WIN);this.moneyProxy.removeWinnings(),this.moneyProxy.updateWinningId(this.slotGameConfig.bonusSymbol,Number(t.totalWinnings)),this.moneyProxy.updateBalance(Number(t.money)),this.sendGlobalNotification(A.MegawaysNotifications.UPDATE_STRIP_BALANCE,this.moneyProxy.displayValues),this.sendGlobalNotification(A.MegawaysNotifications.UPDATE_STRIP_WINNINGS_ONLY,this.moneyProxy.displayValues),this.viewComponent.setTotalWinField(this.cashRespinsProxy.cashRespinsData.bonusOnlyGain)},e.prototype.incrementCompleted=function(){this.sendGlobalNotification(a.Notifications.Increment.REMOVE_ON_COMPLETE_FROM_INCREMENT,{incrementId:p.IncrementNames.CURRENT_INCREMENTAL_WIN_COINS,onCompleteKey:this.ON_COMPLETE_TO_INCREMENT_KEY}),this.sendGlobalNotification(a.Notifications.Increment.STOP_CUMULATIVE_INCREMENTING_WIN),this.showFinalValues(),this.doEndDelay()},e.prototype.doEndDelay=function(){var t=this;if(this.doingCountUp){var i=this.incrementSkipped?e.MCR_DELAY_SHOW_END_POPUP_ON_SKIP:e.MCR_DELAY_SHOW_END_POPUP;TweenMax.delayedCall(i,(function(){t.sendGlobalNotification(r.MegawaysCashRespinsNotifications.SHOW_END_POPUP),t.viewComponent.hideShowRemainingSpin(!1)})),this.doingCountUp=!1}},e.prototype.cleanUpRespins=function(){this.viewComponent.cleanUp(),this.isRespinsRunning=!1,this.layerTransitionOutStart()},e.prototype.onDeviceScreenResized=function(e){if(t.prototype.onDeviceScreenResized.call(this,e),f.Device.instance().mobile&&!0===this.isRespinsRunning&&(this.layersProxy.changePIXILayerDepth(E.FREE_GAMES_UI,E.GAMEPLAY_BUTTONS,f.Device.isPortrait()),f.Device.isPortrait())){if(c.isNil(this.targetPosition)){var i=this.viewComponent.display.toLocal(new I(0,0),this.containerStrip);this.originalPosition=new I(this.containerStrip.position.x,this.containerStrip.position.y),this.targetPosition=i}this.containerStrip.position.set(this.targetPosition.x,this.targetPosition.y+r.MegawaysCashRespinsStrings.STRIP_CENTER_OFFSET_Y),this.targetContainerStrip.addChildAt(this.containerStrip,1)}},e.MCR_DELAY_SHOW_END_POPUP=1,e.MCR_DELAY_SHOW_END_POPUP_ON_SKIP=3,e}(s.AbstractMediator);e.MegawaysCashRespinsUiMediator=O},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(18),r=i(4),l=i(40),c=i(24),u=i(27),h=i(15),p=i(32),d=i(35),_=i(8),f=PIXI.spine.Spine,y=PIXI.particles.AnimatedParticle,m=PIXI.particles.Emitter,N=PIXI.Container,S=PIXI.Point,g=PIXI.Graphics,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SPINE_POS_DESKTOP=new S(792,360),e.SPINE_SCALE_DESKTOP=.5,e.SPINE_POS_LANDSCAPE=new S(792,360),e.SPINE_SCALE_LANDSCAPE=.5,e.SPINE_POS_PORTRAIT=new S(792,501),e.SPINE_SCALE_PORTRAIT=.35,e.valueSpinLeft=c.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT,e.imagesContainer=[],e.updateParticles=!1,e._previousTotalWinValue=0,e}return o(e,t),e.prototype.postRegister=function(){this.hasAutoTranslate=!0,t.prototype.postRegister.call(this),this.initialiseUILayer(),this.overlayContainer=new a.ControllerContainer(e.OVERLAY_CONTAINER_NAME,this.findMultipleChild(e.OVERLAY_CONTAINER_NAME)),this.remainingSpinContainer=new a.ControllerContainer(e.REMAINING_SPIN_CONTAINER_NAME,this.findMultipleChild(e.REMAINING_SPIN_CONTAINER_NAME)),this.remainingSpinContainer.alpha=0;for(var i=0;i<=c.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT;i++){var n=new l.ControllerImage(e.OVERLAY_CONTAINER_PREFIX+i.toString(),this.findMultipleChild(e.OVERLAY_CONTAINER_PREFIX+i.toString()));this.imagesContainer[i]=n,n.visible=!1}r.Device.instance().mobile?(this.mobileLayoutLandscape.addChildAt(this.remainingSpinContainer.componentLandscape,1),this.mobileLayoutPortrait.addChildAt(this.remainingSpinContainer.componentPortrait,0)):this.display.addChildAt(this.overlayContainer.componentLandscape,0),this.initClickCapture()},e.prototype.initClickCapture=function(){if(this.clickCatcher=new g,this.clickCatcher.name="respinscClickCatcher",this.clickCatcher.beginFill(16711680),r.Device.instance().mobile){var t=Math.max(_.SceneManager.SCENE_WIDTH,_.SceneManager.SCENE_HEIGHT);this.clickCatcher.drawRect(-t/2,-t/2,2*t,2*t)}else this.clickCatcher.drawRect(0,0,_.SceneManager.SCENE_WIDTH,_.SceneManager.SCENE_HEIGHT);this.clickCatcher.alpha=0,this.clickCatcher.endFill(),this.display.on("pointerdown",this.onClickCaptureDisplay,this),this.display.addChild(this.clickCatcher)},e.prototype.onRespinCollectStart=function(){this.display.interactive=!0},e.prototype.onClickCaptureDisplay=function(t){this.dispatchSignal(c.MegawaysCashRespinsSignal.RESPINS_COLLECT_CLICK_EVENT)},e.prototype.onStartShowLayer=function(e,i){this.display.visible=!0,this.hideShowRemainingSpin(!0),this._previousTotalWinValue=0,this.checkAnimationOrientation(),t.prototype.onStartShowLayer.call(this,e,i)},e.prototype.hideShowRemainingSpin=function(t){TweenMax.to(this.remainingSpinContainer,.5,{alpha:Number(t)})},e.prototype.backgroundSpineLoaded=function(t){this.spineAnimations=new f(t.spineData),this.spineAnimations.name="spineAnimations",this.spineAnimations.skeleton.setToSetupPose(),this.spineAnimations.update(0),this.spineAnimations.scale.set(.5),this.spineAnimations.autoUpdate=!1,this.spineAnimations.alpha=0,TweenMax.to(this.spineAnimations,.5,{alpha:1}),this.checkAnimationOrientation()},e.prototype.onStartHideLayer=function(e,i){this.display.visible=!1,this.display.interactive=!1,this.spineAnimations&&d.SpineManager.getInstance().removeSpine(this.spineAnimations),t.prototype.onStartHideLayer.call(this,e,i)},e.prototype.initLeftSpin=function(t){this.valueSpinLeft=t,this.displaySpinLeft(this.valueSpinLeft)},e.prototype.decreaseSpinLeftDigit=function(){this.valueSpinLeft--,this.displaySpinLeft(this.valueSpinLeft)},e.prototype.zeroSpinLeftDigit=function(){this.valueSpinLeft=0,this.displaySpinLeft(this.valueSpinLeft)},e.prototype.resetLeftDigit=function(){var t=this;this.valueSpinLeft=c.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT,this.spineAnimations&&(r.Device.instance().mobile&&r.Device.isPortrait()?this.spineAnimations.state.setAnimation(e.RESPIN_ANIMATION_TRACK_SPIN_LEFT,e.RESPIN_ANIMATION_SPIN_LEFT_PORTRAIT_NAME,!1):this.spineAnimations.state.setAnimation(e.RESPIN_ANIMATION_TRACK_SPIN_LEFT,e.RESPIN_ANIMATION_SPIN_LEFT_NAME,!1)),TweenMax.delayedCall(.5,(function(){t.playSound(c.MegawaysCashRespinsSounds.RESPIN_NUMBER),t.displaySpinLeft(t.valueSpinLeft)}))},e.prototype.displaySpinLeft=function(t){for(var e=0;e<this.imagesContainer.length;e++)this.imagesContainer[e].visible=e===t},e.prototype.initialiseUILayer=function(){this.uiFieldTotalWin=new u.ControllerTextField(c.MegawaysCashRespinsStrings.UI_FIELD_TOTAL_WIN,this.findMultipleChild(c.MegawaysCashRespinsStrings.UI_FIELD_TOTAL_WIN),!0),this.initEmitter()},e.prototype.cleanUp=function(){this.uiFieldTotalWin.updateLabel(""),this._previousTotalWinValue=0,this.displaySpinLeft(c.MegawaysCashRespinsStrings.MCR_MAXIMUM_SPIN_LEFT)},e.prototype.updateTotalWinField=function(t){this.uiFieldTotalWin.updateLabel(p.NumberFormatterUtil.formatNumber(this._previousTotalWinValue+t,0)),this._previousTotalWinValue=this._previousTotalWinValue+t},e.prototype.setTotalWinField=function(t){this.uiFieldTotalWin.updateLabel(p.NumberFormatterUtil.formatNumber(t))},e.prototype.initEmitter=function(){var t=h.TextureUtil.instance();this._particleSystemHolder=new N,this._particleSystemHolder.name="emitterCoins",this.uiFieldTotalWin.currentComponent.parent.addChild(this._particleSystemHolder),r.Device.instance().mobile?(r.Device.isPortrait()?this._particleSystemHolder.x=this.uiFieldTotalWin.componentPortrait.x+this.uiFieldTotalWin.componentPortrait.width:this._particleSystemHolder.x=this.uiFieldTotalWin.currentComponent.width,this._particleSystemHolder.y=this.uiFieldTotalWin.currentComponent.height):this._particleSystemHolder.x=this.uiFieldTotalWin.currentComponent.width/2,this._particleSystem=new m(this._particleSystemHolder,[{textures:[{texture:t.getTextureFromCache("Particle-Coin-1.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-2.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-3.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-4.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-5.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-6.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-7.png"),count:3},{texture:t.getTextureFromCache("Particle-Coin-8.png"),count:3}],loop:!0}],{alpha:{start:1,end:1},scale:{start:.1,end:.2,minimumScaleMultiplier:1},color:{start:"#ffffff",end:"#ffffff"},speed:{start:200,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:300},maxSpeed:0,startRotation:{min:-50,max:-130},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:3,max:3},blendMode:"normal",frequency:.02,emitterLifetime:.5,maxParticles:100,pos:{x:0,y:0},addAtBack:!0,spawnType:"rect",spawnRect:{x:-10,y:-10,w:20,h:-50}}),this._particleSystem.particleConstructor=y,this._particleSystem.emit=!1,this.updateParticles=!1,this.updateEmitter()},e.prototype.startEmitter=function(){this.playSound(c.MegawaysCashRespinsSounds.COINS_SPILL),this._particleSystem.emit=!0,this.updateParticles=!0,this._emitterTimer=Date.now(),this.updateEmitter()},e.prototype.stopEmitter=function(){this._particleSystem.emit=!1,this.updateParticles=!1,cancelAnimationFrame(this._boundParticleUpdateFunction),this._boundParticleUpdateFunction=null,this._particleSystem.cleanup()},e.prototype.updateEmitter=function(){var t=Date.now();!0===this.updateParticles&&(this._boundParticleUpdateFunction=requestAnimationFrame(this.updateEmitter.bind(this)),this._particleSystem.update(.001*(t-this._emitterTimer))),this._emitterTimer=t},e.prototype.deviceOrientationChanged=function(e){void 0===e&&(e=null),t.prototype.deviceOrientationChanged.call(this,e),r.Device.instance().mobile&&(this.uiFieldTotalWin.currentComponent.parent.addChild(this._particleSystemHolder),r.Device.isPortrait()?this._particleSystemHolder.x=this.uiFieldTotalWin.componentPortrait.x+this.uiFieldTotalWin.componentPortrait.width:this._particleSystemHolder.x=this.uiFieldTotalWin.currentComponent.width,this._particleSystemHolder.y=this.uiFieldTotalWin.currentComponent.height,this.checkAnimationOrientation())},e.prototype.checkAnimationOrientation=function(){this.spineAnimations&&!0===this.display.visible&&(d.SpineManager.getInstance().addSpine(this.spineAnimations),r.Device.instance().mobile?r.Device.isPortrait()?(this.spineAnimations.state.setAnimation(e.RESPIN_ANIMATION_TRACK_AMBIENT,e.RESPIN_ANIMATION_AMBIENT_PORTRAIT_NAME,!0),this.remainingSpinContainer.componentPortrait.addChild(this.spineAnimations),this.spineAnimations.x=this.SPINE_POS_PORTRAIT.x,this.spineAnimations.y=this.SPINE_POS_PORTRAIT.y,this.spineAnimations.scale.set(this.SPINE_SCALE_PORTRAIT)):(this.spineAnimations.state.setAnimation(e.RESPIN_ANIMATION_TRACK_AMBIENT,e.RESPIN_ANIMATION_AMBIENT_NAME,!0),this.remainingSpinContainer.componentLandscape.addChild(this.spineAnimations),this.spineAnimations.x=this.SPINE_POS_LANDSCAPE.x,this.spineAnimations.y=this.SPINE_POS_LANDSCAPE.y,this.spineAnimations.scale.set(this.SPINE_SCALE_LANDSCAPE)):(this.spineAnimations.state.setAnimation(e.RESPIN_ANIMATION_TRACK_AMBIENT,e.RESPIN_ANIMATION_AMBIENT_NAME,!0),this.remainingSpinContainer.componentLandscape.addChild(this.spineAnimations),this.spineAnimations.x=this.SPINE_POS_DESKTOP.x,this.spineAnimations.y=this.SPINE_POS_DESKTOP.y,this.spineAnimations.scale.set(this.SPINE_SCALE_DESKTOP)))},e.NAME="MegawaysCashRespinsUiView",e.REMAINING_SPIN_CONTAINER_NAME="RespinsLeftText",e.OVERLAY_CONTAINER_NAME="Overlay",e.OVERLAY_CONTAINER_PREFIX="Frame_Counter_",e.RESPIN_ANIMATION_SPINE_NAME="respinAnimations",e.RESPIN_ANIMATION_TRACK_AMBIENT=0,e.RESPIN_ANIMATION_TRACK_SPIN_LEFT=1,e.RESPIN_ANIMATION_AMBIENT_NAME="FS Idle",e.RESPIN_ANIMATION_AMBIENT_PORTRAIT_NAME="Portrait FS Idle",e.RESPIN_ANIMATION_SPIN_LEFT_NAME="FS Spins Left",e.RESPIN_ANIMATION_SPIN_LEFT_PORTRAIT_NAME="FS Spins Left Portrait",e}(s.PixiView);e.MegawaysCashRespinsUiView=A},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(16),a=i(18),r=i(40),l=i(4),c=i(349),u=i(11),h=i(24),p=i(99),d=PIXI.Container,_=PIXI.Rectangle,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShown=!1,e.firstTime=!0,e.startPopupDelay=.5,e.endPopupDelay=.5,e.resultYLandscape=360,e.resultYPortrait=430,e.resultX=792,e.firstTimeLandscape=!0,e.firstTimePortrait=!0,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.background=new r.ControllerImage(c.MegawaysCashRespinsPopupStartView.ASSET_BG_POPUP,this.findMultipleChild(c.MegawaysCashRespinsPopupStartView.ASSET_BG_POPUP)),this.background.interactive=!0,this.background.addClickAction("pointerup",this.onButtonClick.bind(this)),this.background.componentPortrait&&(this.background.componentPortrait.image.hitArea=new _(-this.background.componentPortrait.width/2,-this.background.componentPortrait.height/2,this.background.componentPortrait.width,3*this.background.componentPortrait.height)),this.popup=new a.ControllerContainer(c.MegawaysCashRespinsPopupStartView.ASSET_POPUP,this.findMultipleChild(c.MegawaysCashRespinsPopupStartView.ASSET_POPUP)),this.tapButton=new a.ControllerContainer(c.MegawaysCashRespinsPopupStartView.ASSET_PRESS_TO_CONTINUE,this.findMultipleChild(c.MegawaysCashRespinsPopupStartView.ASSET_PRESS_TO_CONTINUE)),this.resultFeedbackContainer=new d,this.resultFeedbackContainer.x=this.resultX,this.resultFeedbackContainer.name="result feedback",this.resultFeedback=new p.BitmapValue(this.resultFeedbackContainer,.8,1,1),this.resultFeedback.updateBitmapValue(1e3),this.textContainer=new a.ControllerContainer(c.MegawaysCashRespinsPopupStartView.TEXT,this.findMultipleChild(c.MegawaysCashRespinsPopupStartView.TEXT)),this.deviceScreenResized(),this.registerToHook("clickButton",this.onButtonClick.bind(this))},e.prototype.setResult=function(t){this.resultFeedback.updateBitmapValue(t)},e.prototype.playInAnimation=function(){this.dispatchSignal(h.MegawaysCashRespinsSignal.POPUP_END_ANIMATION_IN_COMPLETED)},e.prototype.onStartShowLayer=function(t,e){var i=this;this.isShown=!1,this.display.visible=!0,this.display.alpha=1,this.popup.alpha=0,l.Device.deviceLevel()==l.DeviceLevel.obsolete&&this.firstTime&&(this.staggerText(),this.popup.alpha=1),this.firstTime=!1;var n=this.startPopupDelay;this.isFromRestore&&(n=0),TweenLite.to(this.popup.componentLandscape,n,{alpha:1,onComplete:function(){i.onCompleteShowLayer(t,e),i.isShown=!0,i.doTapTween()}}),l.Device.instance().mobile&&TweenLite.to(this.popup.componentPortrait,n,{alpha:1}),this.playSound(h.MegawaysCashRespinsSounds.RESPIN_CONGRATULATIONS),this.playSound(h.MegawaysCashRespinsSounds.POPUP_APPEAR)},e.prototype.staggerText=function(){var t,e=this;if(l.Device.isLandscape()&&this.firstTimeLandscape?(this.firstTimeLandscape=!1,t=this.textContainer.componentLandscape):l.Device.isPortrait()&&this.firstTimePortrait&&(this.firstTimePortrait=!1,t=this.textContainer.componentPortrait),t){var i=[];t.children.forEach((function(t){t.visible=!1,i.push(t)})),TweenMax.delayedCall(.1,(function(){e.makeFieldsVisible(i)}))}},e.prototype.makeFieldsVisible=function(t){t.length&&this.makeFieldVisible(t).then(this.makeFieldsVisible.bind(this))},e.prototype.makeFieldVisible=function(t){return new Promise((function(e,i){TweenMax.delayedCall(.1,(function(){t.shift().visible=!0,e(t)}))}))},e.prototype.doTapTween=function(){if(this.isShown){var t=this.tapButton.currentComponent.alpha>0?0:1;this.tapButton.componentLandscape&&TweenLite.to(this.tapButton.componentLandscape,1,{alpha:t,ease:Linear.easeNone,onComplete:this.doTapTween.bind(this)}),this.tapButton.componentPortrait&&TweenLite.to(this.tapButton.componentPortrait,1,{alpha:t,ease:Linear.easeNone})}},e.prototype.onButtonClick=function(t){this.isShown&&this.dispatchSignal(h.MegawaysCashRespinsSignal.ON_END_POPUP_BUTTON_CLICK)},e.prototype.playOutAnimation=function(){this.dispatchSignal(h.MegawaysCashRespinsSignal.POPUP_END_ANIMATION_OUT_COMPLETED)},e.prototype.onStartHideLayer=function(t,e){var i=this;this.isShown=!1,this.playSound(h.MegawaysCashRespinsSounds.POPUP_DISSAPPEAR),TweenLite.to(this.popup,this.endPopupDelay,{alpha:0,onComplete:function(){i.onCompleteHideLayer(t,e),i.display.visible=!1}}),this.playSound(u.SlotSoundNames.POPUP_HIDE)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),l.Device.instance().minigame||(l.Device.instance().mobile&&l.Device.isPortrait()?(this.popup.componentPortrait.addChild(this.resultFeedbackContainer),this.resultFeedbackContainer.y=this.resultYPortrait):(this.popup.componentLandscape.addChild(this.resultFeedbackContainer),this.resultFeedbackContainer.y=this.resultYLandscape),this.display.visible&&l.Device.deviceLevel()==l.DeviceLevel.obsolete&&this.staggerText())},e.NAME="MegawaysCashRespinsPopupEndView",e}(s.PixiView);e.MegawaysCashRespinsPopupEndView=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(19),a=i(1),r=i(24),l=i(2),c=i(50),u=i(29),h=i(61),p=i(4),d=a.Names.Layers,_=l.Notifications.Wheels,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowing=!1,e}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.cashRespinsProxy=this.retrieveGlobalProxy(h.MegawaysCashRespinsProxy.NAME,u.AztecModules.RESPINS_MODULE)},Object.defineProperty(e.prototype,"layer",{get:function(){return d.FREE_GAMES_END},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.prototype.addSignalListeners=function(){var e=this;t.prototype.addSignalListeners.call(this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.POPUP_END_ANIMATION_IN_COMPLETED,this.layerTransitionInStart,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.POPUP_END_ANIMATION_OUT_COMPLETED,this.layerTransitionOutStart,this),this.addListenerToSignal(r.MegawaysCashRespinsSignal.ON_END_POPUP_BUTTON_CLICK,(function(){e.sendGlobalNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_END_POPUP_CLICKED)}))},e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(r.MegawaysCashRespinsNotifications.SHOW_END_POPUP,this.showEndPopup.bind(this)),this.addNotification(r.MegawaysCashRespinsServerData.CASH_RESPIN_END_POPUP_CLICKED,this.onPopupClicked.bind(this))},e.prototype.showEndPopup=function(t){this.view.setResult(this.cashRespinsProxy.cashRespinsData.bonusOnlyGain),this.view.playInAnimation()},e.prototype.layerTransitionInStart=function(){t.prototype.layerTransitionInStart.call(this),this.sendGlobalNotification(l.Notifications.Global.CHANGE_BACKGROUND,{frame:c.BackgroundActions.MODE_NORMAL}),this.sendGlobalNotification(l.Notifications.Global.SHOW_USER_INTERFACE),this.isShowing=!0,p.Device.instance().mobile&&p.Device.isPortrait()&&this.layersProxy.changePIXILayerDepth(d.FREE_GAMES_END,d.PIXI_CLICK_CATCHER,!0)},e.prototype.layerTransitionInComplete=function(){t.prototype.layerTransitionInComplete.call(this),this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.CLEAN_RESPIN_WHEELS),this.sendGlobalNotification(_.SHOW_WHEELS),this.sendGlobalNotification(l.Notifications.Global.CHANGE_STATE,r.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP)},e.prototype.layerTransitionOutComplete=function(){t.prototype.layerTransitionOutComplete.call(this),this.sendGlobalNotification(r.MegawaysCashRespinsNotifications.END_FEATURE_RESPINS,{frame:c.BackgroundActions.MODE_NORMAL}),this.isShowing=!1,p.Device.instance().mobile&&this.layersProxy.changePIXILayerDepth(d.FREE_GAMES_END,d.PAY_TABLE,!0)},e.prototype.onDeviceScreenResized=function(e){t.prototype.onDeviceScreenResized.call(this,e),p.Device.instance().mobile&&!0===this.isShowing&&(p.Device.isPortrait()?this.layersProxy.changePIXILayerDepth(d.FREE_GAMES_END,d.PIXI_CLICK_CATCHER,!0):this.layersProxy.changePIXILayerDepth(d.FREE_GAMES_END,d.PAY_TABLE,!0))},e.prototype.onPopupClicked=function(){!0===this.view.isShown&&this.view.playOutAnimation()},e}(s.AbstractMediator);e.MegawaysCashRespinsPopupEndMediator=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(3),r=i(2),l=i(24),c=i(1),u=i(10),h=i(23),p=i(14),d=i(26),_=i(7),f=i(36),y=i(11),m=i(61),N=i(29),S=i(28),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(e){if(t.prototype.execute.call(this,e),this.initVars(),this.sendGlobalNotification(r.Notifications.Global.RESPINS_ENDED),this.validationProxy.toggleValidation(l.MegawaysCashRespinsValidationProperties.CASH_RESPINS_IN_PROGRESS,!1),this.sendGlobalNotification(r.Notifications.Global.STOP_SOUND,{soundName:l.MegawaysCashRespinsSounds.RESPIN_AMBIANCE}),this.sendGlobalNotification(r.Notifications.Global.PLAY_SOUND,{soundName:y.SlotSoundNames.GENERAL_AMBIANCE,loop:!0}),this.sendGlobalNotification(r.Notifications.Global.ENABLE_ALL_USER_SHORTCUTS,!0),this.sendGlobalNotification(_.UINotifications.ACTIVATE_USER_SHORTCUT,{activate:!0,userAction:f.UserInterfaceAction.SPIN}),this.autoplayProxy.autoplayInProgress)this.freeRoundsProxy.hasToFinishFR?this.freeRoundsProxy.hasToStartFreeRoundFeature():this.sendGlobalNotification(l.MegawaysCashRespinsNotifications.FEATURE_COMPLETED);else if(!this.freeRoundsProxy.hasToStartFreeRoundFeature()){var i=this.cashRespinsProxy.cashRespinsData.bonusOnlyGain*this.moneyProxy.displayValues.coinValue*100;this.sendGlobalNotification(r.Notifications.Winning.CELEBRATION_CHECK,{totalWinningsCoins:this.cashRespinsProxy.cashRespinsData.bonusOnlyGain,totalWinningsMoney:i,fromFeature:!0});var n=this.cashRespinsProxy.cashRespinsData.bonusGameGainMoney/100;this.moneyProxy.displayValues.updateWinnings(n),this.sendGlobalNotification(S.MegawaysNotifications.UPDATE_STRIP_WINNINGS_ONLY,this.moneyProxy.displayValues),this.validationProxy.validateAll(u.ValidationTypes.ATM_READY_TO_SPIN)&&this.validationProxy.validateNone(u.ValidationTypes.ATM_SCREENSHOT_ENABLED)?(this.validationProxy.toggleValidation(u.ValidationProperties.ATM_READY_TO_SPIN,!1),this.sendGlobalNotification(r.Notifications.Global.CALL_BACK_ON_EVENT,new p.ATOnEventVO(d.SlotATEventNames.READY_TO_SPIN,new p.ATGenericEvent,1e3))):this.validationProxy.validateAll(u.ValidationTypes.ATM_SCREENSHOT_ENABLED)&&this.sendGlobalNotification(r.Notifications.Global.UPDATE_USER_INTERFACE,_.UpdateUIAction.ATM_SCREENSHOT)}},e.prototype.initVars=function(){s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(c.Names.Proxies.CONNECTION,c.Names.Modules.CONNECTION)),s.isNil(this.validationProxy)&&(this.validationProxy=this.retrieveGlobalProxy(c.Names.Proxies.VALIDATION,c.Names.Modules.LOADER)),s.isNil(this.freeRoundsProxy)&&(this.freeRoundsProxy=this.retrieveGlobalProxy(h.FRProxiesName.FREE_ROUNDS_PROXY,c.Names.Modules.FREE_ROUNDS)),s.isNil(this.autoplayProxy)&&(this.autoplayProxy=this.retrieveGlobalProxy(c.Names.Proxies.AUTO_PLAY,c.Names.Modules.AUTO_PLAY)),s.isNil(this.cashRespinsProxy)&&(this.cashRespinsProxy=this.retrieveGlobalProxy(m.MegawaysCashRespinsProxy.NAME,N.AztecModules.RESPINS_MODULE)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(c.Names.Proxies.COINS_MONEY,c.Names.Modules.MONEY))},e}(a.Controller);e.MegawaysCashRespinsEndFeatureCommand=g},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(3),r=i(2),l=i(1),c=i(5),u=i(24),h=i(311),p=i(7),d=i(9),_=i(28),f=i(4),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userActions=[],e}return o(e,t),e.prototype.execute=function(t){var e=this;f.Device.instance().desktop&&this.addUserActions(),s.isUndefined(this.slotGameConfig)&&(this.slotGameConfig=this.settings.getValue(d.MegawaysNames.GAME_CONFIG)),s.isNil(this.connectionProxy)&&(this.connectionProxy=this.retrieveGlobalProxy(l.Names.Proxies.CONNECTION,l.Names.Modules.CONNECTION)),s.isNil(this.moneyProxy)&&(this.moneyProxy=this.retrieveGlobalProxy(l.Names.Proxies.COINS_MONEY,l.Names.Modules.MONEY));var i=this.connectionProxy.getServerData(c.States.END_GAME);if(this.connectionProxy.getServerData(c.States.INITIAL)&&i.gameSpecific&&i.gameSpecific.bonusGameInitialSymbols){var n=[];if(i.gameSpecific.bonusGameInitialSymbols.split("-").forEach((function(t,i){var o=Math.floor(i/e.slotGameConfig.wheelsCnt);n[o]||(n[o]=[]);var s=parseInt(t);n[o].push(s>0?s:-1)})),this.sendGlobalNotification(r.Notifications.Global.UPDATE_DISPLAY_SYMBOLS,n),"0"!==i.totalWinnings){var o=this.moneyProxy.displayValues;this.moneyProxy.updateWinningId(this.slotGameConfig.bonusSymbol,Number(i.totalWinnings)),this.sendGlobalNotification(_.MegawaysNotifications.UPDATE_STRIP_WINNINGS_ONLY,o)}}},e.prototype.addUserActions=function(){this.registerUserAction(u.MegawaysCashRespinsStrings.MCR_POPUP_START_ACTION,u.MegawaysCashRespinsServerData.CASH_RESPIN_START_POPUP_CLICKED,[u.MegawaysCashRespinsStates.CASH_RESPINS_START_POPUP],!1,!1),this.registerUserAction(u.MegawaysCashRespinsStrings.MCR_POPUP_END_ACTION,u.MegawaysCashRespinsServerData.CASH_RESPIN_END_POPUP_CLICKED,[u.MegawaysCashRespinsStates.CASH_RESPINS_END_POPUP],!1,!1),this.registerUserAction(u.MegawaysCashRespinsStrings.MCR_SKIP_RESPINS_COUNTUP_ACTION,u.MegawaysCashRespinsServerData.CASH_RESPIN_COUNTUP_CLICKED,[u.MegawaysCashRespinsStates.CASH_RESPINS],!1,!1),this.sendGlobalNotification(p.UINotifications.ADD_USER_ACTIONS,this.userActions)},e.prototype.registerUserAction=function(t,e,i,n,o){void 0===i&&(i=[]),void 0===n&&(n=!1),void 0===o&&(o=!0);var a=s.find(this.settings.getValue("USER_INTERFACE_BUTTONS"),{buttonAction:t}),r=[];s.isNil(a.shortcuts)||(r=a.shortcuts.split(",")),this.userActions.push(new h.UserInterfaceActionVO(t,e,i,r,n,o))},e}(a.Controller);e.MegawaysCashRespinsInitUserActionCommand=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(307),a=i(2),r=i(973),l=i(974),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.replaceCommand(a.Notifications.Increment.INCREMENT_STARTED,r.NgsMwAztecGoldEmptyReplaceSoundCommand),this.replaceCommand(a.Notifications.Increment.INCREMENT_COMPLETED,r.NgsMwAztecGoldEmptyReplaceSoundCommand),this.replaceCommand(a.Notifications.Global.PLAY_WINNINGS_ANIMATIONS_SOUNDS,l.NgsMwAztecGoldPlayWinningsSoundsCommand)},e}(s.SlotSoundEffects);e.NgsMwAztecGoldSlotSoundEffectsModule=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.execute=function(t){},e}(i(3).Controller);e.NgsMwAztecGoldEmptyReplaceSoundCommand=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(308),a=i(33),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.playSymbolWonSound=function(t){var e=this;if(!a.isNil(t)){var i=-1,n=-1;if(t.lines.forEach((function(o,s){var r=t.symbols[s];a.isArray(r)&&(r=r[0]),!a.isNil(r)&&(o.winValue>n||o.winValue==n&&r>i)&&e.canPlaySoundForSymbol(r)>=0&&(n=o.winValue,i=r)})),-1!=i){var o=this.canPlaySoundForSymbol(i);-1!=o&&this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS[o]&&this.playSound(this.winningsSoundsProperty.WIN_SOUNDS_SYMBOLS[o].sound)}}},e}(s.PlayWinningsSoundsCommand);e.NgsMwAztecGoldPlayWinningsSoundsCommand=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(976),r=i(79),l=i(24),c=i(88),u=i(44),h=PIXI.Container,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CASH_VALUE_POOL_LENGTH=42,e.scatterValuesPool=[],e.symbolAnimationSound=c.NgsMwAztecGoldSoundNames.SYMBOLS_BREAK,e}return o(e,t),e.prototype.initVars=function(){t.prototype.initVars.call(this);for(var e=0;e<this.CASH_VALUE_POOL_LENGTH;e++)this.scatterValuesPool.push(new r.MegawaysBitmapValue(new h,1.1,.8,1,l.MegawaysCashRespinsStrings.MCR_ASSET_CASH_VALUE_PREFIX))},e.prototype.registerInjectActionHandlers=function(){var e=this;t.prototype.registerInjectActionHandlers.call(this),this.addInjectActionHandler(l.MegawaysCashRespinsInjectAction.SET_SCATTER_VALUES,(function(t){e.scatterValues=t}))},e.prototype.playAnimationForSymbolAnimation=function(e,i){var n=this;t.prototype.playAnimationForSymbolAnimation.call(this,e,i),e.symbolId===this.slotGameConfig.bonusSymbol?s.forEach(this.slotGameConfig.megawaysSymbolPositions.get(e.size),(function(t,o){if(t.x+n._offsetX===i.x&&t.y+n._offsetY===i.y){var s=void 0;e.scatterValue?s=e.scatterValue:(s=n.scatterValuesPool.pop(),e.scatterValue=s,e.displayObject.addChild(s.container)),s.updateBitmapValue(n.scatterValues[o%n.slotGameConfig.columnsCnt][Math.floor(o/n.slotGameConfig.columnsCnt)],"",0,"X"),s.container.position.set(-n._offsetX,-n._offsetY),s.container.scale.x=s.container.scale.y=1/r.MegawaysBitmapValue.MULTIPLIER_ASSET_SIZE}})):e.scatterValue&&(this.scatterValuesPool.push(e.scatterValue),e.displayObject.removeChild(e.scatterValue.container),e.scatterValue=null)},e.prototype.playBreakSound=function(){var t=this;this.symbolAnimationSound&&this.symbolAnimationSound.length>0&&TweenLite.delayedCall(.7,(function(){t.broadcastAction(u.WinningsDecoratorBroadcastActionNames.PLAY_SOUND,{soundName:t.symbolAnimationSound})}))},e.prototype.onStopAnimation=function(e){var i=this;s.each(this._runningAnimations,(function(t){t.scatterValue&&(i.scatterValuesPool.push(t.scatterValue),t.displayObject.removeChild(t.scatterValue.container),t.scatterValue=null)})),t.prototype.onStopAnimation.call(this,e)},e.prototype.stopSymbolAnimation=function(t){0===this._runningAnimations.length&&(PIXI.ticker.shared.remove(this._boundSpineUpdateFunction),this._isUpdateAdded=!1)},e}(a.MegawaysAnimateBonanzaSymbolWinningsDecorator);e.NgsAnimateBonanzaSymbolWinningsDecorator=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(190),a=i(0),r=i(9),l=i(20),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scaleDestination=.55,e._scaleTime=.3,e._shakeThreshold=0,e._centreOffset="",e.shakingSymbols=[],e}return o(e,t),e.prototype.playAnimationForSymbolAnimation=function(e,i){var n=this;t.prototype.playAnimationForSymbolAnimation.call(this,e,i);var o=this.getSymbolInfo(e.symbolId,e.size);!a.isNil(o.scaleX)&&o.scaleX.length>0&&(e.displayObject.scale.x=o.scaleX[0]/2),!a.isNil(o.scaleY)&&o.scaleY.length>0&&(e.displayObject.scale.y=o.scaleY[0]/2);var s=this.getPositionOffset(e.displayObject.x,e.displayObject.y,this._scaleDestination/e.displayObject.scale.x),r=TweenMax.to(e.displayObject,this._scaleTime,{pixi:{scaleX:this._scaleDestination,scaleY:this._scaleDestination},onComplete:function(){if(n._shakeThreshold>0){var t={symbol:e,defaultX:e.displayObject.x,defaultY:e.displayObject.y};t.tween=TweenMax.delayedCall(n.getShakeTime(),(function(){n.shakeSymbol(t)})),n.shakingSymbols.push(t)}},x:s.x,y:s.y});e.symbolId===this.slotGameConfig.bonusSymbol&&(r.repeat(1),r.yoyo(!0),r.repeatDelay(.25)),this.zOrderAnimations()},e.prototype.zOrderAnimations=function(){var t=this;this._runningAnimations.sort((function(t,e){return t.symbolId>e.symbolId?1:-1})),this._runningAnimations.forEach((function(e){t._display.addChild(e.displayObject)}))},e.prototype.shakeSymbol=function(t){t.symbol.displayObject.x=t.defaultX+this._shakeThreshold/2-Math.random()*this._shakeThreshold,t.symbol.displayObject.y=t.defaultY+this._shakeThreshold/2-Math.random()*this._shakeThreshold,t.tween.duration(this.getShakeTime()),t.tween.restart()},e.prototype.onStopAnimation=function(e){this.shakingSymbols.forEach((function(t){t.tween.kill()})),this.shakingSymbols=[],t.prototype.onStopAnimation.call(this,e)},e.prototype.getShakeTime=function(){return.05+.05*Math.random()},e.prototype.getPositionOffset=function(t,e,i){if(!this.reelCenterPoint){for(var n=this.slotGameConfig.getProperties(r.MegawaysNames.WHEEL_COLUMNS_DETAILS),o=1e4,s=1e4,c=0,u=0,h=0;h<this.slotGameConfig.columnsCnt;h++){var p=h+1,d=l.StringUtil.stringToRectangle(n[p].columnBounds);o=Math.min(o,d.left),s=Math.min(s,d.top),c=Math.max(c,d.right),u=Math.max(u,d.bottom)}if(this.reelCenterPoint={x:o+(c-o)/2,y:s+(u-s)/2},this._centreOffset){var _=this._centreOffset.split(",");a.isNaN(parseInt(_[0]))||(this.reelCenterPoint.x+=parseInt(_[0])),a.isNaN(parseInt(_[1]))||(this.reelCenterPoint.y+=parseInt(_[1]))}}return{x:this.reelCenterPoint.x+(t-this.reelCenterPoint.x)*i,y:this.reelCenterPoint.y+(e-this.reelCenterPoint.y)*i}},e}(s.MegawaysAnimateSymbolsSpineWinningsDecorator);e.MegawaysAnimateBonanzaSymbolWinningsDecorator=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(278),a=i(978),r=i(984),l=i(4),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("IntroView",r.NgsMwAztecGoldIntroMediator,l.Device.CLASS_INDEX_DESKTOP),this.replaceMediator("IntroView",r.NgsMwAztecGoldIntroMediator,l.Device.CLASS_INDEX_MOBILE)},e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("IntroView",a.NgsMwAzecGoldMobileIntroView,l.Device.CLASS_INDEX_MOBILE)},e}(s.Intro);e.NgsMwAztecGoldIntroModule=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Sprite,a=PIXI.Point,r=i(979),l=i(8),c=i(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this.createCarouselComponents()},e.prototype.createCarouselComponents=function(){t.prototype.createCarouselComponents.call(this);var i=this.findChildByName(this.display,"mask_image_portrait");this._maskPortrait=new s(l.SceneManager.renderer.generateTexture(i)),this._maskPortrait.name="features_mask_real",i.visible=!1,this._maskPortrait.position.set(e.MASK_TEXTURE_POS_PORTRAIT.x,e.MASK_TEXTURE_POS_PORTRAIT.y),this._maskPortrait.width=e.MASK_TEXTURE_SIZE.x,this._maskPortrait.height=e.MASK_TEXTURE_SIZE.y,this.setMaskOrientation()},e.prototype.setMaskOrientation=function(){this._maskPortrait&&(c.Device.isLandscape()?this.display.removeChild(this._maskPortrait):(this.display.addChild(this._maskPortrait),this._swipeCarousel.mask=this._maskPortrait))},e.prototype.formatPageForCarousel=function(t){t.pivot.x=.5*(l.SceneManager.SCENE_WIDTH-t.width),t.pivot.y=.5*(l.SceneManager.SCENE_HEIGHT-t.height)+e.PAGE_Y_OFFSET},e.prototype.removeIntro=function(){t.prototype.removeIntro.call(this),this._maskPortrait&&(this._maskPortrait.destroy(),this._maskPortrait=null)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),(c.Device.instance().mobile||c.Device.instance().minigame)&&(this.isPortrait=!c.Device.isLandscape(),this._swipeCarousel&&(c.Device.isPortrait()?(this._swipeCarousel.y=e.CAROUSEL_PORTRAIT_Y_POS,this._pageNumberGroup.visible=!0,this._pageNumberGroup.y=e.PAGE_DOTS_PORTRAIT_Y_POS):this._pageNumberGroup.visible=!1),this.setMaskOrientation())},e.prototype.showIntro=function(){t.prototype.showIntro.call(this),this.startAutoScrolling()},e.MASK_TEXTURE_POS_PORTRAIT=new a(490,200),e.MASK_TEXTURE_SIZE=new a(600,910),e.CAROUSEL_PORTRAIT_Y_POS=495,e.PAGE_DOTS_PORTRAIT_Y_POS=1040,e.PAGE_Y_OFFSET=525,e}(r.NgsMwAztecGoldAbstractMobileIntroView);e.NgsMwAzecGoldMobileIntroView=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(18),a=i(16),r=i(4),l=i(14),c=i(26),u=i(53),h=i(21),p=i(122),d=i(57),_=i(15),f=i(51),y=i(8),m=i(980),N=i(983),S=i(353),g=i(27),A=i(93),E=i(40),I=i(33),O=i(31),T=PIXI.Container,P=PIXI.Graphics,b=PIXI.Rectangle,C=function(t){function e(e){var i=t.call(this,e)||this;return i.numFeatures=0,i.dotSize=26,i.dotGap=24,i.speed=0,i.dragX=-1,i.originPosition=-1,i.bounceVal=5,i.FEATURE_PAGE_TWEEN_DURATION=.5,i.pageNumberClicked=!1,i._maskWidth=1e3,i._maskHeight=800,i._pageGroupYOffset=210,i._autoScrollTime=5,i.currentFeature=1,i.firstTimeLandscape=!0,i.firstTimePortrait=!0,i.hasAutoTranslate=!0,r.Device.instance().minigame&&(i.dotSize=8,i.dotGap=15),i}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this);var e=[new O.BaseComponent("landscapeFeatures")];e.push(this.findChildByName(this.mobileLayoutPortrait,"features")),this.features=new s.ControllerContainer("features",e),this.registerToHook("skipIntro",this.onSkipIntro.bind(this)),this.registerToHook("screenshotIntro",this.onScreenshotIntro.bind(this)),this.getComponents(),this.isPortrait=!r.Device.isLandscape()},e.prototype.getComponents=function(){this.autoTranslate(),this.hasAutoTranslate=!1,this.bottomStripWhole=new s.ControllerContainer("strip",this.findMultipleChild("strip")),this.checkBoxElements=new s.ControllerContainer("toggleHolder",this.findMultipleChild("toggleHolder")),this.continueLabel=new g.ControllerTextField("continueButtonLabel",this.findMultipleChild("continueButtonLabel")),this.bottomStripBG=new E.ControllerImage("stripBar",this.findMultipleChild("stripBar")),this.toggles=new A.ControllerToggleButton("toggleButton",this.findMultipleChild("toggleButton")),this.toggles.stopClickPropagation=!0,this.toggles.onClickHandler=this.clickToggleButton.bind(this),r.Device.instance().minigame&&I.isNil(this.features.componentPortrait)?this.featuresComponentPortrait=this.features.componentLandscape:this.featuresComponentPortrait=this.features.componentPortrait,this._pageContainerArray=this.featuresComponentPortrait.children.slice(0),this._pageContainerArray.reverse(),this.scollingContent=this.featuresComponentPortrait,this.getDots(this.scollingContent.children.length,1),this.scollingContent.children.length>2&&(this.display.addChild(this.pagingDotsHolder),this.scollingContent.interactive=!0),this.pressBound=this.stagePress.bind(this),this.releaseBound=this.stageRelease.bind(this),this.display.on("pointerdown",this.pressBound),this.display.on("pointerup",this.releaseBound),this.deviceScreenResized();var t=new P;t.beginFill(0),t.drawRect(0,0,y.SceneManager.SCENE_WIDTH,y.SceneManager.SCENE_HEIGHT),t.alpha=0,t.endFill(),this.display.addChild(t)},e.prototype.clickToggleButton=function(t){this.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),this.neverShowIntro(this.getNeverShowVal())},e.prototype.getNeverShowVal=function(){return 1==this.toggles.state?"true":"false"},e.prototype.stagePress=function(t){this.pressStartTime=Date.now(),this.pressStartPoint=t.data.global.clone()},e.prototype.stageRelease=function(t){if(Date.now()-this.pressStartTime<300){var e=t.data.global.clone();Math.sqrt(Math.pow(e.x-this.pressStartPoint.x,2)+Math.pow(e.y-this.pressStartPoint.y,2))<30&&this.dispatchSignal(p.IntroActionNames.INTRO_FEATURES_CLOSED)}},e.prototype.repositionObjects=function(){r.Device.instance().minigame?(this.bottomStripWhole.componentLandscape.y=y.SceneManager.getScreenHeight-100,this.pagingDotsHolder.y=y.SceneManager.getScreenHeight-115):this.isPortrait?(r.Device.instance().minigame&&I.isUndefined(this.bottomStripWhole.componentPortrait)?this.bottomStripWhole.componentLandscape.y=y.SceneManager.getScreenHeight-180:(this.bottomStripBG.x=-y.SceneManager.getHMargin,this.bottomStripBG.width=y.SceneManager.SCENE_WIDTH,this.bottomStripWhole.componentPortrait.y=y.SceneManager.getScreenHeight-180),this.scollingContent.children.length>1&&(this.scollingContent.y=(y.SceneManager.getScreenHeight-this.scollingContent.getChildAt(1).height)/2),this.pagingDotsHolder.y=y.SceneManager.getScreenHeight-60):this.scollingContent.y=0},e.prototype.onScreenshotIntro=function(){this._swipeCarousel?(this._autoScrollingTween.kill(),this._autoScrollingTween=null,this.repeatScreenShotNewCarousel(this._swipeCarousel.numPages)):this.onSkipIntro()},e.prototype.repeatScreenShotNewCarousel=function(t){t>0?(t<this._swipeCarousel.numPages&&this._swipeCarousel.next(),this.dispatchSignal(this.ON_EVENT,new l.ATOnEventVO(c.SlotATEventNames.INTRO_SCREENSHOT,new l.ATGenericEvent,1e3)),t--,TweenMax.delayedCall(1.5,this.repeatScreenShotNewCarousel.bind(this),[t])):this.onSkipIntro()},e.prototype.repeatScreenshot=function(t){var e=this;t<this.scollingContent.children.length?(this.changePageTo(t),this.dispatchSignal(this.ON_EVENT,new l.ATOnEventVO(c.SlotATEventNames.INTRO_SCREENSHOT,new l.ATGenericEvent,1e3)),t++,TweenMax.delayedCall(1.5,(function(){e.repeatScreenshot(t)}),[t])):this.onSkipIntro()},e.prototype.getFeatures=function(t){for(var e=[],i=1,n=!0;n;){var o=u.PixiUtils.findChildByName(t,"feature"+i);o?(e.push(o),i++):n=!1}return e},e.prototype.removeIntro=function(){I.isNil(this._autoScrollingTween)||this._autoScrollingTween.kill(),TweenMax.killDelayedCallsTo(this.repeatScreenshot),TweenMax.killDelayedCallsTo(this._swipeCarousel.next),this.display.visible=!1,r.Device.goFullScreen()},e.prototype.showIntro=function(){this.display.visible=!0,r.Device.minigames&&(this.unifyFeaturesFontSize(this.features.componentLandscape),I.isUndefined(this.features.componentPortrait)||this.unifyFeaturesFontSize(this.features.componentPortrait)),this.display.interactive=!0,this.checkStagger()},e.prototype.checkStagger=function(){r.Device.deviceLevel()==r.DeviceLevel.obsolete&&this.display.visible&&(r.Device.isLandscape()&&this.firstTimeLandscape?this.staggerTextLandscape():r.Device.isPortrait()&&this.firstTimePortrait&&this._swipeCarousel.setShown(this.isPortrait))},e.prototype.staggerTextLandscape=function(){this.firstTimeLandscape=!1;var t=this.findChildByName(this.mobileLayoutLandscape,"features");if(t){var e=[];t.children.forEach((function(t){t.visible=!1,e.push(t)})),this.makeFieldsVisible(e)}},e.prototype.makeFieldsVisible=function(t){t.length&&this.makeFieldVisible(t).then(this.makeFieldsVisible.bind(this))},e.prototype.makeFieldVisible=function(t){return new Promise((function(e,i){requestAnimationFrame((function(){t.shift().visible=!0,e(t)}))}))},e.prototype.unifyFeaturesFontSize=function(t){var e=50,i=[];I.forEach(this.features.componentLandscape.children,(function(t){t instanceof T&&I.forEach(t.children,(function(t){t instanceof h.TextField&&(t.fontSize<e&&(e=t.fontSize),i.push(t))}))})),I.forEach(i,(function(t){t.fontSize=e}))},e.prototype.clickButton=function(t){switch(t){case"continueButton":this.dispatchSignal(p.IntroActionNames.INTRO_FEATURES_CLOSED);break;case"toggleButton":this.neverShowIntro(this.getNeverShowVal())}this.playSound(d.SoundNames.GENERIC_BUTTON_CLICK)},e.prototype.onSkipIntro=function(){this.clickButton("continueButton")},e.prototype.getDots=function(t,e){var i=this;this.pagingDotsHolder=new T;var n=-(this.dotSize*t+this.dotGap*(t-1))/2;this.dotOnTexture=_.TextureUtil.instance().getTextureFromCache("FeatPageDotOn"),this.dotOffTexture=_.TextureUtil.instance().getTextureFromCache("FeatPageDotOff"),I.times(t,(function(t){var e=new f.Image("featureDot"+t);e.setTexture(i.dotOffTexture),i.pagingDotsHolder.addChild(e),e.x=n+t*(i.dotSize+i.dotGap),e.interactive=!0,e.on("pointerup",(function(e){i.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),i.onClickDot(t),e.stopPropagation()}))}));var o=new P;o.beginFill(0,0),o.drawRect(0,0,y.SceneManager.SCENE_WIDTH*t,y.SceneManager.getScreenHeight),this.scollingContent.addChildAt(o,0),this.pagingDotsHolder.x=y.SceneManager.SCENE_WIDTH/2,this.pagingDotsHolder.scale.set(e),this.numFeatures=t,this.setDots(),t>1&&(this.addInteractions(),this.maxScroll=-y.SceneManager.SCENE_WIDTH*(t-1),this.setDots())},e.prototype.setDots=function(){var t=this;I.times(this.pagingDotsHolder.children.length,(function(e){e==t.currentFeature-1?t.pagingDotsHolder.children[e].setTexture(t.dotOnTexture):t.pagingDotsHolder.children[e].setTexture(t.dotOffTexture),t.pagingDotsHolder.children[e].image.width=t.dotSize,t.pagingDotsHolder.children[e].image.height=t.dotSize}))},e.prototype.addInteractions=function(){this.featuresComponentPortrait.interactive=!0,this.featuresComponentPortrait.on("pointerdown",this.onPress.bind(this)),this.featuresComponentPortrait.on("pointerup",this.onRelease.bind(this)),this.featuresComponentPortrait.on("pointerupoutside",this.onRelease.bind(this)),this.featuresComponentPortrait.on("pointermove",this.onDrag.bind(this))},e.prototype.onClickDot=function(t){this.changePageTo(t+1)},e.prototype.changePageTo=function(t,e){void 0===e&&(e=!1),t>0&&(t!=this.currentFeature||1==e)&&t<this.scollingContent.children.length&&(I.isUndefined(this.tweenFeature)||this.tweenFeature.kill(),this.currentFeature=t,this.tweenFeature=TweenMax.to(this.scollingContent,this.FEATURE_PAGE_TWEEN_DURATION,{x:-y.SceneManager.SCENE_WIDTH*(t-1),onComplete:this.setDots.bind(this)}))},e.prototype.onPress=function(t){I.isUndefined(this.tweenFeature)||this.tweenFeature.kill(),this.dragX=this.scollingContent.toLocal(t.data.global).x,this.originPosition=this.scollingContent.x},e.prototype.onRelease=function(t){-1!=this.dragX&&(this.scollingContent.x-this.originPosition>y.SceneManager.SCENE_WIDTH/3&&this.currentFeature>1?this.changePageTo(this.currentFeature-1):this.scollingContent.x-this.originPosition<-y.SceneManager.SCENE_WIDTH/3&&this.currentFeature<this.numFeatures?this.changePageTo(this.currentFeature+1):this.changePageTo(this.currentFeature,!0),this.dragX=-1)},e.prototype.onDrag=function(t){if(-1!=this.dragX){var e=y.SceneManager.currentScene.toLocal(t.data.global).x-this.dragX;this.scollingContent.x=2*e-this.originPosition,(t.data.global.x<10||t.data.global.x>y.SceneManager.SCENE_WIDTH-10||t.data.global.y<10||t.data.global.y>y.SceneManager.SCENE_HEIGHT-10)&&this.onRelease(t)}},e.prototype.neverShowIntro=function(t){this.settings.setCookie("NEVER_SHOW_INTRO",t)},e.prototype.deviceScreenResized=function(){t.prototype.deviceScreenResized.call(this),(r.Device.instance().mobile||r.Device.instance().minigame)&&(this.isPortrait=!r.Device.isLandscape(),this.pagingDotsHolder.visible=this.isPortrait,this._swipeCarousel&&(this._swipeCarousel.visible=this.isPortrait),I.isNil(this._autoScrollingTween)||this._autoScrollingTween.kill(),this.isPortrait&&this.resetAutoScrolling(),this._swipeCarousel&&this._swipeCarousel.setShown(this.isPortrait)),this.repositionObjects()},e.prototype.createCarouselComponents=function(){this.createCarousel(),this.changeElementZOrder(),this.createPageNumberGroup(),r.Device.instance().mobile||(this.createButtons(),this.createButtonsInteractivity()),this.removeUnusedChilds(),this.deviceScreenResized()},e.prototype.createCarousel=function(){for(var t,i,n=[],o=0;o<this._pageContainerArray.length;o++)t=this._pageContainerArray[o],this.formatPageForCarousel(t),n.push(t);this._swipeCarousel=new m.SwipeCarousel(this._maskWidth,this._maskHeight),this._swipeCarousel.build({type:m.SwipeCarousel.TYPE_X,bounds:new b(0,0,this._maskWidth,this._maskHeight),ease:Linear.ease},n),this.addInteractionSignals(),this.swipeCarousalUpdate=this._swipeCarousel.update.bind(this._swipeCarousel),PIXI.ticker.shared.add(this.swipeCarousalUpdate),this._swipeCarousel.position.set(.5*(y.SceneManager.SCENE_WIDTH-this._maskWidth),100),r.Device.instance().desktop||r.Device.instance().tablet||r.Device.isLandscape()?i=e.CONTENT_LANDSCAPE:r.Device.instance().mobile&&r.Device.isPortrait()&&(i=e.CONTENT_PORTRAIT),this._content=this.findChildByName(this.display,i),this._content.addChild(this._swipeCarousel)},e.prototype.addInteractionSignals=function(){var t=this;this._swipeCarousel.interactionDownSignal.add((function(){t._autoScrollingTween&&(t._autoScrollingTween.kill(),t._autoScrollingTween=null)})),this._swipeCarousel.interactionUpSignal.add((function(){t.startAutoScrolling()}))},e.prototype.createPageNumberGroup=function(){var t=this;this._pageNumberGroup=new N.PageNumberGroup(this._pageContainerArray.length),this._pageNumberGroup.position.set(.5*(y.SceneManager.SCENE_WIDTH-this._pageNumberGroup.width),.5*(y.SceneManager.SCENE_HEIGHT-this._pageNumberGroup.height)+this._pageGroupYOffset),this.display.addChild(this._pageNumberGroup),r.Device.instance().mobile||this._pageNumberGroup.clicked.add((function(e){t.pageNumberClicked=!0,t._swipeCarousel.moveToPageNumber(e)})),this._swipeCarousel.turnPageStarted.add((function(e){t._pageNumberGroup.currentPage=e})),this._swipeCarousel.turnPageComplete.add((function(e){S.PageNumber.locked=!1,t.pageNumberClicked=!1,t._pageNumberGroup.currentPage=e,t.resetAutoScrolling()})),this.setPageNumberGroupScale(.35)},e.prototype.setPageNumberGroupScale=function(t){this._pageNumberGroup.scale.set(t),this._pageNumberGroup.x=.5*(y.SceneManager.SCENE_WIDTH-this._pageNumberGroup.width)},e.prototype.formatPageForCarousel=function(t){t.pivot.x=.5*(y.SceneManager.SCENE_WIDTH-t.width),t.pivot.y=y.SceneManager.SCENE_HEIGHT-600,t.parent.removeChild(t)},e.prototype.changeElementZOrder=function(){var t=this.findChildByName(this.display,"Frame");t&&(this._content.removeChild(t),this._content.addChild(t)),this._swipeCarousel&&(this.display.removeChild(this._swipeCarousel),this.display.addChild(this._swipeCarousel))},e.prototype.createButtons=function(){this._previousButton=this.findChildByName(this.display,"intro_left"),this._previousButton&&(this._content.removeChild(this._previousButton),this._content.addChild(this._previousButton)),this._nextButton=this.findChildByName(this.display,"intro_right"),this._nextButton&&(this._content.removeChild(this._nextButton),this._content.addChild(this._nextButton))},e.prototype.createButtonsInteractivity=function(){var t=this;this._previousButton.onClickHandler=function(){t._swipeCarousel.previous(),t.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),t.resetAutoScrolling()},this._nextButton.onClickHandler=function(){t._swipeCarousel.next(),t.playSound(d.SoundNames.GENERIC_BUTTON_CLICK),t.resetAutoScrolling()}},e.prototype.startAutoScrolling=function(){var t=this;null==this._autoScrollingTween&&(this._autoScrollingTween=TweenMax.delayedCall(this._autoScrollTime,(function(){t._swipeCarousel.next()}),null,this))},e.prototype.resetAutoScrolling=function(){this._autoScrollingTween&&(this._autoScrollingTween.kill(),this._autoScrollingTween=null,this.startAutoScrolling())},e.prototype.removeUnusedChilds=function(){this.display.removeChild(this.pagingDotsHolder);var t=this.findMultipleChild("features");if(r.Device.instance().mobile){var e=t[1];e.parent.removeChild(e)}t=null},e.prototype.cleanUp=function(){PIXI.ticker.shared.remove(this.updateBound),this.tickerAdded=!1},e.CONTENT_LANDSCAPE="content_landscape",e.CONTENT_PORTRAIT="content_portrait",e.PAGE_NAME_PREFIX="Page ",e}(a.PixiView);e.NgsMwAztecGoldAbstractMobileIntroView=C},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Container,a=PIXI.Point,r=i(350),l=i(982),c=i(70),u=i(351),h=i(352),p=i(4),d=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._staggeredPages=[],n._deltaTime=33,n._needsTweening=!1,n._initialMousePosition=new a(0,0),n._lastMousePosition=new a(0,0),n._deltaPos=new a(0,0),n._primaryTargetStartPos=new a(0,0),n._currentPages=[0,1],n._secondaryCurrentSide=1,n._isLocked=!1,n}return o(e,t),Object.defineProperty(e.prototype,"numPages",{get:function(){return this._pages.length},enumerable:!0,configurable:!0}),e.prototype.build=function(t,e){this._now=(new Date).getTime(),this._type=t.type,this._boundsRectangle=t.bounds,this._ease=t.ease,this._width=t.bounds.width,this._height=t.bounds.height,this._pages=e,this._totalPages=this._pages.length,this.createPages(),this.positionObjectContainer(),this.createMouseListeners(),this.createPositionThresholds()},e.prototype.setShown=function(t){this._shown=t,t&&(this.checkPageStagger(this._pages[this._currentPages[0]]),this.checkPageStagger(this._pages[this._currentPages[1]]))},e.prototype.createPages=function(){for(var t=0;t<this._pages.length;t++)this._pages[t].position.x=.5*(this._width-this._pages[t].width);this._primaryTarget=new l.PageHolder(this._width,this._height),this._primaryTarget.name=e.PRIMARY_TARGET_NAME,this._primaryTarget.addChild(this._pages[this._currentPages[0]]),this._secondaryTarget=new l.PageHolder(this._width,this._height),this._secondaryTarget.name=e.SECONDARY_TARGET_NAME,this._secondaryTarget.addChild(this._pages[this._currentPages[1]])},e.prototype.createSignals=function(){t.prototype.createSignals.call(this),this.turnPageComplete=new c.Signal,this.turnPageStarted=new c.Signal,this.interactionDownSignal=new c.Signal,this.interactionUpSignal=new c.Signal},e.prototype.createPositionThresholds=function(){this._leftPositionThreshold=-this._width*e.THRESHOLD_POSITION,this._rightPositionThreshold=this._width*e.THRESHOLD_POSITION,this._topPositionThreshold=-this._height*e.THRESHOLD_POSITION,this._bottomPositionThreshold=this._height*e.THRESHOLD_POSITION},e.prototype.positionObjectContainer=function(){this._primaryTargetStartPos.set(0,0),this._primaryTarget.position.x=this._primaryTargetStartPos.x,this._primaryTarget.position.y=this._primaryTargetStartPos.y,this._type===e.TYPE_X?this._secondaryTarget.position.set(this._primaryTargetStartPos.x+this._width,this._primaryTargetStartPos.y):this._type===e.TYPE_Y&&this._secondaryTarget.position.set(this._primaryTargetStartPos.x,this._primaryTargetStartPos.y+this._height);var t=new s;t.interactive=!1,t.addChild(this._primaryTarget),t.addChild(this._secondaryTarget),this.addChild(t)},e.prototype.createMouseListeners=function(){this.on(u.MouseEvents.MOUSE_MOVE,this.onMouseMove,this),this.on(h.TouchEvents.TOUCH_MOVE,this.onMouseMove,this)},e.prototype.onMouseMove=function(t){if(this._isInteractDown){var i=t.data.getLocalPosition(this.parent);this._deltaPos.x=i.x-this._lastMousePosition.x,this._deltaPos.y=i.y-this._lastMousePosition.y;var n=Math.sign(this._deltaPos.x),o=Math.sign(this._deltaPos.y),s=(new Date).getTime();if(this._deltaTime=s-this._timeAtLastPosition,this._lastMousePosition=i.clone(),this._timeAtLastPosition=s,this._type===e.TYPE_X){this._primaryTarget.x*n>=this._primaryTargetStartPos.x&&this._secondaryCurrentSide===n&&(this._secondaryCurrentSide*=-1,this.changeSecondaryPageSide());var a=this._primaryTarget.x+this._deltaPos.x;a=Math.min(a,this._primaryTargetStartPos.x+this._width),a=Math.max(a,this._primaryTargetStartPos.x-this._width),this._primaryTarget.x=a,this._secondaryTarget.x=this._primaryTarget.x+this._secondaryCurrentSide*this._width}else if(this._type===e.TYPE_Y){this._primaryTarget.y*o>=this._primaryTargetStartPos.y&&this._secondaryCurrentSide===o&&(this._secondaryCurrentSide*=-1,this.changeSecondaryPageSide());var r=this._primaryTarget.y+this._deltaPos.y;r=Math.min(r,this._primaryTargetStartPos.y+this._height),r=Math.max(r,this._primaryTargetStartPos.y-this._height),this._primaryTarget.y=r,this._secondaryTarget.y=this._primaryTarget.y+this._secondaryCurrentSide*this._height}}},e.prototype.interactionDownHandler=function(e){t.prototype.interactionDownHandler.call(this,e),this._initialMousePosition=this._lastMousePosition=e.data.getLocalPosition(this.parent),this._timeAtLastPosition=(new Date).getTime(),this._deltaPos.set(0,0),this._currentVelocity=0,this._needsTweening=!0,this._snapTween&&this._snapTween.isActive()&&this._snapTween.kill(),this.interactionDownSignal.dispatch()},e.prototype.interactionUpHandler=function(i){t.prototype.interactionUpHandler.call(this,i),this._type===e.TYPE_X?this._currentVelocity=this._deltaPos.x/this._deltaTime*e.VELOCITY:this._type===e.TYPE_Y&&(this._currentVelocity=this._deltaPos.y/this._deltaTime*e.VELOCITY),this.interactionUpSignal.dispatch()},e.prototype.update=function(){!this._isInteractDown&&this._needsTweening&&this.moveTargets()},e.prototype.moveTargets=function(){this._currentVelocity*=e.FRICTION,this._type===e.TYPE_X?(this._primaryTarget.x+=this._currentVelocity,this._secondaryTarget.x=this._primaryTarget.x+this._secondaryCurrentSide*this._width):this._type===e.TYPE_Y&&(this._primaryTarget.y+=this._currentVelocity,this._secondaryTarget.y=this._primaryTarget.y+this._secondaryCurrentSide*this._height),this.checkThresholds()},e.prototype.checkThresholds=function(){var t,i=this,n=this._primaryTargetStartPos.x,o=this._primaryTargetStartPos.y,s=Math.sign(this._currentVelocity);this._type===e.TYPE_X?this._currentVelocity<-e.THRESHOLD_VELOCITY||this._primaryTarget.position.x<this._leftPositionThreshold?(n=this._primaryTargetStartPos.x-this._width,t=1):this._currentVelocity>e.THRESHOLD_VELOCITY||this._primaryTarget.position.x>this._rightPositionThreshold?(n=this._primaryTargetStartPos.x+this._width,t=-1):(n=this._primaryTargetStartPos.x,t=0):this._type===e.TYPE_Y&&(this._currentVelocity<-e.THRESHOLD_VELOCITY||this._primaryTarget.position.y<this._topPositionThreshold?(o=this._primaryTargetStartPos.y-this._height,t=1):this._currentVelocity>e.THRESHOLD_VELOCITY||this._primaryTarget.position.y>this._bottomPositionThreshold?(o=this._primaryTargetStartPos.y+this._height,t=-1):(o=this._primaryTargetStartPos.y,t=0)),this._currentVelocity=0,this._needsTweening=!1,this._snapTween=TweenMax.to(this._primaryTarget,.2,{x:n,y:o,ease:this._ease,onStart:function(){0!==t&&(i.turnPageStarted.dispatch(i._currentPages[0]),i._isLocked=!0)},onUpdate:function(){i._type===e.TYPE_X?(i._primaryTarget.x*s>=i._primaryTargetStartPos.x&&i._secondaryCurrentSide===s&&(i._secondaryCurrentSide*=-1,i.changeSecondaryPageSide()),i._secondaryTarget.x=i._primaryTarget.x+i._secondaryCurrentSide*i._width):i._type===e.TYPE_Y&&(i._primaryTarget.y*s>=i._primaryTargetStartPos.y&&i._secondaryCurrentSide===s&&(i._secondaryCurrentSide*=-1,i.changeSecondaryPageSide()),i._secondaryTarget.y=i._primaryTarget.y+i._secondaryCurrentSide*i._height)},onComplete:function(){0!==t&&(i.turnPageComplete.dispatch(i._currentPages[1]),i._isLocked=!1),i.updateTargets(t)}})},e.prototype.updateTargets=function(t){this._type===e.TYPE_X?(this._primaryTarget.x=this._primaryTargetStartPos.x,this._secondaryTarget.x=this._primaryTargetStartPos.x+this._secondaryCurrentSide*this._width):this._type===e.TYPE_Y&&(this._primaryTarget.y=this._primaryTargetStartPos.y,this._secondaryTarget.y=this._primaryTargetStartPos.y+this._secondaryCurrentSide*this._height),this.changePage(0,t),this.changePage(1,t)},e.prototype.changePage=function(t,e){switch(e){case-1:this.updateToPreviousPage(t);break;case 1:this.updateToNextPage(t)}},e.prototype.updateToPreviousPage=function(t){var e=this._currentPages[t];this._currentPages[t]>0?this._currentPages[t]--:this._currentPages[t]=this._totalPages-1,this.updatePageContent(t,e)},e.prototype.updateToNextPage=function(t){var e=this._currentPages[t];this._currentPages[t]<this._totalPages-1?this._currentPages[t]++:this._currentPages[t]=0,this.updatePageContent(t,e)},e.prototype.updatePageContent=function(t,e){0===t?(this._primaryTarget.removeChild(this._pages[e]),this._primaryTarget.addChild(this._pages[this._currentPages[0]]),this._pages[this._currentPages[0]].updateTransform(),this._primaryTarget.updateTransform()):(this._secondaryTarget.removeChild(this._pages[e]),this._secondaryTarget.addChild(this._pages[this._currentPages[1]]),this._pages[this._currentPages[1]].updateTransform(),this._secondaryTarget.updateTransform()),this._shown&&(this.checkPageStagger(this._pages[this._currentPages[0]]),this.checkPageStagger(this._pages[this._currentPages[1]]))},e.prototype.next=function(){this._snapTween&&this._snapTween.isActive()&&(this._snapTween.kill(),this.updateTargets(1)),this._secondaryCurrentSide=-1,this.changeSecondaryPageSide(),this._currentVelocity=-e.VELOCITY,this._needsTweening=!0},e.prototype.previous=function(){this._snapTween&&this._snapTween.isActive()&&(this._snapTween.kill(),this.updateTargets(-1)),this._secondaryCurrentSide=1,this.changeSecondaryPageSide(),this._currentVelocity=e.VELOCITY,this._needsTweening=!0},e.prototype.moveToPageNumber=function(t){var e=this,i=Math.abs(t-this._currentPages[0]),n=new TimelineMax;if(t>this._currentPages[0])for(var o=0;o<i;o++)n.add((function(){e.next()}),"+=.1");else for(o=0;o<i;o++)n.add((function(){e.previous()}),"+=.1")},e.prototype.checkPageStagger=function(t){if(p.Device.deviceLevel()==p.DeviceLevel.obsolete&&-1==this._staggeredPages.indexOf(t)){var e=[];t.children.forEach((function(t){t.visible=!1,e.push(t)})),this.makeFieldsVisible(e),this._staggeredPages.push(t)}},e.prototype.makeFieldsVisible=function(t){t.length&&this.makeFieldVisible(t).then(this.makeFieldsVisible.bind(this))},e.prototype.makeFieldVisible=function(t){return new Promise((function(e,i){requestAnimationFrame((function(){t.shift().visible=!0,e(t)}))}))},e.prototype.interactionUpOutsideHandler=function(t){this.interactionUpHandler(t)},e.prototype.changeSecondaryPageSide=function(){var t=this._currentPages[1];1===this._secondaryCurrentSide?this._currentPages[0]<this._totalPages-1?this._currentPages[1]=this._currentPages[0]+1:this._currentPages[1]=0:-1===this._secondaryCurrentSide&&(this._currentPages[0]>0?this._currentPages[1]=this._currentPages[0]-1:this._currentPages[1]=this._totalPages-1),this.updatePageContent(1,t)},Object.defineProperty(e.prototype,"isLocked",{get:function(){return this._isLocked},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.turnPageComplete&&(this.turnPageComplete.dispose(),this.turnPageComplete=null),this.turnPageStarted&&(this.turnPageStarted.dispose(),this.turnPageStarted=null),this._pages=null,this._type=null,this._ease=null,this._currentVelocity=null,this._deltaTime=null,this._now=null,this._needsTweening=null,this._initialMousePosition=null,this._lastMousePosition=null,this._timeAtLastPosition=null,this._deltaPos=null,this._primaryTargetStartPos=null,this._boundsRectangle=null,this._rightPositionThreshold=null,this._topPositionThreshold=null,this._bottomPositionThreshold=null,this._totalPages=null,this._currentPages=null,this._secondaryCurrentSide=null,this._snapTween=null,t.prototype.destroy.call(this)},e.TYPE_X="x",e.TYPE_Y="y",e.PRIMARY_TARGET_NAME="primaryTarget",e.SECONDARY_TARGET_NAME="secondaryTarget",e.THRESHOLD_VELOCITY=5,e.FRICTION=.93,e.VELOCITY=10,e.THRESHOLD_POSITION=.5,e}(r.HitAreaButton);e.SwipeCarousel=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Container,a=i(70),r=i(351),l=i(352),c=function(t){function e(){var e=t.call(this)||this;return e.initVars(),e.createSignals(),e.createInteraction(),e}return o(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),e.prototype.initVars=function(){this.buttonMode=!0,this.interactive=!0,this._enabled=!0,this._isInteractDown=!1,this._isInteractOver=!1},e.prototype.createSignals=function(){this.interaction=new a.Signal,this.clicked=new a.Signal},e.prototype.createInteraction=function(){this.on(r.MouseEvents.MOUSE_DOWN,this.interactionDownHandler),this.on(l.TouchEvents.TOUCH_START,this.interactionDownHandler),this.on(r.MouseEvents.MOUSE_UP,this.interactionUpHandler),this.on(l.TouchEvents.TOUCH_END,this.interactionUpHandler),this.on(r.MouseEvents.MOUSE_UP_OUTSIDE,this.interactionUpOutsideHandler),this.on(l.TouchEvents.TOUCH_END_OUTSIDE,this.interactionUpOutsideHandler),this.on(r.MouseEvents.MOUSE_OVER,this.interactionOverHandler),this.on(r.MouseEvents.MOUSE_OUT,this.interactionOutHandler)},e.prototype.interactionDownHandler=function(t){this.clicked.dispatch(e.DOWN_SIGNAL),this._isInteractDown=!0},e.prototype.interactionUpHandler=function(t){this.interaction.dispatch(e.UP_SIGNAL),this._enabled&&this._isInteractDown&&this.interaction.dispatch(e.CLICKED_SIGNAL),this._isInteractDown=!1},e.prototype.interactionUpOutsideHandler=function(t){this._isInteractDown=!1},e.prototype.interactionOverHandler=function(t){this.interaction.dispatch(e.ROLLEDOVER_SIGNAL),this._isInteractOver=!0},e.prototype.interactionOutHandler=function(t){this.interaction.dispatch(e.ROLLEDOUT_SIGNAL),this._isInteractOver=!1},e.prototype.destroyListeners=function(){this.off(r.MouseEvents.MOUSE_DOWN,this.interactionDownHandler),this.off(l.TouchEvents.TOUCH_START,this.interactionDownHandler),this.off(r.MouseEvents.MOUSE_UP,this.interactionUpHandler),this.off(l.TouchEvents.TOUCH_END,this.interactionUpHandler),this.off(r.MouseEvents.MOUSE_UP_OUTSIDE,this.interactionUpOutsideHandler),this.off(l.TouchEvents.TOUCH_END_OUTSIDE,this.interactionUpOutsideHandler),this.off(r.MouseEvents.MOUSE_OVER,this.interactionOverHandler),this.off(r.MouseEvents.MOUSE_OUT,this.interactionOutHandler)},e.prototype.destroySignals=function(){this.interaction.removeAll(),this.interaction.dispose(),this.clicked.removeAll(),this.clicked.dispose()},e.prototype.destroy=function(){this.destroySignals(),this.destroyListeners(),t.prototype.destroy.call(this,{children:!0,texture:!1,baseTexture:!1})},e.CHANGED_SIGNAL="CHANGED_SIGNAL",e.CLICKED_SIGNAL="CLICKED_SIGNAL",e.DOWN_SIGNAL="DOWN_SIGNAL",e.UP_SIGNAL="UP_SIGNAL",e.ROLLEDOVER_SIGNAL="ROLLEDOVER_SIGNAL",e.ROLLEDOUT_SIGNAL="ROLLEDOUT_SIGNAL",e}(s);e.AbstractButton=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Graphics,a=function(t){function e(e,i){var n=t.call(this)||this;return n._width=e,n._height=i,n.createArea(),n}return o(e,t),e.prototype.createArea=function(){var t=new s;t.drawRect(0,0,this._width,this._height),this.addChild(t),t.visible=!1},e}(PIXI.Container);e.PageHolder=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.Container,a=i(353),r=i(70),l=function(t){function e(e){var i=t.call(this)||this;return i._currentPage=0,i._total_pages=e,i.clicked=new r.Signal,i.createPageNumbers(),i}return o(e,t),e.prototype.createPageNumbers=function(){var t;this._pagesNumbers=[];for(var i=.5*-e.WIDTH,n=0;n<this._total_pages;n++)(t=new a.PageNumber(n,e.WIDTH,e.HEIGHT)).x=i+.5*t.width,t.clicked.add(this.onPageNumberClick.bind(this)),this.addChild(t),this._pagesNumbers.push(t),i+=e.PAGE_NUMBER_X_PADDING;this._pagesNumbers[this._currentPage].isSelected=!0,this.currentPage=0},e.prototype.onPageNumberClick=function(t){this.currentPage!=t&&(this.clicked.dispatch(t),a.PageNumber.locked=!0)},Object.defineProperty(e.prototype,"currentPage",{get:function(){return this._currentPage},set:function(t){t=t>=this._total_pages?0:t<0?this._total_pages-1:t,this._currentPage=t;for(var e=0;e<this._total_pages;e++)this._pagesNumbers[e].isSelected=e===t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._currentPage=null,this.clicked.dispose(),this.clicked=null;for(var t=0;t<this._pagesNumbers.length;t++)this._pagesNumbers[t].destroy();this._pagesNumbers=null},e.PAGE_NUMBER_X_PADDING=60,e.WIDTH=36,e.HEIGHT=36,e}(s);e.PageNumberGroup=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(280),a=i(73),r=i(2),l=i(1),c=i(5),u=i(121),h=i(15),p=i(8),d=i(4),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onIntroClosed=function(){var t=this;this.introClosedClicked||(this.introClosedClicked=!0,this.sendGlobalNotification(a.NgsMwAztecGoldBackgroundNames.PLAY_TRANSITION_ANIMATION,{callbackIntroClose:this.sendReroute.bind(this)}),this.neverShowIntroAgain||d.Device.deviceLevel()==d.DeviceLevel.obsolete?(this.closeIntroNoReroute(),this.showRespinAssets()):this.closeIntroDelayedCall=TweenMax.delayedCall(1,(function(){t.closeIntroNoReroute(),t.showRespinAssets()})))},e.prototype.showRespinAssets=function(){var t=h.TextureUtil.instance().createImageFromTexture("BG.png");t.alpha=0,p.SceneManager.currentScene.addChild(t),requestAnimationFrame((function(){p.SceneManager.currentScene.removeChild(t)}))},e.prototype.sendReroute=function(){this.closeIntroDelayedCall&&(this.closeIntroDelayedCall.kill(),this.closeIntroNoReroute()),this.sendGlobalNotification(r.Notifications.Global.CHANGE_STATE,c.States.INTRO_DECISION)},e.prototype.closeIntroNoReroute=function(){var t=this;this.closeIntroDelayedCall=null,requestAnimationFrame((function(){t.introView.removeIntro(),t.sendGlobalNotification(r.Notifications.Global.INTRO_CLOSED),t.removeNotification(r.Notifications.Global.DEVICE_ORIENTATION_CHANGED),t.removeNotification(u.IntroNotifications.CLOSE_INTRO),t.removeNotification(u.IntroNotifications.SHOW_INTRO),t.removeNotification(r.Notifications.Global.PAGE_VISIBILITY_CHANGED),t.sendGlobalNotification(r.Notifications.Global.HIDE_PIXI_LAYERS,{visible:!0,exceptions:[l.Names.Layers.INTRO_FEATURES]})}))},e}(s.IntroMediator);e.NgsMwAztecGoldIntroMediator=_},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(336),a=i(4),r=i(986),l=i(987),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("CheatToolView",r.RespinsSlotCheatToolPixiView,a.Device.CLASS_INDEX_DESKTOP),this.replaceView("CheatToolView",r.RespinsSlotCheatToolPixiView,a.Device.CLASS_INDEX_MOBILE)},e.prototype.registerMediators=function(){t.prototype.registerMediators.call(this),this.replaceMediator("CheatToolView",l.RespinsSlotCheatToolMediator,a.Device.CLASS_INDEX_DESKTOP),this.replaceMediator("CheatToolView",l.RespinsSlotCheatToolMediator,a.Device.CLASS_INDEX_MOBILE)},e}(s.MegawaysSlotCheatToolModule);e.RespinsSlotCheatToolModule=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),a=i(337),r=i(17),l=i(34),c=i(15),u=i(8),h=i(95),p=i(6),d=PIXI.Container,_=PIXI.Sprite,f=PIXI.RenderTexture,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.removeAllExtraRows=function(){if(this.currentSymbols)for(;this.currentSymbols[0].length>this.slotGameConfig.ctRowsCnt;)this.removeSymbolRow()},e.prototype.getTextureForSymbol=function(e){var i,n=Number(e);if(!(n>=100))return t.prototype.getTextureForSymbol.call(this,e);var o=Number(e.slice(1)),s=r.ServiceLocator.instance().get("VisualAssetsMap").visualAssets[l.VisualAssetsNames.SYMBOL_NAME]+"12_7",a=new d,h=new _(c.TextureUtil.instance().getTextureFromCache(s));h.anchor.set(.25),a.addChild(h);var p=new PIXI.Text(o.toString()+"x");p.anchor.set(.5),p.style.fontSize=40,p.style.fontWeight="bold",p.style.fill="#FFFF2C",p.x=h.width/4,p.y=h.height/4,h.addChild(p);var y=f.create(h.width/2,h.height/2,PIXI.SCALE_MODES.LINEAR);return u.SceneManager.renderer.render(a,y),i=y.clone(),this.symbolsTextures[n]=i,i},e.prototype.updateCheatToolCommand=function(){var t=this,e="",i="";if(s.times(this.slotGameConfig.ctRowsCnt,(function(n){s.times(t.slotGameConfig.ctColumnsCnt,(function(o){if(s.isNil(t.currentSymbols[o][n]))e+=t.slotGameConfig.ctSymbolsIds[0]+",",i+=t.slotGameConfig.ctSymbolsIds[0]+",";else{var a=t.currentSymbols[o][n].componentLandscape;s.isNil(a[t.PARAM_TEXTURE_ID])?(e+=t.slotGameConfig.ctSymbolsIds[0]+",",i+=t.slotGameConfig.ctSymbolsIds[0]+","):(a[t.PARAM_TEXTURE_ID]>100?e+="x"+Number(a[t.PARAM_TEXTURE_ID].slice(1))+",":e+=a[t.PARAM_TEXTURE_ID]+",",i+=a[t.PARAM_TEXTURE_ID]+",")}}))})),this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt>0){var n=this.currentSymbols[0].length-this.slotGameConfig.ctRowsCnt;s.times(n,(function(n){s.times(t.slotGameConfig.ctColumnsCnt,(function(o){if(s.isUndefined(t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-o][n+t.slotGameConfig.ctRowsCnt]))e=t.slotGameConfig.ctSymbolsIds[0]+","+e,i=t.slotGameConfig.ctSymbolsIds[0]+","+i;else{var a=t.currentSymbols[t.slotGameConfig.ctColumnsCnt-1-o][n+t.slotGameConfig.ctRowsCnt].componentLandscape;s.isUndefined(a[t.PARAM_TEXTURE_ID])?(e=t.slotGameConfig.ctSymbolsIds[0]+","+e,i=t.slotGameConfig.ctSymbolsIds[0]+","+i):(e=a[t.PARAM_TEXTURE_ID]>100?"x"+Number(a[t.PARAM_TEXTURE_ID].slice(1))+","+e:a[t.PARAM_TEXTURE_ID]+","+e,i=a[t.PARAM_TEXTURE_ID]+","+i)}}))}))}var o=""+e.substring(0,e.length-1),a=""+i.substring(0,i.length-1);this.insertHistory(a,this.currentSpeCommand);var r={command:o,clean:!this.checkAllSpins,specialCommand:this.currentSpeCommand};this.dispatchSignal(h.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,r),p.Log.info("CHEAT TOOL: Using symbols: "+o+"\nSpecial Command: "+this.currentSpeCommand)},e.prototype.updateCheatToolScenarioCommand=function(){var t=this,e=[],i=[];0==this.currentScenario.original?this.originalScenarioToCookie():this.convertScenarioToCookie(this.currentScenario);s.each(this.currentScenario.spinGroup,(function(n){if(0==n.group.length){var o=t.modeListsContentLabel[t.MODE_PICKER].indexOf(n.name);-1!=o&&(n.group=t.groupsIndexMap[o])}var a="";s.each(n.group,(function(t){a+=t>100?"x"+Number(t.toString().slice(1))+",":t+","}));var r=""+a.substring(0,a.length-1);e.push(r),i.push(n.speCmd)}));var n={command:e,clean:!1,specialCommand:i};this.dispatchSignal(h.SlotCheatToolAction.SEND_CHEAT_TOOL_CMD,n),p.Log.info("CHEAT TOOL: Using Scenario : "+this.currentScenario.name+" symbols: "+e.toString()),1==this.autoSpinScenario&&window.setTimeout((function(){t.dispatchSignal(h.SlotCheatToolAction.START_AUTOSPIN_CHEAT_TOOL,e.length)}),1e3)},e}(a.MegawaySlotCheatToolPixiView);e.RespinsSlotCheatToolPixiView=y},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(289),a=i(24),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.addNotifications=function(){t.prototype.addNotifications.call(this),this.addNotification(a.MegawaysCashRespinsNotifications.FEATURE_WIN,this.resetExtraRow.bind(this))},e.prototype.resetExtraRow=function(){this.viewComponent.removeAllExtraRows()},e}(s.SlotCheatToolMediator);e.RespinsSlotCheatToolMediator=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(300),a=i(304),r=i(301),l=i(24),c=i(305),u=i(306),h=i(303),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),this.addCommand(l.MegawaysCashRespinsNotifications.SPIN,a.SlotATOnEventGameRoundStartedCommand),this.addCommand(l.MegawaysCashRespinsNotifications.SPIN_RESULT_RECEIVED,r.SlotATOnEventGameRoundEndedCommand),this.addCommand(l.MegawaysCashRespinsNotifications.FEATURE_TRANSITION_IN,u.SlotATOnRespinsStartCommand),this.addCommand(l.MegawaysCashRespinsNotifications.FEATURE_TRANSITION_OUT,c.SlotATOnRespinsEndCommand),this.addCommand(l.MegawaysCashRespinsNotifications.GAT_SCREENSHOT,h.SlotATOnEventDoScreenshotCommand)},e}(s.SlotAutomatedTest);e.NgsMwAztecGoldAutomatedTestModule=p},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(342),a=i(990),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerViews=function(){t.prototype.registerViews.call(this),this.replaceView("stripView",a.NgsMwStripMobileView,1)},e}(s.MegawaysStrip);e.NgsMwStripModule=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(343),a=i(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.positionElements=function(){t.prototype.positionElements.call(this),this.clock&&a.Device.isLandscape()&&(this.clock.componentLandscape.y=this.clock.componentLandscape.y-10,this.clock.componentLandscape.x=this.clock.componentLandscape.x-10)},e}(s.MegawaysStripMobileView);e.NgsMwStripMobileView=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(992),a=i(1),r=i(993),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerProxies=function(){t.prototype.registerProxies.call(this),this.replaceProxy(a.Names.Proxies.LAYERS,r.NgsSlotLayerProxyPixi)},e.prototype.replaceSlotMasterLayoutLayersProxy=function(){this.replaceProxy(a.Names.Proxies.MASTER_LAYERS,s.NgsMwAztecGoldMasterLayoutLayersProxy)},e}(i(344).MegawaysSlotGameSetupModule);e.NgsMwSlotGameSetupModule=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(345),a=i(37),r=i(33),l=i(4),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTextStyleOptions=function(t){var e={},i=a.MasterLayoutConfig.getFontFamily(t.fontName);r.isNil(i)?e.fontFamily="noto_sansregular":e.fontFamily=i,e.fontSize=Math.floor(t.fontSize/2);var n=[];return r.each(t.colors,(function(t){n.push("#"+t)})),e.fill=n,e.fontStyle=t.fontStyle,e.fontVariant=t.fontVariant,e.fontWeight=t.fontWeight,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.miterLimit,e.letterSpacing=t.letterSpacing,e.textBaseline=t.textBaseline,e.wordWrap=t.wordWrap,e.breakWords=t.breakWords,e.singleLine=!e.wordWrap,e.align=t.align,e.vAlign=t.vAlign,e.wordWrapWidth=t.wordWrapWidth,e.padding=t.padding,e.trim=t.trim,l.Device.deviceLevel()!=l.DeviceLevel.obsolete&&(e.fillGradientStops=t.fillGradientStops,"vertical"==t.gradientType?e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_VERTICAL:e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_HORIZONTAL,e.stroke="#"+t.strokeColor,e.strokeThickness=t.strokeSize,e.dropShadow=t.dropShadow,e.dropShadowColor="#"+t.dropShadowColor,e.dropShadowAlpha=t.dropShadowAlpha,e.dropShadowAngle=t.dropShadowAngle,e.dropShadowBlur=t.dropShadowBlur/2,e.dropShadowDistance=t.dropShadowDistance/2),e},e}(s.MegawaysMasterLayoutLayersProxy);e.NgsMwAztecGoldMasterLayoutLayersProxy=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(323),a=i(119),r=i(1),l=function(t){function e(e){return void 0===e&&(e="LayersProxy"),t.call(this,e)||this}return o(e,t),e.prototype.initLayerOrder=function(){this._pixiLayerOrder=[new a.PIXILayerVO(r.Names.Layers.VIDEO_BACKGROUND,!0),new a.PIXILayerVO(r.Names.Layers.BACKGROUND,!0),new a.PIXILayerVO(r.Names.Layers.ACTION,!0),new a.PIXILayerVO(r.Names.Layers.SYMBOLS_BACKGROUND,!0),new a.PIXILayerVO(r.Names.Layers.WINNINGS_ANIMATIONS_BACKGROUND,!0),new a.PIXILayerVO(r.Names.Layers.WHEELS,!0),new a.PIXILayerVO(r.Names.Layers.RESPINS,!0),new a.PIXILayerVO(r.Names.Layers.SYMBOLS,!0),new a.PIXILayerVO(r.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND,!0),new a.PIXILayerVO(r.Names.Layers.SYMBOLS_FRAME,!0),new a.PIXILayerVO(r.Names.Layers.BONUS,!0,!1),new a.PIXILayerVO(r.Names.Layers.WHEELS_OVERLAY,!0),new a.PIXILayerVO(r.Names.Layers.WINNINGS_ANIMATIONS_OVERGROUND_FRAME,!0),new a.PIXILayerVO(r.Names.Layers.COPYRIGHT,!0),new a.PIXILayerVO(r.Names.Layers.LINES,!0),new a.PIXILayerVO(r.Names.Layers.GAME_INFO,!0),new a.PIXILayerVO(r.Names.Layers.LOGO,!0),new a.PIXILayerVO(r.Names.Layers.DECORATIVE_BACKGROUND,!0),new a.PIXILayerVO(r.Names.Layers.PROGRESSIVE,!0),new a.PIXILayerVO(r.Names.Layers.PROGRESSIVE_POPUP,!0,!1),new a.PIXILayerVO(r.Names.Layers.WINNINGS_ANIMATIONS_BIG_WIN,!0),new a.PIXILayerVO(r.Names.Layers.WINNINGS_ANIMATIONS_INCREMENT,!0),new a.PIXILayerVO(r.Names.Layers.PIXI_CLICK_CATCHER,!0),new a.PIXILayerVO(r.Names.Layers.GAMEPLAY_BUTTONS,!0),new a.PIXILayerVO(r.Names.Layers.FREE_GAMES_UI,!0,!1),new a.PIXILayerVO(r.Names.Layers.AUTO_PLAY,!0),new a.PIXILayerVO(r.Names.Layers.PAY_TABLE,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_GAMES_START,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_GAMES_END,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_GAMES_EXTRA,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_ROUNDS_START,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_ROUNDS_UI,!0,!1),new a.PIXILayerVO(r.Names.Layers.FREE_ROUNDS_END,!0,!1),new a.PIXILayerVO(r.Names.Layers.BONUS_SYSTEM_END,!0,!1),new a.PIXILayerVO(r.Names.Layers.BONUS_START,!0,!1),new a.PIXILayerVO(r.Names.Layers.BONUS_END,!0,!1),new a.PIXILayerVO(r.Names.Layers.STRIP,!0),new a.PIXILayerVO(r.Names.Layers.PROGRESSIVE_NOTICE,!0),new a.PIXILayerVO(r.Names.Layers.MENU,!0),new a.PIXILayerVO(r.Names.Layers.CHEAT_TOOL,!1,!1),new a.PIXILayerVO(r.Names.Layers.INTRO_FEATURES,!0),new a.PIXILayerVO(r.Names.Layers.INTRO_VIDEO),new a.PIXILayerVO(r.Names.Layers.PRELOADER,!0),new a.PIXILayerVO(r.Names.Layers.WARNING,!0),new a.PIXILayerVO(r.Names.Layers.MASK_PREVENT_CLICK,!0)],this._htmlLayerOrder=[]},e}(s.SlotLayersProxyPixi);e.NgsSlotLayerProxyPixi=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(286),a=i(72),r=i(18),l=i(27),c=i(87),u=i(97),h=i(80),p=i(160),d=i(4),_=i(33),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.positionRulesButtonLandscape=function(){if(this.rulesButton.componentLandscape){var t=this.settings.getValue("GameConfig").getProperty("PAYTABLE","rulesContainer");t||(t=a.PaytableButtonsNames.RULES_CONTAINER_NAME);var e=new r.ControllerContainer("rules",this.findMultipleChild(t));e.componentLandscape&&e.componentLandscape.addChild(this.rulesButton.componentLandscape)}},e.prototype.postRegister=function(){t.prototype.postRegister.call(this),this._megawaysLicenseText=new l.ControllerTextField("Megaways_license",this.findMultipleChild(p.NgsMwAztecGoldPaytable.MEGAWAYS_LICENSE_TF)),d.Device.deviceLevel()!=d.DeviceLevel.obsolete&&this.hideMegawaysText()},e.prototype.staggerTextIn=function(t){var e=this,i=[],n=d.Device.isLandscape()?0:1;t||(n=1-n),_.forEach(this.paytableAssets,(function(t){t[n]&&(t[n].visible=!1,i.push(t[n]))})),i.sort((function(t,e){return t.y>e.y?1:-1}));var o=function(){for(var t=Math.min(4,i.length),n=0;n<t;n++)i.shift().visible=!0;i.length>0?requestAnimationFrame(o):e.hideMegawaysText()};o()},e.prototype.hideMegawaysText=function(){c.Settings.instance.getValue("lang").toLowerCase()!=u.LanguageUtil.getLanguageExtension(h.Language.ENGLISH).toLowerCase()&&(this._megawaysLicenseText.visible=!1)},e}(s.MasterLayoutMobilePaytableView);e.NgsMwAztecGoldMobilePaytableView=f},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(150),a=i(33),r=i(72),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updatePayouts=function(){var t=this;this.updatedPayouts=[],a.each(this.symbolsBasePayouts,(function(e,i){t.updatedPayouts[i]=[],a.each(e,(function(e,n){var o=e,s="";if(o.indexOf(":")>-1){var r=o.split(":");s=r[0]+" "+t.fullPixiSpaceSeparator+" ",o=r[1]}(isNaN(parseInt(o))||-1!=a.findIndex(t.translationPayoutsID,(function(t){return t==i}))||t.noMultiplicationSymbols&&t.noMultiplicationSymbols.indexOf((Number(i)+1).toString())>=0)&&(t.updatedPayouts[i][n]=s+t.moneyProxy.getStringValueFrom(parseFloat(o)))}))})),this.sendNotification(r.PaytableNotifications.UPDATE_PAY_TABLE_ACTION,this.updatedPayouts)},e}(s.PayoutsProxy);e.NgsMwAztecGoldPayoutsProxy=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(285),a=i(87),r=i(97),l=i(80),c=i(27),u=i(160),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postRegister=function(){t.prototype.postRegister.call(this),a.Settings.instance.getValue("lang").toLowerCase()!=r.LanguageUtil.getLanguageExtension(l.Language.ENGLISH).toLowerCase()&&(new c.ControllerTextField("Megaways_license",this.findMultipleChild(u.NgsMwAztecGoldPaytable.MEGAWAYS_LICENSE_TF)).visible=!1)},e}(s.MasterLayoutDesktopPaytableView);e.NgsMwAztecGoldDesktopPaytableView=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(241),a=i(2),r=i(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.registerCommands=function(){t.prototype.registerCommands.call(this),r.Device.instance().ie||this.deleteCommand(a.Notifications.Sound.OPTIONAL_SOUNDS_LOADED)},e}(s.Loader);e.NgsMwAztecGoldLoader=l}]);